(function(){
/** @license Copyright (c) 2020, Blockthrough All rights reserved.
 See license text at: https://blockthrough.com/license
*/(()=>{var __webpack_modules__={553:e=>{var t=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof m?t:m,o=Object.create(r.prototype),a=new Z(i||[]);return o._invoke=function(e,t,n){var i=u;return function(r,o){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return x()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=D(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===u)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var d=l(e,t,n);if("normal"===d.type){if(i=n.done?p:f,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(i=p,n.method="throw",n.arg=d.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u="suspendedStart",f="suspendedYield",h="executing",p="completed",g={};function m(){}function w(){}function v(){}var b={};d(b,o,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(k([])));_&&_!==n&&i.call(_,o)&&(b=_);var M=v.prototype=m.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(r,o,a,s){var d=l(e[r],e,o);if("throw"!==d.type){var c=d.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(d.arg)}var r;this._invoke=function(e,i){function o(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(o,o):o()}}function D(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,D(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=l(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:x}}function x(){return{value:t,done:!0}}return w.prototype=v,d(M,"constructor",v),d(v,"constructor",w),w.displayName=d(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,d(e,s,"GeneratorFunction")),e.prototype=Object.create(M),e},e.awrap=function(e){return{__await:e}},E(N.prototype),d(N.prototype,a,(function(){return this})),e.AsyncIterator=N,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new N(c(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(M),d(M,s,"Generator"),d(M,o,(function(){return this})),d(M,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=k,Z.prototype={constructor:Z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var d=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(d&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(d){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:k(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},757:(e,t,n)=>{e.exports=n(553)},805:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{yC:()=>DeviceTypeAll,Xh:()=>browser,Jv:()=>platform,Uh:()=>device,tq:()=>isMobile,l7:()=>getDeviceType});var PlatformUnknown="unknown",PlatformAndroid="android",PlatformIOS="ios",PlatformWindows="windows",PlatformLinux="linux",PlatformOSX="osx",PlatformWindowsPhone="windowsphone",BrowserUnknown="unknown",BrowserChrome="chrome",BrowserFirefox="firefox",BrowserIE="ie",BrowserEdge="edge",BrowserOpera="opera",BrowserSafari="safari",BrowserUCBrowser="uc",DeviceUnknown="unknown",DeviceHighEndPhone="highendphone",DeviceTablet="tablet",DevicePersonalComputer="pc",DeviceConnectedTV="tv",DeviceGameConsole="console",DeviceTypeAll="all",DeviceTypeDesktop="desktop",DeviceTypeMobile="mobile",browser=function browser(){var ua=navigator.userAgent;return/edge/i.test(ua)?BrowserEdge:/opera/i.test(ua)||/opr|opios/i.test(ua)?BrowserOpera:/chrome|chromium/i.test(ua)?BrowserChrome:/firefox|iceweasel|fxios/i.test(ua)?BrowserFirefox:/msie|trident/i.test(ua)?BrowserIE:/^((?!chrome|android).)*safari/i.test(ua)?BrowserSafari:/ucbrowser/i.test(ua)?BrowserUCBrowser:window.chrome?BrowserChrome:"undefined"!=typeof InstallTrigger?BrowserFirefox:eval("/*@cc_on!@*/false")||document.documentMode?BrowserIE:window.StyleMedia?BrowserEdge:BrowserUnknown},platform=function(){var e=navigator.userAgent;return/windows|win32/i.test(e)?PlatformWindows:/ipod|iphone|ipad/i.test(e)?PlatformIOS:/android/i.test(e)?PlatformAndroid:/macintosh|mac os x/i.test(e)?PlatformOSX:/linux/i.test(e)?PlatformLinux:/windows phone/i.test(e)?PlatformWindowsPhone:PlatformUnknown},device=function(){var e=navigator.userAgent;return/tablet|ipad/i.test(e)?DeviceTablet:/mobile/i.test(e)||/android|webos|iphone|ipod|blackberry|iemobile|windows phone|opera mini/i.test(e)||/ucbrowser/i.test(e)&&window.ucweb?DeviceHighEndPhone:DevicePersonalComputer};function isMobile(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))}function getDeviceType(){return isMobile()?DeviceTypeMobile:DeviceTypeDesktop}},552:(e,t,n)=>{"use strict";n.d(t,{z:()=>p,Z:()=>h});var i=n(2);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a,s,d=n(942),c=n(614),l=n(302),u=Boolean(window.console&&window.console.info),f=!1;!function(){try{f=window.location.href.indexOf("bt_debug=true")>=0||"true"===window.localStorage.bt_debug}catch(e){f=!1}}();var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefix,i=void 0===n?"":n,o=t.level,a=void 0===o?p.DEFAULT:o;r(this,e),(0,d.Z)(this,"tag","Blockthrough"),(0,d.Z)(this,"prefix",""),this.setPrefix(i),this.setLevel(a)}var t,n,a;return t=e,n=[{key:"setPrefix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.prefix=e}},{key:"setLevel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.DEFAULT;N(e)?this.level=e:this.level=p.DEFAULT}},{key:"log",value:function(e,t,n,r){if(f&&u){if(arguments.length<3||!N(e)||"object"!==(0,i.Z)(t)||"string"!=typeof n)throw new TypeError;if(!(e<this.level)){var o=y(),a=_(t),s="";s+="%c["+this.tag+" - "+m[e]+"]%c",s+="%c[%s]%c ",a&&(s+="%c["+a+"]%c "),this.prefix&&(s+=this.prefix),s+=n;var d=[];d.push(s),d.push("color: #000000; background-color: "+w[e]),d.push("background-color: inherit"),d.push("color: #757575;"),d.push(M(o)),d.push("background-color: inherit"),a&&(d.push("color: "+E(t)),d.push("color: inherit")),d=d.concat(Array.prototype.slice.call(arguments,3)),console.info.apply(console,d)}}}},{key:"debugf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[p.DEBUG,e,t].concat(n)),D(i,g.DEBUG)}},{key:"infof",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[p.INFO,e,t].concat(n)),D(i,g.INFO)}},{key:"noticef",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[p.NOTICE,e,t].concat(n)),D(i,g.NOTICE)}},{key:"warningf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[p.WARNING,e,t].concat(n)),D(i,g.WARNING)}},{key:"errorf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[p.ERROR,e,t].concat(n)),i||(i={sendToServer:!0,sendPercentage:2,event:"general_error_event",error:{name:t}}),D(i,g.ERROR)}},{key:"criticalf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[p.CRITICAL,e,t].concat(n)),i||(i={sendToServer:!0,sendPercentage:2,event:"general_critical_event",error:{name:t}}),D(i,g.CRITICAL)}},{key:"alertf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[p.ALERT,e,t].concat(n)),D(i,g.ALERT)}},{key:"emergencyf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[p.EMERGENCY,e,t].concat(n)),D(i,g.EMERGENCY)}}],n&&o(t.prototype,n),a&&o(t,a),e}(),p={DEFAULT:0,DEBUG:1,INFO:2,NOTICE:3,WARNING:4,ERROR:5,CRITICAL:6,ALERT:7,EMERGENCY:8},g={DEBUG:0,INFO:1,NOTICE:2,WARNING:3,ERROR:4,CRITICAL:5,ALERT:6,EMERGENCY:7},m=(a={},(0,d.Z)(a,p.DEFAULT,"DFT"),(0,d.Z)(a,p.DEBUG,"DBG"),(0,d.Z)(a,p.INFO,"INF"),(0,d.Z)(a,p.NOTICE,"NTC"),(0,d.Z)(a,p.WARNING,"WRN"),(0,d.Z)(a,p.ERROR,"ERR"),(0,d.Z)(a,p.CRITICAL,"CRT"),(0,d.Z)(a,p.ALERT,"ALR"),(0,d.Z)(a,p.EMERGENCY,"EMR"),a),w=(s={},(0,d.Z)(s,p.DEFAULT,"#F5F5F5"),(0,d.Z)(s,p.DEBUG,"#BBDEFB"),(0,d.Z)(s,p.INFO,"#B3E5FC"),(0,d.Z)(s,p.NOTICE,"#DCEDC8"),(0,d.Z)(s,p.WARNING,"#FFE0B2"),(0,d.Z)(s,p.ERROR,"#FFCCBC"),(0,d.Z)(s,p.CRITICAL,"#E57373"),(0,d.Z)(s,p.ALERT,"#F06292"),(0,d.Z)(s,p.EMERGENCY,"#BA68C8"),s),v=["#B71C1C","#880E4F","#4A148C","#311B92","#1A237E","#0D47A1","#01579B","#006064","#004D40","#1B5E20","#33691E","#827717","#F57F17","#FF6F00","#E65100","#BF360C","#3E2723","#37474F"],b=(new Date).getTime();function y(){return(new Date).getTime()-b}function _(e){return e&&e.id||null}function M(e){return e<1e3?Math.round(e).toString()+"ms":(e/1e3).toFixed(2)+"s"}function E(e){var t=_(e);return t?v[function(e){for(var t=2166136261,n=0;n<e.length;++n)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(t)%v.length]:"#000000"}function N(e){return"number"==typeof e&&void 0!==m[e]}function D(e,t){if(e&&e.event&&e.sendToServer&&t&&(!e.sendPercentage||c.Z.commonUtils.getTrueByProbability(e.sendPercentage))){var n=Object.assign({},e,{severity:t});l.Y.fireEvent("sendLog",n)}}},302:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var i=new function(){this.events={},this.hasEventListener=function(e){return this.events.hasOwnProperty(e)},this.addEventListener=function(e,t){this.hasEventListener(e)?this.events[e].push(t):this.events[e]=[t]},this.removeEventListener=function(e,t){if(this.hasEventListener(e)){var n=this.events[e].indexOf(t);-1!=n&&this.events[e].splice(n,1)}},this.fireEvent=function(e,t,n,i){if(this.hasEventListener(e))for(var o=new r(e,t),a=this.events[e],s=a.length,d=0;d<s;d++){try{var c=a[d].call(n,o)}catch(e){console.error("CustomEvents - error in `fireEvent`:",e)}if(null!=c)return c;if(o.shouldStop)return}}},r=function(e,t){this.name=e,this.data=t,this.shouldStop=!1}},17:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var i={selectorPosition:{APPEND_CHILD:0,INSERT_BEFORE:1},complianceStatus:{UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,ERROR:3,PENDING:4},acceptableStandardScreenSize:{width:1366,height:768},headerBiddingType:{prebid:1},refreshType:{UNKNOWN:0,ALL:1,VISIBLE:2,HIDDEN:3},elementVisibility:{VISIBLE:"VISIBLE",HIDDEN:"HIDDEN",NOT_FOUND:"NOT_FOUND"},htmlElements:["HTMLScriptElement","HTMLElement","HTMLVideoElement","HTMLAudioElement","HTMLHtmlElement","HTMLHeadElement","HTMLLinkElement","HTMLStyleElement","HTMLBodyElement","HTMLFormElement","HTMLSelectElement","HTMLOptionElement","HTMLInputElement","HTMLTextAreaElement","HTMLButtonElement","HTMLLabelElement","HTMLFieldSetElement","HTMLLegendElement","HTMLUListElement","HTMLOListElement","HTMLDListElement","HTMLDirectoryElement","HTMLMenuElement","HTMLLIElement","HTMLDivElement","HTMLParagraphElement","HTMLHeadingElement","HTMLQuoteElement","HTMLPreElement","HTMLBRElement","HTMLFontElement","HTMLHRElement","HTMLAnchorElement","HTMLImageElement","HTMLObjectElement","HTMLParamElement","HTMLMapElement","HTMLModElement","HTMLAreaElement","HTMLTableElement","HTMLTableCaptionElement","HTMLTableColElement","HTMLTableSectionElement","HTMLTableRowElement","HTMLTableCellElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement"]}},868:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=new function(){this.data={},this.setItem=function(e,t){this.data[e]=t},this.getItem=function(e){return this.data[e]},this.removeItem=function(e){delete this.data[e]},this.clearSharedObject=function(){this.data={}}},r=n(17),o=n(143),a="ZnVuY3Rpb24gXzB4MTk0ZShfMHg0OGFmY2EsXzB4M2RjOGIpe3ZhciBfMHgzNmQ2NDI9XzB4MzZkNigpO3JldHVybiBfMHgxOTRlPWZ1bmN0aW9uKF8weDE5NGUyZixfMHgzNmM2YWYpe18weDE5NGUyZj1fMHgxOTRlMmYtMHhlNjt2YXIgXzB4MjE0N2JmPV8weDM2ZDY0MltfMHgxOTRlMmZdO3JldHVybiBfMHgyMTQ3YmY7fSxfMHgxOTRlKF8weDQ4YWZjYSxfMHgzZGM4Yik7fWZ1bmN0aW9uIF8weDM2ZDYoKXt2YXIgXzB4MTM1ZTRkPVsndG9Mb3dlckNhc2UnLCdvYmplY3QnLCdpZWNjdGVzdCcsJ2xlbmd0aCcsJzUyNDg3M1VnVnRKZicsJ09iamVjdCcsJ0lGUkFNRScsJ3R5cGU6XHgyMFx4MjdIVE1MNVx4MjcnLCdpbnNlcnRSdWxlJywnYWRMb2FkZXJfXycsJ2luc2VydEJlZm9yZU8nLCdib2R5JywnY29udGVudFdpbmRvdycsJ2Jhbm5lckFkSHRtbFRleHQnLCdnZXRFbGVtZW50QnlJZCcsJ2phdmFzY3JpcHQ6XHgyNycsJ19fZGVmaW5lR2V0dGVyX18nLCcxMGpLWk1iQycsJ2ViQ2ZnJywnY2hpbGRyZW4nLCdwcm90b3R5cGUnLCdzdXBwb3J0ZWRCcm93c2VyJywnZWJDZmdfXycsJ3N0cmluZycsJ3BhZ2VWaXNpYmxlJywnJDFbJywnY2FsbCcsJzQ4NDI0OTVVVW93dVUnLCdpZnJhbWUnLCdkb2N1bWVudEVsZW1lbnQnLCdhbHJlYWR5SW5qZWN0ZWQnLCd3cmFwSWZyYW1lJywnYXBwbHknLCdpbnNlcnRCZWZvcmUnLCdIVE1MRWxlbWVudCcsJ3Rlc3QnLCdsb2FkJywnN3FOWndFZycsJzE4MDU3OTZiT05EeWonLCdkb2N1bWVudCcsJ3NjcmlwdCcsJ3JlcGxhY2UnLCdfX18nLCdhZExvYWRlcicsJ3dyaXRlJywndGFnTmFtZScsJzQ5MzI1emhBaVBnJywnLmh0bWwnLCd3cml0ZU8nLCdpbWdbY2xhc3NePVx4MjdwbC1sb2FkZXItXHgyN117ZGlzcGxheTpub25lXHgyMCFpbXBvcnRhbnR9Jywnc3R5bGUnLCdjcmVhdGVFbGVtZW50JywnMjJQTnl5UHYnLCdhcHBlbmRDaGlsZE8nLCdpbmRleE9mJywnMTgxNzA0MGxrWEdHYycsJ2hhc093blByb3BlcnR5JywnMmR6VUtkUScsJ3R5cGU6XHgyMFx4MjdJTUFHRVx4MjcnLCcxNTBpZW5WaFgnLCdhZGRFdmVudExpc3RlbmVyJywnY3JlYXRlRWxlbWVudE8nLCdkZWZpbmVQcm9wZXJ0eScsJ2FwcGVuZENoaWxkJywnXSQzJywnbWF0Y2gnLCcxOTMxNTA0SkpUTmNTJywnc3R5bGVTaGVldHMnLCdfX2RlZmluZVNldHRlcl9fJywnYWRIdG1sUGF0aCcsJzE2NDkwNjBZdmNNU2onLCdnZXRFbGVtZW50QnlJZE8nXTtfMHgzNmQ2PWZ1bmN0aW9uKCl7cmV0dXJuIF8weDEzNWU0ZDt9O3JldHVybiBfMHgzNmQ2KCk7fShmdW5jdGlvbihfMHgyM2YyYjEsXzB4NDQ5M2MwKXt2YXIgXzB4M2ZhZTVlPV8weDE5NGUsXzB4NDdhYjQ1PV8weDIzZjJiMSgpO3doaWxlKCEhW10pe3RyeXt2YXIgXzB4NDQ2N2E2PXBhcnNlSW50KF8weDNmYWU1ZSgweGVlKSkvMHgxKihwYXJzZUludChfMHgzZmFlNWUoMHgxMjMpKS8weDIpKy1wYXJzZUludChfMHgzZmFlNWUoMHgxMTApKS8weDMrLXBhcnNlSW50KF8weDNmYWU1ZSgweGU4KSkvMHg0K3BhcnNlSW50KF8weDNmYWU1ZSgweDExOCkpLzB4NSoocGFyc2VJbnQoXzB4M2ZhZTVlKDB4MTI1KSkvMHg2KStwYXJzZUludChfMHgzZmFlNWUoMHgxMGYpKS8weDcqKC1wYXJzZUludChfMHgzZmFlNWUoMHgxMmMpKS8weDgpK3BhcnNlSW50KF8weDNmYWU1ZSgweDEwNSkpLzB4OSoocGFyc2VJbnQoXzB4M2ZhZTVlKDB4ZmIpKS8weGEpK3BhcnNlSW50KF8weDNmYWU1ZSgweDExZSkpLzB4YioocGFyc2VJbnQoXzB4M2ZhZTVlKDB4MTIxKSkvMHhjKTtpZihfMHg0NDY3YTY9PT1fMHg0NDkzYzApYnJlYWs7ZWxzZSBfMHg0N2FiNDVbJ3B1c2gnXShfMHg0N2FiNDVbJ3NoaWZ0J10oKSk7fWNhdGNoKF8weDRkM2JmOCl7XzB4NDdhYjQ1WydwdXNoJ10oXzB4NDdhYjQ1WydzaGlmdCddKCkpO319fShfMHgzNmQ2LDB4NTcxOTYpLChmdW5jdGlvbigpe3ZhciBfMHgxZWUyN2Y9ZnVuY3Rpb24oXzB4NTdhN2M1KXt2YXIgXzB4NGNkOGE5PV8weDE5NGU7aWYoIV8weDU3YTdjNVsnYWxyZWFkeUluamVjdGVkJ10pe18weDU3YTdjNVtfMHg0Y2Q4YTkoMHgxMDgpXT0hMHgwO3RyeXt2YXIgXzB4NDU4NGNmPV8weDU3YTdjNVtfMHg0Y2Q4YTkoMHgxMTEpXVsnY3JlYXRlRWxlbWVudCddKF8weDRjZDhhOSgweDExYykpOyhfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bJ2hlYWQnXXx8XzB4NTdhN2M1Wydkb2N1bWVudCddW18weDRjZDhhOSgweGY1KV18fF8weDU3YTdjNVtfMHg0Y2Q4YTkoMHgxMTEpXVtfMHg0Y2Q4YTkoMHgxMDcpXSlbXzB4NGNkOGE5KDB4MTI5KV0oXzB4NDU4NGNmKSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bXzB4NGNkOGE5KDB4MTJkKV1bMHgwXVtfMHg0Y2Q4YTkoMHhmMildKF8weDRjZDhhOSgweDExYiksMHgwKTt9Y2F0Y2goXzB4NDZmZjQwKXt9XzB4NTdhN2M1Wydkb2N1bWVudCddW18weDRjZDhhOSgweGU5KV09ZG9jdW1lbnRbXzB4NGNkOGE5KDB4ZjgpXSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bXzB4NGNkOGE5KDB4ZjgpXT1mdW5jdGlvbihfMHgzOGJmMDYpe3ZhciBfMHgxZDAwNTM9XzB4NGNkOGE5O3RyeXtpZihfMHgxZDAwNTMoMHhlYyk9PT1fMHgzOGJmMDYpcmV0dXJuIF8weDU3YTdjNVtfMHgxZDAwNTMoMHgxMTEpXVtfMHgxZDAwNTMoMHgxMWQpXSgnYicpO31jYXRjaChfMHhmNzU2NSl7fXJldHVybiBfMHg1N2E3YzVbJ2RvY3VtZW50J11bXzB4MWQwMDUzKDB4ZTkpXVtfMHgxZDAwNTMoMHgxMDQpXSh0aGlzLF8weDM4YmYwNik7fSxfMHg1N2E3YzVbJ2RvY3VtZW50J11bJ2NyZWF0ZUVsZW1lbnRPJ109ZG9jdW1lbnRbJ2NyZWF0ZUVsZW1lbnQnXSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bJ2NyZWF0ZUVsZW1lbnQnXT1mdW5jdGlvbihfMHgxZjgwNTkpe3ZhciBfMHgxNDM2OGU9XzB4NGNkOGE5O3RyeXtpZihfMHgxNDM2OGUoMHgxMDYpPT09XzB4MWY4MDU5W18weDE0MzY4ZSgweGVhKV0oKSl7dmFyIF8weDFjMjcyZD1fMHg1N2E3YzVbXzB4MTQzNjhlKDB4MTExKV1bXzB4MTQzNjhlKDB4MTI3KV1bJ2NhbGwnXSh0aGlzLF8weDFmODA1OSk7cmV0dXJuIF8weDFjMjcyZFtfMHgxNDM2OGUoMHgxMjYpXShfMHgxNDM2OGUoMHgxMGUpLGZ1bmN0aW9uKCl7dmFyIF8weDE4ZjViND1fMHgxNDM2OGU7dHJ5e3RoaXNbXzB4MThmNWI0KDB4ZjYpXVtfMHgxOGY1YjQoMHgxMDkpXT1fMHgxZWUyN2YsdGhpc1tfMHgxOGY1YjQoMHhmNildW18weDE4ZjViNCgweDEwOSldWydjYWxsJ10odGhpc1tfMHgxOGY1YjQoMHhmNildLHRoaXNbXzB4MThmNWI0KDB4ZjYpXSk7fWNhdGNoKF8weDNlM2IzMCl7fX0pLF8weDFjMjcyZDt9fWNhdGNoKF8weDVhOTg2Zil7fXJldHVybiBfMHg1N2E3YzVbXzB4MTQzNjhlKDB4MTExKV1bXzB4MTQzNjhlKDB4MTI3KV1bXzB4MTQzNjhlKDB4MTA0KV0odGhpcyxfMHgxZjgwNTkpO30sXzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4MTFmKV09XzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4MTI5KV0sXzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4MTI5KV09ZnVuY3Rpb24oXzB4MWMwNWRjKXt2YXIgXzB4MzlmNjk5PV8weDRjZDhhOSxfMHgzYzFlOGI9XzB4NTdhN2M1WydIVE1MRWxlbWVudCddW18weDM5ZjY5OSgweGZlKV1bXzB4MzlmNjk5KDB4MTFmKV1bXzB4MzlmNjk5KDB4MTA0KV0odGhpcyxfMHgxYzA1ZGMpO3RyeXtmb3IodmFyIF8weDM5NzM1ND0weDA7XzB4Mzk3MzU0PF8weDFjMDVkY1tfMHgzOWY2OTkoMHhmZCldW18weDM5ZjY5OSgweGVkKV07XzB4Mzk3MzU0KyspJ0lGUkFNRSc9PT1fMHgxYzA1ZGNbXzB4MzlmNjk5KDB4ZmQpXVtfMHgzOTczNTRdW18weDM5ZjY5OSgweDExNyldJiYoXzB4MWMwNWRjW18weDM5ZjY5OSgweGZkKV1bXzB4Mzk3MzU0XVtfMHgzOWY2OTkoMHhmNildfHxfMHgxYzA1ZGNbXzB4MzlmNjk5KDB4ZmQpXVtfMHgzOTczNTRdW18weDM5ZjY5OSgweDEyNildKF8weDM5ZjY5OSgweDEwZSksZnVuY3Rpb24oKXt2YXIgXzB4MTk3ZDU2PV8weDM5ZjY5OTt0aGlzW18weDE5N2Q1NigweGY2KV1bXzB4MTk3ZDU2KDB4MTA5KV09XzB4MWVlMjdmLHRoaXNbXzB4MTk3ZDU2KDB4ZjYpXVtfMHgxOTdkNTYoMHgxMDkpXVtfMHgxOTdkNTYoMHgxMDQpXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1tfMHgxOTdkNTYoMHhmNildKTt9KSxfMHgxYzA1ZGNbXzB4MzlmNjk5KDB4ZmQpXVtfMHgzOTczNTRdW18weDM5ZjY5OSgweGY2KV1bXzB4MzlmNjk5KDB4MTA5KV09XzB4MWVlMjdmLF8weDFjMDVkY1tfMHgzOWY2OTkoMHhmZCldW18weDM5NzM1NF1bJ2NvbnRlbnRXaW5kb3cnXVtfMHgzOWY2OTkoMHgxMDkpXVtfMHgzOWY2OTkoMHgxMDQpXSh0aGlzLF8weDFjMDVkY1tfMHgzOWY2OTkoMHhmZCldW18weDM5NzM1NF1bXzB4MzlmNjk5KDB4ZjYpXSkpO18weDM5ZjY5OSgweGYwKT09PV8weDFjMDVkY1tfMHgzOWY2OTkoMHgxMTcpXSYmKF8weDFjMDVkY1tfMHgzOWY2OTkoMHhmNildfHxfMHgxYzA1ZGNbXzB4MzlmNjk5KDB4MTI2KV0oXzB4MzlmNjk5KDB4MTBlKSxmdW5jdGlvbigpe3ZhciBfMHgzNzYzMTU9XzB4MzlmNjk5O3RoaXNbXzB4Mzc2MzE1KDB4ZjYpXVtfMHgzNzYzMTUoMHgxMDkpXT1fMHgxZWUyN2YsdGhpc1tfMHgzNzYzMTUoMHhmNildW18weDM3NjMxNSgweDEwOSldWydjYWxsJ10odGhpc1tfMHgzNzYzMTUoMHhmNildLHRoaXNbXzB4Mzc2MzE1KDB4ZjYpXSk7fSksXzB4MWMwNWRjWydjb250ZW50V2luZG93J11bXzB4MzlmNjk5KDB4MTA5KV09XzB4MWVlMjdmLF8weDFjMDVkY1snY29udGVudFdpbmRvdyddW18weDM5ZjY5OSgweDEwOSldWydjYWxsJ10odGhpcyxfMHgxYzA1ZGNbXzB4MzlmNjk5KDB4ZjYpXSkpO31jYXRjaChfMHgyZjI2ODEpe31yZXR1cm4gXzB4M2MxZThiO30sXzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4ZjQpXT1fMHg1N2E3YzVbJ0hUTUxFbGVtZW50J11bXzB4NGNkOGE5KDB4ZmUpXVsnaW5zZXJ0QmVmb3JlJ10sXzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4MTBiKV09ZnVuY3Rpb24oXzB4MjliNDE3LF8weDFjMjE5NSl7dmFyIF8weDU2MjUwYj1fMHg0Y2Q4YTksXzB4MWJkMmRmPV8weDU3YTdjNVsnSFRNTEVsZW1lbnQnXVsncHJvdG90eXBlJ11bXzB4NTYyNTBiKDB4ZjQpXVtfMHg1NjI1MGIoMHgxMDQpXSh0aGlzLF8weDI5YjQxNyxfMHgxYzIxOTUpO3RyeXtmb3IodmFyIF8weDNiOTZkYT0weDA7XzB4M2I5NmRhPF8weDI5YjQxN1tfMHg1NjI1MGIoMHhmZCldWydsZW5ndGgnXTtfMHgzYjk2ZGErKyknSUZSQU1FJz09PV8weDI5YjQxN1tfMHg1NjI1MGIoMHhmZCldW18weDNiOTZkYV1bXzB4NTYyNTBiKDB4MTE3KV0mJihfMHgyOWI0MTdbJ2NoaWxkcmVuJ11bXzB4M2I5NmRhXVsnY29udGVudFdpbmRvdyddfHxfMHgyOWI0MTdbXzB4NTYyNTBiKDB4ZmQpXVtfMHgzYjk2ZGFdW18weDU2MjUwYigweDEyNildKF8weDU2MjUwYigweDEwZSksZnVuY3Rpb24oKXt2YXIgXzB4ZDMxOThiPV8weDU2MjUwYjt0aGlzW18weGQzMTk4YigweGY2KV1bXzB4ZDMxOThiKDB4MTA5KV09XzB4MWVlMjdmLHRoaXNbJ2NvbnRlbnRXaW5kb3cnXVtfMHhkMzE5OGIoMHgxMDkpXVtfMHhkMzE5OGIoMHgxMDQpXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1tfMHhkMzE5OGIoMHhmNildKTt9KSxfMHgyOWI0MTdbXzB4NTYyNTBiKDB4ZmQpXVtfMHgzYjk2ZGFdWydjb250ZW50V2luZG93J11bXzB4NTYyNTBiKDB4MTA5KV09XzB4MWVlMjdmLF8weDI5YjQxN1snY2hpbGRyZW4nXVtfMHgzYjk2ZGFdW18weDU2MjUwYigweGY2KV1bXzB4NTYyNTBiKDB4MTA5KV1bJ2NhbGwnXSh0aGlzLF8weDI5YjQxN1tfMHg1NjI1MGIoMHhmZCldW18weDNiOTZkYV1bJ2NvbnRlbnRXaW5kb3cnXSkpOydJRlJBTUUnPT09XzB4MjliNDE3W18weDU2MjUwYigweDExNyldJiYoXzB4MjliNDE3W18weDU2MjUwYigweGY2KV18fF8weDI5YjQxN1tfMHg1NjI1MGIoMHgxMjYpXSgnbG9hZCcsZnVuY3Rpb24oKXt2YXIgXzB4M2UwNWFmPV8weDU2MjUwYjt0aGlzWydjb250ZW50V2luZG93J11bXzB4M2UwNWFmKDB4MTA5KV09XzB4MWVlMjdmLHRoaXNbXzB4M2UwNWFmKDB4ZjYpXVsnd3JhcElmcmFtZSddWydjYWxsJ10odGhpc1snY29udGVudFdpbmRvdyddLHRoaXNbXzB4M2UwNWFmKDB4ZjYpXSk7fSksXzB4MjliNDE3W18weDU2MjUwYigweGY2KV1bXzB4NTYyNTBiKDB4MTA5KV09XzB4MWVlMjdmLF8weDI5YjQxN1tfMHg1NjI1MGIoMHhmNildWyd3cmFwSWZyYW1lJ11bJ2NhbGwnXSh0aGlzLF8weDI5YjQxN1tfMHg1NjI1MGIoMHhmNildKSk7fWNhdGNoKF8weDE0ZDI1OSl7fXJldHVybiBfMHgxYmQyZGY7fSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bJ3dyaXRlTyddPV8weDU3YTdjNVsnZG9jdW1lbnQnXVtfMHg0Y2Q4YTkoMHgxMTYpXSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bXzB4NGNkOGE5KDB4MTE2KV09ZnVuY3Rpb24oXzB4MmI0NWJiKXt2YXIgXzB4MTc4MTBlPV8weDRjZDhhOTt0cnl7aWYoXzB4MmI0NWJiJiYvZGF0YVwtZGNtXC1yZW5kZXJpbmdcLW1vZGVccz89XHM/WyciXWlmcmFtZVsnIl0vW18weDE3ODEwZSgweDEwZCldKF8weDJiNDViYikpe3ZhciBfMHg1YTg4MTY9XzB4MmI0NWJiW18weDE3ODEwZSgweDEyYildKC9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS8pLF8weDRmMWYzMT1fMHg1YTg4MTZbMHgwXVtfMHgxNzgxMGUoMHgxMTMpXShfMHgxNzgxMGUoMHgxMDYpLF8weDE3ODEwZSgweDExMikpO18weDJiNDViYj1fMHgyYjQ1YmJbXzB4MTc4MTBlKDB4MTEzKV0oXzB4NWE4ODE2LF8weDRmMWYzMSk7fWlmKF8weDJiNDViYiYmL3tbXntdK3JlbmRlckFzOiBcXHgyN0JBQ0tVUF9JTUFHRVxceDI3W159XSt9L1tfMHgxNzgxMGUoMHgxMGQpXShfMHgyYjQ1YmIpKXt2YXIgXzB4NDk2MWExPV8weDJiNDViYltfMHgxNzgxMGUoMHgxMmIpXSgve1tee10rcmVuZGVyQXM6IFxceDI3QkFDS1VQX0lNQUdFXFx4MjdbXn1dK30vKVsweDBdLF8weDJjZDE1ZT0vKFsuXFNcc10rcHJpbWFyeUZpbGVzOiApKFxbW15cW10rcmVuZGVyQXM6IFxceDI3QkFDS1VQX0lNQUdFXFx4MjdbXlxdXStcXSkoWy5cU1xzXSspL2c7XzB4MmI0NWJiPV8weDJiNDViYltfMHgxNzgxMGUoMHgxMTMpXShfMHgyY2QxNWUsXzB4MTc4MTBlKDB4MTAzKStfMHg0OTYxYTErXzB4MTc4MTBlKDB4MTJhKSk7fV8weDJiNDViYiYmXzB4MmI0NWJiWydpbmRleE9mJ10oXzB4MTc4MTBlKDB4ZjEpKT4tMHgxJiYoXzB4MmI0NWJiPV8weDJiNDViYlsncmVwbGFjZSddKF8weDE3ODEwZSgweGYxKSxfMHgxNzgxMGUoMHgxMjQpKSk7fWNhdGNoKF8weDI5NTI1Nil7fV8weDU3YTdjNVtfMHgxNzgxMGUoMHgxMTEpXVtfMHgxNzgxMGUoMHgxMWEpXVtfMHgxNzgxMGUoMHgxMDQpXSh0aGlzLF8weDJiNDViYik7fSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4ZmMpXT12b2lkIDB4MCxfMHg1N2E3YzVbJ2ViQ2ZnX18nXT12b2lkIDB4MCxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4ZmEpXShfMHg0Y2Q4YTkoMHhmYyksZnVuY3Rpb24oXzB4NDZmNTZhKXt2YXIgXzB4NDNkZTYwPV8weDRjZDhhOTtyZXR1cm4gXzB4NTdhN2M1W18weDQzZGU2MCgweDEwMCldO30pLF8weDU3YTdjNVtfMHg0Y2Q4YTkoMHhlNildKCdlYkNmZycsZnVuY3Rpb24oXzB4MTRiMWEyKXt2YXIgXzB4NGRhMjJmPV8weDRjZDhhOTtyZXR1cm4gXzB4MTRiMWEyW18weDRkYTIyZigweGU3KV09JycsXzB4NTdhN2M1W18weDRkYTIyZigweDEwMCldPV8weDE0YjFhMjt9KSxPYmplY3RbXzB4NGNkOGE5KDB4ZmUpXVtfMHg0Y2Q4YTkoMHhlNildKF8weDRjZDhhOSgweGZmKSxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiEweDE7fTt9KSxfMHg0NTg0Y2Y9ZnVuY3Rpb24oXzB4Mzc5ZTU0LF8weDJjMDA2OCl7dmFyIF8weDFjNjU5Nj1fMHg0Y2Q4YTk7XzB4NTdhN2M1W18weDFjNjU5NigweGVmKV1bXzB4MWM2NTk2KDB4MTI4KV0oXzB4NTdhN2M1WydPYmplY3QnXVtfMHgxYzY1OTYoMHhmZSldLF8weDM3OWU1NCx7J2dldCc6ZnVuY3Rpb24oKXt2YXIgXzB4NTIzNGU2PV8weDFjNjU5NjtyZXR1cm4gdGhpc1tfMHg1MjM0ZTYoMHgxMTQpK18weDM3OWU1NF07fSwnc2V0JzpmdW5jdGlvbihfMHg1MWUwMGIpe3ZhciBfMHhjN2MwNTA9XzB4MWM2NTk2O18weDUxZTAwYj1fMHgyYzAwNjgodGhpcyxfMHg1MWUwMGIpLF8weDU3YTdjNVtfMHhjN2MwNTAoMHhlZildW18weGM3YzA1MCgweDEyOCldKHRoaXMsXzB4Mzc5ZTU0LHsnZ2V0JzpmdW5jdGlvbigpe3JldHVybiB0aGlzWydfX18nK18weDM3OWU1NF07fSwnc2V0JzpmdW5jdGlvbihfMHgyZjQzNDMpe3ZhciBfMHgxYmQ1ZmY9XzB4YzdjMDUwO18weDJmNDM0Mz1fMHgyYzAwNjgodGhpcyxfMHgyZjQzNDMpLHRoaXNbXzB4MWJkNWZmKDB4MTE0KStfMHgzNzllNTRdPV8weDJmNDM0Mzt9LCdlbnVtZXJhYmxlJzohMHgwfSk7dmFyIF8weDQ1N2IyOD1fMHg1MWUwMGI7XzB4NTdhN2M1W18weGM3YzA1MCgweGVmKV1bXzB4YzdjMDUwKDB4MTI4KV0odGhpcyxfMHhjN2MwNTAoMHgxMTQpK18weDM3OWU1NCx7J2dldCc6ZnVuY3Rpb24oKXtyZXR1cm4gXzB4NDU3YjI4O30sJ3NldCc6ZnVuY3Rpb24oXzB4MjVmNGFjKXtfMHg0NTdiMjg9XzB4MjVmNGFjPV8weDJjMDA2OCh0aGlzLF8weDI1ZjRhYyk7fSwnZW51bWVyYWJsZSc6ITB4MX0pO30sJ2VudW1lcmFibGUnOiEweDEsJ2NvbmZpZ3VyYWJsZSc6ITB4MX0pO30sXzB4NDU4NGNmKF8weDRjZDhhOSgweDEwMiksZnVuY3Rpb24oXzB4MjQ5NTBkLF8weGZkMzQ1Nil7dmFyIF8weDEzNTAxMz1fMHg0Y2Q4YTk7cmV0dXJuIF8weDEzNTAxMygweGViKT09PXR5cGVvZiBfMHgyNDk1MGQmJl8weDI0OTUwZFtfMHgxMzUwMTMoMHgxMjIpXShfMHgxMzUwMTMoMHhmZikpJiYoXzB4MjQ5NTBkW18weDEzNTAxMygweGZmKV09ZnVuY3Rpb24oKXtyZXR1cm4hMHgxO30pLF8weGZkMzQ1Njt9KSxfMHg0NTg0Y2YoJ2lzJyxmdW5jdGlvbihfMHg0YmUyYjQsXzB4NWQ3ZDY1KXt2YXIgXzB4Mzg1ZWM4PV8weDRjZDhhOTtyZXR1cm4nb2JqZWN0Jz09PXR5cGVvZiBfMHg0YmUyYjQmJl8weDRiZTJiNFtfMHgzODVlYzgoMHgxMjIpXShfMHgzODVlYzgoMHhmZikpJiYoXzB4NGJlMmI0WydzdXBwb3J0ZWRCcm93c2VyJ109ZnVuY3Rpb24oKXtyZXR1cm4hMHgxO30pLF8weDVkN2Q2NTt9KTt2YXIgXzB4NTAyMmQ1PXZvaWQgMHgwO18weDQ1ODRjZihfMHg0Y2Q4YTkoMHhmNyksZnVuY3Rpb24oXzB4MjUzNDI2LF8weDMwMjc1Yyl7cmV0dXJuIF8weDUwMjJkNT1fMHgzMDI3NWM7fSksXzB4NTdhN2M1W18weDRjZDhhOSgweDExNSldPXZvaWQgMHgwLF8weDU3YTdjNVtfMHg0Y2Q4YTkoMHhmYSldKF8weDRjZDhhOSgweDExNSksZnVuY3Rpb24oKXt2YXIgXzB4M2Y4NWU2PV8weDRjZDhhOTtyZXR1cm4gdGhpc1tfMHgzZjg1ZTYoMHhmMyldO30pLF8weDU3YTdjNVtfMHg0Y2Q4YTkoMHhlNildKCdhZExvYWRlcicsZnVuY3Rpb24oXzB4MjdjMmUyKXt2YXIgXzB4NDdjNWU0PV8weDRjZDhhOTtyZXR1cm4gdGhpc1tfMHg0N2M1ZTQoMHhmMyldPWZ1bmN0aW9uKCl7dmFyIF8weDRmOWI5OD1fMHg0N2M1ZTQsXzB4M2NjNWM4PWFyZ3VtZW50czstMHgxPF8weDNjYzVjOFsweDNdW18weDRmOWI5OCgweDEyMCldKF8weDRmOWI5OCgweDExOSkpJiZfMHg0ZjliOTgoMHgxMDEpPT09dHlwZW9mIF8weDUwMjJkNSYmKF8weDNjYzVjOFsweDNdPV8weDRmOWI5OCgweGY5KStfMHg1MDIyZDVbXzB4NGY5Yjk4KDB4MTEzKV0oLycvZywnaScpKydceDI3JyksXzB4MjdjMmUyW18weDRmOWI5OCgweDEwYSldKHRoaXMsXzB4M2NjNWM4KTt9LF8weDI3YzJlMjt9KTt9fTtfMHgxZWUyN2Yod2luZG93KTt9KCkpKTs=";const s={SharedObject:i,consts:r.v,upoSettings:o.Im,whitelistingIFrame:undefined,cpbjs:undefined,uGoogletag:undefined,backupCreativeScript:a,backupCreativeScriptForPostMessage:"try { eval(atob('ZnVuY3Rpb24gXzB4MTk0ZShfMHg0OGFmY2EsXzB4M2RjOGIpe3ZhciBfMHgzNmQ2NDI9XzB4MzZkNigpO3JldHVybiBfMHgxOTRlPWZ1bmN0aW9uKF8weDE5NGUyZixfMHgzNmM2YWYpe18weDE5NGUyZj1fMHgxOTRlMmYtMHhlNjt2YXIgXzB4MjE0N2JmPV8weDM2ZDY0MltfMHgxOTRlMmZdO3JldHVybiBfMHgyMTQ3YmY7fSxfMHgxOTRlKF8weDQ4YWZjYSxfMHgzZGM4Yik7fWZ1bmN0aW9uIF8weDM2ZDYoKXt2YXIgXzB4MTM1ZTRkPVsndG9Mb3dlckNhc2UnLCdvYmplY3QnLCdpZWNjdGVzdCcsJ2xlbmd0aCcsJzUyNDg3M1VnVnRKZicsJ09iamVjdCcsJ0lGUkFNRScsJ3R5cGU6XHgyMFx4MjdIVE1MNVx4MjcnLCdpbnNlcnRSdWxlJywnYWRMb2FkZXJfXycsJ2luc2VydEJlZm9yZU8nLCdib2R5JywnY29udGVudFdpbmRvdycsJ2Jhbm5lckFkSHRtbFRleHQnLCdnZXRFbGVtZW50QnlJZCcsJ2phdmFzY3JpcHQ6XHgyNycsJ19fZGVmaW5lR2V0dGVyX18nLCcxMGpLWk1iQycsJ2ViQ2ZnJywnY2hpbGRyZW4nLCdwcm90b3R5cGUnLCdzdXBwb3J0ZWRCcm93c2VyJywnZWJDZmdfXycsJ3N0cmluZycsJ3BhZ2VWaXNpYmxlJywnJDFbJywnY2FsbCcsJzQ4NDI0OTVVVW93dVUnLCdpZnJhbWUnLCdkb2N1bWVudEVsZW1lbnQnLCdhbHJlYWR5SW5qZWN0ZWQnLCd3cmFwSWZyYW1lJywnYXBwbHknLCdpbnNlcnRCZWZvcmUnLCdIVE1MRWxlbWVudCcsJ3Rlc3QnLCdsb2FkJywnN3FOWndFZycsJzE4MDU3OTZiT05EeWonLCdkb2N1bWVudCcsJ3NjcmlwdCcsJ3JlcGxhY2UnLCdfX18nLCdhZExvYWRlcicsJ3dyaXRlJywndGFnTmFtZScsJzQ5MzI1emhBaVBnJywnLmh0bWwnLCd3cml0ZU8nLCdpbWdbY2xhc3NePVx4MjdwbC1sb2FkZXItXHgyN117ZGlzcGxheTpub25lXHgyMCFpbXBvcnRhbnR9Jywnc3R5bGUnLCdjcmVhdGVFbGVtZW50JywnMjJQTnl5UHYnLCdhcHBlbmRDaGlsZE8nLCdpbmRleE9mJywnMTgxNzA0MGxrWEdHYycsJ2hhc093blByb3BlcnR5JywnMmR6VUtkUScsJ3R5cGU6XHgyMFx4MjdJTUFHRVx4MjcnLCcxNTBpZW5WaFgnLCdhZGRFdmVudExpc3RlbmVyJywnY3JlYXRlRWxlbWVudE8nLCdkZWZpbmVQcm9wZXJ0eScsJ2FwcGVuZENoaWxkJywnXSQzJywnbWF0Y2gnLCcxOTMxNTA0SkpUTmNTJywnc3R5bGVTaGVldHMnLCdfX2RlZmluZVNldHRlcl9fJywnYWRIdG1sUGF0aCcsJzE2NDkwNjBZdmNNU2onLCdnZXRFbGVtZW50QnlJZE8nXTtfMHgzNmQ2PWZ1bmN0aW9uKCl7cmV0dXJuIF8weDEzNWU0ZDt9O3JldHVybiBfMHgzNmQ2KCk7fShmdW5jdGlvbihfMHgyM2YyYjEsXzB4NDQ5M2MwKXt2YXIgXzB4M2ZhZTVlPV8weDE5NGUsXzB4NDdhYjQ1PV8weDIzZjJiMSgpO3doaWxlKCEhW10pe3RyeXt2YXIgXzB4NDQ2N2E2PXBhcnNlSW50KF8weDNmYWU1ZSgweGVlKSkvMHgxKihwYXJzZUludChfMHgzZmFlNWUoMHgxMjMpKS8weDIpKy1wYXJzZUludChfMHgzZmFlNWUoMHgxMTApKS8weDMrLXBhcnNlSW50KF8weDNmYWU1ZSgweGU4KSkvMHg0K3BhcnNlSW50KF8weDNmYWU1ZSgweDExOCkpLzB4NSoocGFyc2VJbnQoXzB4M2ZhZTVlKDB4MTI1KSkvMHg2KStwYXJzZUludChfMHgzZmFlNWUoMHgxMGYpKS8weDcqKC1wYXJzZUludChfMHgzZmFlNWUoMHgxMmMpKS8weDgpK3BhcnNlSW50KF8weDNmYWU1ZSgweDEwNSkpLzB4OSoocGFyc2VJbnQoXzB4M2ZhZTVlKDB4ZmIpKS8weGEpK3BhcnNlSW50KF8weDNmYWU1ZSgweDExZSkpLzB4YioocGFyc2VJbnQoXzB4M2ZhZTVlKDB4MTIxKSkvMHhjKTtpZihfMHg0NDY3YTY9PT1fMHg0NDkzYzApYnJlYWs7ZWxzZSBfMHg0N2FiNDVbJ3B1c2gnXShfMHg0N2FiNDVbJ3NoaWZ0J10oKSk7fWNhdGNoKF8weDRkM2JmOCl7XzB4NDdhYjQ1WydwdXNoJ10oXzB4NDdhYjQ1WydzaGlmdCddKCkpO319fShfMHgzNmQ2LDB4NTcxOTYpLChmdW5jdGlvbigpe3ZhciBfMHgxZWUyN2Y9ZnVuY3Rpb24oXzB4NTdhN2M1KXt2YXIgXzB4NGNkOGE5PV8weDE5NGU7aWYoIV8weDU3YTdjNVsnYWxyZWFkeUluamVjdGVkJ10pe18weDU3YTdjNVtfMHg0Y2Q4YTkoMHgxMDgpXT0hMHgwO3RyeXt2YXIgXzB4NDU4NGNmPV8weDU3YTdjNVtfMHg0Y2Q4YTkoMHgxMTEpXVsnY3JlYXRlRWxlbWVudCddKF8weDRjZDhhOSgweDExYykpOyhfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bJ2hlYWQnXXx8XzB4NTdhN2M1Wydkb2N1bWVudCddW18weDRjZDhhOSgweGY1KV18fF8weDU3YTdjNVtfMHg0Y2Q4YTkoMHgxMTEpXVtfMHg0Y2Q4YTkoMHgxMDcpXSlbXzB4NGNkOGE5KDB4MTI5KV0oXzB4NDU4NGNmKSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bXzB4NGNkOGE5KDB4MTJkKV1bMHgwXVtfMHg0Y2Q4YTkoMHhmMildKF8weDRjZDhhOSgweDExYiksMHgwKTt9Y2F0Y2goXzB4NDZmZjQwKXt9XzB4NTdhN2M1Wydkb2N1bWVudCddW18weDRjZDhhOSgweGU5KV09ZG9jdW1lbnRbXzB4NGNkOGE5KDB4ZjgpXSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bXzB4NGNkOGE5KDB4ZjgpXT1mdW5jdGlvbihfMHgzOGJmMDYpe3ZhciBfMHgxZDAwNTM9XzB4NGNkOGE5O3RyeXtpZihfMHgxZDAwNTMoMHhlYyk9PT1fMHgzOGJmMDYpcmV0dXJuIF8weDU3YTdjNVtfMHgxZDAwNTMoMHgxMTEpXVtfMHgxZDAwNTMoMHgxMWQpXSgnYicpO31jYXRjaChfMHhmNzU2NSl7fXJldHVybiBfMHg1N2E3YzVbJ2RvY3VtZW50J11bXzB4MWQwMDUzKDB4ZTkpXVtfMHgxZDAwNTMoMHgxMDQpXSh0aGlzLF8weDM4YmYwNik7fSxfMHg1N2E3YzVbJ2RvY3VtZW50J11bJ2NyZWF0ZUVsZW1lbnRPJ109ZG9jdW1lbnRbJ2NyZWF0ZUVsZW1lbnQnXSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bJ2NyZWF0ZUVsZW1lbnQnXT1mdW5jdGlvbihfMHgxZjgwNTkpe3ZhciBfMHgxNDM2OGU9XzB4NGNkOGE5O3RyeXtpZihfMHgxNDM2OGUoMHgxMDYpPT09XzB4MWY4MDU5W18weDE0MzY4ZSgweGVhKV0oKSl7dmFyIF8weDFjMjcyZD1fMHg1N2E3YzVbXzB4MTQzNjhlKDB4MTExKV1bXzB4MTQzNjhlKDB4MTI3KV1bJ2NhbGwnXSh0aGlzLF8weDFmODA1OSk7cmV0dXJuIF8weDFjMjcyZFtfMHgxNDM2OGUoMHgxMjYpXShfMHgxNDM2OGUoMHgxMGUpLGZ1bmN0aW9uKCl7dmFyIF8weDE4ZjViND1fMHgxNDM2OGU7dHJ5e3RoaXNbXzB4MThmNWI0KDB4ZjYpXVtfMHgxOGY1YjQoMHgxMDkpXT1fMHgxZWUyN2YsdGhpc1tfMHgxOGY1YjQoMHhmNildW18weDE4ZjViNCgweDEwOSldWydjYWxsJ10odGhpc1tfMHgxOGY1YjQoMHhmNildLHRoaXNbXzB4MThmNWI0KDB4ZjYpXSk7fWNhdGNoKF8weDNlM2IzMCl7fX0pLF8weDFjMjcyZDt9fWNhdGNoKF8weDVhOTg2Zil7fXJldHVybiBfMHg1N2E3YzVbXzB4MTQzNjhlKDB4MTExKV1bXzB4MTQzNjhlKDB4MTI3KV1bXzB4MTQzNjhlKDB4MTA0KV0odGhpcyxfMHgxZjgwNTkpO30sXzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4MTFmKV09XzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4MTI5KV0sXzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4MTI5KV09ZnVuY3Rpb24oXzB4MWMwNWRjKXt2YXIgXzB4MzlmNjk5PV8weDRjZDhhOSxfMHgzYzFlOGI9XzB4NTdhN2M1WydIVE1MRWxlbWVudCddW18weDM5ZjY5OSgweGZlKV1bXzB4MzlmNjk5KDB4MTFmKV1bXzB4MzlmNjk5KDB4MTA0KV0odGhpcyxfMHgxYzA1ZGMpO3RyeXtmb3IodmFyIF8weDM5NzM1ND0weDA7XzB4Mzk3MzU0PF8weDFjMDVkY1tfMHgzOWY2OTkoMHhmZCldW18weDM5ZjY5OSgweGVkKV07XzB4Mzk3MzU0KyspJ0lGUkFNRSc9PT1fMHgxYzA1ZGNbXzB4MzlmNjk5KDB4ZmQpXVtfMHgzOTczNTRdW18weDM5ZjY5OSgweDExNyldJiYoXzB4MWMwNWRjW18weDM5ZjY5OSgweGZkKV1bXzB4Mzk3MzU0XVtfMHgzOWY2OTkoMHhmNildfHxfMHgxYzA1ZGNbXzB4MzlmNjk5KDB4ZmQpXVtfMHgzOTczNTRdW18weDM5ZjY5OSgweDEyNildKF8weDM5ZjY5OSgweDEwZSksZnVuY3Rpb24oKXt2YXIgXzB4MTk3ZDU2PV8weDM5ZjY5OTt0aGlzW18weDE5N2Q1NigweGY2KV1bXzB4MTk3ZDU2KDB4MTA5KV09XzB4MWVlMjdmLHRoaXNbXzB4MTk3ZDU2KDB4ZjYpXVtfMHgxOTdkNTYoMHgxMDkpXVtfMHgxOTdkNTYoMHgxMDQpXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1tfMHgxOTdkNTYoMHhmNildKTt9KSxfMHgxYzA1ZGNbXzB4MzlmNjk5KDB4ZmQpXVtfMHgzOTczNTRdW18weDM5ZjY5OSgweGY2KV1bXzB4MzlmNjk5KDB4MTA5KV09XzB4MWVlMjdmLF8weDFjMDVkY1tfMHgzOWY2OTkoMHhmZCldW18weDM5NzM1NF1bJ2NvbnRlbnRXaW5kb3cnXVtfMHgzOWY2OTkoMHgxMDkpXVtfMHgzOWY2OTkoMHgxMDQpXSh0aGlzLF8weDFjMDVkY1tfMHgzOWY2OTkoMHhmZCldW18weDM5NzM1NF1bXzB4MzlmNjk5KDB4ZjYpXSkpO18weDM5ZjY5OSgweGYwKT09PV8weDFjMDVkY1tfMHgzOWY2OTkoMHgxMTcpXSYmKF8weDFjMDVkY1tfMHgzOWY2OTkoMHhmNildfHxfMHgxYzA1ZGNbXzB4MzlmNjk5KDB4MTI2KV0oXzB4MzlmNjk5KDB4MTBlKSxmdW5jdGlvbigpe3ZhciBfMHgzNzYzMTU9XzB4MzlmNjk5O3RoaXNbXzB4Mzc2MzE1KDB4ZjYpXVtfMHgzNzYzMTUoMHgxMDkpXT1fMHgxZWUyN2YsdGhpc1tfMHgzNzYzMTUoMHhmNildW18weDM3NjMxNSgweDEwOSldWydjYWxsJ10odGhpc1tfMHgzNzYzMTUoMHhmNildLHRoaXNbXzB4Mzc2MzE1KDB4ZjYpXSk7fSksXzB4MWMwNWRjWydjb250ZW50V2luZG93J11bXzB4MzlmNjk5KDB4MTA5KV09XzB4MWVlMjdmLF8weDFjMDVkY1snY29udGVudFdpbmRvdyddW18weDM5ZjY5OSgweDEwOSldWydjYWxsJ10odGhpcyxfMHgxYzA1ZGNbXzB4MzlmNjk5KDB4ZjYpXSkpO31jYXRjaChfMHgyZjI2ODEpe31yZXR1cm4gXzB4M2MxZThiO30sXzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4ZjQpXT1fMHg1N2E3YzVbJ0hUTUxFbGVtZW50J11bXzB4NGNkOGE5KDB4ZmUpXVsnaW5zZXJ0QmVmb3JlJ10sXzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4MTBiKV09ZnVuY3Rpb24oXzB4MjliNDE3LF8weDFjMjE5NSl7dmFyIF8weDU2MjUwYj1fMHg0Y2Q4YTksXzB4MWJkMmRmPV8weDU3YTdjNVsnSFRNTEVsZW1lbnQnXVsncHJvdG90eXBlJ11bXzB4NTYyNTBiKDB4ZjQpXVtfMHg1NjI1MGIoMHgxMDQpXSh0aGlzLF8weDI5YjQxNyxfMHgxYzIxOTUpO3RyeXtmb3IodmFyIF8weDNiOTZkYT0weDA7XzB4M2I5NmRhPF8weDI5YjQxN1tfMHg1NjI1MGIoMHhmZCldWydsZW5ndGgnXTtfMHgzYjk2ZGErKyknSUZSQU1FJz09PV8weDI5YjQxN1tfMHg1NjI1MGIoMHhmZCldW18weDNiOTZkYV1bXzB4NTYyNTBiKDB4MTE3KV0mJihfMHgyOWI0MTdbJ2NoaWxkcmVuJ11bXzB4M2I5NmRhXVsnY29udGVudFdpbmRvdyddfHxfMHgyOWI0MTdbXzB4NTYyNTBiKDB4ZmQpXVtfMHgzYjk2ZGFdW18weDU2MjUwYigweDEyNildKF8weDU2MjUwYigweDEwZSksZnVuY3Rpb24oKXt2YXIgXzB4ZDMxOThiPV8weDU2MjUwYjt0aGlzW18weGQzMTk4YigweGY2KV1bXzB4ZDMxOThiKDB4MTA5KV09XzB4MWVlMjdmLHRoaXNbJ2NvbnRlbnRXaW5kb3cnXVtfMHhkMzE5OGIoMHgxMDkpXVtfMHhkMzE5OGIoMHgxMDQpXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1tfMHhkMzE5OGIoMHhmNildKTt9KSxfMHgyOWI0MTdbXzB4NTYyNTBiKDB4ZmQpXVtfMHgzYjk2ZGFdWydjb250ZW50V2luZG93J11bXzB4NTYyNTBiKDB4MTA5KV09XzB4MWVlMjdmLF8weDI5YjQxN1snY2hpbGRyZW4nXVtfMHgzYjk2ZGFdW18weDU2MjUwYigweGY2KV1bXzB4NTYyNTBiKDB4MTA5KV1bJ2NhbGwnXSh0aGlzLF8weDI5YjQxN1tfMHg1NjI1MGIoMHhmZCldW18weDNiOTZkYV1bJ2NvbnRlbnRXaW5kb3cnXSkpOydJRlJBTUUnPT09XzB4MjliNDE3W18weDU2MjUwYigweDExNyldJiYoXzB4MjliNDE3W18weDU2MjUwYigweGY2KV18fF8weDI5YjQxN1tfMHg1NjI1MGIoMHgxMjYpXSgnbG9hZCcsZnVuY3Rpb24oKXt2YXIgXzB4M2UwNWFmPV8weDU2MjUwYjt0aGlzWydjb250ZW50V2luZG93J11bXzB4M2UwNWFmKDB4MTA5KV09XzB4MWVlMjdmLHRoaXNbXzB4M2UwNWFmKDB4ZjYpXVsnd3JhcElmcmFtZSddWydjYWxsJ10odGhpc1snY29udGVudFdpbmRvdyddLHRoaXNbXzB4M2UwNWFmKDB4ZjYpXSk7fSksXzB4MjliNDE3W18weDU2MjUwYigweGY2KV1bXzB4NTYyNTBiKDB4MTA5KV09XzB4MWVlMjdmLF8weDI5YjQxN1tfMHg1NjI1MGIoMHhmNildWyd3cmFwSWZyYW1lJ11bJ2NhbGwnXSh0aGlzLF8weDI5YjQxN1tfMHg1NjI1MGIoMHhmNildKSk7fWNhdGNoKF8weDE0ZDI1OSl7fXJldHVybiBfMHgxYmQyZGY7fSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bJ3dyaXRlTyddPV8weDU3YTdjNVsnZG9jdW1lbnQnXVtfMHg0Y2Q4YTkoMHgxMTYpXSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bXzB4NGNkOGE5KDB4MTE2KV09ZnVuY3Rpb24oXzB4MmI0NWJiKXt2YXIgXzB4MTc4MTBlPV8weDRjZDhhOTt0cnl7aWYoXzB4MmI0NWJiJiYvZGF0YVwtZGNtXC1yZW5kZXJpbmdcLW1vZGVccz89XHM/WyciXWlmcmFtZVsnIl0vW18weDE3ODEwZSgweDEwZCldKF8weDJiNDViYikpe3ZhciBfMHg1YTg4MTY9XzB4MmI0NWJiW18weDE3ODEwZSgweDEyYildKC9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS8pLF8weDRmMWYzMT1fMHg1YTg4MTZbMHgwXVtfMHgxNzgxMGUoMHgxMTMpXShfMHgxNzgxMGUoMHgxMDYpLF8weDE3ODEwZSgweDExMikpO18weDJiNDViYj1fMHgyYjQ1YmJbXzB4MTc4MTBlKDB4MTEzKV0oXzB4NWE4ODE2LF8weDRmMWYzMSk7fWlmKF8weDJiNDViYiYmL3tbXntdK3JlbmRlckFzOiBcXHgyN0JBQ0tVUF9JTUFHRVxceDI3W159XSt9L1tfMHgxNzgxMGUoMHgxMGQpXShfMHgyYjQ1YmIpKXt2YXIgXzB4NDk2MWExPV8weDJiNDViYltfMHgxNzgxMGUoMHgxMmIpXSgve1tee10rcmVuZGVyQXM6IFxceDI3QkFDS1VQX0lNQUdFXFx4MjdbXn1dK30vKVsweDBdLF8weDJjZDE1ZT0vKFsuXFNcc10rcHJpbWFyeUZpbGVzOiApKFxbW15cW10rcmVuZGVyQXM6IFxceDI3QkFDS1VQX0lNQUdFXFx4MjdbXlxdXStcXSkoWy5cU1xzXSspL2c7XzB4MmI0NWJiPV8weDJiNDViYltfMHgxNzgxMGUoMHgxMTMpXShfMHgyY2QxNWUsXzB4MTc4MTBlKDB4MTAzKStfMHg0OTYxYTErXzB4MTc4MTBlKDB4MTJhKSk7fV8weDJiNDViYiYmXzB4MmI0NWJiWydpbmRleE9mJ10oXzB4MTc4MTBlKDB4ZjEpKT4tMHgxJiYoXzB4MmI0NWJiPV8weDJiNDViYlsncmVwbGFjZSddKF8weDE3ODEwZSgweGYxKSxfMHgxNzgxMGUoMHgxMjQpKSk7fWNhdGNoKF8weDI5NTI1Nil7fV8weDU3YTdjNVtfMHgxNzgxMGUoMHgxMTEpXVtfMHgxNzgxMGUoMHgxMWEpXVtfMHgxNzgxMGUoMHgxMDQpXSh0aGlzLF8weDJiNDViYik7fSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4ZmMpXT12b2lkIDB4MCxfMHg1N2E3YzVbJ2ViQ2ZnX18nXT12b2lkIDB4MCxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4ZmEpXShfMHg0Y2Q4YTkoMHhmYyksZnVuY3Rpb24oXzB4NDZmNTZhKXt2YXIgXzB4NDNkZTYwPV8weDRjZDhhOTtyZXR1cm4gXzB4NTdhN2M1W18weDQzZGU2MCgweDEwMCldO30pLF8weDU3YTdjNVtfMHg0Y2Q4YTkoMHhlNildKCdlYkNmZycsZnVuY3Rpb24oXzB4MTRiMWEyKXt2YXIgXzB4NGRhMjJmPV8weDRjZDhhOTtyZXR1cm4gXzB4MTRiMWEyW18weDRkYTIyZigweGU3KV09JycsXzB4NTdhN2M1W18weDRkYTIyZigweDEwMCldPV8weDE0YjFhMjt9KSxPYmplY3RbXzB4NGNkOGE5KDB4ZmUpXVtfMHg0Y2Q4YTkoMHhlNildKF8weDRjZDhhOSgweGZmKSxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiEweDE7fTt9KSxfMHg0NTg0Y2Y9ZnVuY3Rpb24oXzB4Mzc5ZTU0LF8weDJjMDA2OCl7dmFyIF8weDFjNjU5Nj1fMHg0Y2Q4YTk7XzB4NTdhN2M1W18weDFjNjU5NigweGVmKV1bXzB4MWM2NTk2KDB4MTI4KV0oXzB4NTdhN2M1WydPYmplY3QnXVtfMHgxYzY1OTYoMHhmZSldLF8weDM3OWU1NCx7J2dldCc6ZnVuY3Rpb24oKXt2YXIgXzB4NTIzNGU2PV8weDFjNjU5NjtyZXR1cm4gdGhpc1tfMHg1MjM0ZTYoMHgxMTQpK18weDM3OWU1NF07fSwnc2V0JzpmdW5jdGlvbihfMHg1MWUwMGIpe3ZhciBfMHhjN2MwNTA9XzB4MWM2NTk2O18weDUxZTAwYj1fMHgyYzAwNjgodGhpcyxfMHg1MWUwMGIpLF8weDU3YTdjNVtfMHhjN2MwNTAoMHhlZildW18weGM3YzA1MCgweDEyOCldKHRoaXMsXzB4Mzc5ZTU0LHsnZ2V0JzpmdW5jdGlvbigpe3JldHVybiB0aGlzWydfX18nK18weDM3OWU1NF07fSwnc2V0JzpmdW5jdGlvbihfMHgyZjQzNDMpe3ZhciBfMHgxYmQ1ZmY9XzB4YzdjMDUwO18weDJmNDM0Mz1fMHgyYzAwNjgodGhpcyxfMHgyZjQzNDMpLHRoaXNbXzB4MWJkNWZmKDB4MTE0KStfMHgzNzllNTRdPV8weDJmNDM0Mzt9LCdlbnVtZXJhYmxlJzohMHgwfSk7dmFyIF8weDQ1N2IyOD1fMHg1MWUwMGI7XzB4NTdhN2M1W18weGM3YzA1MCgweGVmKV1bXzB4YzdjMDUwKDB4MTI4KV0odGhpcyxfMHhjN2MwNTAoMHgxMTQpK18weDM3OWU1NCx7J2dldCc6ZnVuY3Rpb24oKXtyZXR1cm4gXzB4NDU3YjI4O30sJ3NldCc6ZnVuY3Rpb24oXzB4MjVmNGFjKXtfMHg0NTdiMjg9XzB4MjVmNGFjPV8weDJjMDA2OCh0aGlzLF8weDI1ZjRhYyk7fSwnZW51bWVyYWJsZSc6ITB4MX0pO30sJ2VudW1lcmFibGUnOiEweDEsJ2NvbmZpZ3VyYWJsZSc6ITB4MX0pO30sXzB4NDU4NGNmKF8weDRjZDhhOSgweDEwMiksZnVuY3Rpb24oXzB4MjQ5NTBkLF8weGZkMzQ1Nil7dmFyIF8weDEzNTAxMz1fMHg0Y2Q4YTk7cmV0dXJuIF8weDEzNTAxMygweGViKT09PXR5cGVvZiBfMHgyNDk1MGQmJl8weDI0OTUwZFtfMHgxMzUwMTMoMHgxMjIpXShfMHgxMzUwMTMoMHhmZikpJiYoXzB4MjQ5NTBkW18weDEzNTAxMygweGZmKV09ZnVuY3Rpb24oKXtyZXR1cm4hMHgxO30pLF8weGZkMzQ1Njt9KSxfMHg0NTg0Y2YoJ2lzJyxmdW5jdGlvbihfMHg0YmUyYjQsXzB4NWQ3ZDY1KXt2YXIgXzB4Mzg1ZWM4PV8weDRjZDhhOTtyZXR1cm4nb2JqZWN0Jz09PXR5cGVvZiBfMHg0YmUyYjQmJl8weDRiZTJiNFtfMHgzODVlYzgoMHgxMjIpXShfMHgzODVlYzgoMHhmZikpJiYoXzB4NGJlMmI0WydzdXBwb3J0ZWRCcm93c2VyJ109ZnVuY3Rpb24oKXtyZXR1cm4hMHgxO30pLF8weDVkN2Q2NTt9KTt2YXIgXzB4NTAyMmQ1PXZvaWQgMHgwO18weDQ1ODRjZihfMHg0Y2Q4YTkoMHhmNyksZnVuY3Rpb24oXzB4MjUzNDI2LF8weDMwMjc1Yyl7cmV0dXJuIF8weDUwMjJkNT1fMHgzMDI3NWM7fSksXzB4NTdhN2M1W18weDRjZDhhOSgweDExNSldPXZvaWQgMHgwLF8weDU3YTdjNVtfMHg0Y2Q4YTkoMHhmYSldKF8weDRjZDhhOSgweDExNSksZnVuY3Rpb24oKXt2YXIgXzB4M2Y4NWU2PV8weDRjZDhhOTtyZXR1cm4gdGhpc1tfMHgzZjg1ZTYoMHhmMyldO30pLF8weDU3YTdjNVtfMHg0Y2Q4YTkoMHhlNildKCdhZExvYWRlcicsZnVuY3Rpb24oXzB4MjdjMmUyKXt2YXIgXzB4NDdjNWU0PV8weDRjZDhhOTtyZXR1cm4gdGhpc1tfMHg0N2M1ZTQoMHhmMyldPWZ1bmN0aW9uKCl7dmFyIF8weDRmOWI5OD1fMHg0N2M1ZTQsXzB4M2NjNWM4PWFyZ3VtZW50czstMHgxPF8weDNjYzVjOFsweDNdW18weDRmOWI5OCgweDEyMCldKF8weDRmOWI5OCgweDExOSkpJiZfMHg0ZjliOTgoMHgxMDEpPT09dHlwZW9mIF8weDUwMjJkNSYmKF8weDNjYzVjOFsweDNdPV8weDRmOWI5OCgweGY5KStfMHg1MDIyZDVbXzB4NGY5Yjk4KDB4MTEzKV0oLycvZywnaScpKydceDI3JyksXzB4MjdjMmUyW18weDRmOWI5OCgweDEwYSldKHRoaXMsXzB4M2NjNWM4KTt9LF8weDI3YzJlMjt9KTt9fTtfMHgxZWUyN2Yod2luZG93KTt9KCkpKTs=')) } catch (err) {}"}},143:(e,t,n)=>{"use strict";n.d(t,{VP:()=>r,k$:()=>o,Im:()=>a});var i="static.btloader.com",r="https://".concat(i,"/safeFrame.html?upapi=true"),o=!0,a={acceptableURLParam:"upapi=true",timeout:3e3,refreshTimeout:3e3,staticDomain:i,whitelistingIFrameSettings:{url:r,isOurOriginWhitelistingIFrame:o,publisherDomainWhitelistingIFrameCandidatesSrcs:["/robots.txt","/ads.txt"]},minTimeBetweenRefreshes:3e4,amazonBidderConfiguration:{enabled:!1,keepHbPb:!1},recoveryScriptVersion:"2.9.128-2-g3b6a2e0"}},228:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>prebidLoader});var _services__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(614),_shared__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(868),prebidLoader=new function(){var subscriptionLayer=new _services__WEBPACK_IMPORTED_MODULE_0__.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){subscriptionLayer.subscribeForEvent(e,t)};var initPbjs=function initPbjs(){var prebidjsCode="LyogcHJlYmlkLmpzIHY1LjIwLjIKVXBkYXRlZCA6IDIwMjItMDItMTQqLwohZnVuY3Rpb24oZSl7dmFyIHQ9d2luZG93LnVwYmpzQ2h1bms7d2luZG93LnVwYmpzQ2h1bms9ZnVuY3Rpb24obixvLGEpe2Zvcih2YXIgYyx1LHMsZD0wLGY9W107ZDxuLmxlbmd0aDtkKyspdT1uW2RdLHJbdV0mJmYucHVzaChyW3VdWzBdKSxyW3VdPTA7Zm9yKGMgaW4gbylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobyxjKSYmKGVbY109b1tjXSk7Zm9yKHQmJnQobixvLGEpO2YubGVuZ3RoOylmLnNoaWZ0KCkoKTtpZihhKWZvcihkPTA7ZDxhLmxlbmd0aDtkKyspcz1pKGkucz1hW2RdKTtyZXR1cm4gc307dmFyIG49e30scj17MzgwOjB9O2Z1bmN0aW9uIGkodCl7aWYoblt0XSlyZXR1cm4gblt0XS5leHBvcnRzO3ZhciByPW5bdF09e2k6dCxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3RdLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLGkpLHIubD0hMCxyLmV4cG9ydHN9aS5tPWUsaS5jPW4saS5kPWZ1bmN0aW9uKGUsdCxuKXtpLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Om59KX0saS5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBpLmQodCwiYSIsdCksdH0saS5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxpLnA9IiIsaS5vZT1mdW5jdGlvbihlKXt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9LGkoaS5zPTk1MSl9KHswOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJpbnRlcm5hbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSksdC5nZXRQcmViaWRJbnRlcm5hbD1mdW5jdGlvbigpe3JldHVybiBSfSxuLmQodCwiYmluZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSksdC5nZXRVbmlxdWVJZGVudGlmaWVyU3RyPUQsdC5nZW5lcmF0ZVVVSUQ9ayx0LmdldEJpZElkUGFyYW1ldGVyPWZ1bmN0aW9uKGUsdCl7aWYodCYmdFtlXSlyZXR1cm4gdFtlXTtyZXR1cm4iIn0sdC50cnlBcHBlbmRRdWVyeVN0cmluZz1mdW5jdGlvbihlLHQsbil7aWYobilyZXR1cm4gZSt0KyI9IitlbmNvZGVVUklDb21wb25lbnQobikrIiYiO3JldHVybiBlfSx0LnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PSIiO2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0Kz1uKyI9IitlbmNvZGVVUklDb21wb25lbnQoZVtuXSkrIiYiKTtyZXR1cm4gdD10LnJlcGxhY2UoLyYkLywiIil9LHQudHJhbnNmb3JtQWRTZXJ2ZXJUYXJnZXRpbmdPYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aD4wP3NlKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGRlKGUsdCkpKX0pKS5qb2luKCImIik6IiJ9LHQuZ2V0QWRVbml0U2l6ZXM9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO3ZhciB0PVtdO2lmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmQXJyYXkuaXNBcnJheShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKSl7dmFyIG49ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcztBcnJheS5pc0FycmF5KG5bMF0pP3Q9bjp0LnB1c2gobil9ZWxzZSBBcnJheS5pc0FycmF5KGUuc2l6ZXMpJiYoQXJyYXkuaXNBcnJheShlLnNpemVzWzBdKT90PWUuc2l6ZXM6dC5wdXNoKGUuc2l6ZXMpKTtyZXR1cm4gdH0sdC5wYXJzZVNpemVzSW5wdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgbj1lLnNwbGl0KCIsIikscj0vXihcZCkreChcZCkrJC9pO2lmKG4pZm9yKHZhciBpIGluIG4pdGUobixpKSYmbltpXS5tYXRjaChyKSYmdC5wdXNoKG5baV0pfWVsc2UgaWYoIm9iamVjdCI9PT1tKGUpKXt2YXIgbz1lLmxlbmd0aDtpZihvPjApaWYoMj09PW8mJiJudW1iZXIiPT10eXBlb2YgZVswXSYmIm51bWJlciI9PXR5cGVvZiBlWzFdKXQucHVzaChOKGUpKTtlbHNlIGZvcih2YXIgYT0wO2E8bzthKyspdC5wdXNoKE4oZVthXSkpfXJldHVybiB0fSx0LnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5PU4sdC5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZT1mdW5jdGlvbihlKXtpZihQKGUpKXJldHVybnt3OmVbMF0saDplWzFdfX0sdC5nZXRXaW5kb3dUb3A9cSx0LmdldFdpbmRvd1NlbGY9TSx0LmdldFdpbmRvd0xvY2F0aW9uPUcsdC5sb2dNZXNzYWdlPUwsdC5sb2dJbmZvPVcsdC5sb2dXYXJuPUYsdC5sb2dFcnJvcj16LHQuaGFzQ29uc29sZUxvZ2dlcj1mdW5jdGlvbigpe3JldHVybiBFfSx0LmRlYnVnVHVybmVkT249SCx0LmNyZWF0ZUludmlzaWJsZUlmcmFtZT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3JldHVybiBlLmlkPUQoKSxlLmhlaWdodD0wLGUud2lkdGg9MCxlLmJvcmRlcj0iMHB4IixlLmhzcGFjZT0iMCIsZS52c3BhY2U9IjAiLGUubWFyZ2luV2lkdGg9IjAiLGUubWFyZ2luSGVpZ2h0PSIwIixlLnN0eWxlLmJvcmRlcj0iMCIsZS5zY3JvbGxpbmc9Im5vIixlLmZyYW1lQm9yZGVyPSIwIixlLnNyYz0iYWJvdXQ6YmxhbmsiLGUuc3R5bGUuZGlzcGxheT0ibm9uZSIsZX0sdC5nZXRQYXJhbWV0ZXJCeU5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGplKEcoKS5zZWFyY2gpW2VdfHwiIn0sdC5pc0E9Syx0LmlzRm49Six0LmlzU3RyPVksdC5pc0FycmF5PVEsdC5pc051bWJlcj0kLHQuaXNQbGFpbk9iamVjdD1YLHQuaXNCb29sZWFuPWZ1bmN0aW9uKGUpe3JldHVybiBLKGUsIkJvb2xlYW4iKX0sdC5pc0VtcHR5PVosdC5pc0VtcHR5U3RyPWZ1bmN0aW9uKGUpe3JldHVybiBZKGUpJiYoIWV8fDA9PT1lLmxlbmd0aCl9LHQuX2VhY2g9ZWUsdC5jb250YWlucz1mdW5jdGlvbihlLHQpe2lmKFooZSkpcmV0dXJuITE7aWYoSihlLmluZGV4T2YpKXJldHVybi0xIT09ZS5pbmRleE9mKHQpO3ZhciBuPWUubGVuZ3RoO2Zvcig7bi0tOylpZihlW25dPT09dClyZXR1cm4hMDtyZXR1cm4hMX0sdC5fbWFwPWZ1bmN0aW9uKGUsdCl7aWYoWihlKSlyZXR1cm5bXTtpZihKKGUubWFwKSlyZXR1cm4gZS5tYXAodCk7dmFyIG49W107cmV0dXJuIGVlKGUsKGZ1bmN0aW9uKHIsaSl7bi5wdXNoKHQocixpLGUpKX0pKSxufSx0Lmhhc093bj10ZSx0Lmluc2VydEVsZW1lbnQ9bmUsdC50cmlnZ2VyUGl4ZWw9cmUsdC5jYWxsQnVybD1mdW5jdGlvbihlKXt2YXIgdD1lLnNvdXJjZSxuPWUuYnVybDt0PT09Ty5TMlMuU1JDJiZuJiZDLnRyaWdnZXJQaXhlbChuKX0sdC5pbnNlcnRIdG1sSW50b0lmcmFtZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm47dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7dC5pZD1EKCksdC53aWR0aD0wLHQuaGVpZ2h0PTAsdC5oc3BhY2U9IjAiLHQudnNwYWNlPSIwIix0Lm1hcmdpbldpZHRoPSIwIix0Lm1hcmdpbkhlaWdodD0iMCIsdC5zdHlsZS5kaXNwbGF5PSJub25lIix0LnN0eWxlLmhlaWdodD0iMHB4Iix0LnN0eWxlLndpZHRoPSIwcHgiLHQuc2Nyb2xsaW5nPSJubyIsdC5mcmFtZUJvcmRlcj0iMCIsdC5hbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSIsQy5pbnNlcnRFbGVtZW50KHQsZG9jdW1lbnQsImJvZHkiKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQub3BlbigpLHQuY29udGVudFdpbmRvdy5kb2N1bWVudC53cml0ZShlKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuY2xvc2UoKX0sdC5pbnNlcnRVc2VyU3luY0lmcmFtZT1pZSx0LmNyZWF0ZVRyYWNrUGl4ZWxIdG1sPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiIiO2U9ZC5jKGUpO3ZhciB0PWVuY29kZVVSSShlKSxuPSc8ZGl2IHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjBweDt0b3A6MHB4O3Zpc2liaWxpdHk6aGlkZGVuOyI+JztyZXR1cm4gbis9JzxpbWcgc3JjPSInK3QrJyI+PC9kaXY+J30sdC5jcmVhdGVUcmFja1BpeGVsSWZyYW1lSHRtbD1vZSx0LmdldFZhbHVlU3RyaW5nPWFlLHQudW5pcXVlcz1jZSx0LmZsYXR0ZW49dWUsdC5nZXRCaWRSZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO3ZhciBuO3JldHVybiB0LnNvbWUoKGZ1bmN0aW9uKHQpe3ZhciByPWMoKSh0LmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVyblsiYmlkSWQiLCJhZElkIiwiYmlkX2lkIl0uc29tZSgoZnVuY3Rpb24obil7cmV0dXJuIHRbbl09PT1lfSkpfSkpO3JldHVybiByJiYobj1yKSxyfSkpLG59LHQuZ2V0S2V5cz1zZSx0LmdldFZhbHVlPWRlLHQuZ2V0S2V5QnlWYWx1ZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikmJmVbbl09PT10KXJldHVybiBufSx0LmdldEJpZGRlckNvZGVzPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnVwYmpzLmFkVW5pdHM7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpLnJlZHVjZSh1ZSxbXSl9KSkucmVkdWNlKHVlKS5maWx0ZXIoY2UpfSx0LmlzR3B0UHViYWRzRGVmaW5lZD1mZSx0LmlzQXBuR2V0VGFnRGVmaW5lZD1mdW5jdGlvbigpe2lmKHdpbmRvdy5hcG50YWcmJkood2luZG93LmFwbnRhZy5nZXRUYWcpKXJldHVybiEwfSxuLmQodCwiZ2V0SGlnaGVzdENwbSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxlfSkpLG4uZCh0LCJnZXRPbGRlc3RIaWdoZXN0Q3BtQmlkIiwoZnVuY3Rpb24oKXtyZXR1cm4gcGV9KSksbi5kKHQsImdldExhdGVzdEhpZ2hlc3RDcG1CaWQiLChmdW5jdGlvbigpe3JldHVybiBnZX0pKSx0LnNodWZmbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7Zm9yKDt0PjA7KXt2YXIgbj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdCk7dC0tO3ZhciByPWVbdF07ZVt0XT1lW25dLGVbbl09cn1yZXR1cm4gZX0sdC5hZFVuaXRzRmlsdGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoKShlLHQmJnQuYWRVbml0Q29kZSl9LHQuZGVlcENsb25lPXZlLHQuaW5JZnJhbWU9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEMuZ2V0V2luZG93U2VsZigpIT09Qy5nZXRXaW5kb3dUb3AoKX1jYXRjaChlKXtyZXR1cm4hMH19LHQuaXNTYWZhcmlCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuL14oKD8hY2hyb21lfGFuZHJvaWR8Y3Jpb3N8Znhpb3MpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0sdC5yZXBsYWNlQXVjdGlvblByaWNlPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO3JldHVybiBlLnJlcGxhY2UoL1wkXHtBVUNUSU9OX1BSSUNFXH0vZyx0KX0sdC5yZXBsYWNlQ2xpY2tUaHJvdWdoPWZ1bmN0aW9uKGUsdCl7aWYoIWV8fCF0fHwic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuO3JldHVybiBlLnJlcGxhY2UoL1wke0NMSUNLVEhST1VHSH0vZyx0KX0sdC50aW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sdC5nZXRQZXJmb3JtYW5jZU5vdz1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3cmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKXx8MH0sdC5oYXNEZXZpY2VBY2Nlc3M9ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PXIuYi5nZXRDb25maWcoImRldmljZUFjY2VzcyIpfSx0LmNoZWNrQ29va2llU3VwcG9ydD15ZSx0LmRlbGF5RXhlY3V0aW9uPWZ1bmN0aW9uKGUsdCl7aWYodDwxKXRocm93IG5ldyBFcnJvcigibnVtUmVxdWlyZWRDYWxscyBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLiBHb3QgIi5jb25jYXQodCkpO3ZhciBuPTA7cmV0dXJuIGZ1bmN0aW9uKCl7KytuPT09dCYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSx0Lmdyb3VwQnk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuKGVbblt0XV09ZVtuW3RdXXx8W10pLnB1c2gobiksZX0pLHt9KX0sdC5nZXREZWZpbmVkUGFyYW1zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGgodCx5KHt9LG4sZVtuXSkpfSkse30pfSx0LmlzVmFsaWRNZWRpYVR5cGVzPWZ1bmN0aW9uKGUpe3ZhciB0PVsiYmFubmVyIiwibmF0aXZlIiwidmlkZW8iXTtpZighT2JqZWN0LmtleXMoZSkuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBzKCkodCxlKX0pKSlyZXR1cm4hMTtpZihlLnZpZGVvJiZlLnZpZGVvLmNvbnRleHQpcmV0dXJuIHMoKShbImluc3RyZWFtIiwib3V0c3RyZWFtIiwiYWRwb2QiXSxlLnZpZGVvLmNvbnRleHQpO3JldHVybiEwfSx0LmdldEJpZGRlclJlcXVlc3Q9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBjKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PXQmJighbnx8ZS5hZFVuaXRDb2RlPT09bil9KSkubGVuZ3RoPjB9KSl8fHtzdGFydDpudWxsLGF1Y3Rpb25JZDpudWxsfX0sdC5nZXRVc2VyQ29uZmlndXJlZFBhcmFtcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb2RlPT09dH0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHN9KSkucmVkdWNlKHVlLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PW59KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXN8fHt9fSkpfSx0LmdldE9yaWdpbj1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24ub3JpZ2luP3dpbmRvdy5sb2NhdGlvbi5vcmlnaW46d2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKyh3aW5kb3cubG9jYXRpb24ucG9ydD8iOiIrd2luZG93LmxvY2F0aW9uLnBvcnQ6IiIpfSx0LmdldEROVD1mdW5jdGlvbigpe3JldHVybiIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT13aW5kb3cuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob3RUcmFja3x8InllcyI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja30sdC5pc0FkVW5pdENvZGVNYXRjaGluZ1Nsb3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBoZShlLHQpfX0sdC5pc1Nsb3RNYXRjaGluZ0FkVW5pdENvZGU9bWUsdC5nZXRHcHRTbG90SW5mb0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7dmFyIHQ7ZmUoKSYmKHQ9YygpKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKSxtZShlKSkpO2lmKHQpcmV0dXJue2dwdFNsb3Q6dC5nZXRBZFVuaXRQYXRoKCksZGl2SWQ6dC5nZXRTbG90RWxlbWVudElkKCl9O3JldHVybnt9fSx0LnVuc3VwcG9ydGVkQmlkZGVyTWVzc2FnZT1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUubWVkaWFUeXBlc3x8e2Jhbm5lcjoiYmFubmVyIn0pLmpvaW4oIiwgIik7cmV0dXJuIlxuICAgICIuY29uY2F0KGUuY29kZSwiIGlzIGEgIikuY29uY2F0KG4sIiBhZCB1bml0XG4gICAgY29udGFpbmluZyBiaWRkZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCAiKS5jb25jYXQobiwiOiAiKS5jb25jYXQodCwiLlxuICAgIFRoaXMgYmlkZGVyIHdvbid0IGZldGNoIGRlbWFuZC5cbiAgIil9LHQuaXNJbnRlZ2VyPU9lLHQuY29udmVydENhbWVsVG9VbmRlcnNjb3JlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyg/Ol58XC4/KShbQS1aXSkvZywoZnVuY3Rpb24oZSx0KXtyZXR1cm4iXyIrdC50b0xvd2VyQ2FzZSgpfSkpLnJlcGxhY2UoL15fLywiIil9LHQuY2xlYW5PYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLnJlZHVjZSgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwIT09ZVtuXSYmKHRbbl09ZVtuXSksdH0pLHt9KX0sdC5waWNrPWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPT1tKGUpKXJldHVybnt9O3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24obixyLGkpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByKXJldHVybiBuO3ZhciBvPXIsYT1yLm1hdGNoKC9eKC4rPylcc2FzXHMoLis/KSQvaSk7YSYmKHI9YVsxXSxvPWFbMl0pO3ZhciBjPWVbcl07cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRbaSsxXSYmKGM9dFtpKzFdKGMsbikpLHZvaWQgMCE9PWMmJihuW29dPWMpLG59KSx7fSl9LHQudHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3Jkcz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ImtleXdvcmRzIixuPVtdO3JldHVybiBlZShlLChmdW5jdGlvbihlLHIpe2lmKFEoZSkpe3ZhciBpPVtdO2VlKGUsKGZ1bmN0aW9uKGUpeygoZT1hZSh0KyIuIityLGUpKXx8IiI9PT1lKSYmaS5wdXNoKGUpfSkpLGU9aX1lbHNle2lmKCFZKGU9YWUodCsiLiIrcixlKSkpcmV0dXJuO2U9W2VdfW4ucHVzaCh7a2V5OnIsdmFsdWU6ZX0pfSkpLG59LHQuY29udmVydFR5cGVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByLGk7dFtuXSYmKEooZVtuXSk/dFtuXT1lW25dKHRbbl0pOnRbbl09KHI9ZVtuXSxpPXRbbl0sInN0cmluZyI9PT1yP2kmJmkudG9TdHJpbmcoKToibnVtYmVyIj09PXI/TnVtYmVyKGkpOmkpLGlzTmFOKHRbbl0pJiZkZWxldGUgdC5rZXkpfSkpLHR9LHQuaXNBcnJheU9mTnVtcz1mdW5jdGlvbihlLHQpe3JldHVybiBRKGUpJiYoIXR8fGUubGVuZ3RoPT09dCkmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPZShlKX0pKX0sdC5maWxsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPHQ7cisrKXt2YXIgaT1YKGUpP3ZlKGUpOmU7bi5wdXNoKGkpfXJldHVybiBufSx0LmNodW5rPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPE1hdGguY2VpbChlLmxlbmd0aC90KTtyKyspe3ZhciBpPXIqdCxvPWkrdDtuLnB1c2goZS5zbGljZShpLG8pKX1yZXR1cm4gbn0sdC5nZXRNaW5WYWx1ZUZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCxnKGUpKX0sdC5nZXRNYXhWYWx1ZUZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxnKGUpKX0sdC5jb21wYXJlT249ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIHRbZV08bltlXT8xOnRbZV0+bltlXT8tMTowfX0sdC5wYXJzZVFTPWplLHQuZm9ybWF0UVM9U2UsdC5wYXJzZVVybD1mdW5jdGlvbihlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTt0JiYibm9EZWNvZGVXaG9sZVVSTCJpbiB0JiZ0Lm5vRGVjb2RlV2hvbGVVUkw/bi5ocmVmPWU6bi5ocmVmPWRlY29kZVVSSUNvbXBvbmVudChlKTt2YXIgcj10JiYiZGVjb2RlU2VhcmNoQXNTdHJpbmciaW4gdCYmdC5kZWNvZGVTZWFyY2hBc1N0cmluZztyZXR1cm57aHJlZjpuLmhyZWYscHJvdG9jb2w6KG4ucHJvdG9jb2x8fCIiKS5yZXBsYWNlKC86JC8sIiIpLGhvc3RuYW1lOm4uaG9zdG5hbWUscG9ydDorbi5wb3J0LHBhdGhuYW1lOm4ucGF0aG5hbWUucmVwbGFjZSgvXig/IVwvKS8sIi8iKSxzZWFyY2g6cj9uLnNlYXJjaDpDLnBhcnNlUVMobi5zZWFyY2h8fCIiKSxoYXNoOihuLmhhc2h8fCIiKS5yZXBsYWNlKC9eIy8sIiIpLGhvc3Q6bi5ob3N0fHx3aW5kb3cubG9jYXRpb24uaG9zdH19LHQuYnVpbGRVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuKGUucHJvdG9jb2x8fCJodHRwIikrIjovLyIrKGUuaG9zdHx8ZS5ob3N0bmFtZSsoZS5wb3J0PyI6Ii5jb25jYXQoZS5wb3J0KToiIikpKyhlLnBhdGhuYW1lfHwiIikrKGUuc2VhcmNoPyI/Ii5jb25jYXQoQy5mb3JtYXRRUyhlLnNlYXJjaHx8IiIpKToiIikrKGUuaGFzaD8iIyIuY29uY2F0KGUuaGFzaCk6IiIpfSx0LmRlZXBFcXVhbD1FZSx0Lm1lcmdlRGVlcD1mdW5jdGlvbiBlKHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4+MT9uLTE6MCksaT0xO2k8bjtpKyspcltpLTFdPWFyZ3VtZW50c1tpXTtpZighci5sZW5ndGgpcmV0dXJuIHQ7dmFyIG89ci5zaGlmdCgpO2lmKFgodCkmJlgobykpZm9yKHZhciBhIGluIG8pWChvW2FdKT8odFthXXx8aCh0LHkoe30sYSx7fSkpLGUodFthXSxvW2FdKSk6UShvW2FdKSYmdFthXT9RKHRbYV0pJiYodFthXT10W2FdLmNvbmNhdChvW2FdKSk6aCh0LHkoe30sYSxvW2FdKSk7cmV0dXJuIGUuYXBwbHkodm9pZCAwLFt0XS5jb25jYXQocikpfSx0LmN5cmI1M0hhc2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAscj1mdW5jdGlvbihlLHQpe2lmKEooTWF0aC5pbXVsKSlyZXR1cm4gTWF0aC5pbXVsKGUsdCk7dmFyIG49KDQxOTQzMDMmZSkqKHR8PTApO3JldHVybiA0MjkwNzcyOTkyJmUmJihuKz0oNDI5MDc3Mjk5MiZlKSp0fDApLDB8bn0saT0zNzM1OTI4NTU5Xm4sbz0xMTAzNTQ3OTkxXm4sYT0wO2E8ZS5sZW5ndGg7YSsrKXQ9ZS5jaGFyQ29kZUF0KGEpLGk9cihpXnQsMjY1NDQzNTc2MSksbz1yKG9edCwxNTk3MzM0Njc3KTtyZXR1cm4gaT1yKGleaT4+PjE2LDIyNDY4MjI1MDcpXnIob15vPj4+MTMsMzI2NjQ4OTkwOSksKDQyOTQ5NjcyOTYqKDIwOTcxNTEmKG89cihvXm8+Pj4xNiwyMjQ2ODIyNTA3KV5yKGleaT4+PjEzLDMyNjY0ODk5MDkpKSkrKGk+Pj4wKSkudG9TdHJpbmcoKX07dmFyIHI9bigzKSxpPW4oMTY4KSxvPW4ubihpKSxhPW4oMTEpLGM9bi5uKGEpLHU9bigxMikscz1uLm4odSksZD1uKDQ3KSxmPW4oMTY5KTtuLmQodCwiZGVlcEFjY2VzcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGYuYX0pKTt2YXIgbD1uKDE3MCk7ZnVuY3Rpb24gcChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGIoZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHYoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxiKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGIoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHYoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT92KGUsdCk6dm9pZCAwfX1mdW5jdGlvbiB2KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24geShlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gaCgpe3JldHVybihoPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbShlKXtyZXR1cm4obT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfW4uZCh0LCJkZWVwU2V0VmFsdWUiLChmdW5jdGlvbigpe3JldHVybiBsLmF9KSk7dmFyIE89big1KSxqPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsUz1Cb29sZWFuKHdpbmRvdy5jb25zb2xlKSxFPUJvb2xlYW4oUyYmd2luZG93LmNvbnNvbGUubG9nKSxBPUJvb2xlYW4oUyYmd2luZG93LmNvbnNvbGUuaW5mbyksVD1Cb29sZWFuKFMmJndpbmRvdy5jb25zb2xlLndhcm4pLEk9Qm9vbGVhbihTJiZ3aW5kb3cuY29uc29sZS5lcnJvciksdz1uKDEwKSxDPXtjaGVja0Nvb2tpZVN1cHBvcnQ6eWUsY3JlYXRlVHJhY2tQaXhlbElmcmFtZUh0bWw6b2UsZ2V0V2luZG93U2VsZjpNLGdldFdpbmRvd1RvcDpxLGdldFdpbmRvd0xvY2F0aW9uOkcsaW5zZXJ0VXNlclN5bmNJZnJhbWU6aWUsaW5zZXJ0RWxlbWVudDpuZSxpc0ZuOkosdHJpZ2dlclBpeGVsOnJlLGxvZ0Vycm9yOnosbG9nV2FybjpGLGxvZ01lc3NhZ2U6TCxsb2dJbmZvOlcscGFyc2VRUzpqZSxmb3JtYXRRUzpTZSxkZWVwRXF1YWw6RWV9LFI9e307dmFyIF8sVT17fSxCPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9LmJpbmQobnVsbCwxLFUpKCk9PT1VP0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxuLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9fSx4PShfPTAsZnVuY3Rpb24oKXtyZXR1cm4rK199KTtmdW5jdGlvbiBEKCl7cmV0dXJuIHgoKStNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMil9ZnVuY3Rpb24gayhlKXtyZXR1cm4gZT8oZV4od2luZG93JiZ3aW5kb3cuY3J5cHRvJiZ3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcz9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSUxNjoxNipNYXRoLnJhbmRvbSgpKT4+ZS80KS50b1N0cmluZygxNik6KFsxZTddKy0xZTMrLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLGspfWZ1bmN0aW9uIE4oZSl7aWYoUChlKSlyZXR1cm4gZVswXSsieCIrZVsxXX1mdW5jdGlvbiBQKGUpe3JldHVybiBRKGUpJiYyPT09ZS5sZW5ndGgmJiFpc05hTihlWzBdKSYmIWlzTmFOKGVbMV0pfWZ1bmN0aW9uIHEoKXtyZXR1cm4gd2luZG93LnRvcH1mdW5jdGlvbiBNKCl7cmV0dXJuIHdpbmRvdy5zZWxmfWZ1bmN0aW9uIEcoKXtyZXR1cm4gd2luZG93LmxvY2F0aW9ufWZ1bmN0aW9uIEwoKXtIKCkmJkUmJmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsVihhcmd1bWVudHMsIk1FU1NBR0U6IikpfWZ1bmN0aW9uIFcoKXtIKCkmJkEmJmNvbnNvbGUuaW5mby5hcHBseShjb25zb2xlLFYoYXJndW1lbnRzLCJJTkZPOiIpKX1mdW5jdGlvbiBGKCl7SCgpJiZUJiZjb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSxWKGFyZ3VtZW50cywiV0FSTklORzoiKSksdy5lbWl0KE8uRVZFTlRTLkFVQ1RJT05fREVCVUcse3R5cGU6IldBUk5JTkciLGFyZ3VtZW50czphcmd1bWVudHN9KX1mdW5jdGlvbiB6KCl7SCgpJiZJJiZjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsVihhcmd1bWVudHMsIkVSUk9SOiIpKSx3LmVtaXQoTy5FVkVOVFMuQVVDVElPTl9ERUJVRyx7dHlwZToiRVJST1IiLGFyZ3VtZW50czphcmd1bWVudHN9KX1mdW5jdGlvbiBWKGUsdCl7ZT1bXS5zbGljZS5jYWxsKGUpO3ZhciBuPXIuYi5nZXRDdXJyZW50QmlkZGVyKCk7cmV0dXJuIHQmJmUudW5zaGlmdCh0KSxuJiZlLnVuc2hpZnQoaSgiI2FhYSIpKSxlLnVuc2hpZnQoaSgiIzNiODhjMyIpKSxlLnVuc2hpZnQoIiVjUHJlYmlkIisobj8iJWMiLmNvbmNhdChuKToiIikpLGU7ZnVuY3Rpb24gaShlKXtyZXR1cm4iZGlzcGxheTogaW5saW5lLWJsb2NrOyBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZDogIi5jb25jYXQoZSwiOyBwYWRkaW5nOiAxcHggNHB4OyBib3JkZXItcmFkaXVzOiAzcHg7Iil9fWZ1bmN0aW9uIEgoKXtyZXR1cm4hIXIuYi5nZXRDb25maWcoImRlYnVnIil9ZnVuY3Rpb24gSyhlLHQpe3JldHVybiBqLmNhbGwoZSk9PT0iW29iamVjdCAiK3QrIl0ifWZ1bmN0aW9uIEooZSl7cmV0dXJuIEsoZSwiRnVuY3Rpb24iKX1mdW5jdGlvbiBZKGUpe3JldHVybiBLKGUsIlN0cmluZyIpfWZ1bmN0aW9uIFEoZSl7cmV0dXJuIEsoZSwiQXJyYXkiKX1mdW5jdGlvbiAkKGUpe3JldHVybiBLKGUsIk51bWJlciIpfWZ1bmN0aW9uIFgoZSl7cmV0dXJuIEsoZSwiT2JqZWN0Iil9ZnVuY3Rpb24gWihlKXtpZighZSlyZXR1cm4hMDtpZihRKGUpfHxZKGUpKXJldHVybiEoZS5sZW5ndGg+MCk7Zm9yKHZhciB0IGluIGUpaWYoaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGVlKGUsdCl7aWYoIVooZSkpe2lmKEooZS5mb3JFYWNoKSlyZXR1cm4gZS5mb3JFYWNoKHQsdGhpcyk7dmFyIG49MCxyPWUubGVuZ3RoO2lmKHI+MClmb3IoO248cjtuKyspdChlW25dLG4sZSk7ZWxzZSBmb3IobiBpbiBlKWhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5jYWxsKHRoaXMsZVtuXSxuKX19ZnVuY3Rpb24gdGUoZSx0KXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eT9lLmhhc093blByb3BlcnR5KHQpOnZvaWQgMCE9PWVbdF0mJmUuY29uc3RydWN0b3IucHJvdG90eXBlW3RdIT09ZVt0XX1mdW5jdGlvbiBuZShlLHQsbixyKXt2YXIgaTtlJiZlLnNyYyYmKGUuc3JjPWQuYyhlLnNyYykpLHQ9dHx8ZG9jdW1lbnQsaT1uP3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUobik6dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpO3RyeXtpZigoaT1pLmxlbmd0aD9pOnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKSkubGVuZ3RoKXtpPWlbMF07dmFyIG89cj9udWxsOmkuZmlyc3RDaGlsZDtyZXR1cm4gaS5pbnNlcnRCZWZvcmUoZSxvKX19Y2F0Y2goZSl7fX1mdW5jdGlvbiByZShlLHQpe3ZhciBuPWsoKSxyPXtldmVudDoidXNlci1zeW5jIixtZXRhOntmaXJlZDohMCx1aWQ6bn19O2QuZShudWxsLCJ0cmlnZ2VyaW5nLXBpeGVsLWZpcmVkIixbXSxyKSxkLmEoKS50aGVuKChmdW5jdGlvbihyKXt2YXIgaT1yLmZyYW1lO2lmKHIuaXNCVFNhZmVGcmFtZURvbWFpbil7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLChmdW5jdGlvbiBlKG4pe2lmKG4uc291cmNlPT09aS5jb250ZW50V2luZG93KXt2YXIgcjt0cnl7cj1KU09OLnBhcnNlKG4uZGF0YSl9Y2F0Y2goZSl7fXImJiJkb25lVHJpZ2dlcmluZ1BpeGVsIj09ci50eXBlJiYod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGUpLHQmJkMuaXNGbih0KSYmdCgpKX19KSk7dmFyIG89ImxldCBpbWcgPSBuZXcgSW1hZ2UoKTsgZnVuY3Rpb24gZG9uZSgpIHsgdG9wLnBvc3RNZXNzYWdlKHsgdHlwZTogXCJkb25lVHJpZ2dlcmluZ1BpeGVsXCIgfSwgXCIqXCIpIH07IGltZy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZG9uZSk7IGltZy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGRvbmUpOyBpbWcuc3JjID0gYXRvYignIitidG9hKGUpKyInKTsiO2kuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7dHlwZToiZXZhbCIsY29kZTpvfSwiKiIpO3ZhciBhPXtldmVudDoidXNlci1zeW5jIixtZXRhOntzdWNjZXNzOiEwLHVpZDpufX07ZC5lKG51bGwsInRyaWdnZXJpbmctcGl4ZWwtc3VjY2VzcyIsW10sYSl9ZWxzZXt2YXIgYz1uZXcgaS5jb250ZW50V2luZG93LkltYWdlO3QmJkMuaXNGbih0KSYmKGMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsdCksYy5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsdCkpLGMuc3JjPWV9fSkpfWZ1bmN0aW9uIGllKGUsdCl7dmFyIG49Qy5jcmVhdGVUcmFja1BpeGVsSWZyYW1lSHRtbChlLCExLCJhbGxvdy1zY3JpcHRzIGFsbG93LXNhbWUtb3JpZ2luIikscj1rKCksaT17ZXZlbnQ6InVzZXItc3luYyIsbWV0YTp7ZmlyZWQ6ITAsdWlkOnJ9fTtkLmUobnVsbCwiaW5zZXJ0LXVzZXItc3luYy1pZnJhbWUtZmlyZWQiLFtdLGkpLGQuYSgpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBpPWUuZnJhbWU7aWYoZS5pc0JUU2FmZUZyYW1lRG9tYWluKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uIGUobil7aWYobi5zb3VyY2U9PT1pLmNvbnRlbnRXaW5kb3cpe3ZhciByO3RyeXtyPUpTT04ucGFyc2Uobi5kYXRhKX1jYXRjaChlKXt9ciYmImRvbmVUcmlnZ2VyaW5nUGl4ZWwiPT1yLnR5cGUmJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZSksdCYmQy5pc0ZuKHQpJiZ0KCkpfX0pKTt2YXIgbz0ibGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyBkaXYuaW5uZXJIVE1MID0gYXRvYignIitidG9hKG4pKyInKTsgbGV0IGlmcmFtZSA9IGRpdi5maXJzdENoaWxkOyBmdW5jdGlvbiBkb25lKCkgeyB0b3AucG9zdE1lc3NhZ2UoeyB0eXBlOiBcImRvbmVUcmlnZ2VyaW5nUGl4ZWxcIiB9LCBcIipcIikgfTsgaWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBkb25lKTsgaWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZG9uZSk7IHRyeSB7IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdodG1sJylbMF0uaW5zZXJ0QmVmb3JlKGlmcmFtZSwgbnVsbCk7IH0gY2F0Y2ggKGVycikgeyB9IjtpLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe3R5cGU6ImV2YWwiLGNvZGU6b30sIioiKTt2YXIgYT17ZXZlbnQ6InVzZXItc3luYyIsbWV0YTp7c3VjY2VzczohMCx1aWQ6cn19O2QuZShudWxsLCJpbnNlcnQtdXNlci1zeW5jLWlmcmFtZS1zdWNjZXNzIixbXSxhKX1lbHNle3ZhciBjPWkuY29udGVudFdpbmRvdy5kb2N1bWVudCx1PWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7dS5pbm5lckhUTUw9bjt2YXIgcz11LmZpcnN0Q2hpbGQ7dCYmQy5pc0ZuKHQpJiYocy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix0KSxzLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIix0KSksQy5pbnNlcnRFbGVtZW50KHMsYywiaHRtbCIsITApfX0pKX1mdW5jdGlvbiBvZShlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOiIiO3JldHVybiBlPyh0JiYoZT1lbmNvZGVVUkkoZSkpLG4mJihuPSdzYW5kYm94PSInLmNvbmNhdChuLCciJykpLCI8aWZyYW1lICIuY29uY2F0KG4sJyBpZD0iJykuY29uY2F0KEQoKSwnIlxuICAgICAgZnJhbWVib3JkZXI9IjAiXG4gICAgICBhbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSJcbiAgICAgIG1hcmdpbmhlaWdodD0iMCIgbWFyZ2lud2lkdGg9IjAiXG4gICAgICB3aWR0aD0iMCIgaHNwYWNlPSIwIiB2c3BhY2U9IjAiIGhlaWdodD0iMCJcbiAgICAgIHN0eWxlPSJoZWlnaHQ6MHB4O3dpZHRoOjBweDtkaXNwbGF5Om5vbmU7IlxuICAgICAgc2Nyb2xsaW5nPSJubyJcbiAgICAgIHNyYz0iJykuY29uY2F0KGUsJyI+XG4gICAgPC9pZnJhbWU+JykpOiIifWZ1bmN0aW9uIGFlKGUsdCxuKXtyZXR1cm4gbnVsbD09dD9uOlkodCk/dDokKHQpP3QudG9TdHJpbmcoKTp2b2lkIEMubG9nV2FybigiVW5zdXBvcnRlZCB0eXBlIGZvciBwYXJhbTogIitlKyIgcmVxdWlyZWQgdHlwZTogU3RyaW5nIil9ZnVuY3Rpb24gY2UoZSx0LG4pe3JldHVybiBuLmluZGV4T2YoZSk9PT10fWZ1bmN0aW9uIHVlKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfWZ1bmN0aW9uIHNlKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKX1mdW5jdGlvbiBkZShlLHQpe3JldHVybiBlW3RdfWZ1bmN0aW9uIGZlKCl7aWYod2luZG93Lmdvb2dsZXRhZyYmSih3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcykmJkood2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cykpcmV0dXJuITB9dmFyIGxlPWJlKCJ0aW1lVG9SZXNwb25kIiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT50fSkpLHBlPWJlKCJyZXNwb25zZVRpbWVzdGFtcCIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+dH0pKSxnZT1iZSgicmVzcG9uc2VUaW1lc3RhbXAiLChmdW5jdGlvbihlLHQpe3JldHVybiBlPHR9KSk7ZnVuY3Rpb24gYmUoZSx0KXtyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gbi5jcG09PT1yLmNwbT90KG5bZV0scltlXSk/cjpuOm4uY3BtPHIuY3BtP3I6bn19ZnVuY3Rpb24gdmUoZSl7cmV0dXJuIG8oKShlKX1mdW5jdGlvbiB5ZSgpe2lmKHdpbmRvdy5uYXZpZ2F0b3IuY29va2llRW5hYmxlZHx8ZG9jdW1lbnQuY29va2llLmxlbmd0aClyZXR1cm4hMH12YXIgaGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5nZXRBZFVuaXRQYXRoKCk9PT10fHxlLmdldFNsb3RFbGVtZW50SWQoKT09PXR9O2Z1bmN0aW9uIG1lKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gaGUodCxlKX19ZnVuY3Rpb24gT2UoZSl7cmV0dXJuIE51bWJlci5pc0ludGVnZXI/TnVtYmVyLmlzSW50ZWdlcihlKToibnVtYmVyIj09dHlwZW9mIGUmJmlzRmluaXRlKGUpJiZNYXRoLmZsb29yKGUpPT09ZX1mdW5jdGlvbiBqZShlKXtyZXR1cm4gZT9lLnJlcGxhY2UoL15cPy8sIiIpLnNwbGl0KCImIikucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPXAodC5zcGxpdCgiPSIpLDIpLHI9blswXSxpPW5bMV07cmV0dXJuL1xbXF0kLy50ZXN0KHIpPyhlW3I9ci5yZXBsYWNlKCJbXSIsIiIpXT1lW3JdfHxbXSxlW3JdLnB1c2goaSkpOmVbcl09aXx8IiIsZX0pLHt9KTp7fX1mdW5jdGlvbiBTZShlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShlW3RdKT9lW3RdLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KHQsIltdPSIpLmNvbmNhdChlKX0pKS5qb2luKCImIik6IiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZVt0XSl9KSkuam9pbigiJiIpfWZ1bmN0aW9uIEVlKGUsdCl7aWYoZT09PXQpcmV0dXJuITA7aWYoIm9iamVjdCI9PT1tKGUpJiZudWxsIT09ZSYmIm9iamVjdCI9PT1tKHQpJiZudWxsIT09dCl7aWYoT2JqZWN0LmtleXMoZSkubGVuZ3RoIT09T2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbiBpbiBlKXtpZighdC5oYXNPd25Qcm9wZXJ0eShuKSlyZXR1cm4hMTtpZighRWUoZVtuXSx0W25dKSlyZXR1cm4hMX1yZXR1cm4hMH1yZXR1cm4hMX19LDE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsInN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiBUfSkpLHQucmVnaXN0ZXJCaWRkZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9QXJyYXkuaXNBcnJheShlLnN1cHBvcnRlZE1lZGlhVHlwZXMpP3tzdXBwb3J0ZWRNZWRpYVR5cGVzOmUuc3VwcG9ydGVkTWVkaWFUeXBlc306dm9pZCAwO2Z1bmN0aW9uIG4oZSl7dmFyIG49dyhlKTtpLmRlZmF1bHQucmVnaXN0ZXJCaWRBZGFwdGVyKG4sZS5jb2RlLHQpfW4oZSksQXJyYXkuaXNBcnJheShlLmFsaWFzZXMpJiZlLmFsaWFzZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHIsbyxhPXQ7T2JqZWN0KHkuaXNQbGFpbk9iamVjdCkodCkmJihhPXQuY29kZSxyPXQuZ3ZsaWQsbz10LnNraXBQYnNBbGlhc2luZyksaS5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbYV09ZS5jb2RlLG4oQSh7fSxlLHtjb2RlOmEsZ3ZsaWQ6cixza2lwUGJzQWxpYXNpbmc6b30pKX0pKX0sdC5uZXdCaWRkZXI9dyxuLmQodCwicmVnaXN0ZXJTeW5jSW5uZXIiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLHQucHJlbG9hZEJpZGRlck1hcHBpbmdGaWxlPVIsdC5nZXRJYWJTdWJDYXRlZ29yeT1mdW5jdGlvbihlLHQpe3ZhciBuPWkuZGVmYXVsdC5nZXRCaWRBZGFwdGVyKGUpO2lmKG4uZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbyl7dmFyIHI9bi5nZXRTcGVjKCkuZ2V0TWFwcGluZ0ZpbGVJbmZvKCksbz1yLmxvY2FsU3RvcmFnZUtleT9yLmxvY2FsU3RvcmFnZUtleTpuLmdldEJpZGRlckNvZGUoKSxhPVQuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2Uobyk7aWYoYSl7dHJ5e2E9SlNPTi5wYXJzZShhKX1jYXRjaCh0KXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdChlLCIgbWFwcGluZyBkYXRhIHN0b3JlZCBpbiBsb2NhbCBzdG9yYWdlIikpfXJldHVybiBhLm1hcHBpbmdbdF0/YS5tYXBwaW5nW3RdOm51bGx9fX0sdC5pc1ZhbGlkPV87dmFyIHI9big4MyksaT1uKDgpLG89bigzKSxhPW4oNDMpLGM9big2MSksdT1uKDM4KSxzPW4oMjIpLGQ9big1KSxmPW4ubihkKSxsPW4oMTApLHA9bi5uKGwpLGc9bigxMiksYj1uLm4oZyksdj1uKDQpLHk9bigwKSxoPW4oMiksbT1uKDkpLE89big3KTtmdW5jdGlvbiBqKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsaSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEoYT0ocj1uLm5leHQoKSkuZG9uZSkmJihvLnB1c2goci52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBTKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBTKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBTKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gRShlKXtyZXR1cm4oRT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIEEoKXtyZXR1cm4oQT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBUPU9iamVjdChPLmEpKCJiaWRkZXJGYWN0b3J5IiksST1bInJlcXVlc3RJZCIsImNwbSIsInR0bCIsImNyZWF0aXZlSWQiLCJuZXRSZXZlbnVlIiwiY3VycmVuY3kiXTtmdW5jdGlvbiB3KGUpe3JldHVybiBBKG5ldyByLmEoZS5jb2RlKSx7Z2V0U3BlYzpmdW5jdGlvbigpe3JldHVybiBPYmplY3QuZnJlZXplKGUpfSxyZWdpc3RlclN5bmNzOnQsY2FsbEJpZHM6ZnVuY3Rpb24ocixjLHUscyxkLGwpe2lmKEFycmF5LmlzQXJyYXkoci5iaWRzKSl7dmFyIGc9e30sYj1bXSx2PXIuYmlkcy5maWx0ZXIobik7aWYoMCE9PXYubGVuZ3RoKXt2YXIgaD17fTt2LmZvckVhY2goKGZ1bmN0aW9uKGUpe2hbZS5iaWRJZF09ZSxlLmFkVW5pdENvZGV8fChlLmFkVW5pdENvZGU9ZS5wbGFjZW1lbnRDb2RlKX0pKTt2YXIgbT1lLmJ1aWxkUmVxdWVzdHModixyKTtpZihtJiYwIT09bS5sZW5ndGgpe0FycmF5LmlzQXJyYXkobSl8fChtPVttXSk7dmFyIE89T2JqZWN0KHkuZGVsYXlFeGVjdXRpb24pKGwoaiksbS5sZW5ndGgpO20uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHAuYS5lbWl0KGYuYS5FVkVOVFMuQkVGT1JFX0JJRERFUl9IVFRQLHIpfSkpLG0uZm9yRWFjaCgoZnVuY3Rpb24odCl7c3dpdGNoKHQubWV0aG9kKXtjYXNlIkdFVCI6cygiIi5jb25jYXQodC51cmwpLmNvbmNhdChmdW5jdGlvbihlKXtpZihlKXJldHVybiI/Ii5jb25jYXQoIm9iamVjdCI9PT1FKGUpP09iamVjdCh5LnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzKShlKTplKTtyZXR1cm4iIn0odC5kYXRhKSkse3N1Y2Nlc3M6bChuKSxlcnJvcjpvfSx2b2lkIDAsQSh7bWV0aG9kOiJHRVQiLHdpdGhDcmVkZW50aWFsczohMH0sdC5vcHRpb25zKSk7YnJlYWs7Y2FzZSJQT1NUIjpzKHQudXJsLHtzdWNjZXNzOmwobiksZXJyb3I6b30sInN0cmluZyI9PXR5cGVvZiB0LmRhdGE/dC5kYXRhOkpTT04uc3RyaW5naWZ5KHQuZGF0YSksQSh7bWV0aG9kOiJQT1NUIixjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfSx0Lm9wdGlvbnMpKTticmVhaztkZWZhdWx0Ok9iamVjdCh5LmxvZ1dhcm4pKCJTa2lwcGluZyBpbnZhbGlkIHJlcXVlc3QgZnJvbSAiLmNvbmNhdChlLmNvZGUsIi4gUmVxdWVzdCB0eXBlICIpLmNvbmNhdCh0LnR5cGUsIiBtdXN0IGJlIEdFVCBvciBQT1NUIikpLE8oKX1mdW5jdGlvbiBuKG4saSl7ZChlLmNvZGUpO3RyeXtuPUpTT04ucGFyc2Uobil9Y2F0Y2goZSl7fXZhciBvO249e2JvZHk6bixoZWFkZXJzOntnZXQ6aS5nZXRSZXNwb25zZUhlYWRlci5iaW5kKGkpfX0sYi5wdXNoKG4pO3RyeXtvPWUuaW50ZXJwcmV0UmVzcG9uc2Uobix0KX1jYXRjaCh0KXtyZXR1cm4gT2JqZWN0KHkubG9nRXJyb3IpKCJCaWRkZXIgIi5jb25jYXQoZS5jb2RlLCIgZmFpbGVkIHRvIGludGVycHJldCB0aGUgc2VydmVyJ3MgcmVzcG9uc2UuIENvbnRpbnVpbmcgd2l0aG91dCBiaWRzIiksbnVsbCx0KSx2b2lkIE8oKX1mdW5jdGlvbiB1KHQpe3ZhciBuPWhbdC5yZXF1ZXN0SWRdO2lmKG4pe3Qub3JpZ2luYWxDcG09dC5jcG0sdC5vcmlnaW5hbEN1cnJlbmN5PXQuY3VycmVuY3ksdC5tZXRhPXQubWV0YXx8QSh7fSx0W24uYmlkZGVyXSk7dmFyIGk9QShPYmplY3QoYS5hKShmLmEuU1RBVFVTLkdPT0QsbiksdCk7IWZ1bmN0aW9uKGUsdCl7Z1tlXT0hMCxfKGUsdCxbcl0pJiZjKGUsdCl9KG4uYWRVbml0Q29kZSxpKX1lbHNlIE9iamVjdCh5LmxvZ1dhcm4pKCJCaWRkZXIgIi5jb25jYXQoZS5jb2RlLCIgbWFkZSBiaWQgZm9yIHVua25vd24gcmVxdWVzdCBJRDogIikuY29uY2F0KHQucmVxdWVzdElkLCIuIElnbm9yaW5nLiIpKX1vJiYoT2JqZWN0KHkuaXNBcnJheSkobyk/by5mb3JFYWNoKHUpOnUobykpLE8obyl9ZnVuY3Rpb24gbyh0LG4pe2QoZS5jb2RlKSxpLmRlZmF1bHQuY2FsbEJpZGRlckVycm9yKGUuY29kZSxuLHIpLHAuYS5lbWl0KGYuYS5FVkVOVFMuQklEREVSX0VSUk9SLHtlcnJvcjpuLGJpZGRlclJlcXVlc3Q6cn0pLE9iamVjdCh5LmxvZ0Vycm9yKSgiU2VydmVyIGNhbGwgZm9yICIuY29uY2F0KGUuY29kZSwiIGZhaWxlZDogIikuY29uY2F0KHQsIiAiKS5jb25jYXQobi5zdGF0dXMsIi4gQ29udGludWluZyB3aXRob3V0IGJpZHMuIikpLE8oKX19KSl9ZWxzZSBqKCl9ZWxzZSBqKCl9ZnVuY3Rpb24gaigpe3UoKSxvLmIucnVuV2l0aEJpZGRlcihlLmNvZGUsKGZ1bmN0aW9uKCl7cC5hLmVtaXQoZi5hLkVWRU5UUy5CSURERVJfRE9ORSxyKSx0KGIsci5nZHByQ29uc2VudCxyLnVzcENvbnNlbnQpfSkpfX19KTtmdW5jdGlvbiB0KHQsbixyKXtDKGUsdCxuLHIpfWZ1bmN0aW9uIG4odCl7cmV0dXJuISFlLmlzQmlkUmVxdWVzdFZhbGlkKHQpfHwoT2JqZWN0KHkubG9nV2FybikoIkludmFsaWQgYmlkIHNlbnQgdG8gYmlkZGVyICIuY29uY2F0KGUuY29kZSwiOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpKSwhMSl9fXZhciBDPU9iamVjdChtLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBhPW8uYi5nZXRDb25maWcoInVzZXJTeW5jLmFsaWFzU3luY0VuYWJsZWQiKTtpZihlLmdldFVzZXJTeW5jcyYmKGF8fCFpLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlLmNvZGVdKSl7dmFyIHU9by5iLmdldENvbmZpZygidXNlclN5bmMuZmlsdGVyU2V0dGluZ3MiKSxzPWUuZ2V0VXNlclN5bmNzKHtpZnJhbWVFbmFibGVkOiEoIXV8fCF1LmlmcmFtZSYmIXUuYWxsKSxwaXhlbEVuYWJsZWQ6ISghdXx8IXUuaW1hZ2UmJiF1LmFsbCl9LHQsbixyKTtzJiYoQXJyYXkuaXNBcnJheShzKXx8KHM9W3NdKSxzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2MuYS5yZWdpc3RlclN5bmModC50eXBlLGUuY29kZSx0LnVybCl9KSkpfX0pLCJyZWdpc3RlclN5bmNzIik7ZnVuY3Rpb24gUihlLHQpe2lmKCFvLmIuZ2V0Q29uZmlnKCJhZHBvZC5icmFuZENhdGVnb3J5RXhjbHVzaW9uIikpcmV0dXJuIGUuY2FsbCh0aGlzLHQpO3QuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik9PT1oLmF9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpfSkpLnJlZHVjZSh5LmZsYXR0ZW4sW10pLmZpbHRlcih5LnVuaXF1ZXMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWkuZGVmYXVsdC5nZXRCaWRBZGFwdGVyKGUpO2lmKHQuZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbyl7dmFyIG49dC5nZXRTcGVjKCkuZ2V0TWFwcGluZ0ZpbGVJbmZvKCkscj1uLnJlZnJlc2hJbkRheXM/bi5yZWZyZXNoSW5EYXlzOjEsbz1uLmxvY2FsU3RvcmFnZUtleT9uLmxvY2FsU3RvcmFnZUtleTp0LmdldFNwZWMoKS5jb2RlLGE9VC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShvKTt0cnl7KCEoYT1hP0pTT04ucGFyc2UoYSk6dm9pZCAwKXx8T2JqZWN0KHkudGltZXN0YW1wKSgpPmEubGFzdFVwZGF0ZWQrMjQqcio2MCo2MCoxZTMpJiZPYmplY3Qodi5hKShuLnVybCx7c3VjY2VzczpmdW5jdGlvbih0KXt0cnl7dD1KU09OLnBhcnNlKHQpO3ZhciBuPXtsYXN0VXBkYXRlZDpPYmplY3QoeS50aW1lc3RhbXApKCksbWFwcGluZzp0Lm1hcHBpbmd9O1Quc2V0RGF0YUluTG9jYWxTdG9yYWdlKG8sSlNPTi5zdHJpbmdpZnkobikpfWNhdGNoKHQpe09iamVjdCh5LmxvZ0Vycm9yKSgiRmFpbGVkIHRvIHBhcnNlICIuY29uY2F0KGUsIiBiaWRkZXIgdHJhbnNsYXRpb24gbWFwcGluZyBmaWxlIikpfX0sZXJyb3I6ZnVuY3Rpb24oKXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBsb2FkICIuY29uY2F0KGUsIiBiaWRkZXIgdHJhbnNsYXRpb24gZmlsZSIpKX19KX1jYXRjaCh0KXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdChlLCIgYmlkZGVyIHRyYW5zbGF0aW9uIG1hcHBpbmcgZmlsZSIpKX19fSkpLGUuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIF8oZSx0LG4pe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIkludmFsaWQgYmlkIGZyb20gIi5jb25jYXQodC5iaWRkZXJDb2RlLCIuIElnbm9yaW5nIGJpZDogIikuY29uY2F0KGUpfXJldHVybiBlP3Q/KGk9T2JqZWN0LmtleXModCksSS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoKShpLGUpJiYhYigpKFt2b2lkIDAsbnVsbF0sdFtlXSl9KSk/Im5hdGl2ZSIhPT10Lm1lZGlhVHlwZXx8T2JqZWN0KHUuZykodCxuKT8idmlkZW8iIT09dC5tZWRpYVR5cGV8fE9iamVjdChzLmQpKHQsbik/ISgiYmFubmVyIj09PXQubWVkaWFUeXBlJiYhZnVuY3Rpb24oZSx0LG4pe2lmKCh0LndpZHRofHwwPT09cGFyc2VJbnQodC53aWR0aCwxMCkpJiYodC5oZWlnaHR8fDA9PT1wYXJzZUludCh0LmhlaWdodCwxMCkpKXJldHVybiB0LndpZHRoPXBhcnNlSW50KHQud2lkdGgsMTApLHQuaGVpZ2h0PXBhcnNlSW50KHQuaGVpZ2h0LDEwKSwhMDt2YXIgcj1PYmplY3QoeS5nZXRCaWRkZXJSZXF1ZXN0KShuLHQuYmlkZGVyQ29kZSxlKSxpPXImJnIuYmlkcyYmci5iaWRzWzBdJiZyLmJpZHNbMF0uc2l6ZXMsbz1PYmplY3QoeS5wYXJzZVNpemVzSW5wdXQpKGkpO2lmKDE9PT1vLmxlbmd0aCl7dmFyIGE9aihvWzBdLnNwbGl0KCJ4IiksMiksYz1hWzBdLHU9YVsxXTtyZXR1cm4gdC53aWR0aD1wYXJzZUludChjLDEwKSx0LmhlaWdodD1wYXJzZUludCh1LDEwKSwhMH1yZXR1cm4hMX0oZSx0LG4pKXx8KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJCYW5uZXIgYmlkcyByZXF1aXJlIGEgd2lkdGggYW5kIGhlaWdodCIpKSwhMSk6KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJWaWRlbyBiaWQgZG9lcyBub3QgaGF2ZSByZXF1aXJlZCB2YXN0VXJsIG9yIHJlbmRlcmVyIHByb3BlcnR5IikpLCExKTooT2JqZWN0KHkubG9nRXJyb3IpKHIoIk5hdGl2ZSBiaWQgbWlzc2luZyBzb21lIHJlcXVpcmVkIHByb3BlcnRpZXMuIikpLCExKTooT2JqZWN0KHkubG9nRXJyb3IpKHIoIkJpZGRlciAiLmNvbmNhdCh0LmJpZGRlckNvZGUsIiBpcyBtaXNzaW5nIHJlcXVpcmVkIHBhcmFtcy4gQ2hlY2sgaHR0cDovL3ByZWJpZC5vcmcvZGV2LWRvY3MvYmlkZGVyLWFkYXB0ZXItMS5odG1sIGZvciBsaXN0IG9mIHBhcmFtcy4iKSkpLCExKSk6KE9iamVjdCh5LmxvZ1dhcm4pKCJTb21lIGFkYXB0ZXIgdHJpZWQgdG8gYWRkIGFuIHVuZGVmaW5lZCBiaWQgZm9yICIuY29uY2F0KGUsIi4iKSksITEpOihPYmplY3QoeS5sb2dXYXJuKSgiTm8gYWRVbml0Q29kZSB3YXMgc3VwcGxpZWQgdG8gYWRkQmlkUmVzcG9uc2UuIiksITEpO3ZhciBpfU9iamVjdChtLmEpKCJjaGVja0FkVW5pdFNldHVwIikuYmVmb3JlKFIpfSwxMDpmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe3JldHVybihyPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGk9bigwKSxvPW4oNSksYT1BcnJheS5wcm90b3R5cGUuc2xpY2UsYz1BcnJheS5wcm90b3R5cGUucHVzaCx1PWkuX21hcChvLkVWRU5UUywoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkscz1vLkVWRU5UX0lEX1BBVEhTLGQ9W107ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGU9e30sdD17fTtmdW5jdGlvbiBuKHQsbil7aS5sb2dNZXNzYWdlKCJFbWl0dGluZyBldmVudCBmb3I6ICIrdCk7dmFyIHI9blswXXx8e30sbz1yW3NbdF1dLGE9ZVt0XXx8e3F1ZTpbXX0sdT1pLl9tYXAoYSwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0pKSxmPVtdO2QucHVzaCh7ZXZlbnRUeXBlOnQsYXJnczpyLGlkOm8sZWxhcHNlZFRpbWU6aS5nZXRQZXJmb3JtYW5jZU5vdygpfSksbyYmaS5jb250YWlucyh1LG8pJiZjLmFwcGx5KGYsYVtvXS5xdWUpLGMuYXBwbHkoZixhLnF1ZSksaS5fZWFjaChmLChmdW5jdGlvbihlKXtpZihlKXRyeXtlLmFwcGx5KG51bGwsbil9Y2F0Y2goZSl7aS5sb2dFcnJvcigiRXJyb3IgZXhlY3V0aW5nIGhhbmRsZXI6IiwiZXZlbnRzLmpzIixlKX19KSl9cmV0dXJuIHQub249ZnVuY3Rpb24odCxuLHIpe2lmKGZ1bmN0aW9uKGUpe3JldHVybiBpLmNvbnRhaW5zKHUsZSl9KHQpKXt2YXIgbz1lW3RdfHx7cXVlOltdfTtyPyhvW3JdPW9bcl18fHtxdWU6W119LG9bcl0ucXVlLnB1c2gobikpOm8ucXVlLnB1c2gobiksZVt0XT1vfWVsc2UgaS5sb2dFcnJvcigiV3JvbmcgZXZlbnQgbmFtZSA6ICIrdCsiIFZhbGlkIGV2ZW50IG5hbWVzIDoiK3UpfSx0LmVtaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YS5jYWxsKGFyZ3VtZW50cywxKTtuKGUsdCl9LHQub2ZmPWZ1bmN0aW9uKHQsbixyKXt2YXIgbz1lW3RdO2kuaXNFbXB0eShvKXx8aS5pc0VtcHR5KG8ucXVlKSYmaS5pc0VtcHR5KG9bcl0pfHxyJiYoaS5pc0VtcHR5KG9bcl0pfHxpLmlzRW1wdHkob1tyXS5xdWUpKXx8KHI/aS5fZWFjaChvW3JdLnF1ZSwoZnVuY3Rpb24oZSl7dmFyIHQ9b1tyXS5xdWU7ZT09PW4mJnQuc3BsaWNlKHQuaW5kZXhPZihlKSwxKX0pKTppLl9lYWNoKG8ucXVlLChmdW5jdGlvbihlKXt2YXIgdD1vLnF1ZTtlPT09biYmdC5zcGxpY2UodC5pbmRleE9mKGUpLDEpfSkpLGVbdF09byl9LHQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHQuZ2V0RXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGkuX2VhY2goZCwoZnVuY3Rpb24odCl7dmFyIG49cih7fSx0KTtlLnB1c2gobil9KSksZX0sdH0oKX0sMTAwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1MCksaT1uKDU1KSxvPW4oNDEpLGE9big0NiksYz1uKDczKSx1PSJBcnJheSBJdGVyYXRvciIscz1hLnNldCxkPWEuZ2V0dGVyRm9yKHUpO2UuZXhwb3J0cz1jKEFycmF5LCJBcnJheSIsKGZ1bmN0aW9uKGUsdCl7cyh0aGlzLHt0eXBlOnUsdGFyZ2V0OnIoZSksaW5kZXg6MCxraW5kOnR9KX0pLChmdW5jdGlvbigpe3ZhciBlPWQodGhpcyksdD1lLnRhcmdldCxuPWUua2luZCxyPWUuaW5kZXgrKztyZXR1cm4hdHx8cj49dC5sZW5ndGg/KGUudGFyZ2V0PXZvaWQgMCx7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KToia2V5cyI9PW4/e3ZhbHVlOnIsZG9uZTohMX06InZhbHVlcyI9PW4/e3ZhbHVlOnRbcl0sZG9uZTohMX06e3ZhbHVlOltyLHRbcl1dLGRvbmU6ITF9fSksInZhbHVlcyIpLG8uQXJndW1lbnRzPW8uQXJyYXksaSgia2V5cyIpLGkoInZhbHVlcyIpLGkoImVudHJpZXMiKX0sMTAxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCl7aWYoZS5sYWJlbEFsbClyZXR1cm57bGFiZWxBbGw6ITAsbGFiZWxzOmUubGFiZWxBbGwsYWN0aXZlTGFiZWxzOnR9O3JldHVybntsYWJlbEFsbDohMSxsYWJlbHM6ZS5sYWJlbEFueSxhY3RpdmVMYWJlbHM6dH19LHQuYz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dSxuPXModCk7aWYoIW4uc2hvdWxkRmlsdGVyKXJldHVybiEwO3JldHVybiEhbi5zaXplc1N1cHBvcnRlZFtlXX0sdC5iPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5sYWJlbHMsbj12b2lkIDA9PT10P1tdOnQscj1lLmxhYmVsQWxsLG89dm9pZCAwIT09ciYmcixjPWUuYWN0aXZlTGFiZWxzLGQ9dm9pZCAwPT09Yz9bXTpjLGY9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbD1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxwPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp1LGc9cyhwKTtmPU9iamVjdChpLmlzUGxhaW5PYmplY3QpKGYpP09iamVjdChpLmRlZXBDbG9uZSkoZik6bD97YmFubmVyOntzaXplczpsfX06e307dmFyIGI9T2JqZWN0KGkuZGVlcEFjY2VzcykoZiwiYmFubmVyLnNpemVzIik7Zy5zaG91bGRGaWx0ZXImJmImJihmLmJhbm5lci5zaXplcz1iLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGcuc2l6ZXNTdXBwb3J0ZWRbZV19KSkpO3ZhciB2PU9iamVjdC5rZXlzKGYpLHk9e2FjdGl2ZTp2LmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIiE9PWV9KSl8fHYuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciI9PT1lfSkpJiZPYmplY3QoaS5kZWVwQWNjZXNzKShmLCJiYW5uZXIuc2l6ZXMubGVuZ3RoIik+MCYmKDA9PT1uLmxlbmd0aHx8IW8mJihuLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBnLmxhYmVsc1tlXX0pKXx8bi5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gYSgpKGQsZSl9KSkpfHxvJiZuLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT9nLmxhYmVsc1t0XXx8YSgpKGQsdCk6ZX0pLCEwKSksbWVkaWFUeXBlczpmfTtiJiZiLmxlbmd0aCE9PWYuYmFubmVyLnNpemVzLmxlbmd0aCYmKHkuZmlsdGVyUmVzdWx0cz17YmVmb3JlOmIsYWZ0ZXI6Zi5iYW5uZXIuc2l6ZXN9KTtyZXR1cm4geX07dmFyIHI9bigzKSxpPW4oMCksbz1uKDEyKSxhPW4ubihvKTtmdW5jdGlvbiBjKGUpe3JldHVybihjPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHU9W107ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCI9PT1jKHQpJiYic3RyaW5nIj09dHlwZW9mIHQubWVkaWFRdWVyeSYmdC5tZWRpYVF1ZXJ5Lmxlbmd0aD4wKXt2YXIgbj0hMTt0cnl7bj1PYmplY3QoaS5nZXRXaW5kb3dUb3ApKCkubWF0Y2hNZWRpYSh0Lm1lZGlhUXVlcnkpLm1hdGNoZXN9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIlVuZnJpZW5kbHkgaUZyYW1lIGJsb2NrcyBzaXplQ29uZmlnIGZyb20gYmVpbmcgY29ycmVjdGx5IGV2YWx1YXRlZCIpLG49bWF0Y2hNZWRpYSh0Lm1lZGlhUXVlcnkpLm1hdGNoZXN9biYmKEFycmF5LmlzQXJyYXkodC5zaXplc1N1cHBvcnRlZCkmJihlLnNob3VsZEZpbHRlcj0hMCksWyJsYWJlbHMiLCJzaXplc1N1cHBvcnRlZCJdLmZvckVhY2goKGZ1bmN0aW9uKG4pe3JldHVybih0W25dfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGVbbl1bdF09ITB9KSl9KSkpfWVsc2UgT2JqZWN0KGkubG9nV2FybikoJ3NpemVDb25maWcgcnVsZSBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5ICJtZWRpYVF1ZXJ5IicpO3JldHVybiBlfSkse2xhYmVsczp7fSxzaXplc1N1cHBvcnRlZDp7fSxzaG91bGRGaWx0ZXI6ITF9KX1yLmIuZ2V0Q29uZmlnKCJzaXplQ29uZmlnIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3U9ZX0oZS5zaXplQ29uZmlnKX0pKX0sMTAyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz17cHV0czplLm1hcChhLG4pfTtPYmplY3Qoci5hKShpLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSxmdW5jdGlvbihlKXtyZXR1cm57c3VjY2VzczpmdW5jdGlvbih0KXt2YXIgbjt0cnl7bj1KU09OLnBhcnNlKHQpLnJlc3BvbnNlc31jYXRjaCh0KXtyZXR1cm4gdm9pZCBlKHQsW10pfW4/ZShudWxsLG4pOmUobmV3IEVycm9yKCJUaGUgY2FjaGUgc2VydmVyIGRpZG4ndCByZXNwb25kIHdpdGggYSByZXNwb25zZXMgcHJvcGVydHkuIiksW10pfSxlcnJvcjpmdW5jdGlvbih0LG4pe2UobmV3IEVycm9yKCJFcnJvciBzdG9yaW5nIHZpZGVvIGFkIGluIHRoZSBjYWNoZTogIi5jb25jYXQodCwiOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkobikpKSxbXSl9fX0odCksSlNPTi5zdHJpbmdpZnkobykse2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9KX0sdC5hPWZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChpLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSwiP3V1aWQ9IikuY29uY2F0KGUpfTt2YXIgcj1uKDQpLGk9bigzKSxvPW4oMCk7ZnVuY3Rpb24gYShlKXt2YXIgdCxuLHIsYT17dHlwZToieG1sIix2YWx1ZTplLnZhc3RYbWw/ZS52YXN0WG1sOih0PWUudmFzdFVybCxuPWUudmFzdEltcFVybCxyPW4/IjwhW0NEQVRBWyIuY29uY2F0KG4sIl1dPiIpOiIiLCc8VkFTVCB2ZXJzaW9uPSIzLjAiPlxuICAgIDxBZD5cbiAgICAgIDxXcmFwcGVyPlxuICAgICAgICA8QWRTeXN0ZW0+cHJlYmlkLm9yZyB3cmFwcGVyPC9BZFN5c3RlbT5cbiAgICAgICAgPFZBU1RBZFRhZ1VSST48IVtDREFUQVsnLmNvbmNhdCh0LCJdXT48L1ZBU1RBZFRhZ1VSST5cbiAgICAgICAgPEltcHJlc3Npb24+IikuY29uY2F0KHIsIjwvSW1wcmVzc2lvbj5cbiAgICAgICAgPENyZWF0aXZlcz48L0NyZWF0aXZlcz5cbiAgICAgIDwvV3JhcHBlcj5cbiAgICA8L0FkPlxuICA8L1ZBU1Q+IikpLHR0bHNlY29uZHM6TnVtYmVyKGUudHRsKX07cmV0dXJuIGkuYi5nZXRDb25maWcoImNhY2hlLnZhc3R0cmFjayIpJiYoYS5iaWRkZXI9ZS5iaWRkZXIsYS5iaWRpZD1lLnJlcXVlc3RJZCxhLmFpZD1lLmF1Y3Rpb25JZCxPYmplY3Qoby5pc1BsYWluT2JqZWN0KSh0aGlzKSYmdGhpcy5oYXNPd25Qcm9wZXJ0eSgiYXVjdGlvblN0YXJ0IikmJihhLnRpbWVzdGFtcD10aGlzLmF1Y3Rpb25TdGFydCkpLCJzdHJpbmciPT10eXBlb2YgZS5jdXN0b21DYWNoZUtleSYmIiIhPT1lLmN1c3RvbUNhY2hlS2V5JiYoYS5rZXk9ZS5jdXN0b21DYWNoZUtleSksYX19LDEwNjpmdW5jdGlvbihlLHQsbil7bigxMDcpO3ZhciByPW4oNTYpO2UuZXhwb3J0cz1yKCJBcnJheSIsImZpbmQiKX0sMTA3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDY0KS5maW5kLG89big1NSksYT0iZmluZCIsYz0hMDthIGluW10mJkFycmF5KDEpLmZpbmQoKGZ1bmN0aW9uKCl7Yz0hMX0pKSxyKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMCxmb3JjZWQ6Y30se2ZpbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxvKGEpfSwxMDg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9bigxMDkpLG89big0NCksYT1uKDUwKSxjPW4oNjMpLHU9bigzMSkscz1uKDg1KSxkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7dC5mPXI/ZDpmdW5jdGlvbihlLHQpe2lmKGU9YShlKSx0PWModCwhMCkscyl0cnl7cmV0dXJuIGQoZSx0KX1jYXRjaChlKXt9aWYodShlLHQpKXJldHVybiBvKCFpLmYuY2FsbChlLHQpLGVbdF0pfX0sMTA5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9e30ucHJvcGVydHlJc0VudW1lcmFibGUsaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLG89aSYmIXIuY2FsbCh7MToyfSwxKTt0LmY9bz9mdW5jdGlvbihlKXt2YXIgdD1pKHRoaXMsZSk7cmV0dXJuISF0JiZ0LmVudW1lcmFibGV9OnJ9LDExOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEwNik7ZS5leHBvcnRzPXJ9LDExMDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSksaT0vI3xcLnByb3RvdHlwZVwuLyxvPWZ1bmN0aW9uKGUsdCl7dmFyIG49Y1thKGUpXTtyZXR1cm4gbj09c3x8biE9dSYmKCJmdW5jdGlvbiI9PXR5cGVvZiB0P3IodCk6ISF0KX0sYT1vLm5vcm1hbGl6ZT1mdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nKGUpLnJlcGxhY2UoaSwiLiIpLnRvTG93ZXJDYXNlKCl9LGM9by5kYXRhPXt9LHU9by5OQVRJVkU9Ik4iLHM9by5QT0xZRklMTD0iUCI7ZS5leHBvcnRzPW99LDExMTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCksaT1uKDExMiksbz1uKDIxKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBpKGUpJiYoImZ1bmN0aW9uIiE9dHlwZW9mKG49ZS5jb25zdHJ1Y3Rvcil8fG4hPT1BcnJheSYmIWkobi5wcm90b3R5cGUpP3IobikmJm51bGw9PT0obj1uW29dKSYmKG49dm9pZCAwKTpuPXZvaWQgMCksbmV3KHZvaWQgMD09PW4/QXJyYXk6bikoMD09PXQ/MDp0KX19LDExMjpmdW5jdGlvbihlLHQsbil7dmFyIHI9big1MSk7ZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PXIoZSl9fSwxMTM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpLGk9bigzMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dHJ5e2kocixlLHQpfWNhdGNoKG4pe3JbZV09dH1yZXR1cm4gdH19LDExNDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPW4oMjcpLGE9bigxMTUpLGM9by5wcm9jZXNzLHU9YyYmYy52ZXJzaW9ucyxzPXUmJnUudjg7cz9pPShyPXMuc3BsaXQoIi4iKSlbMF08ND8xOnJbMF0rclsxXTphJiYoIShyPWEubWF0Y2goL0VkZ2VcLyhcZCspLykpfHxyWzFdPj03NCkmJihyPWEubWF0Y2goL0Nocm9tZVwvKFxkKykvKSkmJihpPXJbMV0pLGUuZXhwb3J0cz1pJiYraX0sMTE1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI2KTtlLmV4cG9ydHM9cigibmF2aWdhdG9yIiwidXNlckFnZW50Iil8fCIifSwxMTY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oODgpO2UuZXhwb3J0cz1yJiYhU3ltYm9sLnNoYW0mJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yfSwxMTc6ZnVuY3Rpb24oZSx0LG4pe24oMTE4KTt2YXIgcj1uKDU2KTtlLmV4cG9ydHM9cigiQXJyYXkiLCJpbmNsdWRlcyIpfSwxMTg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oODkpLmluY2x1ZGVzLG89big1NSk7cih7dGFyZ2V0OiJBcnJheSIscHJvdG86ITB9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLG8oImluY2x1ZGVzIil9LDExOTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2NSksaT1NYXRoLm1heCxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuPXIoZSk7cmV0dXJuIG48MD9pKG4rdCwwKTpvKG4sdCl9fSwxMjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMTcpO2UuZXhwb3J0cz1yfSwxMjA6ZnVuY3Rpb24oZSx0LG4pe24oMTIxKSxuKDEzNiksbig5OSksbigxMzgpO3ZhciByPW4oNDUpO2UuZXhwb3J0cz1yLlNldH0sMTIxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMjIpLGk9bigxMjcpO2UuZXhwb3J0cz1yKCJTZXQiLChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSksaSl9LDEyMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigyNyksbz1uKDkxKSxhPW4oMjkpLGM9bigzMiksdT1uKDIwKSxzPW4oNjkpLGQ9bigzMCksZj1uKDYwKSxsPW4oMzQpLmYscD1uKDY0KS5mb3JFYWNoLGc9bigzMyksYj1uKDQ2KSx2PWIuc2V0LHk9Yi5nZXR0ZXJGb3I7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgYixoPS0xIT09ZS5pbmRleE9mKCJNYXAiKSxtPS0xIT09ZS5pbmRleE9mKCJXZWFrIiksTz1oPyJzZXQiOiJhZGQiLGo9aVtlXSxTPWomJmoucHJvdG90eXBlLEU9e307aWYoZyYmImZ1bmN0aW9uIj09dHlwZW9mIGomJihtfHxTLmZvckVhY2gmJiFhKChmdW5jdGlvbigpeyhuZXcgaikuZW50cmllcygpLm5leHQoKX0pKSkpe2I9dCgoZnVuY3Rpb24odCxuKXt2KHModCxiLGUpLHt0eXBlOmUsY29sbGVjdGlvbjpuZXcgan0pLG51bGwhPW4mJnUobix0W09dLHt0aGF0OnQsQVNfRU5UUklFUzpofSl9KSk7dmFyIEE9eShlKTtwKFsiYWRkIiwiY2xlYXIiLCJkZWxldGUiLCJmb3JFYWNoIiwiZ2V0IiwiaGFzIiwic2V0Iiwia2V5cyIsInZhbHVlcyIsImVudHJpZXMiXSwoZnVuY3Rpb24oZSl7dmFyIHQ9ImFkZCI9PWV8fCJzZXQiPT1lOyEoZSBpbiBTKXx8bSYmImNsZWFyIj09ZXx8YyhiLnByb3RvdHlwZSxlLChmdW5jdGlvbihuLHIpe3ZhciBpPUEodGhpcykuY29sbGVjdGlvbjtpZighdCYmbSYmIWQobikpcmV0dXJuImdldCI9PWUmJnZvaWQgMDt2YXIgbz1pW2VdKDA9PT1uPzA6bixyKTtyZXR1cm4gdD90aGlzOm99KSl9KSksbXx8bChiLnByb3RvdHlwZSwic2l6ZSIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQSh0aGlzKS5jb2xsZWN0aW9uLnNpemV9fSl9ZWxzZSBiPW4uZ2V0Q29uc3RydWN0b3IodCxlLGgsTyksby5SRVFVSVJFRD0hMDtyZXR1cm4gZihiLGUsITEsITApLEVbZV09YixyKHtnbG9iYWw6ITAsZm9yY2VkOiEwfSxFKSxtfHxuLnNldFN0cm9uZyhiLGUsaCksYn19LDEyMzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSk7ZS5leHBvcnRzPSFyKChmdW5jdGlvbigpe3JldHVybiBPYmplY3QuaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSkpfSwxMjQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDY4KSxpPW4oNTkpO2UuZXhwb3J0cz1yP3t9LnRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgIitpKHRoaXMpKyJdIn19LDEyNTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNyksaT1uKDEyNiksbz1yLldlYWtNYXA7ZS5leHBvcnRzPSJmdW5jdGlvbiI9PXR5cGVvZiBvJiYvbmF0aXZlIGNvZGUvLnRlc3QoaShvKSl9LDEyNjpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2NiksaT1GdW5jdGlvbi50b1N0cmluZzsiZnVuY3Rpb24iIT10eXBlb2Ygci5pbnNwZWN0U291cmNlJiYoci5pbnNwZWN0U291cmNlPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNhbGwoZSl9KSxlLmV4cG9ydHM9ci5pbnNwZWN0U291cmNlfSwxMjc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDM0KS5mLGk9big3MSksbz1uKDk1KSxhPW4oMjUpLGM9big2OSksdT1uKDIwKSxzPW4oNzMpLGQ9bigxMzUpLGY9bigzMyksbD1uKDkxKS5mYXN0S2V5LHA9big0NiksZz1wLnNldCxiPXAuZ2V0dGVyRm9yO2UuZXhwb3J0cz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LG4scyl7dmFyIGQ9ZSgoZnVuY3Rpb24oZSxyKXtjKGUsZCx0KSxnKGUse3R5cGU6dCxpbmRleDppKG51bGwpLGZpcnN0OnZvaWQgMCxsYXN0OnZvaWQgMCxzaXplOjB9KSxmfHwoZS5zaXplPTApLG51bGwhPXImJnUocixlW3NdLHt0aGF0OmUsQVNfRU5UUklFUzpufSl9KSkscD1iKHQpLHY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz1wKGUpLGE9eShlLHQpO3JldHVybiBhP2EudmFsdWU9bjooby5sYXN0PWE9e2luZGV4Omk9bCh0LCEwKSxrZXk6dCx2YWx1ZTpuLHByZXZpb3VzOnI9by5sYXN0LG5leHQ6dm9pZCAwLHJlbW92ZWQ6ITF9LG8uZmlyc3R8fChvLmZpcnN0PWEpLHImJihyLm5leHQ9YSksZj9vLnNpemUrKzplLnNpemUrKywiRiIhPT1pJiYoby5pbmRleFtpXT1hKSksZX0seT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9cChlKSxpPWwodCk7aWYoIkYiIT09aSlyZXR1cm4gci5pbmRleFtpXTtmb3Iobj1yLmZpcnN0O247bj1uLm5leHQpaWYobi5rZXk9PXQpcmV0dXJuIG59O3JldHVybiBvKGQucHJvdG90eXBlLHtjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgZT1wKHRoaXMpLHQ9ZS5pbmRleCxuPWUuZmlyc3Q7bjspbi5yZW1vdmVkPSEwLG4ucHJldmlvdXMmJihuLnByZXZpb3VzPW4ucHJldmlvdXMubmV4dD12b2lkIDApLGRlbGV0ZSB0W24uaW5kZXhdLG49bi5uZXh0O2UuZmlyc3Q9ZS5sYXN0PXZvaWQgMCxmP2Uuc2l6ZT0wOnRoaXMuc2l6ZT0wfSxkZWxldGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXAodCkscj15KHQsZSk7aWYocil7dmFyIGk9ci5uZXh0LG89ci5wcmV2aW91cztkZWxldGUgbi5pbmRleFtyLmluZGV4XSxyLnJlbW92ZWQ9ITAsbyYmKG8ubmV4dD1pKSxpJiYoaS5wcmV2aW91cz1vKSxuLmZpcnN0PT1yJiYobi5maXJzdD1pKSxuLmxhc3Q9PXImJihuLmxhc3Q9byksZj9uLnNpemUtLTp0LnNpemUtLX1yZXR1cm4hIXJ9LGZvckVhY2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49cCh0aGlzKSxyPWEoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTt0PXQ/dC5uZXh0Om4uZmlyc3Q7KWZvcihyKHQudmFsdWUsdC5rZXksdGhpcyk7dCYmdC5yZW1vdmVkOyl0PXQucHJldmlvdXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4hIXkodGhpcyxlKX19KSxvKGQucHJvdG90eXBlLG4/e2dldDpmdW5jdGlvbihlKXt2YXIgdD15KHRoaXMsZSk7cmV0dXJuIHQmJnQudmFsdWV9LHNldDpmdW5jdGlvbihlLHQpe3JldHVybiB2KHRoaXMsMD09PWU/MDplLHQpfX06e2FkZDpmdW5jdGlvbihlKXtyZXR1cm4gdih0aGlzLGU9MD09PWU/MDplLGUpfX0pLGYmJnIoZC5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcCh0aGlzKS5zaXplfX0pLGR9LHNldFN0cm9uZzpmdW5jdGlvbihlLHQsbil7dmFyIHI9dCsiIEl0ZXJhdG9yIixpPWIodCksbz1iKHIpO3MoZSx0LChmdW5jdGlvbihlLHQpe2codGhpcyx7dHlwZTpyLHRhcmdldDplLHN0YXRlOmkoZSksa2luZDp0LGxhc3Q6dm9pZCAwfSl9KSwoZnVuY3Rpb24oKXtmb3IodmFyIGU9byh0aGlzKSx0PWUua2luZCxuPWUubGFzdDtuJiZuLnJlbW92ZWQ7KW49bi5wcmV2aW91cztyZXR1cm4gZS50YXJnZXQmJihlLmxhc3Q9bj1uP24ubmV4dDplLnN0YXRlLmZpcnN0KT8ia2V5cyI9PXQ/e3ZhbHVlOm4ua2V5LGRvbmU6ITF9OiJ2YWx1ZXMiPT10P3t2YWx1ZTpuLnZhbHVlLGRvbmU6ITF9Ont2YWx1ZTpbbi5rZXksbi52YWx1ZV0sZG9uZTohMX06KGUudGFyZ2V0PXZvaWQgMCx7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KX0pLG4/ImVudHJpZXMiOiJ2YWx1ZXMiLCFuLCEwKSxkKHQpfX19LDEyODpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMyksaT1uKDM0KSxvPW4oMTYpLGE9bigxMjkpO2UuZXhwb3J0cz1yP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7byhlKTtmb3IodmFyIG4scj1hKHQpLGM9ci5sZW5ndGgsdT0wO2M+dTspaS5mKGUsbj1yW3UrK10sdFtuXSk7cmV0dXJuIGV9fSwxMjk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTMwKSxpPW4oOTQpO2UuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSxpKX19LDEzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPXUsdC5jPWZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLnVybCl9LHQuYj1mdW5jdGlvbihlLHQpe2UucmVuZGVyKHQpfTt2YXIgcj1uKDM1KSxpPW4oMCksbz1uKDExKSxhPW4ubihvKSxjPSJvdXRzdHJlYW0iO2Z1bmN0aW9uIHUoZSl7dmFyIHQ9dGhpcyxuPWUudXJsLG89ZS5jb25maWcsYT1lLmlkLHU9ZS5jYWxsYmFjayxkPWUubG9hZGVkLGY9ZS5hZFVuaXRDb2RlO3RoaXMudXJsPW4sdGhpcy5jb25maWc9byx0aGlzLmhhbmRsZXJzPXt9LHRoaXMuaWQ9YSx0aGlzLmxvYWRlZD1kLHRoaXMuY21kPVtdLHRoaXMucHVzaD1mdW5jdGlvbihlKXsiZnVuY3Rpb24iPT10eXBlb2YgZT90LmxvYWRlZD9lLmNhbGwoKTp0LmNtZC5wdXNoKGUpOk9iamVjdChpLmxvZ0Vycm9yKSgiQ29tbWFuZHMgZ2l2ZW4gdG8gUmVuZGVyZXIucHVzaCBtdXN0IGJlIHdyYXBwZWQgaW4gYSBmdW5jdGlvbiIpfSx0aGlzLmNhbGxiYWNrPXV8fGZ1bmN0aW9uKCl7dC5sb2FkZWQ9ITAsdC5wcm9jZXNzKCl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cyxvPWZ1bmN0aW9uKCl7ZS5fcmVuZGVyP2UuX3JlbmRlci5hcHBseShlLHQpOk9iamVjdChpLmxvZ1dhcm4pKCJObyByZW5kZXIgZnVuY3Rpb24gd2FzIHByb3ZpZGVkLCBwbGVhc2UgdXNlIC5zZXRSZW5kZXIgb24gdGhlIHJlbmRlcmVyIil9O3MoZik/KE9iamVjdChpLmxvZ1dhcm4pKCJFeHRlcm5hbCBKcyBub3QgbG9hZGVkIGJ5IFJlbmRlcmVyIHNpbmNlIHJlbmRlcmVyIHVybCBhbmQgY2FsbGJhY2sgaXMgYWxyZWFkeSBkZWZpbmVkIG9uIGFkVW5pdCAiLmNvbmNhdChmKSksbygpKToodGhpcy5jbWQudW5zaGlmdChvKSxPYmplY3Qoci5hKShuLGMsdGhpcy5jYWxsYmFjaykpfS5iaW5kKHRoaXMpfWZ1bmN0aW9uIHMoZSl7dmFyIHQ9dXBianMuYWRVbml0cyxuPWEoKSh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb2RlPT09ZX0pKTtpZighbilyZXR1cm4hMTt2YXIgcj1PYmplY3QoaS5kZWVwQWNjZXNzKShuLCJyZW5kZXJlciIpLG89ISEociYmci51cmwmJnIucmVuZGVyKSxjPU9iamVjdChpLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMudmlkZW8ucmVuZGVyZXIiKSx1PSEhKGMmJmMudXJsJiZjLnJlbmRlcik7cmV0dXJuISEobyYmITAhPT1yLmJhY2t1cE9ubHl8fHUmJiEwIT09Yy5iYWNrdXBPbmx5KX11Lmluc3RhbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB1KHt1cmw6ZS51cmwsY29uZmlnOmUuY29uZmlnLGlkOmUuaWQsY2FsbGJhY2s6ZS5jYWxsYmFjayxsb2FkZWQ6ZS5sb2FkZWQsYWRVbml0Q29kZTplLmFkVW5pdENvZGV9KX0sdS5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnfSx1LnByb3RvdHlwZS5zZXRSZW5kZXI9ZnVuY3Rpb24oZSl7dGhpcy5fcmVuZGVyPWV9LHUucHJvdG90eXBlLnNldEV2ZW50SGFuZGxlcnM9ZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVycz1lfSx1LnByb3RvdHlwZS5oYW5kbGVWaWRlb0V2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PWUuaWQsbj1lLmV2ZW50TmFtZTsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5oYW5kbGVyc1tuXSYmdGhpcy5oYW5kbGVyc1tuXSgpLE9iamVjdChpLmxvZ01lc3NhZ2UpKCJQcmViaWQgUmVuZGVyZXIgZXZlbnQgZm9yIGlkICIuY29uY2F0KHQsIiB0eXBlICIpLmNvbmNhdChuKSl9LHUucHJvdG90eXBlLnByb2Nlc3M9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuY21kLmxlbmd0aD4wOyl0cnl7dGhpcy5jbWQuc2hpZnQoKS5jYWxsKCl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJFcnJvciBwcm9jZXNzaW5nIFJlbmRlcmVyIGNvbW1hbmQ6ICIsZSl9fX0sMTMwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMxKSxpPW4oNTApLG89big4OSkuaW5kZXhPZixhPW4oNTcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuLGM9aShlKSx1PTAscz1bXTtmb3IobiBpbiBjKSFyKGEsbikmJnIoYyxuKSYmcy5wdXNoKG4pO2Zvcig7dC5sZW5ndGg+dTspcihjLG49dFt1KytdKSYmKH5vKHMsbil8fHMucHVzaChuKSk7cmV0dXJuIHN9fSwxMzE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjYpO2UuZXhwb3J0cz1yKCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIpfSwxMzI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpO2UuZXhwb3J0cz0hcigoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1udWxsLE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgZSkhPT1lLnByb3RvdHlwZX0pKX0sMTMzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KSxpPW4oMTM0KTtlLmV4cG9ydHM9T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKCl7dmFyIGUsdD0hMSxuPXt9O3RyeXsoZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCkuY2FsbChuLFtdKSx0PW4gaW5zdGFuY2VvZiBBcnJheX1jYXRjaChlKXt9cmV0dXJuIGZ1bmN0aW9uKG4sbyl7cmV0dXJuIHIobiksaShvKSx0P2UuY2FsbChuLG8pOm4uX19wcm90b19fPW8sbn19KCk6dm9pZCAwKX0sMTM0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIXIoZSkmJm51bGwhPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3Qgc2V0ICIrU3RyaW5nKGUpKyIgYXMgYSBwcm90b3R5cGUiKTtyZXR1cm4gZX19LDEzNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjYpLGk9bigzNCksbz1uKDIxKSxhPW4oMzMpLGM9bygic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1yKGUpLG49aS5mO2EmJnQmJiF0W2NdJiZuKHQsYyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sMTM2OmZ1bmN0aW9uKGUsdCl7fSwxMzc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjUpLGk9big1Miksbz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXt2YXIgbyxhLGM9U3RyaW5nKGkodCkpLHU9cihuKSxzPWMubGVuZ3RoO3JldHVybiB1PDB8fHU+PXM/ZT8iIjp2b2lkIDA6KG89Yy5jaGFyQ29kZUF0KHUpKTw1NTI5Nnx8bz41NjMxOXx8dSsxPT09c3x8KGE9Yy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxhPjU3MzQzP2U/Yy5jaGFyQXQodSk6bzplP2Muc2xpY2UodSx1KzIpOmEtNTYzMjArKG8tNTUyOTY8PDEwKSs2NTUzNn19O2UuZXhwb3J0cz17Y29kZUF0Om8oITEpLGNoYXJBdDpvKCEwKX19LDEzODpmdW5jdGlvbihlLHQsbil7bigxMDApO3ZhciByPW4oMTM5KSxpPW4oMjcpLG89big1OSksYT1uKDMyKSxjPW4oNDEpLHU9bigyMSkoInRvU3RyaW5nVGFnIik7Zm9yKHZhciBzIGluIHIpe3ZhciBkPWlbc10sZj1kJiZkLnByb3RvdHlwZTtmJiZvKGYpIT09dSYmYShmLHUscyksY1tzXT1jLkFycmF5fX0sMTM5OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXtDU1NSdWxlTGlzdDowLENTU1N0eWxlRGVjbGFyYXRpb246MCxDU1NWYWx1ZUxpc3Q6MCxDbGllbnRSZWN0TGlzdDowLERPTVJlY3RMaXN0OjAsRE9NU3RyaW5nTGlzdDowLERPTVRva2VuTGlzdDoxLERhdGFUcmFuc2Zlckl0ZW1MaXN0OjAsRmlsZUxpc3Q6MCxIVE1MQWxsQ29sbGVjdGlvbjowLEhUTUxDb2xsZWN0aW9uOjAsSFRNTEZvcm1FbGVtZW50OjAsSFRNTFNlbGVjdEVsZW1lbnQ6MCxNZWRpYUxpc3Q6MCxNaW1lVHlwZUFycmF5OjAsTmFtZWROb2RlTWFwOjAsTm9kZUxpc3Q6MSxQYWludFJlcXVlc3RMaXN0OjAsUGx1Z2luOjAsUGx1Z2luQXJyYXk6MCxTVkdMZW5ndGhMaXN0OjAsU1ZHTnVtYmVyTGlzdDowLFNWR1BhdGhTZWdMaXN0OjAsU1ZHUG9pbnRMaXN0OjAsU1ZHU3RyaW5nTGlzdDowLFNWR1RyYW5zZm9ybUxpc3Q6MCxTb3VyY2VCdWZmZXJMaXN0OjAsU3R5bGVTaGVldExpc3Q6MCxUZXh0VHJhY2tDdWVMaXN0OjAsVGV4dFRyYWNrTGlzdDowLFRvdWNoTGlzdDowfX0sMTQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnVwYmpzfSx3aW5kb3cudXBianM9d2luZG93LnVwYmpzfHx7fSx3aW5kb3cudXBianMuY21kPXdpbmRvdy51cGJqcy5jbWR8fFtdLHdpbmRvdy51cGJqcy5xdWU9d2luZG93LnVwYmpzLnF1ZXx8W10sd2luZG93Ll9wYmpzR2xvYmFscz13aW5kb3cuX3BianNHbG9iYWxzfHxbXSx3aW5kb3cuX3BianNHbG9iYWxzLnB1c2goInVwYmpzIil9LDE0MDpmdW5jdGlvbihlLHQsbil7bigxNSkoe3RhcmdldDoiU2V0IixzdGF0OiEwfSx7ZnJvbTpuKDE0MSl9KX0sMTQxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyNCksaT1uKDI1KSxvPW4oMjApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxuLGEsYyx1PWFyZ3VtZW50cy5sZW5ndGgscz11PjE/YXJndW1lbnRzWzFdOnZvaWQgMDtyZXR1cm4gcih0aGlzKSwodD12b2lkIDAhPT1zKSYmcihzKSxudWxsPT1lP25ldyB0aGlzOihuPVtdLHQ/KGE9MCxjPWkocyx1PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSxvKGUsKGZ1bmN0aW9uKGUpe24ucHVzaChjKGUsYSsrKSl9KSkpOm8oZSxuLnB1c2gse3RoYXQ6bn0pLG5ldyB0aGlzKG4pKX19LDE0MjpmdW5jdGlvbihlLHQsbil7bigxNSkoe3RhcmdldDoiU2V0IixzdGF0OiEwfSx7b2Y6bigxNDMpfSl9LDE0MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpO2UtLTspdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIG5ldyB0aGlzKHQpfX0sMTQ0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMTQ1KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2FkZEFsbDpmdW5jdGlvbigpe3JldHVybiBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KX0sMTQ1OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNiksaT1uKDI0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9cih0aGlzKSx0PWkoZS5hZGQpLG49MCxvPWFyZ3VtZW50cy5sZW5ndGg7bjxvO24rKyl0LmNhbGwoZSxhcmd1bWVudHNbbl0pO3JldHVybiBlfX0sMTQ2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMTQ3KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2RlbGV0ZUFsbDpmdW5jdGlvbigpe3JldHVybiBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KX0sMTQ3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNiksaT1uKDI0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1yKHRoaXMpLG49aSh0LmRlbGV0ZSksbz0hMCxhPTAsYz1hcmd1bWVudHMubGVuZ3RoO2E8YzthKyspZT1uLmNhbGwodCxhcmd1bWVudHNbYV0pLG89byYmZTtyZXR1cm4hIW99fSwxNDg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI1KSxjPW4oMzcpLHU9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtldmVyeTpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49Yyh0KSxyPWEoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTtyZXR1cm4hdShuLChmdW5jdGlvbihlLG4pe2lmKCFyKGUsZSx0KSlyZXR1cm4gbigpfSkse0lTX0lURVJBVE9SOiEwLElOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTQ5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oNDIpLHM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtkaWZmZXJlbmNlOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkodCkscj1jKG4uZGVsZXRlKTtyZXR1cm4gcyhlLChmdW5jdGlvbihlKXtyLmNhbGwobixlKX0pKSxufX0pfSwxNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjcpLGk9bigxMDgpLmYsbz1uKDExMCksYT1uKDQ1KSxjPW4oMjUpLHU9bigzMikscz1uKDMxKSxkPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQsbixyKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQsbil9cmV0dXJuIG5ldyBlKHQsbixyKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0LnByb3RvdHlwZT1lLnByb3RvdHlwZSx0fTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixmLGwscCxnLGIsdix5LGg9ZS50YXJnZXQsbT1lLmdsb2JhbCxPPWUuc3RhdCxqPWUucHJvdG8sUz1tP3I6Tz9yW2hdOihyW2hdfHx7fSkucHJvdG90eXBlLEU9bT9hOmFbaF18fChhW2hdPXt9KSxBPUUucHJvdG90eXBlO2ZvcihsIGluIHQpbj0hbyhtP2w6aCsoTz8iLiI6IiMiKStsLGUuZm9yY2VkKSYmUyYmcyhTLGwpLGc9RVtsXSxuJiYoYj1lLm5vVGFyZ2V0R2V0Pyh5PWkoUyxsKSkmJnkudmFsdWU6U1tsXSkscD1uJiZiP2I6dFtsXSxuJiZ0eXBlb2YgZz09dHlwZW9mIHB8fCh2PWUuYmluZCYmbj9jKHAscik6ZS53cmFwJiZuP2QocCk6aiYmImZ1bmN0aW9uIj09dHlwZW9mIHA/YyhGdW5jdGlvbi5jYWxsLHApOnAsKGUuc2hhbXx8cCYmcC5zaGFtfHxnJiZnLnNoYW0pJiZ1KHYsInNoYW0iLCEwKSxFW2xdPXYsaiYmKHMoYSxmPWgrIlByb3RvdHlwZSIpfHx1KGEsZix7fSksYVtmXVtsXT1wLGUucmVhbCYmQSYmIUFbbF0mJnUoQSxsLHApKSl9fSwxNTA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigyNiksYT1uKDE2KSxjPW4oMjQpLHU9bigyNSkscz1uKDQyKSxkPW4oMzcpLGY9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtmaWx0ZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKSxuPWQodCkscj11KGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyksaT1uZXcocyh0LG8oIlNldCIpKSksbD1jKGkuYWRkKTtyZXR1cm4gZihuLChmdW5jdGlvbihlKXtyKGUsZSx0KSYmbC5jYWxsKGksZSl9KSx7SVNfSVRFUkFUT1I6ITB9KSxpfX0pfSwxNTE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI1KSxjPW4oMzcpLHU9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtmaW5kOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1jKHQpLHI9YShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpO3JldHVybiB1KG4sKGZ1bmN0aW9uKGUsbil7aWYocihlLGUsdCkpcmV0dXJuIG4oZSl9KSx7SVNfSVRFUkFUT1I6ITAsSU5URVJSVVBURUQ6ITB9KS5yZXN1bHR9fSl9LDE1MjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDI2KSxhPW4oMTYpLGM9bigyNCksdT1uKDQyKSxzPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aW50ZXJzZWN0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkscj1jKHQuaGFzKSxpPWMobi5hZGQpO3JldHVybiBzKGUsKGZ1bmN0aW9uKGUpe3IuY2FsbCh0LGUpJiZpLmNhbGwobixlKX0pKSxufX0pfSwxNTM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI0KSxjPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aXNEaXNqb2ludEZyb206ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWEodC5oYXMpO3JldHVybiFjKGUsKGZ1bmN0aW9uKGUscil7aWYoITA9PT1uLmNhbGwodCxlKSlyZXR1cm4gcigpfSkse0lOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTU0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oNzQpLHM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtpc1N1YnNldE9mOmZ1bmN0aW9uKGUpe3ZhciB0PXUodGhpcyksbj1hKGUpLHI9bi5oYXM7cmV0dXJuImZ1bmN0aW9uIiE9dHlwZW9mIHImJihuPW5ldyhvKCJTZXQiKSkoZSkscj1jKG4uaGFzKSksIXModCwoZnVuY3Rpb24oZSx0KXtpZighMT09PXIuY2FsbChuLGUpKXJldHVybiB0KCl9KSx7SVNfSVRFUkFUT1I6ITAsSU5URVJSVVBURUQ6ITB9KS5zdG9wcGVkfX0pfSwxNTU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI0KSxjPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aXNTdXBlcnNldE9mOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1hKHQuaGFzKTtyZXR1cm4hYyhlLChmdW5jdGlvbihlLHIpe2lmKCExPT09bi5jYWxsKHQsZSkpcmV0dXJuIHIoKX0pLHtJTlRFUlJVUFRFRDohMH0pLnN0b3BwZWR9fSl9LDE1NjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDE2KSxhPW4oMzcpLGM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtqb2luOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1hKHQpLHI9dm9pZCAwPT09ZT8iLCI6U3RyaW5nKGUpLGk9W107cmV0dXJuIGMobixpLnB1c2gse3RoYXQ6aSxJU19JVEVSQVRPUjohMH0pLGkuam9pbihyKX19KX0sMTU3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oMjUpLHM9big0MiksZD1uKDM3KSxmPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7bWFwOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1kKHQpLHI9dShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpLGk9bmV3KHModCxvKCJTZXQiKSkpLGw9YyhpLmFkZCk7cmV0dXJuIGYobiwoZnVuY3Rpb24oZSl7bC5jYWxsKGkscihlLGUsdCkpfSkse0lTX0lURVJBVE9SOiEwfSksaX19KX0sMTU4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMTYpLGE9bigyNCksYz1uKDM3KSx1PW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7cmVkdWNlOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1jKHQpLHI9YXJndW1lbnRzLmxlbmd0aDwyLGk9cj92b2lkIDA6YXJndW1lbnRzWzFdO2lmKGEoZSksdShuLChmdW5jdGlvbihuKXtyPyhyPSExLGk9bik6aT1lKGksbixuLHQpfSkse0lTX0lURVJBVE9SOiEwfSkscil0aHJvdyBUeXBlRXJyb3IoIlJlZHVjZSBvZiBlbXB0eSBzZXQgd2l0aCBubyBpbml0aWFsIHZhbHVlIik7cmV0dXJuIGl9fSl9LDE1OTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDE2KSxhPW4oMjUpLGM9bigzNyksdT1uKDIwKTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se3NvbWU6ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWModCkscj1hKGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7cmV0dXJuIHUobiwoZnVuY3Rpb24oZSxuKXtpZihyKGUsZSx0KSlyZXR1cm4gbigpfSkse0lTX0lURVJBVE9SOiEwLElOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighcihlKSl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGFuIG9iamVjdCIpO3JldHVybiBlfX0sMTYwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oNDIpLHM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtzeW1tZXRyaWNEaWZmZXJlbmNlOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkodCkscj1jKG4uZGVsZXRlKSxpPWMobi5hZGQpO3JldHVybiBzKGUsKGZ1bmN0aW9uKGUpe3IuY2FsbChuLGUpfHxpLmNhbGwobixlKX0pKSxufX0pfSwxNjE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigyNiksYT1uKDE2KSxjPW4oMjQpLHU9big0Mikscz1uKDIwKTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se3VuaW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkodCk7cmV0dXJuIHMoZSxjKG4uYWRkKSx7dGhhdDpufSksbn19KX0sMTYyOmZ1bmN0aW9uKGUsdCxuKXtuKDk5KSxuKDE2Myk7dmFyIHI9big0NSk7ZS5leHBvcnRzPXIuQXJyYXkuZnJvbX0sMTYzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE1KSxpPW4oMTY0KTtyKHt0YXJnZXQ6IkFycmF5IixzdGF0OiEwLGZvcmNlZDohbigxNjcpKChmdW5jdGlvbihlKXtBcnJheS5mcm9tKGUpfSkpfSx7ZnJvbTppfSl9LDE2NDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjUpLGk9big1Myksbz1uKDE2NSksYT1uKDkyKSxjPW4oNTQpLHU9bigxNjYpLHM9big1OCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LG4sZCxmLGwscCxnPWkoZSksYj0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOkFycmF5LHY9YXJndW1lbnRzLmxlbmd0aCx5PXY+MT9hcmd1bWVudHNbMV06dm9pZCAwLGg9dm9pZCAwIT09eSxtPXMoZyksTz0wO2lmKGgmJih5PXIoeSx2PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSksbnVsbD09bXx8Yj09QXJyYXkmJmEobSkpZm9yKG49bmV3IGIodD1jKGcubGVuZ3RoKSk7dD5PO08rKylwPWg/eShnW09dLE8pOmdbT10sdShuLE8scCk7ZWxzZSBmb3IobD0oZj1tLmNhbGwoZykpLm5leHQsbj1uZXcgYjshKGQ9bC5jYWxsKGYpKS5kb25lO08rKylwPWg/byhmLHksW2QudmFsdWUsT10sITApOmQudmFsdWUsdShuLE8scCk7cmV0dXJuIG4ubGVuZ3RoPU8sbn19LDE2NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDkzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4sbyl7dHJ5e3JldHVybiBvP3QocihuKVswXSxuWzFdKTp0KG4pfWNhdGNoKHQpe3Rocm93IGkoZSksdH19fSwxNjY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDYzKSxpPW4oMzQpLG89big0NCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgYT1yKHQpO2EgaW4gZT9pLmYoZSxhLG8oMCxuKSk6ZVthXT1ufX0sMTY3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIxKSgiaXRlcmF0b3IiKSxpPSExO3RyeXt2YXIgbz0wLGE9e25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTohIW8rK319LHJldHVybjpmdW5jdGlvbigpe2k9ITB9fTthW3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEFycmF5LmZyb20oYSwoZnVuY3Rpb24oKXt0aHJvdyAyfSkpfWNhdGNoKGUpe31lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIWkpcmV0dXJuITE7dmFyIG49ITE7dHJ5e3ZhciBvPXt9O29bcl09ZnVuY3Rpb24oKXtyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOm49ITB9fX19LGUobyl9Y2F0Y2goZSl7fXJldHVybiBufX0sMTY4OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uIGUodCl7dmFyIG49QXJyYXkuaXNBcnJheSh0KT9bXTp7fTtmb3IodmFyIHIgaW4gdCl7dmFyIGk9dFtyXTtuW3JdPWkmJiJvYmplY3QiPT10eXBlb2YgaT9lKGkpOml9cmV0dXJuIG59fSwxNjk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0LG4scixpKXtmb3IodD10LnNwbGl0P3Quc3BsaXQoIi4iKTp0LHI9MDtyPHQubGVuZ3RoO3IrKyllPWU/ZVt0W3JdXTppO3JldHVybiBlPT09aT9uOmV9fSwxNzA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0LG4pe3Quc3BsaXQmJih0PXQuc3BsaXQoIi4iKSk7Zm9yKHZhciByLGk9MCxvPXQubGVuZ3RoLGE9ZTtpPG87KytpKXI9YVt0W2ldXSxhPWFbdFtpXV09aT09PW8tMT9uOm51bGwhPXI/cjohfnRbaSsxXS5pbmRleE9mKCIuIikmJit0W2krMV0+LTE/W106e319fSwxNzE6ZnVuY3Rpb24oZSx0KXsKLyoKKiBAbGljZW5zZSBNSVQKKiBGdW4gSG9va3MgdjAuOS4xMAoqIChjKSBAc25hcHdpY2gKKi8KYy5TWU5DPTEsYy5BU1lOQz0yLGMuUVVFVUU9NDt2YXIgbj1PYmplY3QuZnJlZXplKHt1c2VQcm94eTohMCxyZWFkeTowfSkscj1uZXcgV2Vha01hcCxpPSIyLDEsMCI9PT1bMV0ucmVkdWNlKChmdW5jdGlvbihlLHQsbil7cmV0dXJuW2UsdCxuXX0pLDIpLnRvU3RyaW5nKCk/QXJyYXkucHJvdG90eXBlLnJlZHVjZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9T2JqZWN0KHRoaXMpLGk9ci5sZW5ndGg+Pj4wLG89MDtpZih0KW49dDtlbHNle2Zvcig7bzxpJiYhKG8gaW4gcik7KW8rKztuPXJbbysrXX1mb3IoO288aTspbyBpbiByJiYobj1lKG4scltvXSxvLHIpKSxvKys7cmV0dXJuIG59O2Z1bmN0aW9uIG8oZSx0KXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSx0KX12YXIgYT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtyZXR1cm4gaS5jYWxsKG8oYXJndW1lbnRzLDEpLChmdW5jdGlvbihlLHQpe3JldHVybiB0JiZPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihuKXtlW25dPXRbbl19KSksZX0pLGUpfTtmdW5jdGlvbiBjKGUpe3ZhciB0LHU9e30scz1bXTtmdW5jdGlvbiBkKGUsdCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGU/Zy5jYWxsKG51bGwsInN5bmMiLGUsdCk6InN0cmluZyI9PXR5cGVvZiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgdD9nLmFwcGx5KG51bGwsYXJndW1lbnRzKToib2JqZWN0Ij09dHlwZW9mIGU/Zi5hcHBseShudWxsLGFyZ3VtZW50cyk6dm9pZCAwfWZ1bmN0aW9uIGYoZSx0LG4pe3ZhciByPSEwO3ZvaWQgMD09PXQmJih0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLHI9ITEpO3ZhciBpPXt9LG89WyJjb25zdHJ1Y3RvciJdO2Rveyh0PXQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hKCJmdW5jdGlvbiIhPXR5cGVvZiBlW3RdfHwtMSE9PW8uaW5kZXhPZih0KXx8dC5tYXRjaCgvXl8vKSl9KSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPXQuc3BsaXQoIjoiKSxvPXJbMF0sYT1yWzFdfHwic3luYyI7aWYoIWlbb10pe3ZhciBjPWVbb107aVtvXT1lW29dPWcoYSxjLG4/W24sb106dm9pZCAwKX19KSksZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9d2hpbGUociYmZSk7cmV0dXJuIGl9ZnVuY3Rpb24gbChlKXt2YXIgbj1BcnJheS5pc0FycmF5KGUpP2U6ZS5zcGxpdCgiLiIpO3JldHVybiBpLmNhbGwobiwoZnVuY3Rpb24ocixpLG8pe3ZhciBhPXJbaV0sYz0hMTtyZXR1cm4gYXx8KG89PT1uLmxlbmd0aC0xPyh0fHxzLnB1c2goKGZ1bmN0aW9uKCl7Y3x8Y29uc29sZS53YXJuKCJmdW4taG9va3M6IHJlZmVyZW5jZWQgJyIrZSsiJyBidXQgaXQgd2FzIG5ldmVyIGNyZWF0ZWQiKX0pKSxyW2ldPXAoKGZ1bmN0aW9uKGUpe3JbaV09ZSxjPSEwfSkpKTpyW2ldPXt9KX0pLHUpfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9W10sbj1bXSxpPWZ1bmN0aW9uKCl7fSxvPXtiZWZvcmU6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdS5jYWxsKHRoaXMsdCwiYmVmb3JlIixlLG4pfSxhZnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiB1LmNhbGwodGhpcyxuLCJhZnRlciIsZSx0KX0sZ2V0SG9va3M6ZnVuY3Rpb24oZSl7dmFyIHI9dC5jb25jYXQobik7Im9iamVjdCI9PXR5cGVvZiBlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmV2ZXJ5KChmdW5jdGlvbihuKXtyZXR1cm4gdFtuXT09PWVbbl19KSl9KSkpO3RyeXthKHIse3JlbW92ZTpmdW5jdGlvbigpe3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9KSksdGhpc319KX1jYXRjaChlKXtjb25zb2xlLmVycm9yKCJlcnJvciBhZGRpbmcgYHJlbW92ZWAgdG8gYXJyYXksIGRpZCB5b3UgbW9kaWZ5IEFycmF5LnByb3RvdHlwZT8iKX1yZXR1cm4gcn0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SG9va3MoKS5yZW1vdmUoKX19LGM9e2luc3RhbGw6ZnVuY3Rpb24ocixvLGEpe3RoaXMudHlwZT1yLGk9YSxhKHQsbiksZSYmZShvKX19O3JldHVybiByLnNldChvLmFmdGVyLGMpLG87ZnVuY3Rpb24gdShlLHIsbyxhKXt2YXIgYz17aG9vazpvLHR5cGU6cixwcmlvcml0eTphfHwxMCxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgcj1lLmluZGV4T2YoYyk7LTEhPT1yJiYoZS5zcGxpY2UociwxKSxpKHQsbikpfX07cmV0dXJuIGUucHVzaChjKSxlLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucHJpb3JpdHktZS5wcmlvcml0eX0pKSxpKHQsbiksdGhpc319ZnVuY3Rpb24gZyhuLGksdSl7dmFyIGQ9aS5hZnRlciYmci5nZXQoaS5hZnRlcik7aWYoZCl7aWYoZC50eXBlIT09bil0aHJvdyJmdW4taG9va3M6IHJlY3JlYXRlZCBob29rYWJsZSB3aXRoIGRpZmZlcmVudCB0eXBlIjtyZXR1cm4gaX12YXIgZixnLGI9dT9sKHUpOnAoKSx2PXtnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYlt0XXx8UmVmbGVjdC5nZXQuYXBwbHkoUmVmbGVjdCxhcmd1bWVudHMpfX07cmV0dXJuIHR8fHMucHVzaCh5KSxlLnVzZVByb3h5JiYiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkmJlByb3h5LnJldm9jYWJsZT9nPW5ldyBQcm94eShpLHYpOmEoZz1mdW5jdGlvbigpe3JldHVybiB2LmFwcGx5P3YuYXBwbHkoaSx0aGlzLG8oYXJndW1lbnRzKSk6aS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGIpLHIuZ2V0KGcuYWZ0ZXIpLmluc3RhbGwobixnLChmdW5jdGlvbihlLHQpe3ZhciByLGk9W107ZS5sZW5ndGh8fHQubGVuZ3RoPyhlLmZvckVhY2goYSkscj1pLnB1c2godm9pZCAwKS0xLHQuZm9yRWFjaChhKSxmPWZ1bmN0aW9uKGUsdCxhKXt2YXIgYyx1PTAscz0iYXN5bmMiPT09biYmImZ1bmN0aW9uIj09dHlwZW9mIGFbYS5sZW5ndGgtMV0mJmEucG9wKCk7ZnVuY3Rpb24gZChlKXsic3luYyI9PT1uP2M9ZTpzJiZzLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBmKGUpe2lmKGlbdV0pe3ZhciByPW8oYXJndW1lbnRzKTtyZXR1cm4gZi5iYWlsPWQsci51bnNoaWZ0KGYpLGlbdSsrXS5hcHBseSh0LHIpfSJzeW5jIj09PW4/Yz1lOnMmJnMuYXBwbHkobnVsbCxhcmd1bWVudHMpfXJldHVybiBpW3JdPWZ1bmN0aW9uKCl7dmFyIHI9byhhcmd1bWVudHMsMSk7ImFzeW5jIj09PW4mJnMmJihkZWxldGUgZi5iYWlsLHIucHVzaChmKSk7dmFyIGk9ZS5hcHBseSh0LHIpOyJzeW5jIj09PW4mJmYoaSl9LGYuYXBwbHkobnVsbCxhKSxjfSk6Zj12b2lkIDA7ZnVuY3Rpb24gYShlKXtpLnB1c2goZS5ob29rKX15KCl9KSksZztmdW5jdGlvbiB5KCl7IXQmJigic3luYyIhPT1ufHxlLnJlYWR5JmMuU1lOQykmJigiYXN5bmMiIT09bnx8ZS5yZWFkeSZjLkFTWU5DKT8ic3luYyIhPT1uJiZlLnJlYWR5JmMuUVVFVUU/di5hcHBseT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztzLnB1c2goKGZ1bmN0aW9uKCl7Zy5hcHBseShlWzFdLGVbMl0pfSkpfTp2LmFwcGx5PWZ1bmN0aW9uKCl7dGhyb3ciZnVuLWhvb2tzOiBob29rZWQgZnVuY3Rpb24gbm90IHJlYWR5In06di5hcHBseT1mfX1yZXR1cm4oZT1hKHt9LG4sZSkpLnJlYWR5P2QucmVhZHk9ZnVuY3Rpb24oKXt0PSEwLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdDt0PWUuc2hpZnQoKTspdCgpfShzKX06dD0hMCxkLmdldD1sLGR9ZS5leHBvcnRzPWN9LDE4OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSEwfSwxOTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTt2YXIgcj1uKDMpLGk9bigwKTt2YXIgbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciB0PXIuYi5nZXRDb25maWcoInBhZ2VVcmwiKTtpZih0KXJldHVybiB0O3RyeXt2YXIgbj1lLnF1ZXJ5U2VsZWN0b3IoImxpbmtbcmVsPSdjYW5vbmljYWwnXSIpO2lmKG51bGwhPT1uKXJldHVybiBuLmhyZWZ9Y2F0Y2goZSl7fXJldHVybiBudWxsfXJldHVybiBmdW5jdGlvbigpe3ZhciBuLG8sYSxjPVtdLHU9ZnVuY3Rpb24oZSl7dHJ5e2lmKCFlLmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2lucylyZXR1cm47cmV0dXJuIGUubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zfWNhdGNoKGUpe319KGUpLHM9ci5iLmdldENvbmZpZygibWF4TmVzdGVkSWZyYW1lcyIpLGQ9ITEsZj0wLGw9ITEscD0hMTtkb3t2YXIgZz1uLGI9cCx2PXZvaWQgMCx5PSExLGg9bnVsbDtwPSExLG49bj9uLnBhcmVudDplO3RyeXt2PW4ubG9jYXRpb24uaHJlZnx8bnVsbH1jYXRjaChlKXt5PSEwfWlmKHkpaWYoYil7dmFyIG09Zy5jb250ZXh0O3RyeXtvPWg9bS5zb3VyY2VVcmwsbD0hMCxuPT09ZS50b3AmJihkPSEwKSxtLmNhbm9uaWNhbFVybCYmKGE9bS5jYW5vbmljYWxVcmwpfWNhdGNoKGUpe319ZWxzZXtPYmplY3QoaS5sb2dXYXJuKSgiVHJ5aW5nIHRvIGFjY2VzcyBjcm9zcyBkb21haW4gaWZyYW1lLiBDb250aW51aW5nIHdpdGhvdXQgcmVmZXJyZXIgYW5kIGxvY2F0aW9uIik7dHJ5e3ZhciBPPWcuZG9jdW1lbnQucmVmZXJyZXI7TyYmKGg9TyxuPT09ZS50b3AmJihkPSEwKSl9Y2F0Y2goZSl7fSFoJiZ1JiZ1W2YtMV0mJihoPXVbZi0xXSksaCYmIWwmJihvPWgpfWVsc2V7aWYodiYmKG89aD12LGw9ITEsbj09PWUudG9wKSl7ZD0hMDt2YXIgaj10KG4uZG9jdW1lbnQpO2omJihhPWopfW4uY29udGV4dCYmbi5jb250ZXh0LnNvdXJjZVVybCYmKHA9ITApfWMucHVzaChoKSxmKyt9d2hpbGUobiE9PWUudG9wJiZmPHMpO3JldHVybiBjLnJldmVyc2UoKSx7cmVmZXJlcjpvfHxudWxsLHJlYWNoZWRUb3A6ZCxpc0FtcDpsLG51bUlmcmFtZXM6Zi0xLHN0YWNrOmMsY2Fub25pY2FsVXJsOmF8fG51bGx9fX0od2luZG93KX0sMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj0ibmF0aXZlIixpPSJ2aWRlbyIsbz0iYmFubmVyIixhPSJhZHBvZCJ9LDIwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KSxpPW4oOTIpLG89big1NCksYT1uKDI1KSxjPW4oNTgpLHU9big5Mykscz1mdW5jdGlvbihlLHQpe3RoaXMuc3RvcHBlZD1lLHRoaXMucmVzdWx0PXR9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGQsZixsLHAsZyxiLHYseT1uJiZuLnRoYXQsaD0hKCFufHwhbi5BU19FTlRSSUVTKSxtPSEoIW58fCFuLklTX0lURVJBVE9SKSxPPSEoIW58fCFuLklOVEVSUlVQVEVEKSxqPWEodCx5LDEraCtPKSxTPWZ1bmN0aW9uKGUpe3JldHVybiBkJiZ1KGQpLG5ldyBzKCEwLGUpfSxFPWZ1bmN0aW9uKGUpe3JldHVybiBoPyhyKGUpLE8/aihlWzBdLGVbMV0sUyk6aihlWzBdLGVbMV0pKTpPP2ooZSxTKTpqKGUpfTtpZihtKWQ9ZTtlbHNle2lmKCJmdW5jdGlvbiIhPXR5cGVvZihmPWMoZSkpKXRocm93IFR5cGVFcnJvcigiVGFyZ2V0IGlzIG5vdCBpdGVyYWJsZSIpO2lmKGkoZikpe2ZvcihsPTAscD1vKGUubGVuZ3RoKTtwPmw7bCsrKWlmKChnPUUoZVtsXSkpJiZnIGluc3RhbmNlb2YgcylyZXR1cm4gZztyZXR1cm4gbmV3IHMoITEpfWQ9Zi5jYWxsKGUpfWZvcihiPWQubmV4dDshKHY9Yi5jYWxsKGQpKS5kb25lOyl7dHJ5e2c9RSh2LnZhbHVlKX1jYXRjaChlKXt0aHJvdyB1KGQpLGV9aWYoIm9iamVjdCI9PXR5cGVvZiBnJiZnJiZnIGluc3RhbmNlb2YgcylyZXR1cm4gZ31yZXR1cm4gbmV3IHMoITEpfX0sMjE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpLGk9big4Nyksbz1uKDMxKSxhPW4oNjcpLGM9big4OCksdT1uKDExNikscz1pKCJ3a3MiKSxkPXIuU3ltYm9sLGY9dT9kOmQmJmQud2l0aG91dFNldHRlcnx8YTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG8ocyxlKSYmKGN8fCJzdHJpbmciPT10eXBlb2Ygc1tlXSl8fChjJiZvKGQsZSk/c1tlXT1kW2VdOnNbZV09ZigiU3ltYm9sLiIrZSkpLHNbZV19fSwyMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksdC5kPWZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0KHIuZ2V0QmlkUmVxdWVzdCkoZS5yZXF1ZXN0SWQsdCksaT1uJiZPYmplY3Qoci5kZWVwQWNjZXNzKShuLCJtZWRpYVR5cGVzLnZpZGVvIiksbz1pJiZPYmplY3Qoci5kZWVwQWNjZXNzKShpLCJjb250ZXh0Iik7cmV0dXJuIHMoZSxuLGksbyl9LG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTtuKDgpO3ZhciByPW4oMCksaT1uKDMpLG89bigxMiksYT0obi5uKG8pLG4oOSkpLGM9Im91dHN0cmVhbSIsdT0iaW5zdHJlYW0iO3ZhciBzPU9iamVjdChhLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSx0LG4sbyl7cmV0dXJuIXR8fG4mJm8hPT1jP2kuYi5nZXRDb25maWcoImNhY2hlLnVybCIpfHwhZS52YXN0WG1sfHxlLnZhc3RVcmw/ISghZS52YXN0VXJsJiYhZS52YXN0WG1sKTooT2JqZWN0KHIubG9nRXJyb3IpKCdcbiAgICAgICAgVGhpcyBiaWQgY29udGFpbnMgb25seSB2YXN0WG1sIGFuZCB3aWxsIG5vdCB3b3JrIHdoZW4gYSBwcmViaWQgY2FjaGUgdXJsIGlzIG5vdCBzcGVjaWZpZWQuXG4gICAgICAgIFRyeSBlbmFibGluZyBwcmViaWQgY2FjaGUgd2l0aCB1cGJqcy5zZXRDb25maWcoeyBjYWNoZToge3VybDogIi4uLiJ9IH0pO1xuICAgICAgJyksITEpOm8hPT1jfHwhIShlLnJlbmRlcmVyfHx0LnJlbmRlcmVyfHxuLnJlbmRlcmVyKX0pLCJjaGVja1ZpZGVvQmlkU2V0dXAiKX0sMjIxOmZ1bmN0aW9uKGUsdCxuKXtuKDIyMik7dmFyIHI9big1Nik7ZS5leHBvcnRzPXIoIkFycmF5IiwiZmluZEluZGV4Iil9LDIyMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9big2NCkuZmluZEluZGV4LG89big1NSksYT0iZmluZEluZGV4IixjPSEwO2EgaW5bXSYmQXJyYXkoMSkuZmluZEluZGV4KChmdW5jdGlvbigpe2M9ITF9KSkscih7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOmN9LHtmaW5kSW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxvKGEpfSwyMjk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaCwhMSl9O3ZhciByPW4oMTApLGk9bi5uKHIpLG89bigzOCksYT1uKDUpLGM9bi5uKGEpLHU9bigwKSxzPW4oMjMpLGQ9bigxMSksZj1uLm4oZCksbD1uKDEzKSxwPW4oMTIpLGc9bi5uKHApLGI9bigzKSx2PWMuYS5FVkVOVFMuQklEX1dPTix5PWMuYS5FVkVOVFMuU1RBTEVfUkVOREVSO2Z1bmN0aW9uIGgoZSl7dmFyIHQ9ZS5tZXNzYWdlPyJtZXNzYWdlIjoiZGF0YSIsbj17fTt0cnl7bj1KU09OLnBhcnNlKGVbdF0pfWNhdGNoKGUpe3JldHVybn1pZihuJiZuLmFkSWQpe3ZhciByPWYoKShzLmEuZ2V0Qmlkc1JlY2VpdmVkKCksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkSWQ9PT1uLmFkSWR9KSk7aWYociYmIlByZWJpZCBSZXF1ZXN0Ij09PW4ubWVzc2FnZSl7aWYoci5zdGF0dXM9PT1jLmEuQklEX1NUQVRVUy5SRU5ERVJFRCYmKE9iamVjdCh1LmxvZ1dhcm4pKCJBZCBpZCAiLmNvbmNhdChyLmFkSWQsIiBoYXMgYmVlbiByZW5kZXJlZCBiZWZvcmUiKSksaS5hLmVtaXQoeSxyKSxPYmplY3QodS5kZWVwQWNjZXNzKShiLmIuZ2V0Q29uZmlnKCJhdWN0aW9uT3B0aW9ucyIpLCJzdXBwcmVzc1N0YWxlUmVuZGVyIikpKXJldHVybjshZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmFkSWQscj1lLmFkLGk9ZS5hZFVybCxvPWUud2lkdGgsYT1lLmhlaWdodCxjPWUucmVuZGVyZXIscz1lLmNwbTtPYmplY3QobC5jKShjKT9PYmplY3QobC5iKShjLGUpOm4mJihtKGUpLHQuc291cmNlLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHttZXNzYWdlOiJSZW5kZXIgU2VjdXJlIENyZWF0aXZlIixhZDpPYmplY3QodS5yZXBsYWNlQXVjdGlvblByaWNlKShyLHMpLGFkVXJsOk9iamVjdCh1LnJlcGxhY2VBdWN0aW9uUHJpY2UpKGkscyksYWRJZDpuLHdpZHRoOm8saGVpZ2h0OmF9KSx0Lm9yaWdpbikpfShyLGUpLHMuYS5hZGRXaW5uaW5nQmlkKHIpLGkuYS5lbWl0KHYscil9aWYociYmIlByZWJpZCBOYXRpdmUiPT09bi5tZXNzYWdlKWlmKCJhc3NldFJlcXVlc3QiPT09bi5hY3Rpb24pe3ZhciBhPU9iamVjdChvLmQpKG4scik7ZS5zb3VyY2UucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoYSksZS5vcmlnaW4pfWVsc2UgaWYoImFsbEFzc2V0UmVxdWVzdCI9PT1uLmFjdGlvbil7dmFyIGQ9T2JqZWN0KG8uYykobixyKTtlLnNvdXJjZS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShkKSxlLm9yaWdpbil9ZWxzZSBpZigicmVzaXplTmF0aXZlSGVpZ2h0Ij09PW4uYWN0aW9uKXIuaGVpZ2h0PW4uaGVpZ2h0LHIud2lkdGg9bi53aWR0aCxtKHIpO2Vsc2V7aWYoImNsaWNrIj09PU9iamVjdChvLmIpKG4scikpcmV0dXJuO3MuYS5hZGRXaW5uaW5nQmlkKHIpLGkuYS5lbWl0KHYscil9fX1mdW5jdGlvbiBtKGUpe3ZhciB0PWUuYWRJZCxuPWUuYWRVbml0Q29kZSxyPWUud2lkdGgsaT1lLmhlaWdodDtbImRpdiIsImlmcmFtZSJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUsdCl7dmFyIG47T2JqZWN0KHUuaXNHcHRQdWJhZHNEZWZpbmVkKSgpJiYobj1mdW5jdGlvbihlKXt2YXIgdD1mKCkod2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLChmdW5jdGlvbih0KXtyZXR1cm4gZigpKHQuZ2V0VGFyZ2V0aW5nS2V5cygpLChmdW5jdGlvbihuKXtyZXR1cm4gZygpKHQuZ2V0VGFyZ2V0aW5nKG4pLGUpfSkpfSkpO3JldHVybiB0JiZ0LmdldFNsb3RFbGVtZW50SWQoKX0oZSkpOyFuJiZPYmplY3QodS5pc0FwbkdldFRhZ0RlZmluZWQpKCkmJihuPWZ1bmN0aW9uKGUpe3ZhciB0PXdpbmRvdy5hcG50YWcuZ2V0VGFnKGUpO3JldHVybiB0JiZ0LnRhcmdldElkfSh0KSk7bnx8KG49dCk7cmV0dXJuIG59KHQsbiksaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyKTtyZXR1cm4gaSYmaS5xdWVyeVNlbGVjdG9yKGUpfShlKyc6bm90KFtzdHlsZSo9ImRpc3BsYXk6IG5vbmUiXSknKTtpZihvKXt2YXIgYT1vLnN0eWxlO2Eud2lkdGg9cisicHgiLGEuaGVpZ2h0PWkrInB4In1lbHNlIE9iamVjdCh1LmxvZ1dhcm4pKCJVbmFibGUgdG8gbG9jYXRlIG1hdGNoaW5nIHBhZ2UgZWxlbWVudCBmb3IgYWRVbml0Q29kZSAiLmNvbmNhdChuLCIuICBDYW4ndCByZXNpemUgaXQgdG8gYWQncyBkaW1lbnNpb25zLiAgUGxlYXNlIHJldmlldyBzZXR1cC4iKSl9KSl9fSwyMzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgcj1uKDApLGk9bigyOCksbz1uKDExKSxhPW4ubihvKSxjPW4oNSk7dmFyIHU9ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PXt9O3JldHVybiB0LmFkZFdpbm5pbmdCaWQ9ZnVuY3Rpb24odCl7dmFyIG49YSgpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF1Y3Rpb25JZCgpPT09dC5hdWN0aW9uSWR9KSk7bj8odC5zdGF0dXM9Yy5CSURfU1RBVFVTLlJFTkRFUkVELG4uYWRkV2lubmluZ0JpZCh0KSk6T2JqZWN0KHIubG9nV2FybikoIkF1Y3Rpb24gbm90IGZvdW5kIHdoZW4gYWRkaW5nIHdpbm5pbmcgYmlkIil9LHQuZ2V0QWxsV2lubmluZ0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFdpbm5pbmdCaWRzKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSl9LHQuZ2V0Qmlkc1JlcXVlc3RlZD1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QmlkUmVxdWVzdHMoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKX0sdC5nZXROb0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldE5vQmlkcygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pfSx0LmdldEJpZHNSZWNlaXZlZD1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7aWYoZS5nZXRBdWN0aW9uU3RhdHVzKCk9PT1pLmEpcmV0dXJuIGUuZ2V0Qmlkc1JlY2VpdmVkKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKX0sdC5nZXRBbGxCaWRzRm9yQWRVbml0Q29kZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEJpZHNSZWNlaXZlZCgpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuYWRVbml0Q29kZT09PXR9KSl9LHQuZ2V0QWRVbml0cz1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QWRVbml0cygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pfSx0LmdldEFkVW5pdENvZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBZFVuaXRDb2RlcygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pLmZpbHRlcihyLnVuaXF1ZXMpfSx0LmNyZWF0ZUF1Y3Rpb249ZnVuY3Rpb24odCl7dmFyIG49dC5hZFVuaXRzLHI9dC5hZFVuaXRDb2RlcyxvPXQuY2FsbGJhY2ssYT10LmNiVGltZW91dCxjPXQubGFiZWxzLHU9dC5hdWN0aW9uSWQscz1PYmplY3QoaS5rKSh7YWRVbml0czpuLGFkVW5pdENvZGVzOnIsY2FsbGJhY2s6byxjYlRpbWVvdXQ6YSxsYWJlbHM6YyxhdWN0aW9uSWQ6dX0pO3JldHVybiBmdW5jdGlvbih0KXtlLnB1c2godCl9KHMpLHN9LHQuZmluZEJpZEJ5QWRJZD1mdW5jdGlvbih0KXtyZXR1cm4gYSgpKGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRCaWRzUmVjZWl2ZWQoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRJZD09PXR9KSl9LHQuZ2V0U3RhbmRhcmRCaWRkZXJBZFNlcnZlclRhcmdldGluZz1mdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5qKSgpW2MuSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR119LHQuc2V0U3RhdHVzRm9yQmlkcz1mdW5jdGlvbihuLHIpe3ZhciBpPXQuZmluZEJpZEJ5QWRJZChuKTtpZihpJiYoaS5zdGF0dXM9ciksaSYmcj09PWMuQklEX1NUQVRVUy5CSURfVEFSR0VUSU5HX1NFVCl7dmFyIG89YSgpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF1Y3Rpb25JZCgpPT09aS5hdWN0aW9uSWR9KSk7byYmby5zZXRCaWRUYXJnZXRpbmcoaSl9fSx0LmdldExhc3RBdWN0aW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5sZW5ndGgmJmVbZS5sZW5ndGgtMV0uZ2V0QXVjdGlvbklkKCl9LHQuY2xlYXJBbGxBdWN0aW9ucz1mdW5jdGlvbigpe2UubGVuZ3RoPTB9LHR9KCl9LDIzMDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlKXt2YXIgdDt0cnl7ZT1lfHx3aW5kb3cuc2Vzc2lvblN0b3JhZ2UsdD1KU09OLnBhcnNlKGUuZ2V0SXRlbSh1KSl9Y2F0Y2goZSl7fXQmJnAodCwhMCl9O3ZhciByLGksbz1uKDMpLGE9bigwKSxjPW4oMjgpLHU9InVwYmpzOmRlYnVnZ2luZyI7ZnVuY3Rpb24gcyhlKXtPYmplY3QoYS5sb2dNZXNzYWdlKSgiREVCVUc6ICIrZSl9ZnVuY3Rpb24gZChlKXtPYmplY3QoYS5sb2dXYXJuKSgiREVCVUc6ICIrZSl9ZnVuY3Rpb24gZihlKXtyPXkuYmluZChlKSxjLmMuYmVmb3JlKHIsNSksaT1oLmJpbmQoZSksYy5lLmJlZm9yZShpLDUpfWZ1bmN0aW9uIGwoKXtjLmMuZ2V0SG9va3Moe2hvb2s6cn0pLnJlbW92ZSgpLGMuZS5nZXRIb29rcyh7aG9vazppfSkucmVtb3ZlKCl9ZnVuY3Rpb24gcChlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO28uYi5zZXRDb25maWcoe2RlYnVnOiEwfSksbCgpLGYoZSkscygiYmlkZGVyIG92ZXJyaWRlcyBlbmFibGVkIi5jb25jYXQodD8iIGZyb20gc2Vzc2lvbiI6IiIpKX1mdW5jdGlvbiBnKGUsdCxuKXtyZXR1cm4hKCFlLmJpZGRlcnx8ZS5iaWRkZXI9PT10KXx8ISghZS5hZFVuaXRDb2RlfHxlLmFkVW5pdENvZGU9PT1uKX1mdW5jdGlvbiBiKGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJi0xPT09ZS5pbmRleE9mKHQpfWZ1bmN0aW9uIHYoZSx0LG4pe3JldHVybiBPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09WyJhZFVuaXRDb2RlIiwiYmlkZGVyIl0uaW5kZXhPZihlKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7cmV0dXJuIHMoImJpZGRlciBvdmVycmlkZXMgY2hhbmdlZCAnIi5jb25jYXQodC5hZFVuaXRDb2RlLCIvIikuY29uY2F0KHQuYmlkZGVyQ29kZSwiJyAiKS5jb25jYXQobiwiLiIpLmNvbmNhdChyLCIgZnJvbSAnIikuY29uY2F0KHRbcl0sIi5qcycgdG8gJyIpLmNvbmNhdChlW3JdLCInIikpLHRbcl09ZVtyXSx0fSksdCl9ZnVuY3Rpb24geShlLHQsbil7dmFyIHI9dGhpcztiKHIuYmlkZGVycyxuLmJpZGRlckNvZGUpP2QoImJpZGRlciAnIi5jb25jYXQobi5iaWRkZXJDb2RlLCInIGV4Y2x1ZGVkIGZyb20gYXVjdGlvbiBieSBiaWRkZXIgb3ZlcnJpZGVzIikpOihBcnJheS5pc0FycmF5KHIuYmlkcykmJnIuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtnKGUsbi5iaWRkZXJDb2RlLHQpfHx2KGUsbiwiYmlkZGVyIil9KSksZSh0LG4pKX1mdW5jdGlvbiBoKGUsdCl7dmFyIG49dGhpcyxyPXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hYihuLmJpZGRlcnMsZS5iaWRkZXJDb2RlKXx8KGQoImJpZFJlcXVlc3QgJyIuY29uY2F0KGUuYmlkZGVyQ29kZSwiJyBleGNsdWRlZCBmcm9tIGF1Y3Rpb24gYnkgYmlkZGVyIG92ZXJyaWRlcyIpKSwhMSl9KSk7QXJyYXkuaXNBcnJheShuLmJpZFJlcXVlc3RzKSYmci5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmJpZFJlcXVlc3RzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihuKXtnKHQsZS5iaWRkZXJDb2RlLG4uYWRVbml0Q29kZSl8fHYodCxuLCJiaWRSZXF1ZXN0Iil9KSl9KSl9KSksZShyKX1mdW5jdGlvbiBtKGUpe2lmKGUuZW5hYmxlZCl7dHJ5e3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHUsSlNPTi5zdHJpbmdpZnkoZSkpfWNhdGNoKGUpe31wKGUpfWVsc2V7bCgpLHMoImJpZGRlciBvdmVycmlkZXMgZGlzYWJsZWQiKTt0cnl7d2luZG93LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0odSl9Y2F0Y2goZSl7fX19by5iLmdldENvbmZpZygiZGVidWdnaW5nIiwoZnVuY3Rpb24oZSl7cmV0dXJuIG0oZS5kZWJ1Z2dpbmcpfSkpfSwyNDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGEgZnVuY3Rpb24iKTtyZXR1cm4gZX19LDI1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2lmKHIoZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gobil7Y2FzZSAwOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmNhbGwodCl9O2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGUuY2FsbCh0LG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIGUuY2FsbCh0LG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLGkpe3JldHVybiBlLmNhbGwodCxuLHIsaSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSwyNjpmdW5jdGlvbihlLHQsbil7dmFyIHI9big0NSksaT1uKDI3KSxvPWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6dm9pZCAwfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP28ocltlXSl8fG8oaVtlXSk6cltlXSYmcltlXVt0XXx8aVtlXSYmaVtlXVt0XX19LDI3OmZ1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuTWF0aD09TWF0aCYmZX07ZS5leHBvcnRzPW4oIm9iamVjdCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzKXx8bigib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93KXx8bigib2JqZWN0Ij09dHlwZW9mIHNlbGYmJnNlbGYpfHxuKCJvYmplY3QiPT10eXBlb2YgdCYmdCl8fGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCl8fEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9KS5jYWxsKHQsbig0MCkpfSwyODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gRX0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSksdC5rPWZ1bmN0aW9uKGUpe3ZhciB0LG4sbyxhLHM9ZS5hZFVuaXRzLGQ9ZS5hZFVuaXRDb2RlcyxmPWUuY2FsbGJhY2sscD1lLmNiVGltZW91dCx2PWUubGFiZWxzLFU9ZS5hdWN0aW9uSWQsaz1zLE49dixQPWQscT1bXSxHPVtdLEw9W10sVz1VfHxPYmplY3Qoci5nZW5lcmF0ZVVVSUQpKCksRj1mLHo9cCxWPVtdLEg9bmV3IFNldDtmdW5jdGlvbiBLKCl7cmV0dXJue2F1Y3Rpb25JZDpXLHRpbWVzdGFtcDp0LGF1Y3Rpb25FbmQ6bixhdWN0aW9uU3RhdHVzOm8sYWRVbml0czprLGFkVW5pdENvZGVzOlAsbGFiZWxzOk4sYmlkZGVyUmVxdWVzdHM6cSxub0JpZHM6TCxiaWRzUmVjZWl2ZWQ6Ryx3aW5uaW5nQmlkczpWLHRpbWVvdXQ6en19ZnVuY3Rpb24gSihlLHQpe2lmKHQmJmNsZWFyVGltZW91dChhKSx2b2lkIDA9PT1uKXt2YXIgaT1bXTtlJiYoT2JqZWN0KHIubG9nTWVzc2FnZSkoIkF1Y3Rpb24gIi5jb25jYXQoVywiIHRpbWVkT3V0IikpLGM9SCwoaT1xLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuKGUuYmlkc3x8W10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWMuaGFzKGUuYmlkZGVyKX0pKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntiaWRJZDplLmJpZElkLGJpZGRlcjplLmJpZGRlcixhZFVuaXRDb2RlOmUuYWRVbml0Q29kZSxhdWN0aW9uSWQ6ZS5hdWN0aW9uSWR9fSkpKS5sZW5ndGgmJmouZW1pdChTLkVWRU5UUy5CSURfVElNRU9VVCxpKSksbz1BLG49RGF0ZS5ub3coKSxqLmVtaXQoUy5FVkVOVFMuQVVDVElPTl9FTkQsSygpKSxfKGssKGZ1bmN0aW9uKCl7dHJ5e2lmKG51bGwhPUYpe3ZhciB0PVAsbj1HLmZpbHRlcihyLmJpbmQuY2FsbChyLmFkVW5pdHNGaWx0ZXIsdGhpcyx0KSkucmVkdWNlKE0se30pO0YuYXBwbHkodXBianMsW24sZSxXXSksRj1udWxsfX1jYXRjaChlKXtPYmplY3Qoci5sb2dFcnJvcikoIkVycm9yIGV4ZWN1dGluZyBiaWRzQmFja0hhbmRsZXIiLG51bGwsZSl9ZmluYWxseXtpLmxlbmd0aCYmTy5jYWxsVGltZWRPdXRCaWRkZXJzKHMsaSx6KTt2YXIgbz11LmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpfHx7fTtvLmVuYWJsZU92ZXJyaWRlfHxtKG8uc3luY0RlbGF5KX19KSl9dmFyIGN9ZnVuY3Rpb24gWSgpe3UuYi5yZXNldEJpZGRlcigpLE9iamVjdChyLmxvZ0luZm8pKCJCaWRzIFJlY2VpdmVkIGZvciBBdWN0aW9uIHdpdGggaWQ6ICIuY29uY2F0KFcpLEcpLG89QSxKKCExLCEwKX1mdW5jdGlvbiBRKGUpe0guYWRkKGUpfWZ1bmN0aW9uICQoZSl7dmFyIHQ9dGhpcztlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0O3Q9ZSxxPXEuY29uY2F0KHQpfSkpO3ZhciBuPXt9LHM9e2JpZFJlcXVlc3RzOmUscnVuOmZ1bmN0aW9uKCl7dmFyIHMscDtzPUouYmluZChudWxsLCEwKSxwPXNldFRpbWVvdXQocyx6KSxhPXAsbz1FLGouZW1pdChTLkVWRU5UUy5BVUNUSU9OX0lOSVQsSygpKTt2YXIgdj1mdW5jdGlvbihlLHQpe3ZhciBuPTAsbz0hMSxhPW5ldyBTZXQscz17fTtmdW5jdGlvbiBkKCl7bi0tLG8mJjA9PT1uJiZlKCl9ZnVuY3Rpb24gZihlLG8pe3ZhciBhPXRoaXMsZj10LmdldEJpZFJlcXVlc3RzKCk7aWYoby5hZGRSZXF1ZXN0T25seSYmYS5pc0R5bmFtaWMmJiFmLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlclJlcXVlc3RJZD09PWEuYmlkZGVyUmVxdWVzdElkfSkpKWYucHVzaChhKTtlbHNle3Nbby5yZXF1ZXN0SWRdPSEwLG4rKzt2YXIgcD10LmdldEF1Y3Rpb25JZCgpLGc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZFVuaXRDb2RlLG49ZS5iaWQsbz1lLmJpZGRlclJlcXVlc3QsYT1lLmF1Y3Rpb25JZCxzPW8uc3RhcnQsZD1oKHt9LG4se2F1Y3Rpb25JZDphLHJlc3BvbnNlVGltZXN0YW1wOk9iamVjdChyLnRpbWVzdGFtcCkoKSxyZXF1ZXN0VGltZXN0YW1wOnMsY3BtOnBhcnNlRmxvYXQobi5jcG0pfHwwLGJpZGRlcjpuLmJpZGRlckNvZGUsYWRVbml0Q29kZTp0fSk7ZC50aW1lVG9SZXNwb25kPWQucmVzcG9uc2VUaW1lc3RhbXAtZC5yZXF1ZXN0VGltZXN0YW1wLGouZW1pdChTLkVWRU5UUy5CSURfQURKVVNUTUVOVCxkKTt2YXIgZj1vLmJpZHMmJmwoKShvLmJpZHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGU9PXQmJmUuYmlkSWQ9PWQucmVxdWVzdElkfSkpLHA9ZiYmZi5yZW5kZXJlcixnPWQubWVkaWFUeXBlLGI9ZiYmZi5tZWRpYVR5cGVzJiZmLm1lZGlhVHlwZXNbZ10sdj1iJiZiLnJlbmRlcmVyLG09bnVsbDt2JiZ2LnVybCYmdi5yZW5kZXImJighMCE9PXYuYmFja3VwT25seXx8IW4ucmVuZGVyZXIpP209djpwJiZwLnVybCYmcC5yZW5kZXImJighMCE9PXAuYmFja3VwT25seXx8IW4ucmVuZGVyZXIpJiYobT1wKTttJiYoZC5yZW5kZXJlcj1jLmEuaW5zdGFsbCh7dXJsOm0udXJsfSksZC5yZW5kZXJlci5zZXRSZW5kZXIobS5yZW5kZXIpKTt2YXIgTz1EKG4ubWVkaWFUeXBlLGYsdS5iLmdldENvbmZpZygibWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSIpKSxFPU9iamVjdChpLmEpKGQuY3BtLCJvYmplY3QiPT09eShPKT9POnUuYi5nZXRDb25maWcoImN1c3RvbVByaWNlQnVja2V0IiksdS5iLmdldENvbmZpZygiY3VycmVuY3kuZ3JhbnVsYXJpdHlNdWx0aXBsaWVyIikpO3JldHVybiBkLnBiTGc9RS5sb3csZC5wYk1nPUUubWVkLGQucGJIZz1FLmhpZ2gsZC5wYkFnPUUuYXV0byxkLnBiRGc9RS5kZW5zZSxkLnBiQ2c9RS5jdXN0b20sZH0oe2FkVW5pdENvZGU6ZSxiaWQ6byxiaWRkZXJSZXF1ZXN0OmEsYXVjdGlvbklkOnB9KTsidmlkZW8iPT09Zy5tZWRpYVR5cGU/ZnVuY3Rpb24oZSx0LG4saSl7dmFyIG89ITAsYT1PYmplY3Qoci5nZXRCaWRSZXF1ZXN0KSh0Lm9yaWdpbmFsUmVxdWVzdElkfHx0LnJlcXVlc3RJZCxbbl0pLGM9YSYmT2JqZWN0KHIuZGVlcEFjY2VzcykoYSwibWVkaWFUeXBlcy52aWRlbyIpLHM9YyYmT2JqZWN0KHIuZGVlcEFjY2VzcykoYywiY29udGV4dCIpO3UuYi5nZXRDb25maWcoImNhY2hlLnVybCIpJiZzIT09Yi5iJiYoIXQudmlkZW9DYWNoZUtleXx8dS5iLmdldENvbmZpZygiY2FjaGUuaWdub3JlQmlkZGVyQ2FjaGVLZXkiKT8obz0hMSx4KGUsdCxpLGEpKTp0LnZhc3RVcmx8fChPYmplY3Qoci5sb2dFcnJvcikoInZpZGVvQ2FjaGVLZXkgc3BlY2lmaWVkIGJ1dCBub3QgcmVxdWlyZWQgdmFzdFVybCBmb3IgdmlkZW8gYmlkIiksbz0hMSkpO28mJihCKGUsdCksaSgpKX0odCxnLGEsZCk6KEIodCxnKSxkKCkpfX1mdW5jdGlvbiBwKCl7dmFyIGk9dGhpcyxjPXQuZ2V0QmlkUmVxdWVzdHMoKTtpZigiczJzQmlkZGVyUGxhY2Vob2xkZXIiIT09aS5iaWRkZXJDb2RlKXt2YXIgZD11LmIuZ2V0Q29uZmlnKCJhdWN0aW9uT3B0aW9ucyIpO2lmKGEuYWRkKGkpLGQmJiFPYmplY3Qoci5pc0VtcHR5KShkKSl7dmFyIGY9ZC5zZWNvbmRhcnlCaWRkZXJzO2YmJiFjLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gZygpKGYsZS5iaWRkZXJDb2RlKX0pKSYmKGM9Yy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFnKCkoZixlLmJpZGRlckNvZGUpfSkpKX1vPWMuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmhhcyhlKX0pKSxpLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7c1tlLmJpZElkXXx8KHQuYWRkTm9CaWQoZSksai5lbWl0KFMuRVZFTlRTLk5PX0JJRCxlKSl9KSksbyYmMD09PW4mJmUoKX1lbHNle3ZhciBsPWMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJSZXF1ZXN0SWR9KSkuaW5kZXhPZihpLmJpZGRlclJlcXVlc3RJZCk7bD4tMSYmYy5zcGxpY2UobCwxKX19cmV0dXJue2FkZEJpZFJlc3BvbnNlOmYsYWRhcHRlckRvbmU6cH19KFksdCk7Ty5jYWxsQmlkcyhrLGUsKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07Qy5hcHBseSh7ZGlzcGF0Y2g6di5hZGRCaWRSZXNwb25zZSxiaWRkZXJSZXF1ZXN0OnRoaXN9LHQpfSksdi5hZGFwdGVyRG9uZSx7cmVxdWVzdDpmdW5jdGlvbihlLHQpe2YoVCx0KSxmKG4sZSksSVtlXXx8KElbZV09e1NSQTohMCxvcmlnaW46dH0pLG5bZV0+MSYmKElbZV0uU1JBPSExKX0sZG9uZTpmdW5jdGlvbihlKXtUW2VdLS0sd1swXSYmZCh3WzBdKSYmdy5zaGlmdCgpfX0seixRKX19O2Z1bmN0aW9uIGQoZSl7dmFyIHQ9ITAsbj11LmIuZ2V0Q29uZmlnKCJtYXhSZXF1ZXN0c1Blck9yaWdpbiIpfHw0O3JldHVybiBlLmJpZFJlcXVlc3RzLnNvbWUoKGZ1bmN0aW9uKGUpe3ZhciByPTEsaT12b2lkIDAhPT1lLnNyYyYmZS5zcmM9PT1TLlMyUy5TUkM/InMycyI6ZS5iaWRkZXJDb2RlO3JldHVybiBJW2ldJiYoITE9PT1JW2ldLlNSQSYmKHI9TWF0aC5taW4oZS5iaWRzLmxlbmd0aCxuKSksVFtJW2ldLm9yaWdpbl0rcj5uJiYodD0hMSkpLCF0fSkpLHQmJmUucnVuKCksdH1mdW5jdGlvbiBmKGUsdCl7dm9pZCAwPT09ZVt0XT9lW3RdPTE6ZVt0XSsrfWQocyl8fChPYmplY3Qoci5sb2dXYXJuKSgicXVldWVpbmcgYXVjdGlvbiBkdWUgdG8gbGltaXRlZCBlbmRwb2ludCBjYXBhY2l0eSIpLHcucHVzaChzKSl9cmV0dXJue2FkZEJpZFJlY2VpdmVkOmZ1bmN0aW9uKGUpe0c9Ry5jb25jYXQoZSl9LGFkZE5vQmlkOmZ1bmN0aW9uKGUpe0w9TC5jb25jYXQoZSl9LGV4ZWN1dGVDYWxsYmFjazpKLGNhbGxCaWRzOmZ1bmN0aW9uKCl7bz0ic3RhcnRlZCIsdD1EYXRlLm5vdygpO3ZhciBlPU8ubWFrZUJpZFJlcXVlc3RzKGssdCxXLHosTik7T2JqZWN0KHIubG9nSW5mbykoIkJpZHMgUmVxdWVzdGVkIGZvciBBdWN0aW9uIHdpdGggaWQ6ICIuY29uY2F0KFcpLGUpLGUubGVuZ3RoPDE/KE9iamVjdChyLmxvZ1dhcm4pKCJObyB2YWxpZCBiaWQgcmVxdWVzdHMgcmV0dXJuZWQgZm9yIGF1Y3Rpb24iKSxZKCkpOlIuY2FsbCh7ZGlzcGF0Y2g6JCxjb250ZXh0OnRoaXN9LGUpfSxhZGRXaW5uaW5nQmlkOmZ1bmN0aW9uKGUpe1Y9Vi5jb25jYXQoZSksTy5jYWxsQmlkV29uQmlkZGVyKGUuYmlkZGVyLGUscyl9LHNldEJpZFRhcmdldGluZzpmdW5jdGlvbihlKXtPLmNhbGxTZXRUYXJnZXRpbmdCaWRkZXIoZS5iaWRkZXIsZSl9LGdldFdpbm5pbmdCaWRzOmZ1bmN0aW9uKCl7cmV0dXJuIFZ9LGdldFRpbWVvdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gen0sZ2V0QXVjdGlvbklkOmZ1bmN0aW9uKCl7cmV0dXJuIFd9LGdldEF1Y3Rpb25TdGF0dXM6ZnVuY3Rpb24oKXtyZXR1cm4gb30sZ2V0QWRVbml0czpmdW5jdGlvbigpe3JldHVybiBrfSxnZXRBZFVuaXRDb2RlczpmdW5jdGlvbigpe3JldHVybiBQfSxnZXRCaWRSZXF1ZXN0czpmdW5jdGlvbigpe3JldHVybiBxfSxnZXRCaWRzUmVjZWl2ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gR30sZ2V0Tm9CaWRzOmZ1bmN0aW9uKCl7cmV0dXJuIEx9fX0sbi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLG4uZCh0LCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gUn0pKSx0Lmc9VSx0LmQ9QixuLmQodCwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSksbi5kKHQsImkiLChmdW5jdGlvbigpe3JldHVybiBrfSkpLG4uZCh0LCJoIiwoZnVuY3Rpb24oKXtyZXR1cm4gTn0pKSx0Lmo9UDt2YXIgcj1uKDApLGk9big0OSksbz1uKDM4KSxhPW4oMTAyKSxjPW4oMTMpLHU9bigzKSxzPW4oNjEpLGQ9big5KSxmPW4oMTEpLGw9bi5uKGYpLHA9bigxMiksZz1uLm4ocCksYj1uKDIyKSx2PW4oMik7ZnVuY3Rpb24geShlKXtyZXR1cm4oeT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGgoKXtyZXR1cm4oaD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBtPXMuYS5zeW5jVXNlcnMsTz1uKDgpLmRlZmF1bHQsaj1uKDEwKSxTPW4oNSksRT0iaW5Qcm9ncmVzcyIsQT0iY29tcGxldGVkIjtqLm9uKFMuRVZFTlRTLkJJRF9BREpVU1RNRU5ULChmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmJpZGRlckNvZGUsaT1lLmNwbTtpZih1cGJqcy5iaWRkZXJTZXR0aW5ncyYmKG4mJnVwYmpzLmJpZGRlclNldHRpbmdzW25dJiYiZnVuY3Rpb24iPT10eXBlb2YgdXBianMuYmlkZGVyU2V0dGluZ3Nbbl0uYmlkQ3BtQWRqdXN0bWVudD90PXVwYmpzLmJpZGRlclNldHRpbmdzW25dLmJpZENwbUFkanVzdG1lbnQ6dXBianMuYmlkZGVyU2V0dGluZ3NbUy5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0mJiJmdW5jdGlvbiI9PXR5cGVvZiB1cGJqcy5iaWRkZXJTZXR0aW5nc1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXS5iaWRDcG1BZGp1c3RtZW50JiYodD11cGJqcy5iaWRkZXJTZXR0aW5nc1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXS5iaWRDcG1BZGp1c3RtZW50KSx0KSl0cnl7aT10KGUuY3BtLGgoe30sZSkpfWNhdGNoKGUpe09iamVjdChyLmxvZ0Vycm9yKSgiRXJyb3IgZHVyaW5nIGJpZCBhZGp1c3RtZW50IiwiYmlkbWFuYWdlci5qcyIsZSl9aT49MCYmKGUuY3BtPWkpfShlKX0pKTt2YXIgVD17fSxJPXt9LHc9W107dmFyIEM9T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oZSx0KXt0aGlzLmRpc3BhdGNoLmNhbGwodGhpcy5iaWRkZXJSZXF1ZXN0LGUsdCl9KSwiYWRkQmlkUmVzcG9uc2UiKSxSPU9iamVjdChkLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSl7dGhpcy5kaXNwYXRjaC5jYWxsKHRoaXMuY29udGV4dCxlKX0pLCJhZGRCaWRkZXJSZXF1ZXN0cyIpLF89T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oZSx0KXt0JiZ0KCl9KSwiYmlkc0JhY2tDYWxsYmFjayIpO2Z1bmN0aW9uIFUoZSx0KXt0LnRpbWVUb1Jlc3BvbmQ+ZS5nZXRUaW1lb3V0KCkrdS5iLmdldENvbmZpZygidGltZW91dEJ1ZmZlciIpJiZlLmV4ZWN1dGVDYWxsYmFjayghMCl9ZnVuY3Rpb24gQihlLHQpe3ZhciBuPWUuZ2V0QmlkUmVxdWVzdHMoKSxyPWwoKShuLChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJDb2RlPT09dC5iaWRkZXJDb2RlfSkpOyFmdW5jdGlvbihlLHQpe3ZhciBuO2lmKGUuYmlkZGVyQ29kZSYmKGUuY3BtPjB8fGUuZGVhbElkKSl7dmFyIHI9bCgpKHQuYmlkcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWUuYWRVbml0Q29kZX0pKTtuPWZ1bmN0aW9uKGUsdCxuKXtpZighdClyZXR1cm57fTt2YXIgcj17fSxpPXVwYmpzLmJpZGRlclNldHRpbmdzO2lmKGkpe3EocixQKHQubWVkaWFUeXBlLGUpLHQsbiksZSYmaVtlXSYmaVtlXVtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddJiYocShyLGlbZV0sdCxuKSx0LnNlbmRTdGFuZGFyZFRhcmdldGluZz1pW2VdLnNlbmRTdGFuZGFyZFRhcmdldGluZyl9dC5uYXRpdmUmJihyPWgoe30scixPYmplY3Qoby5lKSh0LG4pKSk7cmV0dXJuIHJ9KGUuYmlkZGVyQ29kZSxlLHIpfWUuYWRzZXJ2ZXJUYXJnZXRpbmc9aChlLmFkc2VydmVyVGFyZ2V0aW5nfHx7fSxuKX0odCxyKSxqLmVtaXQoUy5FVkVOVFMuQklEX1JFU1BPTlNFLHQpLGUuYWRkQmlkUmVjZWl2ZWQodCksVShlLHQpfXZhciB4PU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLGkpe09iamVjdChhLmIpKFt0XSwoZnVuY3Rpb24oaSxvKXtpPyhPYmplY3Qoci5sb2dXYXJuKSgiRmFpbGVkIHRvIHNhdmUgdG8gdGhlIHZpZGVvIGNhY2hlOiAiLmNvbmNhdChpLCIuIFZpZGVvIGJpZCBtdXN0IGJlIGRpc2NhcmRlZC4iKSksVShlLHQpKToiIj09PW9bMF0udXVpZD8oT2JqZWN0KHIubG9nV2FybikoIlN1cHBsaWVkIHZpZGVvIGNhY2hlIGtleSB3YXMgYWxyZWFkeSBpbiB1c2UgYnkgUHJlYmlkIENhY2hlOyBjYWNoaW5nIGF0dGVtcHQgd2FzIHJlamVjdGVkLiBWaWRlbyBiaWQgbXVzdCBiZSBkaXNjYXJkZWQuIiksVShlLHQpKToodC52aWRlb0NhY2hlS2V5PW9bMF0udXVpZCx0LnZhc3RVcmx8fCh0LnZhc3RVcmw9T2JqZWN0KGEuYSkodC52aWRlb0NhY2hlS2V5KSksQihlLHQpLG4oKSl9KSxpKX0pLCJjYWxsUHJlYmlkQ2FjaGUiKTtmdW5jdGlvbiBEKGUsdCxuKXtpZihlJiZuKXtpZihlPT09di5kKXt2YXIgaT1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJtZWRpYVR5cGVzLiIuY29uY2F0KHYuZCwiLmNvbnRleHQiKSwiaW5zdHJlYW0iKTtpZihuWyIiLmNvbmNhdCh2LmQsIi0iKS5jb25jYXQoaSldKXJldHVybiBuWyIiLmNvbmNhdCh2LmQsIi0iKS5jb25jYXQoaSldfXJldHVybiBuW2VdfX12YXIgaz1mdW5jdGlvbihlLHQpe3ZhciBuPUQoZSx0LHUuYi5nZXRDb25maWcoIm1lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHkiKSk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiZuPyJzdHJpbmciPT10eXBlb2Ygbj9uOiJjdXN0b20iOnUuYi5nZXRDb25maWcoInByaWNlR3JhbnVsYXJpdHkiKX0sTj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4oZT1lfHxrKHQubWVkaWFUeXBlLG4pKT09PVMuR1JBTlVMQVJJVFlfT1BUSU9OUy5BVVRPP3QucGJBZzplPT09Uy5HUkFOVUxBUklUWV9PUFRJT05TLkRFTlNFP3QucGJEZzplPT09Uy5HUkFOVUxBUklUWV9PUFRJT05TLkxPVz90LnBiTGc6ZT09PVMuR1JBTlVMQVJJVFlfT1BUSU9OUy5NRURJVU0/dC5wYk1nOmU9PT1TLkdSQU5VTEFSSVRZX09QVElPTlMuSElHSD90LnBiSGc6ZT09PVMuR1JBTlVMQVJJVFlfT1BUSU9OUy5DVVNUT00/dC5wYkNnOnZvaWQgMH19O2Z1bmN0aW9uIFAoZSx0KXtmdW5jdGlvbiBuKGUsdCl7cmV0dXJue2tleTplLHZhbDoiZnVuY3Rpb24iPT10eXBlb2YgdD9mdW5jdGlvbihlLG4pe3JldHVybiB0KGUsbil9OmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5nZXRWYWx1ZSkoZSx0KX19fXZhciBpPVMuVEFSR0VUSU5HX0tFWVMsbz11cGJqcy5iaWRkZXJTZXR0aW5ncztpZihvW1MuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdfHwob1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXT17fSksb1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddfHwob1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddPVtuKGkuQklEREVSLCJiaWRkZXJDb2RlIiksbihpLkFEX0lELCJhZElkIiksbihpLlBSSUNFX0JVQ0tFVCxOKCkpLG4oaS5TSVpFLCJzaXplIiksbihpLkRFQUwsImRlYWxJZCIpLG4oaS5TT1VSQ0UsInNvdXJjZSIpLG4oaS5GT1JNQVQsIm1lZGlhVHlwZSIpLG4oaS5BRE9NQUlOLChmdW5jdGlvbihlKXtyZXR1cm4gZS5tZXRhJiZlLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnMmJmUubWV0YS5hZHZlcnRpc2VyRG9tYWlucy5sZW5ndGg+MD9lLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnNbMF06IiJ9KSldKSwidmlkZW8iPT09ZSl7dmFyIGE9b1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddO2lmKFtpLlVVSUQsaS5DQUNIRV9JRF0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dm9pZCAwPT09bCgpKGEsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleT09PWV9KSkmJmEucHVzaChuKGUsInZpZGVvQ2FjaGVLZXkiKSl9KSksdS5iLmdldENvbmZpZygiY2FjaGUudXJsIikmJighdHx8ITEhPT1PYmplY3Qoci5kZWVwQWNjZXNzKShvLCIiLmNvbmNhdCh0LCIuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nIikpKSl7dmFyIGM9T2JqZWN0KHIucGFyc2VVcmwpKHUuYi5nZXRDb25maWcoImNhY2hlLnVybCIpKTt2b2lkIDA9PT1sKCkoYSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUua2V5PT09aS5DQUNIRV9IT1NUfSkpJiZhLnB1c2gobihpLkNBQ0hFX0hPU1QsKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJhZHNlcnZlclRhcmdldGluZy4iLmNvbmNhdChpLkNBQ0hFX0hPU1QpKT9lLmFkc2VydmVyVGFyZ2V0aW5nW2kuQ0FDSEVfSE9TVF06Yy5ob3N0bmFtZX0pKSl9fXJldHVybiBvW1MuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdfWZ1bmN0aW9uIHEoZSx0LG4saSl7dmFyIG89dFtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddO3JldHVybiBuLnNpemU9bi5nZXRTaXplKCksT2JqZWN0KHIuX2VhY2gpKG8sKGZ1bmN0aW9uKG8pe3ZhciBhPW8ua2V5LGM9by52YWw7aWYoZVthXSYmT2JqZWN0KHIubG9nV2FybikoIlRoZSBrZXk6ICIrYSsiIGlzIGdldHRpbmcgb3Zld3JpdHRlbiIpLE9iamVjdChyLmlzRm4pKGMpKXRyeXtjPWMobixpKX1jYXRjaChlKXtPYmplY3Qoci5sb2dFcnJvcikoImJpZG1hbmFnZXIiLCJFUlJPUiIsZSl9KHZvaWQgMD09PXQuc3VwcHJlc3NFbXB0eUtleXN8fCEwIT09dC5zdXBwcmVzc0VtcHR5S2V5cykmJmEhPT1TLlRBUkdFVElOR19LRVlTLkRFQUx8fCFPYmplY3Qoci5pc0VtcHR5U3RyKShjKSYmbnVsbCE9Yz9lW2FdPWM6T2JqZWN0KHIubG9nSW5mbykoInN1cHByZXNzaW5nIGVtcHR5IGtleSAnIithKyInIGZyb20gYWRzZXJ2ZXIgdGFyZ2V0aW5nIil9KSksZX1mdW5jdGlvbiBNKGUsdCl7cmV0dXJuIGVbdC5hZFVuaXRDb2RlXXx8KGVbdC5hZFVuaXRDb2RlXT17YmlkczpbXX0pLGVbdC5hZFVuaXRDb2RlXS5iaWRzLnB1c2godCksZX19LDI5OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19fSwzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBPfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKTt2YXIgcj1uKDQ5KSxpPW4oMTEpLG89bi5uKGkpLGE9bigxMiksYz1uLm4oYSksdT1uKDkwKSxzPW4ubih1KSxkPW4oMCksZj1bImZwZCJdO2Z1bmN0aW9uIGwoZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuLHIsaT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIG4scixpPXt9LG89T2JqZWN0LmtleXMoZSk7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKyluPW9bcl0sdC5pbmRleE9mKG4pPj0wfHwoaVtuXT1lW25dKTtyZXR1cm4gaX0oZSx0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2ZvcihyPTA7cjxvLmxlbmd0aDtyKyspbj1vW3JdLHQuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbikmJihpW25dPWVbbl0pfXJldHVybiBpfWZ1bmN0aW9uIHAoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIGcoZSl7cmV0dXJuKGc9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBiKCl7cmV0dXJuKGI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgdj1uKDc1KSx5PW4oNSksaD0iVFJVRSI9PT1PYmplY3QoZC5nZXRQYXJhbWV0ZXJCeU5hbWUpKHkuREVCVUdfTU9ERSkudG9VcHBlckNhc2UoKSxtPXdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sTz0icmFuZG9tIixqPXt9O2pbT109ITAsai5maXhlZD0hMDt2YXIgUz1PLEU9e0xPVzoibG93IixNRURJVU06Im1lZGl1bSIsSElHSDoiaGlnaCIsQVVUTzoiYXV0byIsREVOU0U6ImRlbnNlIixDVVNUT006ImN1c3RvbSJ9O3ZhciBBPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGk9W10sYT1udWxsO2Z1bmN0aW9uIHUoKXtlPXt9O3ZhciBpPXtfZGVidWc6aCxnZXQgZGVidWcoKXtyZXR1cm4gdGhpcy5fZGVidWd9LHNldCBkZWJ1ZyhlKXt0aGlzLl9kZWJ1Zz1lfSxfYmlkZGVyVGltZW91dDozZTMsZ2V0IGJpZGRlclRpbWVvdXQoKXtyZXR1cm4gdGhpcy5fYmlkZGVyVGltZW91dH0sc2V0IGJpZGRlclRpbWVvdXQoZSl7dGhpcy5fYmlkZGVyVGltZW91dD1lfSxfcHVibGlzaGVyRG9tYWluOm0sZ2V0IHB1Ymxpc2hlckRvbWFpbigpe3JldHVybiB0aGlzLl9wdWJsaXNoZXJEb21haW59LHNldCBwdWJsaXNoZXJEb21haW4oZSl7dGhpcy5fcHVibGlzaGVyRG9tYWluPWV9LF9wcmljZUdyYW51bGFyaXR5OkUuTUVESVVNLHNldCBwcmljZUdyYW51bGFyaXR5KGUpe2MoZSkmJigic3RyaW5nIj09dHlwZW9mIGU/dGhpcy5fcHJpY2VHcmFudWxhcml0eT1hKGUpP2U6RS5NRURJVU06T2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZSkmJih0aGlzLl9jdXN0b21QcmljZUJ1Y2tldD1lLHRoaXMuX3ByaWNlR3JhbnVsYXJpdHk9RS5DVVNUT00sT2JqZWN0KGQubG9nTWVzc2FnZSkoIlVzaW5nIGN1c3RvbSBwcmljZSBncmFudWxhcml0eSIpKSl9LGdldCBwcmljZUdyYW51bGFyaXR5KCl7cmV0dXJuIHRoaXMuX3ByaWNlR3JhbnVsYXJpdHl9LF9jdXN0b21QcmljZUJ1Y2tldDp7fSxnZXQgY3VzdG9tUHJpY2VCdWNrZXQoKXtyZXR1cm4gdGhpcy5fY3VzdG9tUHJpY2VCdWNrZXR9LF9tZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5Ont9LGdldCBtZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5KCl7cmV0dXJuIHRoaXMuX21lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHl9LHNldCBtZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5KGUpe3ZhciB0PXRoaXM7dGhpcy5fbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eT1PYmplY3Qua2V5cyhlKS5yZWR1Y2UoKGZ1bmN0aW9uKG4scil7cmV0dXJuIGMoZVtyXSk/InN0cmluZyI9PXR5cGVvZiBlP25bcl09YShlW3JdKT9lW3JdOnQuX3ByaWNlR3JhbnVsYXJpdHk6T2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZSkmJihuW3JdPWVbcl0sT2JqZWN0KGQubG9nTWVzc2FnZSkoIlVzaW5nIGN1c3RvbSBwcmljZSBncmFudWxhcml0eSBmb3IgIi5jb25jYXQocikpKTpPYmplY3QoZC5sb2dXYXJuKSgiSW52YWxpZCBwcmljZSBncmFudWxhcml0eSBmb3IgbWVkaWEgdHlwZTogIi5jb25jYXQocikpLG59KSx7fSl9LF9zZW5kQWxsQmlkczp0cnVlLGdldCBlbmFibGVTZW5kQWxsQmlkcygpe3JldHVybiB0aGlzLl9zZW5kQWxsQmlkc30sc2V0IGVuYWJsZVNlbmRBbGxCaWRzKGUpe3RoaXMuX3NlbmRBbGxCaWRzPWV9LF91c2VCaWRDYWNoZTpmYWxzZSxnZXQgdXNlQmlkQ2FjaGUoKXtyZXR1cm4gdGhpcy5fdXNlQmlkQ2FjaGV9LHNldCB1c2VCaWRDYWNoZShlKXt0aGlzLl91c2VCaWRDYWNoZT1lfSxfZGV2aWNlQWNjZXNzOnRydWUsZ2V0IGRldmljZUFjY2Vzcygpe3JldHVybiB0aGlzLl9kZXZpY2VBY2Nlc3N9LHNldCBkZXZpY2VBY2Nlc3MoZSl7dGhpcy5fZGV2aWNlQWNjZXNzPWV9LF9iaWRkZXJTZXF1ZW5jZTpTLGdldCBiaWRkZXJTZXF1ZW5jZSgpe3JldHVybiB0aGlzLl9iaWRkZXJTZXF1ZW5jZX0sc2V0IGJpZGRlclNlcXVlbmNlKGUpe2pbZV0/dGhpcy5fYmlkZGVyU2VxdWVuY2U9ZTpPYmplY3QoZC5sb2dXYXJuKSgiSW52YWxpZCBvcmRlcjogIi5jb25jYXQoZSwiLiBCaWRkZXIgU2VxdWVuY2Ugd2FzIG5vdCBzZXQuIikpfSxfdGltZW91dEJ1ZmZlcjo0MDAsZ2V0IHRpbWVvdXRCdWZmZXIoKXtyZXR1cm4gdGhpcy5fdGltZW91dEJ1ZmZlcn0sc2V0IHRpbWVvdXRCdWZmZXIoZSl7dGhpcy5fdGltZW91dEJ1ZmZlcj1lfSxfZGlzYWJsZUFqYXhUaW1lb3V0OmZhbHNlLGdldCBkaXNhYmxlQWpheFRpbWVvdXQoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUFqYXhUaW1lb3V0fSxzZXQgZGlzYWJsZUFqYXhUaW1lb3V0KGUpe3RoaXMuX2Rpc2FibGVBamF4VGltZW91dD1lfSxfbWF4TmVzdGVkSWZyYW1lczoxMCxnZXQgbWF4TmVzdGVkSWZyYW1lcygpe3JldHVybiB0aGlzLl9tYXhOZXN0ZWRJZnJhbWVzfSxzZXQgbWF4TmVzdGVkSWZyYW1lcyhlKXt0aGlzLl9tYXhOZXN0ZWRJZnJhbWVzPWV9LF9hdWN0aW9uT3B0aW9uczp7fSxnZXQgYXVjdGlvbk9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fYXVjdGlvbk9wdGlvbnN9LHNldCBhdWN0aW9uT3B0aW9ucyhlKXsoZnVuY3Rpb24oZSl7aWYoIU9iamVjdChkLmlzUGxhaW5PYmplY3QpKGUpKXJldHVybiBPYmplY3QoZC5sb2dXYXJuKSgiQXVjdGlvbiBPcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0IiksITE7Zm9yKHZhciB0PTAsbj1PYmplY3Qua2V5cyhlKTt0PG4ubGVuZ3RoO3QrKyl7dmFyIHI9blt0XTtpZigic2Vjb25kYXJ5QmlkZGVycyIhPT1yJiYic3VwcHJlc3NTdGFsZVJlbmRlciIhPT1yKXJldHVybiBPYmplY3QoZC5sb2dXYXJuKSgiQXVjdGlvbiBPcHRpb25zIGdpdmVuIGFuIGluY29ycmVjdCBwYXJhbTogIi5jb25jYXQocikpLCExO2lmKCJzZWNvbmRhcnlCaWRkZXJzIj09PXIpe2lmKCFPYmplY3QoZC5pc0FycmF5KShlW3JdKSlyZXR1cm4gT2JqZWN0KGQubG9nV2FybikoIkF1Y3Rpb24gT3B0aW9ucyAiLmNvbmNhdChyLCIgbXVzdCBiZSBvZiB0eXBlIEFycmF5IikpLCExO2lmKCFlW3JdLmV2ZXJ5KGQuaXNTdHIpKXJldHVybiBPYmplY3QoZC5sb2dXYXJuKSgiQXVjdGlvbiBPcHRpb25zICIuY29uY2F0KHIsIiBtdXN0IGJlIG9ubHkgc3RyaW5nIikpLCExfWVsc2UgaWYoInN1cHByZXNzU3RhbGVSZW5kZXIiPT09ciYmIU9iamVjdChkLmlzQm9vbGVhbikoZVtyXSkpcmV0dXJuIE9iamVjdChkLmxvZ1dhcm4pKCJBdWN0aW9uIE9wdGlvbnMgIi5jb25jYXQociwiIG11c3QgYmUgb2YgdHlwZSBib29sZWFuIikpLCExfXJldHVybiEwfSkoZSkmJih0aGlzLl9hdWN0aW9uT3B0aW9ucz1lKX19O2Z1bmN0aW9uIGEoZSl7cmV0dXJuIG8oKShPYmplY3Qua2V5cyhFKSwoZnVuY3Rpb24odCl7cmV0dXJuIGU9PT1FW3RdfSkpfWZ1bmN0aW9uIGMoZSl7aWYoIWUpcmV0dXJuIE9iamVjdChkLmxvZ0Vycm9yKSgiUHJlYmlkIEVycm9yOiBubyB2YWx1ZSBwYXNzZWQgdG8gYHNldFByaWNlR3JhbnVsYXJpdHkoKWAiKSwhMTtpZigic3RyaW5nIj09dHlwZW9mIGUpYShlKXx8T2JqZWN0KGQubG9nV2FybikoIlByZWJpZCBXYXJuaW5nOiBzZXRQcmljZUdyYW51bGFyaXR5IHdhcyBjYWxsZWQgd2l0aCBpbnZhbGlkIHNldHRpbmcsIHVzaW5nIGBtZWRpdW1gIGFzIGRlZmF1bHQuIik7ZWxzZSBpZihPYmplY3QoZC5pc1BsYWluT2JqZWN0KShlKSYmIU9iamVjdChyLmIpKGUpKXJldHVybiBPYmplY3QoZC5sb2dFcnJvcikoIkludmFsaWQgY3VzdG9tIHByaWNlIHZhbHVlIHBhc3NlZCB0byBgc2V0UHJpY2VHcmFudWxhcml0eSgpYCIpLCExO3JldHVybiEwfXQmJkkoT2JqZWN0LmtleXModCkucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiB0W25dIT09aVtuXSYmKGVbbl09aVtuXXx8e30pLGV9KSx7fSkpLHQ9aSxuPXt9fWZ1bmN0aW9uIHkoKXtpZihhJiZuJiZPYmplY3QoZC5pc1BsYWluT2JqZWN0KShuW2FdKSl7dmFyIGU9blthXSxyPW5ldyBzLmEoT2JqZWN0LmtleXModCkuY29uY2F0KE9iamVjdC5rZXlzKGUpKSk7cmV0dXJuIHYocikucmVkdWNlKChmdW5jdGlvbihuLHIpe3JldHVybiB2b2lkIDA9PT1lW3JdP25bcl09dFtyXTp2b2lkIDA9PT10W3JdP25bcl09ZVtyXTpPYmplY3QoZC5pc1BsYWluT2JqZWN0KShlW3JdKT9uW3JdPU9iamVjdChkLm1lcmdlRGVlcCkoe30sdFtyXSxlW3JdKTpuW3JdPWVbcl0sbn0pLHt9KX1yZXR1cm4gYih7fSx0KX1mdW5jdGlvbiBPKGUpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj0iY29udGV4dCI9PT1uPyJzaXRlIjpuO3Rbcl09InNpdGUiPT09cnx8InVzZXIiPT09cj9PYmplY3Qua2V5cyhlW25dKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7cmV0dXJuImRhdGEiPT09cj9PYmplY3QoZC5tZXJnZURlZXApKHQse2V4dDp7ZGF0YTplW25dW3JdfX0pOk9iamVjdChkLm1lcmdlRGVlcCkodCxwKHt9LHIsZVtuXVtyXSkpLHR9KSx7fSk6ZVtuXX0pKSx0fWZ1bmN0aW9uIEEoZSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImNvbnRleHQiPT09ZX0pKS5mb3JFYWNoKChmdW5jdGlvbihuKXtPYmplY3Qua2V5cyhlW25dKS5mb3JFYWNoKChmdW5jdGlvbihyKXsiZGF0YSI9PT1yP09iamVjdChkLm1lcmdlRGVlcCkodCx7ZXh0OntkYXRhOmVbbl1bcl19fSk6Im9iamVjdCIhPT1nKGVbbl1bcl0pfHxBcnJheS5pc0FycmF5KGVbbl1bcl0pP09iamVjdChkLm1lcmdlRGVlcCkodCx7ZXh0OntkYXRhOnAoe30sci50b0xvd2VyQ2FzZSgpLGVbbl1bcl0pfX0pOk9iamVjdC5rZXlzKGVbbl1bcl0pLmZvckVhY2goKGZ1bmN0aW9uKGkpe09iamVjdChkLm1lcmdlRGVlcCkodCx7ZXh0OntkYXRhOnAoe30sci50b0xvd2VyQ2FzZSgpLHAoe30saS50b0xvd2VyQ2FzZSgpLGVbbl1bcl1baV0pKX19KX0pKX0pKX0pKSx0fWZ1bmN0aW9uIFQoZSx0KXt2YXIgbj10O2lmKCJzdHJpbmciIT10eXBlb2YgZSYmKG49ZSxlPSIqIiksImZ1bmN0aW9uIj09dHlwZW9mIG4pe3ZhciByPXt0b3BpYzplLGNhbGxiYWNrOm59O3JldHVybiBpLnB1c2gociksZnVuY3Rpb24oKXtpLnNwbGljZShpLmluZGV4T2YociksMSl9fU9iamVjdChkLmxvZ0Vycm9yKSgibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gSShlKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGMoKSh0LGUudG9waWMpfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuY2FsbGJhY2socCh7fSx0LnRvcGljLGVbdC50b3BpY10pKX0pKSxpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIioiPT09ZS50b3BpY30pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jYWxsYmFjayhlKX0pKX1mdW5jdGlvbiB3KGUsdCl7YT1lO3RyeXtyZXR1cm4gdCgpfWZpbmFsbHl7QygpfX1mdW5jdGlvbiBDKCl7YT1udWxsfXJldHVybiB1KCkse2dldEN1cnJlbnRCaWRkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYX0scmVzZXRCaWRkZXI6QyxnZXRDb25maWc6ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPD0xJiYiZnVuY3Rpb24iIT10eXBlb2YoYXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdKSl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdO3JldHVybiBlP09iamVjdChkLmRlZXBBY2Nlc3MpKHkoKSxlKTp5KCl9cmV0dXJuIFQuYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9LHJlYWRDb25maWc6ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPD0xJiYiZnVuY3Rpb24iIT10eXBlb2YoYXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdKSl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdLHQ9T2JqZWN0KGQuZGVlcENsb25lKSh5KCkpO3JldHVybiBlP09iamVjdChkLmRlZXBBY2Nlc3MpKHQsZSk6dH1yZXR1cm4gVC5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX0sc2V0Q29uZmlnOmZ1bmN0aW9uKG4pe2lmKE9iamVjdChkLmlzUGxhaW5PYmplY3QpKG4pKXt2YXIgcj1PYmplY3Qua2V5cyhuKSxpPXt9O3IuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIG89ImZwZCI9PT1yPyJvcnRiMiI6cixhPSJmcGQiPT09cj9PKG5bcl0pOm5bcl07T2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZVtvXSkmJk9iamVjdChkLmlzUGxhaW5PYmplY3QpKGEpJiYoYT1iKHt9LGVbb10sYSkpLGlbb109dFtvXT1hfSkpLEkoaSl9ZWxzZSBPYmplY3QoZC5sb2dFcnJvcikoInNldENvbmZpZyBvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0Iil9LHNldERlZmF1bHRzOmZ1bmN0aW9uKG4pe09iamVjdChkLmlzUGxhaW5PYmplY3QpKGUpPyhiKGUsbiksYih0LG4pKTpPYmplY3QoZC5sb2dFcnJvcikoImRlZmF1bHRzIG11c3QgYmUgYW4gb2JqZWN0Iil9LHJlc2V0Q29uZmlnOnUscnVuV2l0aEJpZGRlcjp3LGNhbGxiYWNrV2l0aEJpZGRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4pLGk9MDtpPG47aSsrKXJbaV09YXJndW1lbnRzW2ldO3JldHVybiB3KGUsZC5iaW5kLmNhbGwuYXBwbHkoZC5iaW5kLFt0LHRoaXNdLmNvbmNhdChyKSkpfU9iamVjdChkLmxvZ1dhcm4pKCJjb25maWcuY2FsbGJhY2tXaXRoQmlkZGVyIGNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uIil9fX0sc2V0QmlkZGVyQ29uZmlnOmZ1bmN0aW9uKGUpe3RyeXshZnVuY3Rpb24oZSl7aWYoIU9iamVjdChkLmlzUGxhaW5PYmplY3QpKGUpKXRocm93InNldEJpZGRlckNvbmZpZyBiaWRkZXIgb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCI7aWYoIUFycmF5LmlzQXJyYXkoZS5iaWRkZXJzKXx8IWUuYmlkZGVycy5sZW5ndGgpdGhyb3cic2V0QmlkZGVyQ29uZmlnIGJpZGRlciBvcHRpb25zIG11c3QgY29udGFpbiBhIGJpZGRlcnMgbGlzdCB3aXRoIGF0IGxlYXN0IDEgYmlkZGVyIjtpZighT2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZS5jb25maWcpKXRocm93InNldEJpZGRlckNvbmZpZyBiaWRkZXIgb3B0aW9ucyBtdXN0IGNvbnRhaW4gYSBjb25maWcgb2JqZWN0In0oZSksZS5iaWRkZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdF18fChuW3RdPXt9KSxPYmplY3Qua2V5cyhlLmNvbmZpZykuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGk9ImZwZCI9PT1yPyJvcnRiMiI6cixvPSJmcGQiPT09cj9PKGUuY29uZmlnW3JdKTplLmNvbmZpZ1tyXTtPYmplY3QoZC5pc1BsYWluT2JqZWN0KShvKT9uW3RdW2ldPWIoe30sblt0XVtpXXx8e30sbyk6blt0XVtpXT1vfSkpfSkpfWNhdGNoKGUpe09iamVjdChkLmxvZ0Vycm9yKShlKX19LGdldEJpZGRlckNvbmZpZzpmdW5jdGlvbigpe3JldHVybiBufSxjb252ZXJ0QWRVbml0RnBkOmZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZnBkPyhlLm9ydGIySW1wP09iamVjdChkLm1lcmdlRGVlcCkoZS5vcnRiMkltcCxBKGUuZnBkKSk6ZS5vcnRiMkltcD1BKGUuZnBkKSx0LnB1c2goZnVuY3Rpb24oZSl7ZS5mcGQ7cmV0dXJuIGwoZSxmKX0oZSkpKTp0LnB1c2goZSl9KSksdH0sZ2V0TGVnYWN5RnBkOmZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT09ZyhlKSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByPSJzaXRlIj09PW4/ImNvbnRleHQiOm47dFtyXT0iY29udGV4dCI9PT1yfHwidXNlciI9PT1yP09iamVjdC5rZXlzKGVbbl0pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImRhdGEiIT09ZX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7cmV0dXJuImV4dCI9PT1yP09iamVjdChkLm1lcmdlRGVlcCkodCxlW25dW3JdKTpPYmplY3QoZC5tZXJnZURlZXApKHQscCh7fSxyLGVbbl1bcl0pKSx0fSkse30pOmVbbl19KSksdH19LGdldExlZ2FjeUltcEZwZDpmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09PWcoZSkpe3ZhciB0PXt9O3JldHVybiBPYmplY3QoZC5kZWVwQWNjZXNzKShlLCJleHQuZGF0YSIpJiZPYmplY3Qua2V5cyhlLmV4dC5kYXRhKS5mb3JFYWNoKChmdW5jdGlvbihuKXsicGJhZHNsb3QiPT09bj9PYmplY3QoZC5tZXJnZURlZXApKHQse2NvbnRleHQ6e3BiQWRTbG90OmUuZXh0LmRhdGFbbl19fSk6ImFkc2VydmVyIj09PW4/T2JqZWN0KGQubWVyZ2VEZWVwKSh0LHtjb250ZXh0OnthZFNlcnZlcjplLmV4dC5kYXRhW25dfX0pOk9iamVjdChkLm1lcmdlRGVlcCkodCx7Y29udGV4dDp7ZGF0YTpwKHt9LG4sZS5leHQuZGF0YVtuXSl9fSl9KSksdH19fX0oKX0sMzA6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0sMzE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNTMpLGk9e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPU9iamVjdC5oYXNPd258fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuY2FsbChyKGUpLHQpfX0sMzI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9bigzNCksbz1uKDQ0KTtlLmV4cG9ydHM9cj9mdW5jdGlvbihlLHQsbil7cmV0dXJuIGkuZihlLHQsbygxLG4pKX06ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW4sZX19LDMzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KTtlLmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKX0sMzQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9big4NSksbz1uKDE2KSxhPW4oNjMpLGM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3QuZj1yP2M6ZnVuY3Rpb24oZSx0LG4pe2lmKG8oZSksdD1hKHQsITApLG8obiksaSl0cnl7cmV0dXJuIGMoZSx0LG4pfWNhdGNoKGUpe31pZigiZ2V0ImluIG58fCJzZXQiaW4gbil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIik7cmV0dXJuInZhbHVlImluIG4mJihlW3RdPW4udmFsdWUpLGV9fSwzNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQsbil7aWYoIXR8fCFlKXJldHVybiB2b2lkIE9iamVjdChvLmxvZ0Vycm9yKSgiY2Fubm90IGxvYWQgZXh0ZXJuYWwgc2NyaXB0IHdpdGhvdXQgdXJsIGFuZCBtb2R1bGVDb2RlIik7aWYoZT1hLmMoZSksIWkoKSh1LHQpKXJldHVybiB2b2lkIE9iamVjdChvLmxvZ0Vycm9yKSgiIi5jb25jYXQodCwiIG5vdCB3aGl0ZWxpc3RlZCBmb3IgbG9hZGluZyBleHRlcm5hbCBKYXZhU2NyaXB0IikpO2lmKGNbZV0pcmV0dXJuIG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYoY1tlXS5sb2FkZWQ/bigpOmNbZV0uY2FsbGJhY2tzLnB1c2gobikpLGNbZV0udGFnO2NbZV09e2xvYWRlZDohMSx0YWc6bnVsbCxjYWxsYmFja3M6W119LG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuJiZjW2VdLmNhbGxiYWNrcy5wdXNoKG4pO3JldHVybiBPYmplY3Qoby5sb2dXYXJuKSgibW9kdWxlICIuY29uY2F0KHQsIiBpcyBsb2FkaW5nIGV4dGVybmFsIEphdmFTY3JpcHQiKSksZnVuY3Rpb24odCxuKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtyLnR5cGU9InRleHQvamF2YXNjcmlwdCIsci5hc3luYz0hMCxjW2VdLnRhZz1yLHIucmVhZHlTdGF0ZT9yLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpeyJsb2FkZWQiIT09ci5yZWFkeVN0YXRlJiYiY29tcGxldGUiIT09ci5yZWFkeVN0YXRlfHwoci5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxuKCkpfTpyLm9ubG9hZD1mdW5jdGlvbigpe24oKX07cmV0dXJuIHIuc3JjPXQsT2JqZWN0KG8uaW5zZXJ0RWxlbWVudCkocikscn0oZSwoZnVuY3Rpb24oKXtjW2VdLmxvYWRlZD0hMDt0cnl7Zm9yKHZhciB0PTA7dDxjW2VdLmNhbGxiYWNrcy5sZW5ndGg7dCsrKWNbZV0uY2FsbGJhY2tzW3RdKCl9Y2F0Y2goZSl7T2JqZWN0KG8ubG9nRXJyb3IpKCJFcnJvciBleGVjdXRpbmcgY2FsbGJhY2siLCJhZGxvYWRlci5qczpsb2FkRXh0ZXJuYWxTY3JpcHQiLGUpfX0pKX07dmFyIHI9bigxMiksaT1uLm4ociksbz1uKDApLGE9big0NyksYz17fSx1PVsiYWRsb294IiwiY3JpdGVvIiwib3V0c3RyZWFtIiwiYWRhZ2lvIiwiYnJvd3NpIl19LDM3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE4KSxpPW4oNzQpO2UuZXhwb3J0cz1yP2k6ZnVuY3Rpb24oZSl7cmV0dXJuIFNldC5wcm90b3R5cGUudmFsdWVzLmNhbGwoZSl9fSwzNzg6ZnVuY3Rpb24oZSx0LG4pe24oMzc5KTt2YXIgcj1uKDU2KTtlLmV4cG9ydHM9cigiU3RyaW5nIiwiaW5jbHVkZXMiKX0sMzc5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDM4MCksbz1uKDUyKTtyKHt0YXJnZXQ6IlN0cmluZyIscHJvdG86ITAsZm9yY2VkOiFuKDM4MikoImluY2x1ZGVzIil9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4hIX5TdHJpbmcobyh0aGlzKSkuaW5kZXhPZihpKGUpLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sMzg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLHQuaD1mdW5jdGlvbihlKXtpZihlJiZlLnR5cGUmJmZ1bmN0aW9uKGUpe2lmKCFlfHwhbygpKE9iamVjdC5rZXlzKHApLGUpKXJldHVybiBPYmplY3Qoci5sb2dFcnJvcikoIiIuY29uY2F0KGUsIiBuYXRpdmVQYXJhbSBpcyBub3Qgc3VwcG9ydGVkIikpLCExO3JldHVybiEwfShlLnR5cGUpKXJldHVybiBwW2UudHlwZV07cmV0dXJuIGV9LHQuZz1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdChyLmdldEJpZFJlcXVlc3QpKGUucmVxdWVzdElkLHQpO2lmKCFuKXJldHVybiExO2lmKCFPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJuYXRpdmUuY2xpY2tVcmwiKSlyZXR1cm4hMTt2YXIgaT1uLm5hdGl2ZVBhcmFtcztpZighaSlyZXR1cm4hMDt2YXIgYT1PYmplY3Qua2V5cyhpKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpW2VdLnJlcXVpcmVkfSkpLGM9T2JqZWN0LmtleXMoZS5uYXRpdmUpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGUubmF0aXZlW3RdfSkpO3JldHVybiBhLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gbygpKGMsZSl9KSl9LHQuYj1mdW5jdGlvbihlLHQpe3ZhciBuOyJjbGljayI9PT1lLmFjdGlvbj9uPXQubmF0aXZlJiZ0Lm5hdGl2ZS5jbGlja1RyYWNrZXJzOihuPXQubmF0aXZlJiZ0Lm5hdGl2ZS5pbXByZXNzaW9uVHJhY2tlcnMsdC5uYXRpdmUmJnQubmF0aXZlLmphdmFzY3JpcHRUcmFja2VycyYmT2JqZWN0KHIuaW5zZXJ0SHRtbEludG9JZnJhbWUpKHQubmF0aXZlLmphdmFzY3JpcHRUcmFja2VycykpO3JldHVybihufHxbXSkuZm9yRWFjaChyLnRyaWdnZXJQaXhlbCksZS5hY3Rpb259LHQuZT1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O09iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy5yZW5kZXJlclVybCIpP2UubmF0aXZlLnJlbmRlcmVyVXJsPWcodC5uYXRpdmVQYXJhbXMucmVuZGVyZXJVcmwpOk9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy5hZFRlbXBsYXRlIikmJihlLm5hdGl2ZS5hZFRlbXBsYXRlPWcodC5uYXRpdmVQYXJhbXMuYWRUZW1wbGF0ZSkpO3ZhciBpPSExIT09T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLnNlbmRUYXJnZXRpbmdLZXlzIiksbz1mdW5jdGlvbihlKXt2YXIgdD17fTtPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJuYXRpdmVQYXJhbXMuZXh0IikmJk9iamVjdC5rZXlzKGUubmF0aXZlUGFyYW1zLmV4dCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlXT0iaGJfbmF0aXZlXyIuY29uY2F0KGUpfSkpO3JldHVybiB1KHUoe30sZC5OQVRJVkVfS0VZUyksdCl9KHQpLGE9dSh1KHt9LGUubmF0aXZlKSxlLm5hdGl2ZS5leHQpO3JldHVybiBkZWxldGUgYS5leHQsT2JqZWN0LmtleXMoYSkuZm9yRWFjaCgoZnVuY3Rpb24oYSl7dmFyIGM9b1thXSx1PWcoZS5uYXRpdmVbYV0pfHxnKE9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm5hdGl2ZS5leHQuIi5jb25jYXQoYSkpKTtpZigiYWRUZW1wbGF0ZSIhPT1hJiZjJiZ1KXt2YXIgcz1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuIi5jb25jYXQoYSwiLnNlbmRJZCIpKTtpZigiYm9vbGVhbiIhPXR5cGVvZiBzJiYocz1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuZXh0LiIuY29uY2F0KGEsIi5zZW5kSWQiKSkpLHMpdT0iIi5jb25jYXQoYywiOiIpLmNvbmNhdChlLmFkSWQpO3ZhciBkPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy4iLmNvbmNhdChhLCIuc2VuZFRhcmdldGluZ0tleXMiKSk7ImJvb2xlYW4iIT10eXBlb2YgZCYmKGQ9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLmV4dC4iLmNvbmNhdChhLCIuc2VuZFRhcmdldGluZ0tleXMiKSkpLCgiYm9vbGVhbiI9PXR5cGVvZiBkP2Q6aSkmJihuW2NdPXUpfX0pKSxufSx0LmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj17bWVzc2FnZToiYXNzZXRSZXNwb25zZSIsYWRJZDplLmFkSWQsYXNzZXRzOltdfTt0Lm5hdGl2ZS5oYXNPd25Qcm9wZXJ0eSgiYWRUZW1wbGF0ZSIpJiYobi5hZFRlbXBsYXRlPWcodC5uYXRpdmUuYWRUZW1wbGF0ZSkpO3QubmF0aXZlLmhhc093blByb3BlcnR5KCJyZW5kZXJlclVybCIpJiYobi5yZW5kZXJlclVybD1nKHQubmF0aXZlLnJlbmRlcmVyVXJsKSk7cmV0dXJuIGUuYXNzZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBpPU9iamVjdChyLmdldEtleUJ5VmFsdWUpKGQuTkFUSVZFX0tFWVMsZSksbz1nKHQubmF0aXZlW2ldKTtuLmFzc2V0cy5wdXNoKHtrZXk6aSx2YWx1ZTpvfSl9KSksbn0sdC5jPWZ1bmN0aW9uKGUsdCl7dmFyIG49e21lc3NhZ2U6ImFzc2V0UmVzcG9uc2UiLGFkSWQ6ZS5hZElkLGFzc2V0czpbXX07cmV0dXJuIE9iamVjdC5rZXlzKHQubmF0aXZlKS5mb3JFYWNoKChmdW5jdGlvbihlLHIpe2lmKCJhZFRlbXBsYXRlIj09PWUmJnQubmF0aXZlW2VdKW4uYWRUZW1wbGF0ZT1nKHQubmF0aXZlW2VdKTtlbHNlIGlmKCJyZW5kZXJlclVybCI9PT1lJiZ0Lm5hdGl2ZVtlXSluLnJlbmRlcmVyVXJsPWcodC5uYXRpdmVbZV0pO2Vsc2UgaWYoImV4dCI9PT1lKU9iamVjdC5rZXlzKHQubmF0aXZlW2VdKS5mb3JFYWNoKChmdW5jdGlvbihyKXtpZih0Lm5hdGl2ZVtlXVtyXSl7dmFyIGk9Zyh0Lm5hdGl2ZVtlXVtyXSk7bi5hc3NldHMucHVzaCh7a2V5OnIsdmFsdWU6aX0pfX0pKTtlbHNlIGlmKHQubmF0aXZlW2VdJiZkLk5BVElWRV9LRVlTLmhhc093blByb3BlcnR5KGUpKXt2YXIgaT1nKHQubmF0aXZlW2VdKTtuLmFzc2V0cy5wdXNoKHtrZXk6ZSx2YWx1ZTppfSl9fSkpLG59O3ZhciByPW4oMCksaT1uKDEyKSxvPW4ubihpKTtmdW5jdGlvbiBhKGUpe3JldHVybihhPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gdShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9jKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cyhlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBzKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX12YXIgZD1uKDUpLGY9W10sbD1PYmplY3Qua2V5cyhkLk5BVElWRV9LRVlTKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBkLk5BVElWRV9LRVlTW2VdfSkpLHA9e2ltYWdlOntpbWFnZTp7cmVxdWlyZWQ6ITB9LHRpdGxlOntyZXF1aXJlZDohMH0sc3BvbnNvcmVkQnk6e3JlcXVpcmVkOiEwfSxjbGlja1VybDp7cmVxdWlyZWQ6ITB9LGJvZHk6e3JlcXVpcmVkOiExfSxpY29uOntyZXF1aXJlZDohMX19fTtmdW5jdGlvbiBnKGUpe3JldHVybiJvYmplY3QiPT09YShlKSYmZS51cmw/ZS51cmw6ZX19LDM4MDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzODEpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihyKGUpKXRocm93IFR5cGVFcnJvcigiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zIik7cmV0dXJuIGV9fSwzODE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApLGk9big1MSksbz1uKDIxKSgibWF0Y2giKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHIoZSkmJih2b2lkIDAhPT0odD1lW29dKT8hIXQ6IlJlZ0V4cCI9PWkoZSkpfX0sMzgyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIxKSgibWF0Y2giKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9Ly4vO3RyeXsiLy4vIltlXSh0KX1jYXRjaChuKXt0cnl7cmV0dXJuIHRbcl09ITEsIi8uLyJbZV0odCl9Y2F0Y2goZSl7fX1yZXR1cm4hMX19LDM5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBqfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gU30pKSx0LmM9RSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSk7dmFyIHI9bigwKSxpPW4oMyksbz1uKDM4KSxhPW4oMjMpLGM9bigxMDEpLHU9bigyKSxzPW4oOSksZD1uKDEyKSxmPW4ubihkKSxsPW4oMTEpLHA9bi5uKGwpO2Z1bmN0aW9uIGcoKXtyZXR1cm4oZz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGIoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHkoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHkoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHkoZSx0KX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24geShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciBoPW4oNSksbT1bXSxPPU9iamVjdC5rZXlzKGguVEFSR0VUSU5HX0tFWVMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGguVEFSR0VUSU5HX0tFWVNbZV19KSksaj17aXNCaWROb3RFeHBpcmVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlc3BvbnNlVGltZXN0YW1wKzFlMyplLnR0bC0xZTM+T2JqZWN0KHIudGltZXN0YW1wKSgpfSxpc1VudXNlZEJpZDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUuc3RhdHVzJiYhZigpKFtoLkJJRF9TVEFUVVMuUkVOREVSRURdLGUuc3RhdHVzKXx8IWUuc3RhdHVzKX19LFM9T2JqZWN0KHMuYikoInN5bmMiLChmdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLG89YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXTtpZighbyl7dmFyIGE9W10sYz1pLmIuZ2V0Q29uZmlnKCJzZW5kQmlkc0NvbnRyb2wuZGVhbFByaW9yaXRpemF0aW9uIiksdT1PYmplY3Qoci5ncm91cEJ5KShlLCJhZFVuaXRDb2RlIik7cmV0dXJuIE9iamVjdC5rZXlzKHUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBpPVtdLG89T2JqZWN0KHIuZ3JvdXBCeSkodVtlXSwiYmlkZGVyQ29kZSIpO09iamVjdC5rZXlzKG8pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBpLnB1c2gob1tlXS5yZWR1Y2UodCkpfSkpLG4+MD8oaT1jP2kuc29ydChFKCEwKSk6aS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiB0LmNwbS1lLmNwbX0pKSxhLnB1c2guYXBwbHkoYSx2KGkuc2xpY2UoMCxuKSkpKTphLnB1c2guYXBwbHkoYSx2KGkpKX0pKSxhfXJldHVybiBlfSkpO2Z1bmN0aW9uIEUoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiB2b2lkIDAhPT10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWwmJnZvaWQgMD09PW4uYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfZGVhbD8tMTp2b2lkIDA9PT10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWwmJnZvaWQgMCE9PW4uYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfZGVhbD8xOmU/bi5jcG0tdC5jcG06bi5hZHNlcnZlclRhcmdldGluZy5oYl9wYi10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX3BifX12YXIgQT1mdW5jdGlvbihlKXt2YXIgdD17fSxuPXt9O2Z1bmN0aW9uIGEoZSx0KXtyZXR1cm4gZS5hZHNlcnZlclRhcmdldGluZyYmdCYmKE9iamVjdChyLmlzQXJyYXkpKHQpJiZmKCkodCxlLmFkVW5pdENvZGUpfHwic3RyaW5nIj09dHlwZW9mIHQmJmUuYWRVbml0Q29kZT09PXQpfWZ1bmN0aW9uIHMoZSx0KXtpZighMD09PWkuYi5nZXRDb25maWcoInRhcmdldGluZ0NvbnRyb2xzLmFsd2F5c0luY2x1ZGVEZWFscyIpKXt2YXIgbj1PLmNvbmNhdChvLmEpO3JldHVybiBTKHQsci5nZXRIaWdoZXN0Q3BtKS5tYXAoKGZ1bmN0aW9uKHQpe2lmKHQuZGVhbElkJiZhKHQsZSkpcmV0dXJuIGIoe30sdC5hZFVuaXRDb2RlLHgodCxuLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV19KSkpKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfXJldHVybltdfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj1nKHt9LGguVEFSR0VUSU5HX0tFWVMsaC5OQVRJVkVfS0VZUyksaT1PYmplY3Qua2V5cyhuKSxvPXt9O09iamVjdChyLmxvZ0luZm8pKCJhbGxvd1RhcmdldGluZ0tleXMgLSBhbGxvd2VkIGtleXMgWyAiLmNvbmNhdCh0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV19KSkuam9pbigiLCAiKSwiIF0iKSksZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdC5rZXlzKGUpWzBdLGE9ZVtyXS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdC5rZXlzKGUpWzBdLGE9MD09PWkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gMD09PXIuaW5kZXhPZihuW2VdKX0pKS5sZW5ndGh8fHAoKSh0LChmdW5jdGlvbihlKXt2YXIgdD1uW2VdO3JldHVybiAwPT09ci5pbmRleE9mKHQpfSkpO3JldHVybiBvW3JdPSFhLGF9KSk7ZVtyXT1hfSkpO3ZhciBhPU9iamVjdC5rZXlzKG8pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV19KSk7cmV0dXJuIE9iamVjdChyLmxvZ0luZm8pKCJhbGxvd1RhcmdldGluZ0tleXMgLSByZW1vdmVkIGtleXMgWyAiLmNvbmNhdChhLmpvaW4oIiwgIiksIiBdIikpLGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZVtPYmplY3Qua2V5cyhlKVswXV0ubGVuZ3RoPjB9KSl9ZnVuY3Rpb24gbChlLHQpe3ZhciBuPU9iamVjdChyLmRlZXBDbG9uZSkoZSk7cmV0dXJuIE9iamVjdC5rZXlzKG4pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue2FkVW5pdENvZGU6ZSxhZHNlcnZlclRhcmdldGluZzpuW2VdfX0pKS5zb3J0KEUoKSkucmVkdWNlKChmdW5jdGlvbihlLGksbyxhKXt2YXIgYyx1PShjPWkuYWRzZXJ2ZXJUYXJnZXRpbmcsT2JqZWN0LmtleXMoYykucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlKyIiLmNvbmNhdCh0LCIlM2QiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGNbdF0pLCIlMjYiKX0pLCIiKSk7bysxPT09YS5sZW5ndGgmJih1PXUuc2xpY2UoMCwtMykpO3ZhciBzPWkuYWRVbml0Q29kZSxkPXUubGVuZ3RoO3JldHVybiBkPD10Pyh0LT1kLE9iamVjdChyLmxvZ0luZm8pKCJBZFVuaXQgJyIuY29uY2F0KHMsIicgYXVjdGlvbiBrZXlzIGNvbXByaXNlZCBvZiAiKS5jb25jYXQoZCwiIGNoYXJhY3RlcnMuICBEZWR1Y3RlZCBmcm9tIHJ1bm5pbmcgdGhyZXNob2xkOyBuZXcgbGltaXQgaXMgIikuY29uY2F0KHQpLG5bc10pLGVbc109bltzXSk6T2JqZWN0KHIubG9nV2FybikoIlRoZSBmb2xsb3dpbmcga2V5cyBmb3IgYWRVbml0Q29kZSAnIi5jb25jYXQocywiJyBleGNlZWRlZCB0aGUgY3VycmVudCBsaW1pdCBvZiB0aGUgJ2F1Y3Rpb25LZXlNYXhDaGFycycgc2V0dGluZy5cblRoZSBrZXktc2V0IHNpemUgd2FzICIpLmNvbmNhdChkLCIsIHRoZSBjdXJyZW50IGFsbG90dGVkIGFtb3VudCB3YXMgIikuY29uY2F0KHQsIi5cbiIpLG5bc10pLG8rMT09PWEubGVuZ3RoJiYwPT09T2JqZWN0LmtleXMoZSkubGVuZ3RoJiZPYmplY3Qoci5sb2dFcnJvcikoIk5vIGF1Y3Rpb24gdGFyZ2V0aW5nIGtleXMgd2VyZSBwZXJtaXR0ZWQgZHVlIHRvIHRoZSBzZXR0aW5nIGluIHNldENvbmZpZyh0YXJnZXRpbmdDb250cm9scy5hdWN0aW9uS2V5TWF4Q2hhcnMpLiAgUGxlYXNlIHJldmlldyBzZXR1cCBhbmQgY29uc2lkZXIgYWRqdXN0aW5nLiIpLGV9KSx7fSl9ZnVuY3Rpb24geShlKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBiKHt9LE9iamVjdC5rZXlzKGUpWzBdLGVbT2JqZWN0LmtleXMoZSlbMF1dLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoe30sT2JqZWN0LmtleXMoZSlbMF0sZVtPYmplY3Qua2V5cyhlKVswXV0uam9pbigiLCIpKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcodCxlKX0pLHt9KSl9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKHQpWzBdO3JldHVybiBlW25dPWcoe30sZVtuXSx0W25dKSxlfSkse30pfWZ1bmN0aW9uIEEodCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P1t0XTpPYmplY3Qoci5pc0FycmF5KSh0KT90OmUuZ2V0QWRVbml0Q29kZXMoKXx8W119ZnVuY3Rpb24gVCgpe3ZhciB0PWUuZ2V0Qmlkc1JlY2VpdmVkKCk7cmV0dXJuIGkuYi5nZXRDb25maWcoInVzZUJpZENhY2hlIil8fCh0PXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbltlLmFkVW5pdENvZGVdPT09ZS5hdWN0aW9uSWR9KSkpLHQ9dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJ2aWRlby5jb250ZXh0IikhPT11LmF9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIiE9PWUubWVkaWFUeXBlfHxPYmplY3QoYy5jKShbZS53aWR0aCxlLmhlaWdodF0pfSkpLmZpbHRlcihqLmlzVW51c2VkQmlkKS5maWx0ZXIoai5pc0JpZE5vdEV4cGlyZWQpLFModCxyLmdldE9sZGVzdEhpZ2hlc3RDcG1CaWQpfWZ1bmN0aW9uIEkoZSxuKXt2YXIgcj10LmdldFdpbm5pbmdCaWRzKGUsbiksaT13KCk7cmV0dXJuIHI9ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBiKHt9LGUuYWRVbml0Q29kZSxPYmplY3Qua2V5cyhlLmFkc2VydmVyVGFyZ2V0aW5nKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT1lLnNlbmRTdGFuZGFyZFRhcmdldGluZ3x8ZS5zZW5kU3RhbmRhcmRUYXJnZXRpbmd8fC0xPT09aS5pbmRleE9mKHQpfSkpLnJlZHVjZSgoZnVuY3Rpb24odCxuKXt2YXIgcj1bZS5hZHNlcnZlclRhcmdldGluZ1tuXV0saT1iKHt9LG4uc3Vic3RyaW5nKDAsMjApLHIpO2lmKG49PT1oLlRBUkdFVElOR19LRVlTLkRFQUwpe3ZhciBvPWIoe30sIiIuY29uY2F0KG4sIl8iKS5jb25jYXQoZS5iaWRkZXJDb2RlKS5zdWJzdHJpbmcoMCwyMCkscik7cmV0dXJuW10uY29uY2F0KHYodCksW2ksb10pfXJldHVybltdLmNvbmNhdCh2KHQpLFtpXSl9KSxbXSkpfSkpfWZ1bmN0aW9uIHcoKXtyZXR1cm4gZS5nZXRTdGFuZGFyZEJpZGRlckFkU2VydmVyVGFyZ2V0aW5nKCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXl9KSkuY29uY2F0KE8pLmZpbHRlcihyLnVuaXF1ZXMpfWZ1bmN0aW9uIEMoZSx0LG4saSl7cmV0dXJuIE9iamVjdC5rZXlzKHQuYWRzZXJ2ZXJUYXJnZXRpbmcpLmZpbHRlcihSKCkpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UubGVuZ3RoJiZlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG4uYWRVbml0Q29kZT09PXQuYWRVbml0Q29kZSYmbi5hZHNlcnZlclRhcmdldGluZ1tlXX19KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihuKXtPYmplY3Qoci5pc0FycmF5KShuLmFkc2VydmVyVGFyZ2V0aW5nW2VdKXx8KG4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV09W24uYWRzZXJ2ZXJUYXJnZXRpbmdbZV1dKSxuLmFkc2VydmVyVGFyZ2V0aW5nW2VdPW4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV0uY29uY2F0KHQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV0pLmZpbHRlcihyLnVuaXF1ZXMpLGRlbGV0ZSB0LmFkc2VydmVyVGFyZ2V0aW5nW2VdfX0obikpfSkpLGUucHVzaCh0KSxlfWZ1bmN0aW9uIFIoKXt2YXIgZT13KCkuY29uY2F0KG8uYSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybi0xPT09ZS5pbmRleE9mKHQpfX1mdW5jdGlvbiBfKGUpe3JldHVybiBiKHt9LGUuYWRVbml0Q29kZSxPYmplY3Qua2V5cyhlLmFkc2VydmVyVGFyZ2V0aW5nKS5maWx0ZXIoUigpKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBiKHt9LHQuc3Vic3RyaW5nKDAsMjApLFtlLmFkc2VydmVyVGFyZ2V0aW5nW3RdXSl9KSkpfWZ1bmN0aW9uIFUoZSx0KXtyZXR1cm4gdC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBmKCkoZSx0LmFkVW5pdENvZGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGcoe30sZSl9KSkucmVkdWNlKEMsW10pLm1hcChfKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfWZ1bmN0aW9uIEIoZSx0KXt2YXIgbj1PLmNvbmNhdChvLmEpLGM9aS5iLmdldENvbmZpZygic2VuZEJpZHNDb250cm9sLmJpZExpbWl0IiksdT1TKHQsci5nZXRIaWdoZXN0Q3BtLGMpLHM9aS5iLmdldENvbmZpZygidGFyZ2V0aW5nQ29udHJvbHMuYWxsb3dTZW5kQWxsQmlkc1RhcmdldGluZ0tleXMiKSxkPXM/cy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBoLlRBUkdFVElOR19LRVlTW2VdfSkpOm47cmV0dXJuIHUubWFwKChmdW5jdGlvbih0KXtpZihhKHQsZSkpcmV0dXJuIGIoe30sdC5hZFVuaXRDb2RlLHgodCxuLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV0mJi0xIT09ZC5pbmRleE9mKGUpfSkpKSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKX1mdW5jdGlvbiB4KGUsdCl7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gYih7fSwiIi5jb25jYXQodCwiXyIpLmNvbmNhdChlLmJpZGRlckNvZGUpLnN1YnN0cmluZygwLDIwKSxbZS5hZHNlcnZlclRhcmdldGluZ1t0XV0pfSkpfWZ1bmN0aW9uIEQodCl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoZSxoLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkcpfXJldHVybiBlLmdldEFkVW5pdHMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmKCkodCxlLmNvZGUpJiZuKGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoe30sZS5jb2RlLGZ1bmN0aW9uKGUpe3ZhciB0PW4oZSk7cmV0dXJuIE9iamVjdC5rZXlzKHQpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmlzU3RyKSh0W2VdKSYmKHRbZV09dFtlXS5zcGxpdCgiLCIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkpKSxPYmplY3Qoci5pc0FycmF5KSh0W2VdKXx8KHRbZV09W3RbZV1dKSxiKHt9LGUsdFtlXSl9KSl9KGUpKX0pKX1yZXR1cm4gdC5zZXRMYXRlc3RBdWN0aW9uRm9yQWRVbml0PWZ1bmN0aW9uKGUsdCl7bltlXT10fSx0LnJlc2V0UHJlc2V0VGFyZ2V0aW5nPWZ1bmN0aW9uKHQsbil7aWYoT2JqZWN0KHIuaXNHcHRQdWJhZHNEZWZpbmVkKSgpKXt2YXIgaT1BKHQpLG89ZS5nZXRBZFVuaXRzKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKGksZS5jb2RlKX0pKSxhPW0ucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlW3RdPW51bGwsZX0pLHt9KTt3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KHIuaXNGbikobikmJm4oZSk7by5mb3JFYWNoKChmdW5jdGlvbihuKXsobi5jb2RlPT09ZS5nZXRBZFVuaXRQYXRoKCl8fG4uY29kZT09PWUuZ2V0U2xvdEVsZW1lbnRJZCgpfHxPYmplY3Qoci5pc0ZuKSh0KSYmdChuLmNvZGUpKSYmZS51cGRhdGVUYXJnZXRpbmdGcm9tTWFwKGEpfSkpfSkpfX0sdC5yZXNldFByZXNldFRhcmdldGluZ0FTVD1mdW5jdGlvbihlKXtBKGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXdpbmRvdy5hcG50YWcuZ2V0VGFnKGUpO2lmKHQmJnQua2V5d29yZHMpe3ZhciBuPU9iamVjdC5rZXlzKHQua2V5d29yZHMpLHI9e307bi5mb3JFYWNoKChmdW5jdGlvbihlKXtmKCkobSxlLnRvTG93ZXJDYXNlKCkpfHwocltlXT10LmtleXdvcmRzW2VdKX0pKSx3aW5kb3cuYXBudGFnLm1vZGlmeVRhZyhlLHtrZXl3b3JkczpyfSl9fSkpfSx0LmdldEFsbFRhcmdldGluZz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06VCgpLG49QShlKSxvPUkobix0KS5jb25jYXQoVShuLHQpKS5jb25jYXQoaS5iLmdldENvbmZpZygiZW5hYmxlU2VuZEFsbEJpZHMiKT9CKG4sdCk6cyhuLHQpKS5jb25jYXQoRChuKSk7by5tYXAoKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24odCl7ZVt0XS5tYXAoKGZ1bmN0aW9uKGUpey0xPT09bS5pbmRleE9mKE9iamVjdC5rZXlzKGUpWzBdKSYmKG09T2JqZWN0LmtleXMoZSkuY29uY2F0KG0pKX0pKX0pKX0pKTt2YXIgYT1PYmplY3Qua2V5cyhnKHt9LGguREVGQVVMVF9UQVJHRVRJTkdfS0VZUyxoLk5BVElWRV9LRVlTKSksYz1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hbGxvd1RhcmdldGluZ0tleXMiKXx8YTtBcnJheS5pc0FycmF5KGMpJiZjLmxlbmd0aD4wJiYobz1kKG8sYykpLG89eShvKTt2YXIgdT1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hdWN0aW9uS2V5TWF4Q2hhcnMiKTtyZXR1cm4gdSYmKE9iamVjdChyLmxvZ0luZm8pKCJEZXRlY3RlZCAndGFyZ2V0aW5nQ29udHJvbHMuYXVjdGlvbktleU1heENoYXJzJyB3YXMgYWN0aXZlIGZvciB0aGlzIGF1Y3Rpb247IHNldCB3aXRoIGEgbGltaXQgb2YgIi5jb25jYXQodSwiIGNoYXJhY3RlcnMuICBSdW5uaW5nIGNoZWNrcyBvbiBhdWN0aW9uIGtleXMuLi4iKSksbz1sKG8sdSkpLG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7b1tlXXx8KG9bZV09e30pfSkpLG99LHQuc2V0VGFyZ2V0aW5nRm9yR1BUPWZ1bmN0aW9uKGUsdCl7d2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLmZvckVhY2goKGZ1bmN0aW9uKG4pe09iamVjdC5rZXlzKGUpLmZpbHRlcih0P3Qobik6T2JqZWN0KHIuaXNBZFVuaXRDb2RlTWF0Y2hpbmdTbG90KShuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmtleXMoZVt0XSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHI9ZVt0XVtuXTsic3RyaW5nIj09dHlwZW9mIHImJi0xIT09ci5pbmRleE9mKCIsIikmJihyPXIuc3BsaXQoIiwiKSksZVt0XVtuXT1yfSkpLE9iamVjdChyLmxvZ01lc3NhZ2UpKCJBdHRlbXB0aW5nIHRvIHNldCB0YXJnZXRpbmctbWFwIGZvciBzbG90OiAiLmNvbmNhdChuLmdldFNsb3RFbGVtZW50SWQoKSwiIHdpdGggdGFyZ2V0aW5nLW1hcDoiKSxlW3RdKSxuLnVwZGF0ZVRhcmdldGluZ0Zyb21NYXAoZVt0XSl9KSl9KSl9LHQuZ2V0V2lubmluZ0JpZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlQoKSxuPUEoZSk7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKG4sZS5hZFVuaXRDb2RlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNwbT4wfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZX0pKS5maWx0ZXIoci51bmlxdWVzKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWU/dDpudWxsfSkpLnJlZHVjZShyLmdldEhpZ2hlc3RDcG0pfSkpfSx0LnNldFRhcmdldGluZ0ZvckFzdD1mdW5jdGlvbihlKXt2YXIgbj10LmdldEFsbFRhcmdldGluZyhlKTt0cnl7dC5yZXNldFByZXNldFRhcmdldGluZ0FTVChlKX1jYXRjaChlKXtPYmplY3Qoci5sb2dFcnJvcikoInVuYWJsZSB0byByZXNldCB0YXJnZXRpbmcgZm9yIEFTVCIrZSl9T2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKG5bZV0pLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKE9iamVjdChyLmxvZ01lc3NhZ2UpKCJBdHRlbXB0aW5nIHRvIHNldCB0YXJnZXRpbmcgZm9yIHRhcmdldElkOiAiLmNvbmNhdChlLCIga2V5OiAiKS5jb25jYXQodCwiIHZhbHVlOiAiKS5jb25jYXQobltlXVt0XSkpLE9iamVjdChyLmlzU3RyKShuW2VdW3RdKXx8T2JqZWN0KHIuaXNBcnJheSkobltlXVt0XSkpe3ZhciBpPXt9O3Quc2VhcmNoKC9wdFswLTldLyk8MD9pW3QudG9VcHBlckNhc2UoKV09bltlXVt0XTppW3RdPW5bZV1bdF0sd2luZG93LmFwbnRhZy5zZXRLZXl3b3JkcyhlLGkse292ZXJyaWRlS2V5VmFsdWU6ITB9KX19KSl9KSl9LHQuaXNBcG50YWdEZWZpbmVkPWZ1bmN0aW9uKCl7aWYod2luZG93LmFwbnRhZyYmT2JqZWN0KHIuaXNGbikod2luZG93LmFwbnRhZy5zZXRLZXl3b3JkcykpcmV0dXJuITB9LHR9KGEuYSl9LDQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksdC5iPXM7dmFyIHI9bigzKSxpPW4oMCksbz1uKDQ3KTtmdW5jdGlvbiBhKCl7cmV0dXJuKGE9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBjKGUpe3JldHVybihjPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHU9cygpO2Z1bmN0aW9uIHMoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06M2UzLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49dC5yZXF1ZXN0LHU9dC5kb25lO3JldHVybiBmdW5jdGlvbih0LHMsZCl7dmFyIGY9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9O3RyeXt2YXIgbCxwPWYubWV0aG9kfHwoZD8iUE9TVCI6IkdFVCIpLGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3Q9by5jKHQpLGcuaHJlZj10O3ZhciBiPSJvYmplY3QiPT09YyhzKSYmbnVsbCE9PXM/czp7c3VjY2VzczpmdW5jdGlvbigpe09iamVjdChpLmxvZ01lc3NhZ2UpKCJ4aHIgc3VjY2VzcyIpfSxlcnJvcjpmdW5jdGlvbihlKXtPYmplY3QoaS5sb2dFcnJvcikoInhociBlcnJvciIsbnVsbCxlKX19O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBzJiYoYi5zdWNjZXNzPXMpLChsPW5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QpLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PT1sLnJlYWR5U3RhdGUpeyJmdW5jdGlvbiI9PXR5cGVvZiB1JiZ1KGcub3JpZ2luKTt2YXIgZT1sLnN0YXR1cztlPj0yMDAmJmU8MzAwfHwzMDQ9PT1lP2Iuc3VjY2VzcyhsLnJlc3BvbnNlVGV4dCxsKTpiLmVycm9yKGwuc3RhdHVzVGV4dCxsKX19LHIuYi5nZXRDb25maWcoImRpc2FibGVBamF4VGltZW91dCIpfHwobC5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXtPYmplY3QoaS5sb2dFcnJvcikoIiAgeGhyIHRpbWVvdXQgYWZ0ZXIgIixsLnRpbWVvdXQsIm1zIil9KSwiR0VUIj09PXAmJmQpe3ZhciB2PU9iamVjdChpLnBhcnNlVXJsKSh0LGYpO2Eodi5zZWFyY2gsZCksdD1PYmplY3QoaS5idWlsZFVybCkodil9bC5vcGVuKHAsdCwhMCksci5iLmdldENvbmZpZygiZGlzYWJsZUFqYXhUaW1lb3V0Iil8fChsLnRpbWVvdXQ9ZSksZi53aXRoQ3JlZGVudGlhbHMmJihsLndpdGhDcmVkZW50aWFscz0hMCksT2JqZWN0KGkuX2VhY2gpKGYuY3VzdG9tSGVhZGVycywoZnVuY3Rpb24oZSx0KXtsLnNldFJlcXVlc3RIZWFkZXIodCxlKX0pKSxmLnByZWZsaWdodCYmbC5zZXRSZXF1ZXN0SGVhZGVyKCJYLVJlcXVlc3RlZC1XaXRoIiwiWE1MSHR0cFJlcXVlc3QiKSxsLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsZi5jb250ZW50VHlwZXx8InRleHQvcGxhaW4iKSwiZnVuY3Rpb24iPT10eXBlb2YgbiYmbihnLm9yaWdpbiksIlBPU1QiPT09cCYmZD9sLnNlbmQoZCk6bC5zZW5kKCl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJ4aHIgY29uc3RydWN0aW9uIixlKSwib2JqZWN0Ij09PWMocykmJm51bGwhPT1zJiZzLmVycm9yKGUpfX19fSw0MDpmdW5jdGlvbihlLHQpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfHwoMCxldmFsKSgidGhpcyIpfWNhdGNoKGUpeyJvYmplY3QiPT10eXBlb2Ygd2luZG93JiYobj13aW5kb3cpfWUuZXhwb3J0cz1ufSw0MTpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sNDI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpLGk9bigyNCksbz1uKDIxKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuLGE9cihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09YXx8bnVsbD09KG49cihhKVtvXSk/dDppKG4pfX0sNDM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkoZSx0KX07dmFyIHI9bigwKTtmdW5jdGlvbiBpKGUsdCl7dmFyIG49dCYmdC5zcmN8fCJjbGllbnQiLGk9ZXx8MDt0aGlzLmJpZGRlckNvZGU9dCYmdC5iaWRkZXJ8fCIiLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuc3RhdHVzTWVzc2FnZT1mdW5jdGlvbigpe3N3aXRjaChpKXtjYXNlIDA6cmV0dXJuIlBlbmRpbmciO2Nhc2UgMTpyZXR1cm4iQmlkIGF2YWlsYWJsZSI7Y2FzZSAyOnJldHVybiJCaWQgcmV0dXJuZWQgZW1wdHkgb3IgZXJyb3IgcmVzcG9uc2UiO2Nhc2UgMzpyZXR1cm4iQmlkIHRpbWVkIG91dCJ9fSgpLHRoaXMuYWRJZD1PYmplY3Qoci5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLHRoaXMucmVxdWVzdElkPXQmJnQuYmlkSWQsdGhpcy5tZWRpYVR5cGU9ImJhbm5lciIsdGhpcy5zb3VyY2U9bix0aGlzLmdldFN0YXR1c0NvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gaX0sdGhpcy5nZXRTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGgrIngiK3RoaXMuaGVpZ2h0fX19LDQ0OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0sNDU6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e319LDQ1MTpmdW5jdGlvbihlLHQsbil7big0NTIpO3ZhciByPW4oNDUpO2UuZXhwb3J0cz1yLlVSTFNlYXJjaFBhcmFtc30sNDUyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bigxMDApO3ZhciByPW4oMTUpLGk9bigyNiksbz1uKDQ1MyksYT1uKDcyKSxjPW4oOTUpLHU9big2MCkscz1uKDk2KSxkPW4oNDYpLGY9big2OSksbD1uKDMxKSxwPW4oMjUpLGc9big1OSksYj1uKDE2KSx2PW4oMzApLHk9big3MSksaD1uKDQ0KSxtPW4oNzQpLE89big1OCksaj1uKDIxKSxTPWkoImZldGNoIiksRT1pKCJIZWFkZXJzIiksQT1qKCJpdGVyYXRvciIpLFQ9IlVSTFNlYXJjaFBhcmFtcyIsST0iVVJMU2VhcmNoUGFyYW1zSXRlcmF0b3IiLHc9ZC5zZXQsQz1kLmdldHRlckZvcihUKSxSPWQuZ2V0dGVyRm9yKEkpLF89L1wrL2csVT1BcnJheSg0KSxCPWZ1bmN0aW9uKGUpe3JldHVybiBVW2UtMV18fChVW2UtMV09UmVnRXhwKCIoKD86JVtcXGRhLWZdezJ9KXsiK2UrIn0pIiwiZ2kiKSl9LHg9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZSl9Y2F0Y2godCl7cmV0dXJuIGV9fSxEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShfLCIgIiksbj00O3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHQpfWNhdGNoKGUpe2Zvcig7bjspdD10LnJlcGxhY2UoQihuLS0pLHgpO3JldHVybiB0fX0saz0vWyEnKCl+XXwlMjAvZyxOPXsiISI6IiUyMSIsIiciOiIlMjciLCIoIjoiJTI4IiwiKSI6IiUyOSIsIn4iOiIlN0UiLCIlMjAiOiIrIn0sUD1mdW5jdGlvbihlKXtyZXR1cm4gTltlXX0scT1mdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoayxQKX0sTT1mdW5jdGlvbihlLHQpe2lmKHQpZm9yKHZhciBuLHIsaT10LnNwbGl0KCImIiksbz0wO288aS5sZW5ndGg7KShuPWlbbysrXSkubGVuZ3RoJiYocj1uLnNwbGl0KCI9IiksZS5wdXNoKHtrZXk6RChyLnNoaWZ0KCkpLHZhbHVlOkQoci5qb2luKCI9IikpfSkpfSxHPWZ1bmN0aW9uKGUpe3RoaXMuZW50cmllcy5sZW5ndGg9MCxNKHRoaXMuZW50cmllcyxlKX0sTD1mdW5jdGlvbihlLHQpe2lmKGU8dCl0aHJvdyBUeXBlRXJyb3IoIk5vdCBlbm91Z2ggYXJndW1lbnRzIil9LFc9cygoZnVuY3Rpb24oZSx0KXt3KHRoaXMse3R5cGU6SSxpdGVyYXRvcjptKEMoZSkuZW50cmllcyksa2luZDp0fSl9KSwiSXRlcmF0b3IiLChmdW5jdGlvbigpe3ZhciBlPVIodGhpcyksdD1lLmtpbmQsbj1lLml0ZXJhdG9yLm5leHQoKSxyPW4udmFsdWU7cmV0dXJuIG4uZG9uZXx8KG4udmFsdWU9ImtleXMiPT09dD9yLmtleToidmFsdWVzIj09PXQ/ci52YWx1ZTpbci5rZXksci52YWx1ZV0pLG59KSksRj1mdW5jdGlvbigpe2YodGhpcyxGLFQpO3ZhciBlLHQsbixyLGksbyxhLGMsdSxzPWFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwLGQ9dGhpcyxwPVtdO2lmKHcoZCx7dHlwZTpULGVudHJpZXM6cCx1cGRhdGVVUkw6ZnVuY3Rpb24oKXt9LHVwZGF0ZVNlYXJjaFBhcmFtczpHfSksdm9pZCAwIT09cylpZih2KHMpKWlmKCJmdW5jdGlvbiI9PXR5cGVvZihlPU8ocykpKWZvcihuPSh0PWUuY2FsbChzKSkubmV4dDshKHI9bi5jYWxsKHQpKS5kb25lOyl7aWYoKGE9KG89KGk9bShiKHIudmFsdWUpKSkubmV4dCkuY2FsbChpKSkuZG9uZXx8KGM9by5jYWxsKGkpKS5kb25lfHwhby5jYWxsKGkpLmRvbmUpdGhyb3cgVHlwZUVycm9yKCJFeHBlY3RlZCBzZXF1ZW5jZSB3aXRoIGxlbmd0aCAyIik7cC5wdXNoKHtrZXk6YS52YWx1ZSsiIix2YWx1ZTpjLnZhbHVlKyIifSl9ZWxzZSBmb3IodSBpbiBzKWwocyx1KSYmcC5wdXNoKHtrZXk6dSx2YWx1ZTpzW3VdKyIifSk7ZWxzZSBNKHAsInN0cmluZyI9PXR5cGVvZiBzPyI/Ij09PXMuY2hhckF0KDApP3Muc2xpY2UoMSk6czpzKyIiKX0sej1GLnByb3RvdHlwZTtjKHose2FwcGVuZDpmdW5jdGlvbihlLHQpe0woYXJndW1lbnRzLmxlbmd0aCwyKTt2YXIgbj1DKHRoaXMpO24uZW50cmllcy5wdXNoKHtrZXk6ZSsiIix2YWx1ZTp0KyIifSksbi51cGRhdGVVUkwoKX0sZGVsZXRlOmZ1bmN0aW9uKGUpe0woYXJndW1lbnRzLmxlbmd0aCwxKTtmb3IodmFyIHQ9Qyh0aGlzKSxuPXQuZW50cmllcyxyPWUrIiIsaT0wO2k8bi5sZW5ndGg7KW5baV0ua2V5PT09cj9uLnNwbGljZShpLDEpOmkrKzt0LnVwZGF0ZVVSTCgpfSxnZXQ6ZnVuY3Rpb24oZSl7TChhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgdD1DKHRoaXMpLmVudHJpZXMsbj1lKyIiLHI9MDtyPHQubGVuZ3RoO3IrKylpZih0W3JdLmtleT09PW4pcmV0dXJuIHRbcl0udmFsdWU7cmV0dXJuIG51bGx9LGdldEFsbDpmdW5jdGlvbihlKXtMKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciB0PUModGhpcykuZW50cmllcyxuPWUrIiIscj1bXSxpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXS5rZXk9PT1uJiZyLnB1c2godFtpXS52YWx1ZSk7cmV0dXJuIHJ9LGhhczpmdW5jdGlvbihlKXtMKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciB0PUModGhpcykuZW50cmllcyxuPWUrIiIscj0wO3I8dC5sZW5ndGg7KWlmKHRbcisrXS5rZXk9PT1uKXJldHVybiEwO3JldHVybiExfSxzZXQ6ZnVuY3Rpb24oZSx0KXtMKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciBuLHI9Qyh0aGlzKSxpPXIuZW50cmllcyxvPSExLGE9ZSsiIixjPXQrIiIsdT0wO3U8aS5sZW5ndGg7dSsrKShuPWlbdV0pLmtleT09PWEmJihvP2kuc3BsaWNlKHUtLSwxKToobz0hMCxuLnZhbHVlPWMpKTtvfHxpLnB1c2goe2tleTphLHZhbHVlOmN9KSxyLnVwZGF0ZVVSTCgpfSxzb3J0OmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI9Qyh0aGlzKSxpPXIuZW50cmllcyxvPWkuc2xpY2UoKTtmb3IoaS5sZW5ndGg9MCxuPTA7bjxvLmxlbmd0aDtuKyspe2ZvcihlPW9bbl0sdD0wO3Q8bjt0KyspaWYoaVt0XS5rZXk+ZS5rZXkpe2kuc3BsaWNlKHQsMCxlKTticmVha310PT09biYmaS5wdXNoKGUpfXIudXBkYXRlVVJMKCl9LGZvckVhY2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49Qyh0aGlzKS5lbnRyaWVzLHI9cChlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpLGk9MDtpPG4ubGVuZ3RoOylyKCh0PW5baSsrXSkudmFsdWUsdC5rZXksdGhpcyl9LGtleXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFcodGhpcywia2V5cyIpfSx2YWx1ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFcodGhpcywidmFsdWVzIil9LGVudHJpZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFcodGhpcywiZW50cmllcyIpfX0se2VudW1lcmFibGU6ITB9KSxhKHosQSx6LmVudHJpZXMpLGEoeiwidG9TdHJpbmciLChmdW5jdGlvbigpe2Zvcih2YXIgZSx0PUModGhpcykuZW50cmllcyxuPVtdLHI9MDtyPHQubGVuZ3RoOyllPXRbcisrXSxuLnB1c2gocShlLmtleSkrIj0iK3EoZS52YWx1ZSkpO3JldHVybiBuLmpvaW4oIiYiKX0pLHtlbnVtZXJhYmxlOiEwfSksdShGLFQpLHIoe2dsb2JhbDohMCxmb3JjZWQ6IW99LHtVUkxTZWFyY2hQYXJhbXM6Rn0pLG98fCJmdW5jdGlvbiIhPXR5cGVvZiBTfHwiZnVuY3Rpb24iIT10eXBlb2YgRXx8cih7Z2xvYmFsOiEwLGVudW1lcmFibGU6ITAsZm9yY2VkOiEwfSx7ZmV0Y2g6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9W2VdO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjEmJih2KHQ9YXJndW1lbnRzWzFdKSYmKG49dC5ib2R5LGcobik9PT1UJiYoKHI9dC5oZWFkZXJzP25ldyBFKHQuaGVhZGVycyk6bmV3IEUpLmhhcygiY29udGVudC10eXBlIil8fHIuc2V0KCJjb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCIpLHQ9eSh0LHtib2R5OmgoMCxTdHJpbmcobikpLGhlYWRlcnM6aCgwLHIpfSkpKSxpLnB1c2godCkpLFMuYXBwbHkodGhpcyxpKX19KSxlLmV4cG9ydHM9e1VSTFNlYXJjaFBhcmFtczpGLGdldFN0YXRlOkN9fSw0NTM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpLGk9bigyMSksbz1uKDE4KSxhPWkoIml0ZXJhdG9yIik7ZS5leHBvcnRzPSFyKChmdW5jdGlvbigpe3ZhciBlPW5ldyBVUkwoImI/YT0xJmI9MiZjPTMiLCJodHRwOi8vYSIpLHQ9ZS5zZWFyY2hQYXJhbXMsbj0iIjtyZXR1cm4gZS5wYXRobmFtZT0iYyUyMGQiLHQuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXt0LmRlbGV0ZSgiYiIpLG4rPXIrZX0pKSxvJiYhZS50b0pTT058fCF0LnNvcnR8fCJodHRwOi8vYS9jJTIwZD9hPTEmYz0zIiE9PWUuaHJlZnx8IjMiIT09dC5nZXQoImMiKXx8ImE9MSIhPT1TdHJpbmcobmV3IFVSTFNlYXJjaFBhcmFtcygiP2E9MSIpKXx8IXRbYV18fCJhIiE9PW5ldyBVUkwoImh0dHBzOi8vYUBiIikudXNlcm5hbWV8fCJiIiE9PW5ldyBVUkxTZWFyY2hQYXJhbXMobmV3IFVSTFNlYXJjaFBhcmFtcygiYT1iIikpLmdldCgiYSIpfHwieG4tLWUxYXliYyIhPT1uZXcgVVJMKCJodHRwOi8v0YLQtdGB0YIiKS5ob3N0fHwiIyVEMCVCMSIhPT1uZXcgVVJMKCJodHRwOi8vYSPQsSIpLmhhc2h8fCJhMWMzIiE9PW58fCJ4IiE9PW5ldyBVUkwoImh0dHA6Ly94Iix2b2lkIDApLmhvc3R9KSl9LDQ2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1uKDEyNSksYz1uKDI3KSx1PW4oMzApLHM9bigzMiksZD1uKDMxKSxmPW4oNjYpLGw9big3MCkscD1uKDU3KSxnPSJPYmplY3QgYWxyZWFkeSBpbml0aWFsaXplZCIsYj1jLldlYWtNYXA7aWYoYXx8Zi5zdGF0ZSl7dmFyIHY9Zi5zdGF0ZXx8KGYuc3RhdGU9bmV3IGIpLHk9di5nZXQsaD12LmhhcyxtPXYuc2V0O3I9ZnVuY3Rpb24oZSx0KXtpZihoLmNhbGwodixlKSl0aHJvdyBuZXcgVHlwZUVycm9yKGcpO3JldHVybiB0LmZhY2FkZT1lLG0uY2FsbCh2LGUsdCksdH0saT1mdW5jdGlvbihlKXtyZXR1cm4geS5jYWxsKHYsZSl8fHt9fSxvPWZ1bmN0aW9uKGUpe3JldHVybiBoLmNhbGwodixlKX19ZWxzZXt2YXIgTz1sKCJzdGF0ZSIpO3BbT109ITAscj1mdW5jdGlvbihlLHQpe2lmKGQoZSxPKSl0aHJvdyBuZXcgVHlwZUVycm9yKGcpO3JldHVybiB0LmZhY2FkZT1lLHMoZSxPLHQpLHR9LGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGQoZSxPKT9lW09dOnt9fSxvPWZ1bmN0aW9uKGUpe3JldHVybiBkKGUsTyl9fWUuZXhwb3J0cz17c2V0OnIsZ2V0OmksaGFzOm8sZW5mb3JjZTpmdW5jdGlvbihlKXtyZXR1cm4gbyhlKT9pKGUpOnIoZSx7fSl9LGdldHRlckZvcjpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG47aWYoIXUodCl8fChuPWkodCkpLnR5cGUhPT1lKXRocm93IFR5cGVFcnJvcigiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAiK2UrIiByZXF1aXJlZCIpO3JldHVybiBufX19fSw0NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXtpLnB1c2goZSl9LHQuYz1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9ZTtyZXR1cm4gaS5mb3JFYWNoKChmdW5jdGlvbihlKXt0PWUodCl9KSksdH1jYXRjaCh0KXtyZXR1cm4gZX19LHQuYT1mdW5jdGlvbigpe3JldHVybiBvfSx0LmY9ZnVuY3Rpb24oZSl7cihlKX0sdC5kPWZ1bmN0aW9uKGUpe2EucHVzaChlKX0sdC5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOltdLHI9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7YS5mb3JFYWNoKChmdW5jdGlvbihpKXtpKGUsdCxuLHIpfSkpfTt2YXIgcixpPVtdO3ZhciBvPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyPWV9KSk7dmFyIGE9W119LDQ5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgcj1uKDExKSxpPW4ubihyKSxvPW4oMCksYT17YnVja2V0czpbe21heDo1LGluY3JlbWVudDouNX1dfSxjPXtidWNrZXRzOlt7bWF4OjIwLGluY3JlbWVudDouMX1dfSx1PXtidWNrZXRzOlt7bWF4OjIwLGluY3JlbWVudDouMDF9XX0scz17YnVja2V0czpbe21heDozLGluY3JlbWVudDouMDF9LHttYXg6OCxpbmNyZW1lbnQ6LjA1fSx7bWF4OjIwLGluY3JlbWVudDouNX1dfSxkPXtidWNrZXRzOlt7bWF4OjUsaW5jcmVtZW50Oi4wNX0se21heDoxMCxpbmNyZW1lbnQ6LjF9LHttYXg6MjAsaW5jcmVtZW50Oi41fV19O2Z1bmN0aW9uIGYoZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MSxyPXBhcnNlRmxvYXQoZSk7cmV0dXJuIGlzTmFOKHIpJiYocj0iIikse2xvdzoiIj09PXI/IiI6bChlLGEsbiksbWVkOiIiPT09cj8iIjpsKGUsYyxuKSxoaWdoOiIiPT09cj8iIjpsKGUsdSxuKSxhdXRvOiIiPT09cj8iIjpsKGUsZCxuKSxkZW5zZToiIj09PXI/IiI6bChlLHMsbiksY3VzdG9tOiIiPT09cj8iIjpsKGUsdCxuKX19ZnVuY3Rpb24gbChlLHQsbil7dmFyIHI9IiI7aWYoIXAodCkpcmV0dXJuIHI7dmFyIG89dC5idWNrZXRzLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5tYXg+dC5tYXg/ZTp0fSkse21heDowfSksYT0wLGM9aSgpKHQuYnVja2V0cywoZnVuY3Rpb24odCl7aWYoZT5vLm1heCpuKXt2YXIgaT10LnByZWNpc2lvbjt2b2lkIDA9PT1pJiYoaT0yKSxyPSh0Lm1heCpuKS50b0ZpeGVkKGkpfWVsc2V7aWYoZTw9dC5tYXgqbiYmZT49YSpuKXJldHVybiB0Lm1pbj1hLHQ7YT10Lm1heH19KSk7cmV0dXJuIGMmJihyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj12b2lkIDAhPT10LnByZWNpc2lvbj90LnByZWNpc2lvbjoyLGk9dC5pbmNyZW1lbnQqbixvPXQubWluKm4sYT1NYXRoLnBvdygxMCxyKzIpLGM9KGUqYS1vKmEpLyhpKmEpLHU9TWF0aC5mbG9vcihjKSppK287cmV0dXJuKHU9TnVtYmVyKHUudG9GaXhlZCgxMCkpKS50b0ZpeGVkKHIpfShlLGMsbikpLHJ9ZnVuY3Rpb24gcChlKXtpZihPYmplY3Qoby5pc0VtcHR5KShlKXx8IWUuYnVja2V0c3x8IUFycmF5LmlzQXJyYXkoZS5idWNrZXRzKSlyZXR1cm4hMTt2YXIgdD0hMDtyZXR1cm4gZS5idWNrZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UubWF4JiZlLmluY3JlbWVudHx8KHQ9ITEpfSkpLHR9fSw1OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXtKU09OX01BUFBJTkc6e1BMX0NPREU6ImNvZGUiLFBMX1NJWkU6InNpemVzIixQTF9CSURTOiJiaWRzIixCRF9CSURERVI6ImJpZGRlciIsQkRfSUQ6InBhcmFtc2QiLEJEX1BMX0lEOiJwbGFjZW1lbnRJZCIsQURTRVJWRVJfVEFSR0VUSU5HOiJhZHNlcnZlclRhcmdldGluZyIsQkRfU0VUVElOR19TVEFOREFSRDoic3RhbmRhcmQifSxERUJVR19NT0RFOiJwYmpzX2RlYnVnIixTVEFUVVM6e0dPT0Q6MSxOT19CSUQ6Mn0sQ0I6e1RZUEU6e0FMTF9CSURTX0JBQ0s6ImFsbFJlcXVlc3RlZEJpZHNCYWNrIixBRF9VTklUX0JJRFNfQkFDSzoiYWRVbml0Qmlkc0JhY2siLEJJRF9XT046ImJpZFdvbiIsUkVRVUVTVF9CSURTOiJyZXF1ZXN0QmlkcyJ9fSxFVkVOVFM6e0FVQ1RJT05fSU5JVDoiYXVjdGlvbkluaXQiLEFVQ1RJT05fRU5EOiJhdWN0aW9uRW5kIixCSURfQURKVVNUTUVOVDoiYmlkQWRqdXN0bWVudCIsQklEX1RJTUVPVVQ6ImJpZFRpbWVvdXQiLEJJRF9SRVFVRVNURUQ6ImJpZFJlcXVlc3RlZCIsQklEX1JFU1BPTlNFOiJiaWRSZXNwb25zZSIsTk9fQklEOiJub0JpZCIsQklEX1dPTjoiYmlkV29uIixCSURERVJfRE9ORToiYmlkZGVyRG9uZSIsQklEREVSX0VSUk9SOiJiaWRkZXJFcnJvciIsU0VUX1RBUkdFVElORzoic2V0VGFyZ2V0aW5nIixCRUZPUkVfUkVRVUVTVF9CSURTOiJiZWZvcmVSZXF1ZXN0QmlkcyIsQkVGT1JFX0JJRERFUl9IVFRQOiJiZWZvcmVCaWRkZXJIdHRwIixSRVFVRVNUX0JJRFM6InJlcXVlc3RCaWRzIixBRERfQURfVU5JVFM6ImFkZEFkVW5pdHMiLEFEX1JFTkRFUl9GQUlMRUQ6ImFkUmVuZGVyRmFpbGVkIixBRF9SRU5ERVJfU1VDQ0VFREVEOiJhZFJlbmRlclN1Y2NlZWRlZCIsVENGMl9FTkZPUkNFTUVOVDoidGNmMkVuZm9yY2VtZW50IixBVUNUSU9OX0RFQlVHOiJhdWN0aW9uRGVidWciLEJJRF9WSUVXQUJMRToiYmlkVmlld2FibGUiLFNUQUxFX1JFTkRFUjoic3RhbGVSZW5kZXIifSxBRF9SRU5ERVJfRkFJTEVEX1JFQVNPTjp7UFJFVkVOVF9XUklUSU5HX09OX01BSU5fRE9DVU1FTlQ6InByZXZlbnRXcml0aW5nT25NYWluRG9jdW1lbnQiLE5PX0FEOiJub0FkIixFWENFUFRJT046ImV4Y2VwdGlvbiIsQ0FOTk9UX0ZJTkRfQUQ6ImNhbm5vdEZpbmRBZCIsTUlTU0lOR19ET0NfT1JfQURJRDoibWlzc2luZ0RvY09yQWRpZCJ9LEVWRU5UX0lEX1BBVEhTOntiaWRXb246ImFkVW5pdENvZGUifSxHUkFOVUxBUklUWV9PUFRJT05TOntMT1c6ImxvdyIsTUVESVVNOiJtZWRpdW0iLEhJR0g6ImhpZ2giLEFVVE86ImF1dG8iLERFTlNFOiJkZW5zZSIsQ1VTVE9NOiJjdXN0b20ifSxUQVJHRVRJTkdfS0VZUzp7QklEREVSOiJoYl9iaWRkZXIiLEFEX0lEOiJoYl9hZGlkIixQUklDRV9CVUNLRVQ6ImhiX3BiIixTSVpFOiJoYl9zaXplIixERUFMOiJoYl9kZWFsIixTT1VSQ0U6ImhiX3NvdXJjZSIsRk9STUFUOiJoYl9mb3JtYXQiLFVVSUQ6ImhiX3V1aWQiLENBQ0hFX0lEOiJoYl9jYWNoZV9pZCIsQ0FDSEVfSE9TVDoiaGJfY2FjaGVfaG9zdCIsQURPTUFJTjoiaGJfYWRvbWFpbiJ9LERFRkFVTFRfVEFSR0VUSU5HX0tFWVM6e0JJRERFUjoiaGJfYmlkZGVyIixBRF9JRDoiaGJfYWRpZCIsUFJJQ0VfQlVDS0VUOiJoYl9wYiIsU0laRToiaGJfc2l6ZSIsREVBTDoiaGJfZGVhbCIsRk9STUFUOiJoYl9mb3JtYXQiLFVVSUQ6ImhiX3V1aWQiLENBQ0hFX0hPU1Q6ImhiX2NhY2hlX2hvc3QifSxOQVRJVkVfS0VZUzp7dGl0bGU6ImhiX25hdGl2ZV90aXRsZSIsYm9keToiaGJfbmF0aXZlX2JvZHkiLGJvZHkyOiJoYl9uYXRpdmVfYm9keTIiLHByaXZhY3lMaW5rOiJoYl9uYXRpdmVfcHJpdmFjeSIscHJpdmFjeUljb246ImhiX25hdGl2ZV9wcml2aWNvbiIsc3BvbnNvcmVkQnk6ImhiX25hdGl2ZV9icmFuZCIsaW1hZ2U6ImhiX25hdGl2ZV9pbWFnZSIsaWNvbjoiaGJfbmF0aXZlX2ljb24iLGNsaWNrVXJsOiJoYl9uYXRpdmVfbGlua3VybCIsZGlzcGxheVVybDoiaGJfbmF0aXZlX2Rpc3BsYXl1cmwiLGN0YToiaGJfbmF0aXZlX2N0YSIscmF0aW5nOiJoYl9uYXRpdmVfcmF0aW5nIixhZGRyZXNzOiJoYl9uYXRpdmVfYWRkcmVzcyIsZG93bmxvYWRzOiJoYl9uYXRpdmVfZG93bmxvYWRzIixsaWtlczoiaGJfbmF0aXZlX2xpa2VzIixwaG9uZToiaGJfbmF0aXZlX3Bob25lIixwcmljZToiaGJfbmF0aXZlX3ByaWNlIixzYWxlUHJpY2U6ImhiX25hdGl2ZV9zYWxlcHJpY2UiLHJlbmRlcmVyVXJsOiJoYl9yZW5kZXJlcl91cmwiLGFkVGVtcGxhdGU6ImhiX2FkVGVtcGxhdGUifSxTMlM6e1NSQzoiczJzIixERUZBVUxUX0VORFBPSU5UOiJodHRwczovL3ByZWJpZC5hZG54cy5jb20vcGJzL3YxL29wZW5ydGIyL2F1Y3Rpb24iLFNZTkNFRF9CSURERVJTX0tFWToicGJqc1N5bmNzIn0sQklEX1NUQVRVUzp7QklEX1RBUkdFVElOR19TRVQ6InRhcmdldGluZ1NldCIsUkVOREVSRUQ6InJlbmRlcmVkIixCSURfUkVKRUNURUQ6ImJpZFJlamVjdGVkIn19fSw1MDpmdW5jdGlvbihlLHQsbil7dmFyIHI9big4NCksaT1uKDUyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIoaShlKSl9fSw1MTpmdW5jdGlvbihlLHQpe3ZhciBuPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0sNTI6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICIrZSk7cmV0dXJuIGV9fSw1MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9big1Mik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QocihlKSl9fSw1NDpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2NSksaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9pKHIoZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LDU1OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sNTY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjYpO2UuZXhwb3J0cz1yfSw1NzpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sNTg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNTkpLGk9big0MSksbz1uKDIxKSgiaXRlcmF0b3IiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYobnVsbCE9ZSlyZXR1cm4gZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW3IoZSldfX0sNTk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjgpLGk9big1MSksbz1uKDIxKSgidG9TdHJpbmdUYWciKSxhPSJBcmd1bWVudHMiPT1pKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7ZS5leHBvcnRzPXI/aTpmdW5jdGlvbihlKXt2YXIgdCxuLHI7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yobj1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fSh0PU9iamVjdChlKSxvKSk/bjphP2kodCk6Ik9iamVjdCI9PShyPWkodCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6cn19LDYwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDY4KSxpPW4oMzQpLmYsbz1uKDMyKSxhPW4oMzEpLGM9bigxMjQpLHU9bigyMSkoInRvU3RyaW5nVGFnIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLHMpe2lmKGUpe3ZhciBkPW4/ZTplLnByb3RvdHlwZTthKGQsdSl8fGkoZCx1LHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pLHMmJiFyJiZvKGQsInRvU3RyaW5nIixjKX19fSw2MTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgcj1uKDApLGk9bigzKSxvPW4oMTIpLGE9bi5uKG8pLGM9big3KTtmdW5jdGlvbiB1KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsaSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEoYT0ocj1uLm5leHQoKSkuZG9uZSkmJihvLnB1c2goci52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBzKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBzKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBzKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gZCgpe3JldHVybihkPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9aS5iLnNldERlZmF1bHRzKHt1c2VyU3luYzpPYmplY3Qoci5kZWVwQ2xvbmUpKHtzeW5jRW5hYmxlZDohMCxmaWx0ZXJTZXR0aW5nczp7aW1hZ2U6e2JpZGRlcnM6IioiLGZpbHRlcjoiaW5jbHVkZSJ9fSxzeW5jc1BlckJpZGRlcjo1LHN5bmNEZWxheTozZTMsYXVjdGlvbkRlbGF5OjB9KX0pO3ZhciBmPU9iamVjdChjLmEpKCJ1c2Vyc3luYyIpO3ZhciBsPSFPYmplY3Qoci5pc1NhZmFyaUJyb3dzZXIpKCkmJmYuY29va2llc0FyZUVuYWJsZWQoKSxwPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49e2ltYWdlOltdLGlmcmFtZTpbXX0sbz1uZXcgU2V0LGM9e30scz17aW1hZ2U6ITAsaWZyYW1lOiExfSxmPWUuY29uZmlnO2Z1bmN0aW9uIGwoKXtpZihmLnN5bmNFbmFibGVkJiZlLmJyb3dzZXJTdXBwb3J0c0Nvb2tpZXMpe3RyeXshZnVuY3Rpb24oKXtpZighcy5pZnJhbWUpcmV0dXJuO3Aobi5pZnJhbWUsKGZ1bmN0aW9uKGUpe3ZhciB0PXUoZSwyKSxpPXRbMF0sbz10WzFdO09iamVjdChyLmxvZ01lc3NhZ2UpKCJJbnZva2luZyBpZnJhbWUgdXNlciBzeW5jIGZvciBiaWRkZXI6ICIuY29uY2F0KGkpKSxPYmplY3Qoci5pbnNlcnRVc2VyU3luY0lmcmFtZSkobyksZnVuY3Rpb24oZSx0KXtlLmltYWdlPWUuaW1hZ2UuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZVswXSE9PXR9KSl9KG4saSl9KSl9KCksZnVuY3Rpb24oKXtpZighcy5pbWFnZSlyZXR1cm47cChuLmltYWdlLChmdW5jdGlvbihlKXt2YXIgdD11KGUsMiksbj10WzBdLGk9dFsxXTtPYmplY3Qoci5sb2dNZXNzYWdlKSgiSW52b2tpbmcgaW1hZ2UgcGl4ZWwgdXNlciBzeW5jIGZvciBiaWRkZXI6ICIuY29uY2F0KG4pKSxPYmplY3Qoci50cmlnZ2VyUGl4ZWwpKGkpfSkpfSgpfWNhdGNoKGUpe3JldHVybiBPYmplY3Qoci5sb2dFcnJvcikoIkVycm9yIGZpcmluZyB1c2VyIHN5bmNzIixlKX1uPXtpbWFnZTpbXSxpZnJhbWU6W119fX1mdW5jdGlvbiBwKGUsdCl7T2JqZWN0KHIuc2h1ZmZsZSkoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dChlKSxvLmFkZChlWzBdKX0pKX1mdW5jdGlvbiBnKGUsdCl7dmFyIG49Zi5maWx0ZXJTZXR0aW5ncztpZihmdW5jdGlvbihlLHQpe2lmKGUuYWxsJiZlW3RdKXJldHVybiBPYmplY3Qoci5sb2dXYXJuKSgnRGV0ZWN0ZWQgcHJlc2VuY2Ugb2YgdGhlICJmaWx0ZXJTZXR0aW5ncy5hbGwiIGFuZCAiZmlsdGVyU2V0dGluZ3MuJy5jb25jYXQodCwnIiBpbiB1c2VyU3luYyBjb25maWcuICBZb3UgY2Fubm90IG1peCAiYWxsIiB3aXRoICJpZnJhbWUvaW1hZ2UiIGNvbmZpZ3M7IHRoZXkgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZS4nKSksITE7dmFyIG49ZS5hbGw/ZS5hbGw6ZVt0XSxpPWUuYWxsPyJhbGwiOnQ7aWYoIW4pcmV0dXJuITE7dmFyIG89bi5maWx0ZXIsYT1uLmJpZGRlcnM7aWYobyYmImluY2x1ZGUiIT09byYmImV4Y2x1ZGUiIT09bylyZXR1cm4gT2JqZWN0KHIubG9nV2FybikoJ1VzZXJTeW5jICJmaWx0ZXJTZXR0aW5ncy4nLmNvbmNhdChpLCIuZmlsdGVyXCIgc2V0dGluZyAnIikuY29uY2F0KG8sIicgaXMgbm90IGEgdmFsaWQgb3B0aW9uOyB1c2UgZWl0aGVyICdpbmNsdWRlJyBvciAnZXhjbHVkZScuIikpLCExO2lmKCIqIiE9PWEmJiEoQXJyYXkuaXNBcnJheShhKSYmYS5sZW5ndGg+MCYmYS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmlzU3RyKShlKSYmIioiIT09ZX0pKSkpcmV0dXJuIE9iamVjdChyLmxvZ1dhcm4pKCdEZXRlY3RlZCBhbiBpbnZhbGlkIHNldHVwIGluIHVzZXJTeW5jICJmaWx0ZXJTZXR0aW5ncy4nLmNvbmNhdChpLCIuYmlkZGVyc1wiOyB1c2UgZWl0aGVyICcqJyAodG8gcmVwcmVzZW50IGFsbCBiaWRkZXJzKSBvciBhbiBhcnJheSBvZiBiaWRkZXJzLiIpKSwhMTtyZXR1cm4hMH0obixlKSl7c1tlXT0hMDt2YXIgaT1uLmFsbD9uLmFsbDpuW2VdLG89IioiPT09aS5iaWRkZXJzP1t0XTppLmJpZGRlcnM7cmV0dXJue2luY2x1ZGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hYSgpKGUsdCl9LGV4Y2x1ZGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYSgpKGUsdCl9fVtpLmZpbHRlcnx8ImluY2x1ZGUiXShvLHQpfXJldHVybiFzW2VdfXJldHVybiBpLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIsKGZ1bmN0aW9uKGUpe2lmKGUudXNlclN5bmMpe3ZhciB0PWUudXNlclN5bmMuZmlsdGVyU2V0dGluZ3M7T2JqZWN0KHIuaXNQbGFpbk9iamVjdCkodCkmJih0LmltYWdlfHx0LmFsbHx8KGUudXNlclN5bmMuZmlsdGVyU2V0dGluZ3MuaW1hZ2U9e2JpZGRlcnM6IioiLGZpbHRlcjoiaW5jbHVkZSJ9KSl9Zj1kKGYsZS51c2VyU3luYyl9KSksdC5yZWdpc3RlclN5bmM9ZnVuY3Rpb24oZSxpLGEpe3JldHVybiBvLmhhcyhpKT9PYmplY3Qoci5sb2dNZXNzYWdlKSgnYWxyZWFkeSBmaXJlZCBzeW5jcyBmb3IgIicuY29uY2F0KGksJyIsIGlnbm9yaW5nIHJlZ2lzdGVyU3luYyBjYWxsJykpOmYuc3luY0VuYWJsZWQmJk9iamVjdChyLmlzQXJyYXkpKG5bZV0pP2k/MCE9PWYuc3luY3NQZXJCaWRkZXImJk51bWJlcihjW2ldKT49Zi5zeW5jc1BlckJpZGRlcj9PYmplY3Qoci5sb2dXYXJuKSgnTnVtYmVyIG9mIHVzZXIgc3luY3MgZXhjZWVkZWQgZm9yICInLmNvbmNhdChpLCciJykpOnQuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jKGUsaSk/KG5bZV0ucHVzaChbaSxhXSksdm9pZChjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF0/ZVt0XSs9MTplW3RdPTEsZX0oYyxpKSkpOk9iamVjdChyLmxvZ1dhcm4pKCdCaWRkZXIgIicuY29uY2F0KGksJyIgbm90IHBlcm1pdHRlZCB0byByZWdpc3RlciB0aGVpciAiJykuY29uY2F0KGUsJyIgdXNlclN5bmMgcGl4ZWxzLicpKTpPYmplY3Qoci5sb2dXYXJuKSgiQmlkZGVyIGlzIHJlcXVpcmVkIGZvciByZWdpc3RlcmluZyBzeW5jIik6T2JqZWN0KHIubG9nV2FybikoJ1VzZXIgc3luYyB0eXBlICInLmNvbmNhdChlLCciIG5vdCBzdXBwb3J0ZWQnKSl9LHQuc3luY1VzZXJzPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7aWYoZSlyZXR1cm4gc2V0VGltZW91dChsLE51bWJlcihlKSk7bCgpfSx0LnRyaWdnZXJVc2VyU3luY3M9ZnVuY3Rpb24oKXtmLmVuYWJsZU92ZXJyaWRlJiZ0LnN5bmNVc2VycygpfSx0LmNhbkJpZGRlclJlZ2lzdGVyU3luYz1mdW5jdGlvbihlLHQpe3JldHVybiFmLmZpbHRlclNldHRpbmdzfHwhZyhlLHQpfSx0fSh7Y29uZmlnOmkuYi5nZXRDb25maWcoInVzZXJTeW5jIiksYnJvd3NlclN1cHBvcnRzQ29va2llczpsfSl9LDYyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCl7by5hZFNlcnZlcnM9by5hZFNlcnZlcnN8fHt9LG8uYWRTZXJ2ZXJzW2VdPW8uYWRTZXJ2ZXJzW2VdfHx7fSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihuKXtvLmFkU2VydmVyc1tlXVtuXT9PYmplY3QoaS5sb2dXYXJuKSgiQXR0ZW1wdGluZyB0byBhZGQgYW4gYWxyZWFkeSByZWdpc3RlcmVkIGZ1bmN0aW9uIHByb3BlcnR5ICIuY29uY2F0KG4sIiBmb3IgQWRTZXJ2ZXIgIikuY29uY2F0KGUsIi4iKSk6by5hZFNlcnZlcnNbZV1bbl09dFtuXX0pKX07dmFyIHI9bigxNCksaT1uKDApLG89T2JqZWN0KHIuYSkoKX0sNjM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFyKGUpKXJldHVybiBlO3ZhciBuLGk7aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKG49ZS50b1N0cmluZykmJiFyKGk9bi5jYWxsKGUpKSlyZXR1cm4gaTtpZigiZnVuY3Rpb24iPT10eXBlb2Yobj1lLnZhbHVlT2YpJiYhcihpPW4uY2FsbChlKSkpcmV0dXJuIGk7aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihuPWUudG9TdHJpbmcpJiYhcihpPW4uY2FsbChlKSkpcmV0dXJuIGk7dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LDY0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI1KSxpPW4oODQpLG89big1MyksYT1uKDU0KSxjPW4oMTExKSx1PVtdLnB1c2gscz1mdW5jdGlvbihlKXt2YXIgdD0xPT1lLG49Mj09ZSxzPTM9PWUsZD00PT1lLGY9Nj09ZSxsPTc9PWUscD01PT1lfHxmO3JldHVybiBmdW5jdGlvbihnLGIsdix5KXtmb3IodmFyIGgsbSxPPW8oZyksaj1pKE8pLFM9cihiLHYsMyksRT1hKGoubGVuZ3RoKSxBPTAsVD15fHxjLEk9dD9UKGcsRSk6bnx8bD9UKGcsMCk6dm9pZCAwO0U+QTtBKyspaWYoKHB8fEEgaW4gaikmJihtPVMoaD1qW0FdLEEsTyksZSkpaWYodClJW0FdPW07ZWxzZSBpZihtKXN3aXRjaChlKXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBoO2Nhc2UgNjpyZXR1cm4gQTtjYXNlIDI6dS5jYWxsKEksaCl9ZWxzZSBzd2l0Y2goZSl7Y2FzZSA0OnJldHVybiExO2Nhc2UgNzp1LmNhbGwoSSxoKX1yZXR1cm4gZj8tMTpzfHxkP2Q6SX19O2UuZXhwb3J0cz17Zm9yRWFjaDpzKDApLG1hcDpzKDEpLGZpbHRlcjpzKDIpLHNvbWU6cygzKSxldmVyeTpzKDQpLGZpbmQ6cyg1KSxmaW5kSW5kZXg6cyg2KSxmaWx0ZXJPdXQ6cyg3KX19LDY1OmZ1bmN0aW9uKGUsdCl7dmFyIG49TWF0aC5jZWlsLHI9TWF0aC5mbG9vcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9yOm4pKGUpfX0sNjY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpLGk9bigxMTMpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsYT1yW29dfHxpKG8se30pO2UuZXhwb3J0cz1hfSw2NzpmdW5jdGlvbihlLHQpe3ZhciBuPTAscj1NYXRoLnJhbmRvbSgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIrU3RyaW5nKHZvaWQgMD09PWU/IiI6ZSkrIilfIisoKytuK3IpLnRvU3RyaW5nKDM2KX19LDY4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj17fTtyW24oMjEpKCJ0b1N0cmluZ1RhZyIpXT0ieiIsZS5leHBvcnRzPSJbb2JqZWN0IHpdIj09PVN0cmluZyhyKX0sNjk6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcigiSW5jb3JyZWN0ICIrKG4/bisiICI6IiIpKyJpbnZvY2F0aW9uIik7cmV0dXJuIGV9fSw3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZCh0LCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSx0LmE9ZnVuY3Rpb24oZSl7cmV0dXJuIHMoe21vZHVsZU5hbWU6ZSxtb2R1bGVUeXBlOiJjb3JlIn0pfSx0LmI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyh7Z3ZsaWQ6ZSxtb2R1bGVOYW1lOnR9KX07dmFyIHI9big5KSxpPW4oMCksbz1uKDEyKSxhPW4ubihvKSxjPVsiY29yZSIsInByZWJpZC1tb2R1bGUiXSx1PVtdO2Z1bmN0aW9uIHMoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmd2bGlkLG49ZS5tb2R1bGVOYW1lLHI9ZS5tb2R1bGVUeXBlO2Z1bmN0aW9uIG8oZSl7aWYoYSgpKGMscikpe3JldHVybiBlKHt2YWxpZDohMH0pfXZhciBvO3JldHVybiBkKHQsbix7aGFzRW5mb3JjZW1lbnRIb29rOiExfSwoZnVuY3Rpb24odCl7aWYodCYmdC5oYXNFbmZvcmNlbWVudEhvb2spbz1lKHQpO2Vsc2V7dmFyIG49e2hhc0VuZm9yY2VtZW50SG9vazohMSx2YWxpZDpPYmplY3QoaS5oYXNEZXZpY2VBY2Nlc3MpKCl9O289ZShuKX19KSksb312YXIgcz1mdW5jdGlvbihlLHQsbixyLGksYSl7dmFyIGM9ZnVuY3Rpb24obyl7aWYobyYmby52YWxpZCl7dmFyIGE9aSYmIiIhPT1pPyIgO2RvbWFpbj0iLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoaSkpOiIiLGM9biYmIiIhPT1uPyIgO2V4cGlyZXM9Ii5jb25jYXQobik6IiIsdT1udWxsIT1yJiYibm9uZSI9PXIudG9Mb3dlckNhc2UoKT8iOyBTZWN1cmUiOiIiO2RvY3VtZW50LmNvb2tpZT0iIi5jb25jYXQoZSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodCkpLmNvbmNhdChjLCI7IHBhdGg9LyIpLmNvbmNhdChhKS5jb25jYXQocj8iOyBTYW1lU2l0ZT0iLmNvbmNhdChyKToiIikuY29uY2F0KHUpfX07aWYoIWF8fCJmdW5jdGlvbiIhPXR5cGVvZiBhKXJldHVybiBvKGMpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKGMpO2EoZSl9KSl9LGY9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXtpZih0JiZ0LnZhbGlkKXt2YXIgbj13aW5kb3cuZG9jdW1lbnQuY29va2llLm1hdGNoKCIoXnw7KVxccyoiK2UrIlxccyo9XFxzKihbXjtdKilcXHMqKDt8JCkiKTtyZXR1cm4gbj9kZWNvZGVVUklDb21wb25lbnQoblsyXSk6bnVsbH1yZXR1cm4gbnVsbH07aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBvKG4pO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKG4pO3QoZSl9KSl9LGw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS52YWxpZCl0cnl7cmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJwcmViaWQuY29va2llVGVzdCIsIjEiKSwiMSI9PT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicHJlYmlkLmNvb2tpZVRlc3QiKX1jYXRjaChlKXt9ZmluYWxseXt0cnl7bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInByZWJpZC5jb29raWVUZXN0Iil9Y2F0Y2goZSl7fX1yZXR1cm4hMX07aWYoIWV8fCJmdW5jdGlvbiIhPXR5cGVvZiBlKXJldHVybiBvKHQpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgbj1vKHQpO2Uobil9KSl9LHA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuISghZXx8IWUudmFsaWQpJiYoISFPYmplY3QoaS5jaGVja0Nvb2tpZVN1cHBvcnQpKCl8fCh3aW5kb3cuZG9jdW1lbnQuY29va2llPSJwcmViaWQuY29va2llVGVzdCIsLTEhPT13aW5kb3cuZG9jdW1lbnQuY29va2llLmluZGV4T2YoInByZWJpZC5jb29raWVUZXN0IikpKX07aWYoIWV8fCJmdW5jdGlvbiIhPXR5cGVvZiBlKXJldHVybiBvKHQpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgbj1vKHQpO2Uobil9KSl9LGc9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKG4pe24mJm4udmFsaWQmJnkoKSYmd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGUsdCl9O2lmKCFufHwiZnVuY3Rpb24iIT10eXBlb2YgbilyZXR1cm4gbyhyKTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIGU9byhyKTtuKGUpfSkpfSxiPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQudmFsaWQmJnkoKT93aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oZSk6bnVsbH07aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBvKG4pO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKG4pO3QoZSl9KSl9LHY9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXt0JiZ0LnZhbGlkJiZ5KCkmJndpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKX07aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBvKG4pO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKG4pO3QoZSl9KSl9LHk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS52YWxpZCl0cnl7cmV0dXJuISF3aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgiTG9jYWwgc3RvcmFnZSBhcGkgZGlzYWJsZWQiKX1yZXR1cm4hMX07aWYoIWV8fCJmdW5jdGlvbiIhPXR5cGVvZiBlKXJldHVybiBvKHQpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgbj1vKHQpO2Uobil9KSl9LGg9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXtpZih0JiZ0LnZhbGlkKXt2YXIgbj1bXTtpZihPYmplY3QoaS5oYXNEZXZpY2VBY2Nlc3MpKCkpZm9yKHZhciByPWRvY3VtZW50LmNvb2tpZS5zcGxpdCgiOyIpO3IubGVuZ3RoOyl7dmFyIG89ci5wb3AoKSxhPW8uaW5kZXhPZigiPSIpO2E9YTwwP28ubGVuZ3RoOmEsZGVjb2RlVVJJQ29tcG9uZW50KG8uc2xpY2UoMCxhKS5yZXBsYWNlKC9eXHMrLywiIikpLmluZGV4T2YoZSk+PTAmJm4ucHVzaChkZWNvZGVVUklDb21wb25lbnQoby5zbGljZShhKzEpKSl9cmV0dXJuIG59fTtpZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJuIG8obik7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8obik7dChlKX0pKX07cmV0dXJue3NldENvb2tpZTpzLGdldENvb2tpZTpmLGxvY2FsU3RvcmFnZUlzRW5hYmxlZDpsLGNvb2tpZXNBcmVFbmFibGVkOnAsc2V0RGF0YUluTG9jYWxTdG9yYWdlOmcsZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2U6YixyZW1vdmVEYXRhRnJvbUxvY2FsU3RvcmFnZTp2LGhhc0xvY2FsU3RvcmFnZTp5LGZpbmRTaW1pbGFyQ29va2llczpofX12YXIgZD1PYmplY3Qoci5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQsbixyKXtyKG4pfSksInZhbGlkYXRlU3RvcmFnZUVuZm9yY2VtZW50Iil9LDcwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDg3KSxpPW4oNjcpLG89cigia2V5cyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gb1tlXXx8KG9bZV09aShlKSl9fSw3MTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT1uKDE2KSxvPW4oMTI4KSxhPW4oOTQpLGM9big1NyksdT1uKDEzMSkscz1uKDg2KSxkPW4oNzApLGY9ZCgiSUVfUFJPVE8iKSxsPWZ1bmN0aW9uKCl7fSxwPWZ1bmN0aW9uKGUpe3JldHVybiI8c2NyaXB0PiIrZSsiPC8iKyJzY3JpcHQ+In0sZz1mdW5jdGlvbigpe3RyeXtyPWRvY3VtZW50LmRvbWFpbiYmbmV3IEFjdGl2ZVhPYmplY3QoImh0bWxmaWxlIil9Y2F0Y2goZSl7fXZhciBlLHQ7Zz1yP2Z1bmN0aW9uKGUpe2Uud3JpdGUocCgiIikpLGUuY2xvc2UoKTt2YXIgdD1lLnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIGU9bnVsbCx0fShyKTooKHQ9cygiaWZyYW1lIikpLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHUuYXBwZW5kQ2hpbGQodCksdC5zcmM9U3RyaW5nKCJqYXZhc2NyaXB0OiIpLChlPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLGUud3JpdGUocCgiZG9jdW1lbnQuRj1PYmplY3QiKSksZS5jbG9zZSgpLGUuRik7Zm9yKHZhciBuPWEubGVuZ3RoO24tLTspZGVsZXRlIGcucHJvdG90eXBlW2Fbbl1dO3JldHVybiBnKCl9O2NbZl09ITAsZS5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIG51bGwhPT1lPyhsLnByb3RvdHlwZT1pKGUpLG49bmV3IGwsbC5wcm90b3R5cGU9bnVsbCxuW2ZdPWUpOm49ZygpLHZvaWQgMD09PXQ/bjpvKG4sdCl9fSw3MjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLGkpe2kmJmkuZW51bWVyYWJsZT9lW3RdPW46cihlLHQsbil9fSw3MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9big5Niksbz1uKDk4KSxhPW4oMTMzKSxjPW4oNjApLHU9bigzMikscz1uKDcyKSxkPW4oMjEpLGY9bigxOCksbD1uKDQxKSxwPW4oOTcpLGc9cC5JdGVyYXRvclByb3RvdHlwZSxiPXAuQlVHR1lfU0FGQVJJX0lURVJBVE9SUyx2PWQoIml0ZXJhdG9yIikseT0ia2V5cyIsaD0idmFsdWVzIixtPSJlbnRyaWVzIixPPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixkLHAsaixTKXtpKG4sdCxkKTt2YXIgRSxBLFQsST1mdW5jdGlvbihlKXtpZihlPT09cCYmVSlyZXR1cm4gVTtpZighYiYmZSBpbiBSKXJldHVybiBSW2VdO3N3aXRjaChlKXtjYXNlIHk6Y2FzZSBoOmNhc2UgbTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMpfX0sdz10KyIgSXRlcmF0b3IiLEM9ITEsUj1lLnByb3RvdHlwZSxfPVJbdl18fFJbIkBAaXRlcmF0b3IiXXx8cCYmUltwXSxVPSFiJiZffHxJKHApLEI9IkFycmF5Ij09dCYmUi5lbnRyaWVzfHxfO2lmKEImJihFPW8oQi5jYWxsKG5ldyBlKSksZyE9PU9iamVjdC5wcm90b3R5cGUmJkUubmV4dCYmKGZ8fG8oRSk9PT1nfHwoYT9hKEUsZyk6ImZ1bmN0aW9uIiE9dHlwZW9mIEVbdl0mJnUoRSx2LE8pKSxjKEUsdywhMCwhMCksZiYmKGxbd109TykpKSxwPT1oJiZfJiZfLm5hbWUhPT1oJiYoQz0hMCxVPWZ1bmN0aW9uKCl7cmV0dXJuIF8uY2FsbCh0aGlzKX0pLGYmJiFTfHxSW3ZdPT09VXx8dShSLHYsVSksbFt0XT1VLHApaWYoQT17dmFsdWVzOkkoaCksa2V5czpqP1U6SSh5KSxlbnRyaWVzOkkobSl9LFMpZm9yKFQgaW4gQSkoYnx8Q3x8IShUIGluIFIpKSYmcyhSLFQsQVtUXSk7ZWxzZSByKHt0YXJnZXQ6dCxwcm90bzohMCxmb3JjZWQ6Ynx8Q30sQSk7cmV0dXJuIEF9fSw3NDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDU4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9aShlKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGl0ZXJhYmxlIik7cmV0dXJuIHIodC5jYWxsKGUpKX19LDc1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2Mik7ZS5leHBvcnRzPXJ9LDc2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciByPW4oMCksaT17fTtmdW5jdGlvbiBvKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlLHQpe3ZhciBuPWlbZV09aVtlXXx8e2JpZGRlcnM6e319O3JldHVybiB0P24uYmlkZGVyc1t0XT1uLmJpZGRlcnNbdF18fHt9Om59KGUsbik7cmV0dXJuIHJbdF09KHJbdF18fDApKzEsclt0XX12YXIgYT17aW5jcmVtZW50UmVxdWVzdHNDb3VudGVyOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUsInJlcXVlc3RzQ291bnRlciIpfSxpbmNyZW1lbnRCaWRkZXJSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyhlLCJyZXF1ZXN0c0NvdW50ZXIiLHQpfSxpbmNyZW1lbnRCaWRkZXJXaW5zQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBvKGUsIndpbnNDb3VudGVyIix0KX0sZ2V0UmVxdWVzdHNDb3VudGVyOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShpLCIiLmNvbmNhdChlLCIucmVxdWVzdHNDb3VudGVyIikpfHwwfSxnZXRCaWRkZXJSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoaSwiIi5jb25jYXQoZSwiLmJpZGRlcnMuIikuY29uY2F0KHQsIi5yZXF1ZXN0c0NvdW50ZXIiKSl8fDB9LGdldEJpZGRlcldpbnNDb3VudGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGksIiIuY29uY2F0KGUsIi5iaWRkZXJzLiIpLmNvbmNhdCh0LCIud2luc0NvdW50ZXIiKSl8fDB9fX0sODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiZ2RwckRhdGFIYW5kbGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gX30pKSxuLmQodCwidXNwRGF0YUhhbmRsZXIiLChmdW5jdGlvbigpe3JldHVybiBVfSkpLG4uZCh0LCJjb3BwYURhdGFIYW5kbGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gQn0pKSxuLmQodCwiY2xpZW50VGVzdEFkYXB0ZXJzIiwoZnVuY3Rpb24oKXtyZXR1cm4geH0pKSxuLmQodCwiYWxsUzJTQmlkZGVycyIsKGZ1bmN0aW9uKCl7cmV0dXJuIER9KSksdC5nZXRBbGxTMlNCaWRkZXJzPWssdC5zZXRTMlNUZXN0aW5nTW9kdWxlPWZ1bmN0aW9uKGUpe2o9ZX07dmFyIHI9bigwKSxpPW4oMTAxKSxvPW4oMzgpLGE9bigxKSxjPW4oNCksdT1uKDMpLHM9big5KSxkPW4oMTIpLGY9bi5uKGQpLGw9bigxMSkscD1uLm4obCksZz1uKDc2KSxiPW4oMTkpO2Z1bmN0aW9uIHYoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1uKXJldHVybjt2YXIgcixpLG89W10sYT0hMCxjPSExO3RyeXtmb3Iobj1uLmNhbGwoZSk7IShhPShyPW4ubmV4dCgpKS5kb25lKSYmKG8ucHVzaChyLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7Yz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGl9fXJldHVybiBvfShlLHQpfHxoKGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB5KGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBtKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8aChlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBoKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBtKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/bShlLHQpOnZvaWQgMH19ZnVuY3Rpb24gbShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIE8oKXtyZXR1cm4oTz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBqLFM9big1KSxFPW4oMTApLEE9e30sVD1BLmJpZGRlclJlZ2lzdHJ5PXt9LEk9QS5hbGlhc1JlZ2lzdHJ5PXt9LHc9W107dS5iLmdldENvbmZpZygiczJzQ29uZmlnIiwoZnVuY3Rpb24oZSl7ZSYmZS5zMnNDb25maWcmJih3PU9iamVjdChyLmlzQXJyYXkpKGUuczJzQ29uZmlnKT9lLnMyc0NvbmZpZzpbZS5zMnNDb25maWddKX0pKTt2YXIgQz17fTt2YXIgUj1PYmplY3Qocy5iKSgic3luYyIsKGZ1bmN0aW9uKGUpe3ZhciB0PWUuYmlkZGVyQ29kZSxuPWUuYXVjdGlvbklkLGE9ZS5iaWRkZXJSZXF1ZXN0SWQsYz1lLmFkVW5pdHMsdT1lLmxhYmVscyxzPWUuc3JjO3JldHVybiBjLnJlZHVjZSgoZnVuY3Rpb24oZSxjKXt2YXIgZD1PYmplY3QoaS5iKShPYmplY3QoaS5hKShjLHUpLGMubWVkaWFUeXBlcyxjLnNpemVzKSxmPWQuYWN0aXZlLGw9ZC5tZWRpYVR5cGVzLHA9ZC5maWx0ZXJSZXN1bHRzO3JldHVybiBmP3AmJk9iamVjdChyLmxvZ0luZm8pKCdTaXplIG1hcHBpbmcgZmlsdGVyZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyIgYmFubmVyIHNpemVzIGZyb20gJykscC5iZWZvcmUsInRvICIscC5hZnRlcik6T2JqZWN0KHIubG9nSW5mbykoJ1NpemUgbWFwcGluZyBkaXNhYmxlZCBhZFVuaXQgIicuY29uY2F0KGMuY29kZSwnIicpKSxmJiZlLnB1c2goYy5iaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyPT09dH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIGQ9Yy5uYXRpdmVQYXJhbXN8fE9iamVjdChyLmRlZXBBY2Nlc3MpKGMsIm1lZGlhVHlwZXMubmF0aXZlIik7ZCYmKHQ9Tyh7fSx0LHtuYXRpdmVQYXJhbXM6T2JqZWN0KG8uaCkoZCl9KSksdD1PKHt9LHQsT2JqZWN0KHIuZ2V0RGVmaW5lZFBhcmFtcykoYyxbIm9ydGIySW1wIiwibWVkaWFUeXBlIiwicmVuZGVyZXIiLCJzdG9yZWRBdWN0aW9uUmVzcG9uc2UiXSkpO3ZhciBmPU9iamVjdChpLmIpKE9iamVjdChpLmEpKHQsdSksbCkscD1mLmFjdGl2ZSxiPWYubWVkaWFUeXBlcyx2PWYuZmlsdGVyUmVzdWx0cztyZXR1cm4gcD92JiZPYmplY3Qoci5sb2dJbmZvKSgnU2l6ZSBtYXBwaW5nIGZpbHRlcmVkIGFkVW5pdCAiJy5jb25jYXQoYy5jb2RlLCciIGJpZGRlciAiJykuY29uY2F0KHQuYmlkZGVyLCciIGJhbm5lciBzaXplcyBmcm9tICcpLHYuYmVmb3JlLCJ0byAiLHYuYWZ0ZXIpOk9iamVjdChyLmxvZ0luZm8pKCdTaXplIG1hcHBpbmcgZGVhY3RpdmF0ZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyIgYmlkZGVyICInKS5jb25jYXQodC5iaWRkZXIsJyInKSksT2JqZWN0KHIuaXNWYWxpZE1lZGlhVHlwZXMpKGIpP3Q9Tyh7fSx0LHttZWRpYVR5cGVzOmJ9KTpPYmplY3Qoci5sb2dFcnJvcikoIm1lZGlhVHlwZXMgaXMgbm90IGNvcnJlY3RseSBjb25maWd1cmVkIGZvciBhZHVuaXQgIi5jb25jYXQoYy5jb2RlKSkscCYmZS5wdXNoKE8oe30sdCx7YWRVbml0Q29kZTpjLmNvZGUsdHJhbnNhY3Rpb25JZDpjLnRyYW5zYWN0aW9uSWQsc2l6ZXM6T2JqZWN0KHIuZGVlcEFjY2VzcykoYiwiYmFubmVyLnNpemVzIil8fE9iamVjdChyLmRlZXBBY2Nlc3MpKGIsInZpZGVvLnBsYXllclNpemUiKXx8W10sYmlkSWQ6dC5iaWRfaWR8fE9iamVjdChyLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksYmlkZGVyUmVxdWVzdElkOmEsYXVjdGlvbklkOm4sc3JjOnMsYmlkUmVxdWVzdHNDb3VudDpnLmEuZ2V0UmVxdWVzdHNDb3VudGVyKGMuY29kZSksYmlkZGVyUmVxdWVzdHNDb3VudDpnLmEuZ2V0QmlkZGVyUmVxdWVzdHNDb3VudGVyKGMuY29kZSx0LmJpZGRlciksYmlkZGVyV2luc0NvdW50OmcuYS5nZXRCaWRkZXJXaW5zQ291bnRlcihjLmNvZGUsdC5iaWRkZXIpfSkpLGV9KSxbXSkpLGV9KSxbXSkucmVkdWNlKHIuZmxhdHRlbixbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iIiE9PWV9KSl9KSwiZ2V0QmlkcyIpO3ZhciBfPXtjb25zZW50RGF0YTpudWxsLHNldENvbnNlbnREYXRhOmZ1bmN0aW9uKGUpe18uY29uc2VudERhdGE9ZX0sZ2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gXy5jb25zZW50RGF0YX19LFU9e2NvbnNlbnREYXRhOm51bGwsc2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oZSl7VS5jb25zZW50RGF0YT1lfSxnZXRDb25zZW50RGF0YTpmdW5jdGlvbigpe3JldHVybiBVLmNvbnNlbnREYXRhfX0sQj17Z2V0Q29wcGE6ZnVuY3Rpb24oKXtyZXR1cm4hIXUuYi5nZXRDb25maWcoImNvcHBhIil9fSx4PVtdLEQ9W107ZnVuY3Rpb24gaygpe0EuczJTVGVzdGluZ0VuYWJsZWQ9ITEsdy5mb3JFYWNoKChmdW5jdGlvbihlKXtlJiZlLmVuYWJsZWQmJmUuYmlkZGVycyYmZS5iaWRkZXJzLmxlbmd0aCYmRC5wdXNoLmFwcGx5KEQseShlLmJpZGRlcnMpKX0pKX1mdW5jdGlvbiBOKGUpe3JldHVybiBlJiZlLmVuYWJsZWQmJmUudGVzdGluZyYman1mdW5jdGlvbiBQKGUsdCxuKXt0cnl7dmFyIGk9VFtlXS5nZXRTcGVjKCk7aSYmaVt0XSYmImZ1bmN0aW9uIj09dHlwZW9mIGlbdF0mJihPYmplY3Qoci5sb2dJbmZvKSgiSW52b2tpbmcgIi5jb25jYXQoZSwiLiIpLmNvbmNhdCh0KSksdS5iLnJ1bldpdGhCaWRkZXIoZSxyLmJpbmQuY2FsbChpW3RdLGksbikpKX1jYXRjaChuKXtPYmplY3Qoci5sb2dXYXJuKSgiRXJyb3IgY2FsbGluZyAiLmNvbmNhdCh0LCIgb2YgIikuY29uY2F0KGUpKX19QS5tYWtlQmlkUmVxdWVzdHM9T2JqZWN0KHMuYikoInN5bmMiLChmdW5jdGlvbihlLHQsbixpLG8pe0UuZW1pdChTLkVWRU5UUy5CRUZPUkVfUkVRVUVTVF9CSURTLGUpO3ZhciBhPU9iamVjdChyLmdldEJpZGRlckNvZGVzKShlKTt1LmIuZ2V0Q29uZmlnKCJiaWRkZXJTZXF1ZW5jZSIpPT09dS5hJiYoYT1PYmplY3Qoci5zaHVmZmxlKShhKSk7dmFyIGM9T2JqZWN0KGIuYSkoKSxzPWEsZD1bXTswPT09RC5sZW5ndGgmJmsoKSx3LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QmJnQuZW5hYmxlZCYmKE4odCkmJihqLmNhbGN1bGF0ZUJpZFNvdXJjZXModCksai5nZXRTb3VyY2VCaWRkZXJNYXAoZSxEKVtqLkNMSUVOVF0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZigpKHgsZSl8fHgucHVzaChlKX0pKSkpfSkpLHM9YS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFmKCkoRCxlKXx8ZigpKHgsZSl9KSk7dmFyIGw9RDt3LmZvckVhY2goKGZ1bmN0aW9uKGkpe2lmKGkmJmkuZW5hYmxlZCl7KGZ1bmN0aW9uKGUpe3JldHVybiBCb29sZWFuKE4oZSkmJmUudGVzdFNlcnZlck9ubHkpfSkoaSkmJmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEJvb2xlYW4ocCgpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkoZS5iaWRzLChmdW5jdGlvbihlKXtyZXR1cm4oZS5iaWRTb3VyY2V8fHQuYmlkZGVyQ29udHJvbCYmdC5iaWRkZXJDb250cm9sW2UuYmlkZGVyXSkmJmUuZmluYWxTb3VyY2U9PT1qLlNFUlZFUn0pKX0pKSl9KGUsaSkmJihPYmplY3Qoci5sb2dXYXJuKSgidGVzdFNlcnZlck9ubHk6IFRydWUuICBBbGwgY2xpZW50IHJlcXVlc3RzIHdpbGwgYmUgc3VwcHJlc3NlZC4iKSxzLmxlbmd0aD0wKTt2YXIgYT1mdW5jdGlvbihlLHQpe3ZhciBuPXQuYmlkZGVycyxpPU9iamVjdChyLmRlZXBDbG9uZSkoZSk7cmV0dXJuIGkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5iaWRzPWUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmKCkobixlLmJpZGRlcikmJighTih0KXx8ZS5maW5hbFNvdXJjZSE9PWouQ0xJRU5UKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZF9pZD1PYmplY3Qoci5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLGV9KSl9KSksaS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAwIT09ZS5iaWRzLmxlbmd0aH0pKX0oZSxpKSx1PU9iamVjdChyLmdlbmVyYXRlVVVJRCkoKTtsLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBzPU9iamVjdChyLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksZj17YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDpzLHRpZDp1LGJpZHM6Uih7YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDpzLGFkVW5pdHM6T2JqZWN0KHIuZGVlcENsb25lKShhKSxsYWJlbHM6byxzcmM6Uy5TMlMuU1JDfSksYXVjdGlvblN0YXJ0OnQsdGltZW91dDppLnRpbWVvdXQsc3JjOlMuUzJTLlNSQyxyZWZlcmVySW5mbzpjfTswIT09Zi5iaWRzLmxlbmd0aCYmZC5wdXNoKGYpfSkpLGEuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5iaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHAoKShkLChmdW5jdGlvbih0KXtyZXR1cm4gcCgpKHQuYmlkcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYmlkSWQ9PT1lLmJpZF9pZH0pKX0pKX0pKTtlLmJpZHM9dH0pKSxkLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUuYWRVbml0c1MyU0NvcHkmJihlLmFkVW5pdHNTMlNDb3B5PWEuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLmxlbmd0aD4wfSkpKX0pKX19KSk7dmFyIGc9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KHIuZGVlcENsb25lKShlKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZHM9ZS5iaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIXgubGVuZ3RofHxlLmZpbmFsU291cmNlIT09ai5TRVJWRVJ9KSl9KSksdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAwIT09ZS5iaWRzLmxlbmd0aH0pKX0oZSk7cmV0dXJuIHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGE9T2JqZWN0KHIuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSx1PXtiaWRkZXJDb2RlOmUsYXVjdGlvbklkOm4sYmlkZGVyUmVxdWVzdElkOmEsYmlkczpSKHtiaWRkZXJDb2RlOmUsYXVjdGlvbklkOm4sYmlkZGVyUmVxdWVzdElkOmEsYWRVbml0czpPYmplY3Qoci5kZWVwQ2xvbmUpKGcpLGxhYmVsczpvLHNyYzoiY2xpZW50In0pLGF1Y3Rpb25TdGFydDp0LHRpbWVvdXQ6aSxyZWZlcmVySW5mbzpjfSxzPVRbZV07c3x8T2JqZWN0KHIubG9nRXJyb3IpKCJUcnlpbmcgdG8gbWFrZSBhIHJlcXVlc3QgZm9yIGJpZGRlciB0aGF0IGRvZXMgbm90IGV4aXN0OiAiLmNvbmNhdChlKSkscyYmdS5iaWRzJiYwIT09dS5iaWRzLmxlbmd0aCYmZC5wdXNoKHUpfSkpLF8uZ2V0Q29uc2VudERhdGEoKSYmZC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmdkcHJDb25zZW50PV8uZ2V0Q29uc2VudERhdGEoKX0pKSxVLmdldENvbnNlbnREYXRhKCkmJmQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS51c3BDb25zZW50PVUuZ2V0Q29uc2VudERhdGEoKX0pKSxkfSksIm1ha2VCaWRSZXF1ZXN0cyIpLEEuY2FsbEJpZHM9ZnVuY3Rpb24oZSx0LG4saSxvLGEscyl7aWYodC5sZW5ndGgpe3ZhciBkPXYodC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbTnVtYmVyKHZvaWQgMCE9PXQuc3JjJiZ0LnNyYz09PVMuUzJTLlNSQyldLnB1c2godCksZX0pLFtbXSxbXV0pLDIpLGw9ZFswXSxwPWRbMV0sZz1bXTtwLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0tMSxuPTA7bjxnLmxlbmd0aDsrK24paWYoZS50aWQ9PT1nW25dLnRpZCl7dD1uO2JyZWFrfXQ8PS0xJiZnLnB1c2goZSl9KSk7dmFyIGI9MDt3LmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUmJmdbYl0mJmYoKShlLmJpZGRlcnMsZ1tiXS5iaWRkZXJDb2RlKSl7dmFyIHQ9T2JqZWN0KGMuYikoYSxvP3tyZXF1ZXN0Om8ucmVxdWVzdC5iaW5kKG51bGwsInMycyIpLGRvbmU6by5kb25lfTp2b2lkIDApLHU9ZS5iaWRkZXJzLHM9VFtlLmFkYXB0ZXJdLGQ9Z1tiXS50aWQsbD1nW2JdLmFkVW5pdHNTMlNDb3B5LHY9cC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRpZD09PWR9KSk7aWYocyl7dmFyIHk9e3RpZDpkLGFkX3VuaXRzOmwsczJzQ29uZmlnOmV9O2lmKHkuYWRfdW5pdHMubGVuZ3RoKXt2YXIgaD12Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhcnQ9T2JqZWN0KHIudGltZXN0YW1wKSgpLGkuYmluZChlKX0pKSxtPXkuYWRfdW5pdHMucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCgodC5iaWRzfHxbXSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0LmJpZGRlcil9KSxbXSkpfSksW10pO09iamVjdChyLmxvZ01lc3NhZ2UpKCJDQUxMSU5HIFMyUyBIRUFERVIgQklEREVSUyA9PT09ICIuY29uY2F0KHUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKG0sZSl9KSkuam9pbigiLCIpKSksdi5mb3JFYWNoKChmdW5jdGlvbihlKXtFLmVtaXQoUy5FVkVOVFMuQklEX1JFUVVFU1RFRCxlKX0pKSxzLmNhbGxCaWRzKHkscCwoZnVuY3Rpb24oZSx0KXt2YXIgaT1PYmplY3Qoci5nZXRCaWRkZXJSZXF1ZXN0KShwLHQuYmlkZGVyQ29kZSxlKTtpJiZuLmNhbGwoaSxlLHQpfSksKGZ1bmN0aW9uKCl7cC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRHluYW1pY30pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtoLnB1c2goaS5iaW5kKGUpKX0pKSxoLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlKCl9KSl9KSx0KX19ZWxzZSBPYmplY3Qoci5sb2dFcnJvcikoIm1pc3NpbmcgIitlLmFkYXB0ZXIpO2IrK319KSksbC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnN0YXJ0PU9iamVjdChyLnRpbWVzdGFtcCkoKTt2YXIgdD1UW2UuYmlkZGVyQ29kZV07dS5iLnJ1bldpdGhCaWRkZXIoZS5iaWRkZXJDb2RlLChmdW5jdGlvbigpe09iamVjdChyLmxvZ01lc3NhZ2UpKCJDQUxMSU5HIEJJRERFUiIpLEUuZW1pdChTLkVWRU5UUy5CSURfUkVRVUVTVEVELGUpfSkpO3ZhciBkPU9iamVjdChjLmIpKGEsbz97cmVxdWVzdDpvLnJlcXVlc3QuYmluZChudWxsLGUuYmlkZGVyQ29kZSksZG9uZTpvLmRvbmV9OnZvaWQgMCksZj1pLmJpbmQoZSk7dHJ5e3UuYi5ydW5XaXRoQmlkZGVyKGUuYmlkZGVyQ29kZSxyLmJpbmQuY2FsbCh0LmNhbGxCaWRzLHQsZSxuLmJpbmQoZSksZixkLHMsdS5iLmNhbGxiYWNrV2l0aEJpZGRlcihlLmJpZGRlckNvZGUpKSl9Y2F0Y2godCl7T2JqZWN0KHIubG9nRXJyb3IpKCIiLmNvbmNhdChlLmJpZGRlckNvZGUsIiBCaWQgQWRhcHRlciBlbWl0dGVkIGFuIHVuY2F1Z2h0IGVycm9yIHdoZW4gcGFyc2luZyB0aGVpciBiaWRSZXF1ZXN0Iikse2U6dCxiaWRSZXF1ZXN0OmV9KSxmKCl9fSkpfWVsc2UgT2JqZWN0KHIubG9nV2FybikoImNhbGxCaWRzIGV4ZWN1dGVkIHdpdGggbm8gYmlkUmVxdWVzdHMuICBXZXJlIHRoZXkgZmlsdGVyZWQgYnkgbGFiZWxzIG9yIHNpemluZz8iKX0sQS52aWRlb0FkYXB0ZXJzPVtdLEEucmVnaXN0ZXJCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGk9bi5zdXBwb3J0ZWRNZWRpYVR5cGVzLGE9dm9pZCAwPT09aT9bXTppO2UmJnQ/ImZ1bmN0aW9uIj09dHlwZW9mIGUuY2FsbEJpZHM/KFRbdF09ZSxmKCkoYSwidmlkZW8iKSYmQS52aWRlb0FkYXB0ZXJzLnB1c2godCksZigpKGEsIm5hdGl2ZSIpJiZvLmYucHVzaCh0KSk6T2JqZWN0KHIubG9nRXJyb3IpKCJCaWRkZXIgYWRhcHRvciBlcnJvciBmb3IgYmlkZGVyIGNvZGU6ICIrdCsiYmlkZGVyIG11c3QgaW1wbGVtZW50IGEgY2FsbEJpZHMoKSBmdW5jdGlvbiIpOk9iamVjdChyLmxvZ0Vycm9yKSgiYmlkQWRhcHRlciBvciBiaWRkZXJDb2RlIG5vdCBzcGVjaWZpZWQiKX0sQS5hbGlhc0JpZEFkYXB0ZXI9ZnVuY3Rpb24oZSx0LG4pe2lmKHZvaWQgMD09PVRbdF0pe3ZhciBpPVRbZV07aWYodm9pZCAwPT09aSl7dmFyIGM9W107dy5mb3JFYWNoKChmdW5jdGlvbihuKXtpZihuLmJpZGRlcnMmJm4uYmlkZGVycy5sZW5ndGgpe3ZhciByPW4mJm4uYmlkZGVycztuJiZmKCkocix0KT9JW3RdPWU6Yy5wdXNoKGUpfX0pKSxjLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChyLmxvZ0Vycm9yKSgnYmlkZGVyQ29kZSAiJytlKyciIGlzIG5vdCBhbiBleGlzdGluZyBiaWRkZXIuJywiYWRhcHRlck1hbmFnZXIuYWxpYXNCaWRBZGFwdGVyIil9KSl9ZWxzZSB0cnl7dmFyIHUscz1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZigpKEEudmlkZW9BZGFwdGVycyxlKSYmdC5wdXNoKCJ2aWRlbyIpLGYoKShvLmYsZSkmJnQucHVzaCgibmF0aXZlIiksdH0oZSk7aWYoaS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUhPU9iamVjdC5wcm90b3R5cGUpKHU9bmV3IGkuY29uc3RydWN0b3IpLnNldEJpZGRlckNvZGUodCk7ZWxzZXt2YXIgZD1pLmdldFNwZWMoKSxsPW4mJm4uZ3ZsaWQscD1uJiZuLnNraXBQYnNBbGlhc2luZzt1PU9iamVjdChhLm5ld0JpZGRlcikoTyh7fSxkLHtjb2RlOnQsZ3ZsaWQ6bCxza2lwUGJzQWxpYXNpbmc6cH0pKSxJW3RdPWV9QS5yZWdpc3RlckJpZEFkYXB0ZXIodSx0LHtzdXBwb3J0ZWRNZWRpYVR5cGVzOnN9KX1jYXRjaCh0KXtPYmplY3Qoci5sb2dFcnJvcikoZSsiIGJpZGRlciBkb2VzIG5vdCBjdXJyZW50bHkgc3VwcG9ydCBhbGlhc2luZy4iLCJhZGFwdGVyTWFuYWdlci5hbGlhc0JpZEFkYXB0ZXIiKX19ZWxzZSBPYmplY3Qoci5sb2dNZXNzYWdlKSgnYWxpYXMgbmFtZSAiJyt0KyciIGhhcyBiZWVuIGFscmVhZHkgc3BlY2lmaWVkLicpfSxBLnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlcj1mdW5jdGlvbihlKXt2YXIgdD1lLmFkYXB0ZXIsbj1lLmNvZGUsaT1lLmd2bGlkO3QmJm4/ImZ1bmN0aW9uIj09dHlwZW9mIHQuZW5hYmxlQW5hbHl0aWNzPyh0LmNvZGU9bixDW25dPXthZGFwdGVyOnQsZ3ZsaWQ6aX0pOk9iamVjdChyLmxvZ0Vycm9yKSgnUHJlYmlkIEVycm9yOiBBbmFseXRpY3MgYWRhcHRvciBlcnJvciBmb3IgYW5hbHl0aWNzICInLmNvbmNhdChuLCciXG4gICAgICAgIGFuYWx5dGljcyBhZGFwdGVyIG11c3QgaW1wbGVtZW50IGFuIGVuYWJsZUFuYWx5dGljcygpIGZ1bmN0aW9uJykpOk9iamVjdChyLmxvZ0Vycm9yKSgiUHJlYmlkIEVycm9yOiBhbmFseXRpY3NBZGFwdGVyIG9yIGFuYWx5dGljc0NvZGUgbm90IHNwZWNpZmllZCIpfSxBLmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbihlKXtPYmplY3Qoci5pc0FycmF5KShlKXx8KGU9W2VdKSxPYmplY3Qoci5fZWFjaCkoZSwoZnVuY3Rpb24oZSl7dmFyIHQ9Q1tlLnByb3ZpZGVyXS5hZGFwdGVyO3Q/dC5lbmFibGVBbmFseXRpY3MoZSk6T2JqZWN0KHIubG9nRXJyb3IpKCJQcmViaWQgRXJyb3I6IG5vIGFuYWx5dGljcyBhZGFwdGVyIGZvdW5kIGluIHJlZ2lzdHJ5IGZvclxuICAgICAgICAiLmNvbmNhdChlLnByb3ZpZGVyLCIuIikpfSkpfSxBLmdldEJpZEFkYXB0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIFRbZV19LEEuZ2V0QW5hbHl0aWNzQWRhcHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gQ1tlXX0sQS5jYWxsVGltZWRPdXRCaWRkZXJzPWZ1bmN0aW9uKGUsdCxuKXt0PXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJhbXM9T2JqZWN0KHIuZ2V0VXNlckNvbmZpZ3VyZWRQYXJhbXMpKGUsdC5hZFVuaXRDb2RlLHQuYmlkZGVyKSx0LnRpbWVvdXQ9bix0fSkpLHQ9T2JqZWN0KHIuZ3JvdXBCeSkodCwiYmlkZGVyIiksT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7UChlLCJvblRpbWVvdXQiLHRbZV0pfSkpfSxBLmNhbGxCaWRXb25CaWRkZXI9ZnVuY3Rpb24oZSx0LG4pe3QucGFyYW1zPU9iamVjdChyLmdldFVzZXJDb25maWd1cmVkUGFyYW1zKShuLHQuYWRVbml0Q29kZSx0LmJpZGRlciksZy5hLmluY3JlbWVudEJpZGRlcldpbnNDb3VudGVyKHQuYWRVbml0Q29kZSx0LmJpZGRlciksUChlLCJvbkJpZFdvbiIsdCl9LEEuY2FsbFNldFRhcmdldGluZ0JpZGRlcj1mdW5jdGlvbihlLHQpe1AoZSwib25TZXRUYXJnZXRpbmciLHQpfSxBLmNhbGxCaWRWaWV3YWJsZUJpZGRlcj1mdW5jdGlvbihlLHQpe1AoZSwib25CaWRWaWV3YWJsZSIsdCl9LEEuY2FsbEJpZGRlckVycm9yPWZ1bmN0aW9uKGUsdCxuKXtQKGUsIm9uQmlkZGVyRXJyb3IiLHtlcnJvcjp0LGJpZGRlclJlcXVlc3Q6bn0pfSx0LmRlZmF1bHQ9QX0sODA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjIxKTtlLmV4cG9ydHM9cn0sODE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsImFkVW5pdFNldHVwQ2hlY2tzIiwoZnVuY3Rpb24oKXtyZXR1cm4gSn0pKSxuLmQodCwiY2hlY2tBZFVuaXRTZXR1cCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFl9KSksdC5leGVjdXRlQ2FsbGJhY2tzPVo7dmFyIHI9bigxNCksaT1uKDApLG89bigyMjkpLGE9big2MSksYz1uKDMpLHU9bigyMykscz1uKDM5KSxkPW4oOSksZj1uKDIzMCksbD1uKDEyKSxwPW4ubihsKSxnPW4oNzYpLGI9bigxMyksdj1uKDQzKSx5PW4oNyksaD1uKDQ3KTtmdW5jdGlvbiBtKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBPKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBPKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBPKGUsdCl9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIE8oZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiBqKCl7cmV0dXJuKGo9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgUz1PYmplY3Qoci5hKSgpLEU9big1KSxBPW4oOCkuZGVmYXVsdCxUPW4oMTApLEk9YS5hLnRyaWdnZXJVc2VyU3luY3Msdz1FLkVWRU5UUyxDPXcuQUREX0FEX1VOSVRTLFI9dy5CSURfV09OLF89dy5SRVFVRVNUX0JJRFMsVT13LlNFVF9UQVJHRVRJTkcsQj13LkFEX1JFTkRFUl9GQUlMRUQseD13LkFEX1JFTkRFUl9TVUNDRUVERUQsRD13LlNUQUxFX1JFTkRFUixrPUUuQURfUkVOREVSX0ZBSUxFRF9SRUFTT04sTj1rLlBSRVZFTlRfV1JJVElOR19PTl9NQUlOX0RPQ1VNRU5ULFA9ay5OT19BRCxxPWsuRVhDRVBUSU9OLE09ay5DQU5OT1RfRklORF9BRCxHPWsuTUlTU0lOR19ET0NfT1JfQURJRCxMPXtiaWRXb246ZnVuY3Rpb24oZSl7dmFyIHQ9dS5hLmdldEJpZHNSZXF1ZXN0ZWQoKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlfSkpfSkpLnJlZHVjZShpLmZsYXR0ZW4pLmZpbHRlcihpLnVuaXF1ZXMpO2lmKCFPYmplY3QoaS5jb250YWlucykodCxlKSlyZXR1cm4gdm9pZCBPYmplY3QoaS5sb2dFcnJvcikoJ1RoZSAiJytlKyciIHBsYWNlbWVudCBpcyBub3QgZGVmaW5lZC4nKTtyZXR1cm4hMH19O2Z1bmN0aW9uIFcoZSx0LG4pe2UuZGVmYXVsdFZpZXcmJmUuZGVmYXVsdFZpZXcuZnJhbWVFbGVtZW50JiYoZS5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnQud2lkdGg9dCxlLmRlZmF1bHRWaWV3LmZyYW1lRWxlbWVudC5oZWlnaHQ9bil9ZnVuY3Rpb24gRihlLHQpe3ZhciBuPVtdO3JldHVybiBPYmplY3QoaS5pc0FycmF5KShlKSYmKHQ/ZS5sZW5ndGg9PT10OmUubGVuZ3RoPjApJiYoZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmlzQXJyYXlPZk51bXMpKGUsMil9KSk/bj1lOk9iamVjdChpLmlzQXJyYXlPZk51bXMpKGUsMikmJm4ucHVzaChlKSksbn1mdW5jdGlvbiB6KGUpe3ZhciB0PU9iamVjdChpLmRlZXBDbG9uZSkoZSksbj10Lm1lZGlhVHlwZXMuYmFubmVyLHI9RihuLnNpemVzKTtyZXR1cm4gci5sZW5ndGg+MD8obi5zaXplcz1yLHQuc2l6ZXM9cik6KE9iamVjdChpLmxvZ0Vycm9yKSgiRGV0ZWN0ZWQgYSBtZWRpYVR5cGVzLmJhbm5lciBvYmplY3Qgd2l0aG91dCBhIHByb3BlciBzaXplcyBmaWVsZC4gIFBsZWFzZSBlbnN1cmUgdGhlIHNpemVzIGFyZSBsaXN0ZWQgbGlrZTogW1szMDAsIDI1MF0sIC4uLl0uICBSZW1vdmluZyBpbnZhbGlkIG1lZGlhVHlwZXMuYmFubmVyIG9iamVjdCBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy5iYW5uZXIpLHR9ZnVuY3Rpb24gVihlKXt2YXIgdD1PYmplY3QoaS5kZWVwQ2xvbmUpKGUpLG49dC5tZWRpYVR5cGVzLnZpZGVvO2lmKG4ucGxheWVyU2l6ZSl7dmFyIHI9Im51bWJlciI9PXR5cGVvZiBuLnBsYXllclNpemVbMF0/MjoxLG89RihuLnBsYXllclNpemUscik7by5sZW5ndGg+MD8oMj09PXImJk9iamVjdChpLmxvZ0luZm8pKCJUcmFuc2Zvcm1pbmcgdmlkZW8ucGxheWVyU2l6ZSBmcm9tIFs2NDAsNDgwXSB0byBbWzY0MCw0ODBdXSBzbyBpdCdzIGluIHRoZSBwcm9wZXIgZm9ybWF0LiIpLG4ucGxheWVyU2l6ZT1vLHQuc2l6ZXM9byk6KE9iamVjdChpLmxvZ0Vycm9yKSgiRGV0ZWN0ZWQgaW5jb3JyZWN0IGNvbmZpZ3VyYXRpb24gb2YgbWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplLiAgUGxlYXNlIHNwZWNpZnkgb25seSBvbmUgc2V0IG9mIGRpbWVuc2lvbnMgaW4gYSBmb3JtYXQgbGlrZTogW1s2NDAsIDQ4MF1dLiBSZW1vdmluZyBpbnZhbGlkIG1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplKX1yZXR1cm4gdH1mdW5jdGlvbiBIKGUpe3ZhciB0PU9iamVjdChpLmRlZXBDbG9uZSkoZSksbj10Lm1lZGlhVHlwZXMubmF0aXZlO3JldHVybiBuLmltYWdlJiZuLmltYWdlLnNpemVzJiYhQXJyYXkuaXNBcnJheShuLmltYWdlLnNpemVzKSYmKE9iamVjdChpLmxvZ0Vycm9yKSgiUGxlYXNlIHVzZSBhbiBhcnJheSBvZiBzaXplcyBmb3IgbmF0aXZlLmltYWdlLnNpemVzIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5zaXplcyBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2Uuc2l6ZXMpLG4uaW1hZ2UmJm4uaW1hZ2UuYXNwZWN0X3JhdGlvcyYmIUFycmF5LmlzQXJyYXkobi5pbWFnZS5hc3BlY3RfcmF0aW9zKSYmKE9iamVjdChpLmxvZ0Vycm9yKSgiUGxlYXNlIHVzZSBhbiBhcnJheSBvZiBzaXplcyBmb3IgbmF0aXZlLmltYWdlLmFzcGVjdF9yYXRpb3MgZmllbGQuICBSZW1vdmluZyBpbnZhbGlkIG1lZGlhVHlwZXMubmF0aXZlLmltYWdlLmFzcGVjdF9yYXRpb3MgcHJvcGVydHkgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMubmF0aXZlLmltYWdlLmFzcGVjdF9yYXRpb3MpLG4uaWNvbiYmbi5pY29uLnNpemVzJiYhQXJyYXkuaXNBcnJheShuLmljb24uc2l6ZXMpJiYoT2JqZWN0KGkubG9nRXJyb3IpKCJQbGVhc2UgdXNlIGFuIGFycmF5IG9mIHNpemVzIGZvciBuYXRpdmUuaWNvbi5zaXplcyBmaWVsZC4gIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy5uYXRpdmUuaWNvbi5zaXplcyBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy5uYXRpdmUuaWNvbi5zaXplcyksdH1mdW5jdGlvbiBLKGUsdCl7dmFyIG49T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdCh0LCIucG9zIikpO2lmKCFufHwhT2JqZWN0KGkuaXNOdW1iZXIpKG4pfHwhaXNGaW5pdGUobikpe3ZhciByPSJWYWx1ZSBvZiBwcm9wZXJ0eSAncG9zJyBvbiBhZCB1bml0ICIuY29uY2F0KGUuY29kZSwiIHNob3VsZCBiZSBvZiB0eXBlOiBOdW1iZXIiKTtPYmplY3QoaS5sb2dXYXJuKShyKSxULmVtaXQoRS5FVkVOVFMuQVVDVElPTl9ERUJVRyx7dHlwZToiV0FSTklORyIsYXJndW1lbnRzOnJ9KSxkZWxldGUgZS5tZWRpYVR5cGVzW3RdLnBvc31yZXR1cm4gZX1PYmplY3QoZi5hKSgpLFMuYmlkZGVyU2V0dGluZ3M9Uy5iaWRkZXJTZXR0aW5nc3x8e30sUy5saWJMb2FkZWQ9ITAsUy52ZXJzaW9uPSJ2NS4yMC4yIixPYmplY3QoaS5sb2dJbmZvKSgiUHJlYmlkLmpzIHY1LjIwLjIgbG9hZGVkIiksUy5pbnN0YWxsZWRNb2R1bGVzPVsiY29uc2VudE1hbmFnZW1lbnQiLCJjb25zZW50TWFuYWdlbWVudFVzcCIsIjMzYWNyb3NzQmlkQWRhcHRlciIsImFtYXpvbkJpZEFkYXB0ZXIiLCJhZGZCaWRBZGFwdGVyIiwiYW9sQmlkQWRhcHRlciIsImFkeW91bGlrZUJpZEFkYXB0ZXIiLCJhcHBuZXh1c0JpZEFkYXB0ZXIiLCJjb252ZXJzYW50QmlkQWRhcHRlciIsImNyaXRlb0JpZEFkYXB0ZXIiLCJndW1ndW1CaWRBZGFwdGVyIiwiZW14X2RpZ2l0YWxCaWRBZGFwdGVyIiwiaW1wcm92ZWRpZ2l0YWxCaWRBZGFwdGVyIiwiaXhCaWRBZGFwdGVyIiwic21hcnRhZHNlcnZlckJpZEFkYXB0ZXIiLCJvcGVueEJpZEFkYXB0ZXIiLCJtZWRpYW5ldEJpZEFkYXB0ZXIiLCJjb25zdW1hYmxlQmlkQWRhcHRlciIsInRyaXBsZWxpZnRCaWRBZGFwdGVyIiwidW5kZXJkb2dtZWRpYUJpZEFkYXB0ZXIiLCJwdWJtYXRpY0JpZEFkYXB0ZXIiLCJwdWxzZXBvaW50QmlkQWRhcHRlciIsInJ1Ymljb25CaWRBZGFwdGVyIiwic29ub2JpQmlkQWRhcHRlciIsInNvdnJuQmlkQWRhcHRlciIsInNoYXJldGhyb3VnaEJpZEFkYXB0ZXIiLCJkaXN0cmljdG1ETVhCaWRBZGFwdGVyIiwicmh5dGhtb25lQmlkQWRhcHRlciIsImN1cnJlbmN5Iiwic2NoYWluIiwidXNlcklkIiwicHViUHJvdmlkZWRJZFN5c3RlbSIsInlpZWxkbGFiQmlkQWRhcHRlciIsInB1YnN0YWNrQW5hbHl0aWNzQWRhcHRlciIsIm5vYmlkQmlkQWRhcHRlciIsInNvcnRhYmxlQmlkQWRhcHRlciIsInByZWJpZFNlcnZlckJpZEFkYXB0ZXIiLCJicmlnaHRjb21CaWRBZGFwdGVyIiwidHJ1c3R4QmlkQWRhcHRlciIsImlkNUlkU3lzdGVtIiwib25ldGFnQmlkQWRhcHRlciIsInlhaG9vc3NwQmlkQWRhcHRlciIsInJlbGF5QmlkQWRhcHRlciJdLFMuYWRVbml0cz1TLmFkVW5pdHN8fFtdLFMuc2V0Q29va2llRnJhbWU9ZnVuY3Rpb24oZSl7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLnNldENvb2tpZUZyYW1lIixhcmd1bWVudHMpLGguZihlKX0sUy5vbkJlZm9yZVJlcXVlc3Q9ZnVuY3Rpb24oZSl7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLm9uQmVmb3JlUmVxdWVzdCIsYXJndW1lbnRzKSxoLmIoZSl9LFMub25TZW5kTG9nPWZ1bmN0aW9uKGUpe09iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5vblNlbmRMb2ciLGFyZ3VtZW50cyksaC5kKGUpfSxTLnRyaWdnZXJVc2VyU3luY3M9STt2YXIgSj17dmFsaWRhdGVCYW5uZXJNZWRpYVR5cGU6eix2YWxpZGF0ZVZpZGVvTWVkaWFUeXBlOlYsdmFsaWRhdGVOYXRpdmVNZWRpYVR5cGU6SCx2YWxpZGF0ZVNpemVzOkZ9LFk9T2JqZWN0KGQuYikoInN5bmMiLChmdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbixyLG8sYT1lLm1lZGlhVHlwZXMsYz1lLmJpZHM7aWYoYyYmT2JqZWN0KGkuaXNBcnJheSkoYykpaWYoYSYmMCE9PU9iamVjdC5rZXlzKGEpLmxlbmd0aCl7YS5iYW5uZXImJihuPXooZSksYS5iYW5uZXIuaGFzT3duUHJvcGVydHkoInBvcyIpJiYobj1LKG4sImJhbm5lciIpKSksYS52aWRlbyYmKHI9VihufHxlKSxhLnZpZGVvLmhhc093blByb3BlcnR5KCJwb3MiKSYmKHI9SyhyLCJ2aWRlbyIpKSksYS5uYXRpdmUmJihvPUgocnx8KG58fGUpKSk7dmFyIHU9aih7fSxuLHIsbyk7dC5wdXNoKHUpfWVsc2UgT2JqZWN0KGkubG9nRXJyb3IpKCJEZXRlY3RlZCBhZFVuaXQuY29kZSAnIi5jb25jYXQoZS5jb2RlLCInIGRpZCBub3QgaGF2ZSBhICdtZWRpYVR5cGVzJyBvYmplY3QgZGVmaW5lZC4gIFRoaXMgaXMgYSByZXF1aXJlZCBmaWVsZCBmb3IgdGhlIGF1Y3Rpb24sIHNvIHRoaXMgYWRVbml0IGhhcyBiZWVuIHJlbW92ZWQuIikpO2Vsc2UgT2JqZWN0KGkubG9nRXJyb3IpKCJEZXRlY3RlZCBhZFVuaXQuY29kZSAnIi5jb25jYXQoZS5jb2RlLCInIGRpZCBub3QgaGF2ZSAnYWRVbml0LmJpZHMnIGRlZmluZWQgb3IgJ2FkVW5pdC5iaWRzJyBpcyBub3QgYW4gYXJyYXkuIFJlbW92aW5nIGFkVW5pdCBmcm9tIGF1Y3Rpb24uIikpfSkpLHR9KSwiY2hlY2tBZFVuaXRTZXR1cCIpO2Z1bmN0aW9uIFEoZSl7dmFyIHQ9dS5hW2VdKCkuZmlsdGVyKGkuYmluZC5jYWxsKGkuYWRVbml0c0ZpbHRlcix0aGlzLHUuYS5nZXRBZFVuaXRDb2RlcygpKSksbj11LmEuZ2V0TGFzdEF1Y3Rpb25JZCgpO3JldHVybiB0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZX0pKS5maWx0ZXIoaS51bmlxdWVzKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYXVjdGlvbklkPT09biYmdC5hZFVuaXRDb2RlPT09ZX0pKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlWzBdJiZlWzBdLmFkVW5pdENvZGV9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdD17fSxuPWVbMF0uYWRVbml0Q29kZSxyPXtiaWRzOmV9LG4gaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtuXT1yLHQ7dmFyIHQsbixyfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gaihlLHQpfSkse30pfWZ1bmN0aW9uICQoZSl7dmFyIHQ9ZS5yZWFzb24sbj1lLm1lc3NhZ2Uscj1lLmJpZCxvPWUuaWQsYT17cmVhc29uOnQsbWVzc2FnZTpufTtyJiYoYS5iaWQ9ciksbyYmKGEuYWRJZD1vKSxPYmplY3QoaS5sb2dFcnJvcikobiksVC5lbWl0KEIsYSl9ZnVuY3Rpb24gWChlKXt2YXIgdD1lLmRvYyxuPWUuYmlkLHI9ZS5pZCxpPXtkb2M6dH07biYmKGkuYmlkPW4pLHImJihpLmFkSWQ9ciksVC5lbWl0KHgsaSl9ZnVuY3Rpb24gWihlLHQpe2Z1bmN0aW9uIG4oZSl7Zm9yKHZhciB0O3Q9ZS5zaGlmdCgpOyl0KCl9bih5LmMpLG4oZWUpLGUuY2FsbCh0aGlzLHQpfVMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlU3RyPWZ1bmN0aW9uKGUpe2lmKE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGVTdHIiLGFyZ3VtZW50cyksZSl7dmFyIHQ9Uy5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGUoZSk7cmV0dXJuIE9iamVjdChpLnRyYW5zZm9ybUFkU2VydmVyVGFyZ2V0aW5nT2JqKSh0KX1PYmplY3QoaS5sb2dNZXNzYWdlKSgiTmVlZCB0byBjYWxsIGdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZVN0ciB3aXRoIGFkdW5pdENvZGUiKX0sUy5nZXRIaWdoZXN0VW51c2VkQmlkUmVzcG9uc2VGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PXUuYS5nZXRBbGxCaWRzRm9yQWRVbml0Q29kZShlKS5maWx0ZXIocy5hLmlzVW51c2VkQmlkKS5maWx0ZXIocy5hLmlzQmlkTm90RXhwaXJlZCk7cmV0dXJuIHQubGVuZ3RoP3QucmVkdWNlKGkuZ2V0SGlnaGVzdENwbSk6e319T2JqZWN0KGkubG9nTWVzc2FnZSkoIk5lZWQgdG8gY2FsbCBnZXRIaWdoZXN0VW51c2VkQmlkUmVzcG9uc2VGb3JBZFVuaXRDb2RlIHdpdGggYWR1bml0Q29kZSIpfSxTLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZT1mdW5jdGlvbihlKXtyZXR1cm4gUy5nZXRBZHNlcnZlclRhcmdldGluZyhlKVtlXX0sUy5nZXRBZHNlcnZlclRhcmdldGluZz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmciLGFyZ3VtZW50cykscy5kLmdldEFsbFRhcmdldGluZyhlLHQpfSxTLmdldE5vQmlkcz1mdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuZ2V0Tm9CaWRzIixhcmd1bWVudHMpLFEoImdldE5vQmlkcyIpfSxTLmdldE5vQmlkc0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7cmV0dXJue2JpZHM6dS5hLmdldE5vQmlkcygpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWV9KSl9fSxTLmdldEJpZFJlc3BvbnNlcz1mdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuZ2V0QmlkUmVzcG9uc2VzIixhcmd1bWVudHMpLFEoImdldEJpZHNSZWNlaXZlZCIpfSxTLmdldEJpZFJlc3BvbnNlc0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7cmV0dXJue2JpZHM6dS5hLmdldEJpZHNSZWNlaXZlZCgpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWV9KSl9fSxTLnNldFRhcmdldGluZ0ZvckdQVEFzeW5jPWZ1bmN0aW9uKGUsdCl7aWYoT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLnNldFRhcmdldGluZ0ZvckdQVEFzeW5jIixhcmd1bWVudHMpLE9iamVjdChpLmlzR3B0UHViYWRzRGVmaW5lZCkoKSl7dmFyIG49cy5kLmdldEFsbFRhcmdldGluZyhlKTtzLmQucmVzZXRQcmVzZXRUYXJnZXRpbmcoZSx0KSxzLmQuc2V0VGFyZ2V0aW5nRm9yR1BUKG4sdCksT2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMobltlXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ImhiX2FkaWQiPT09dCYmdS5hLnNldFN0YXR1c0ZvckJpZHMobltlXVt0XSxFLkJJRF9TVEFUVVMuQklEX1RBUkdFVElOR19TRVQpfSkpfSkpLFQuZW1pdChVLG4pfWVsc2UgT2JqZWN0KGkubG9nRXJyb3IpKCJ3aW5kb3cuZ29vZ2xldGFnIGlzIG5vdCBkZWZpbmVkIG9uIHRoZSBwYWdlIil9LFMuc2V0VGFyZ2V0aW5nRm9yQXN0PWZ1bmN0aW9uKGUpe09iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5zZXRUYXJnZXRpbmdGb3JBbiIsYXJndW1lbnRzKSxzLmQuaXNBcG50YWdEZWZpbmVkKCk/KHMuZC5zZXRUYXJnZXRpbmdGb3JBc3QoZSksVC5lbWl0KFUscy5kLmdldEFsbFRhcmdldGluZygpKSk6T2JqZWN0KGkubG9nRXJyb3IpKCJ3aW5kb3cuYXBudGFnIGlzIG5vdCBkZWZpbmVkIG9uIHRoZSBwYWdlIil9LFMucmVuZGVyQWQ9T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oZSx0LG4pe2lmKE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5yZW5kZXJBZCIsYXJndW1lbnRzKSxPYmplY3QoaS5sb2dNZXNzYWdlKSgiQ2FsbGluZyByZW5kZXJBZCB3aXRoIGFkSWQgOiIrdCksZSYmdCl0cnl7dmFyIHI9dS5hLmZpbmRCaWRCeUFkSWQodCk7aWYocil7dmFyIG89ITA7aWYociYmci5zdGF0dXM9PT1FLkJJRF9TVEFUVVMuUkVOREVSRUQmJihPYmplY3QoaS5sb2dXYXJuKSgiQWQgaWQgIi5jb25jYXQoci5hZElkLCIgaGFzIGJlZW4gcmVuZGVyZWQgYmVmb3JlIikpLFQuZW1pdChELHIpLE9iamVjdChpLmRlZXBBY2Nlc3MpKGMuYi5nZXRDb25maWcoImF1Y3Rpb25PcHRpb25zIiksInN1cHByZXNzU3RhbGVSZW5kZXIiKSYmKG89ITEpKSxvKXtpZihyLmFkPU9iamVjdChpLnJlcGxhY2VBdWN0aW9uUHJpY2UpKHIuYWQsci5jcG0pLHIuYWRVcmw9T2JqZWN0KGkucmVwbGFjZUF1Y3Rpb25QcmljZSkoci5hZFVybCxyLmNwbSksbiYmbi5jbGlja1Rocm91Z2gpe3ZhciBhPW4uY2xpY2tUaHJvdWdoO3IuYWQ9T2JqZWN0KGkucmVwbGFjZUNsaWNrVGhyb3VnaCkoci5hZCxhKSxyLmFkVXJsPU9iamVjdChpLnJlcGxhY2VDbGlja1Rocm91Z2gpKHIuYWRVcmwsYSl9dS5hLmFkZFdpbm5pbmdCaWQociksVC5lbWl0KFIscik7dmFyIHM9ci5oZWlnaHQsZD1yLndpZHRoLGY9ci5hZCxsPXIubWVkaWFUeXBlLHA9ci5hZFVybCxnPXIucmVuZGVyZXIsdj1kb2N1bWVudC5jcmVhdGVDb21tZW50KCJDcmVhdGl2ZSAiLmNvbmNhdChyLmNyZWF0aXZlSWQsIiBzZXJ2ZWQgYnkgIikuY29uY2F0KHIuYmlkZGVyLCIgUHJlYmlkLmpzIEhlYWRlciBCaWRkaW5nIikpO2lmKE9iamVjdChiLmMpKGcpKU9iamVjdChiLmIpKGcsciksT2JqZWN0KGkuaW5zZXJ0RWxlbWVudCkodixlLCJodG1sIiksWCh7ZG9jOmUsYmlkOnIsaWQ6dH0pO2Vsc2UgaWYoZT09PWRvY3VtZW50JiYhT2JqZWN0KGkuaW5JZnJhbWUpKCl8fCJ2aWRlbyI9PT1sKXt2YXIgeT0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkLiBBZCByZW5kZXIgY2FsbCBhZCBpZCAiLmNvbmNhdCh0LCIgd2FzIHByZXZlbnRlZCBmcm9tIHdyaXRpbmcgdG8gdGhlIG1haW4gZG9jdW1lbnQuIik7JCh7cmVhc29uOk4sbWVzc2FnZTp5LGJpZDpyLGlkOnR9KX1lbHNlIGlmKGYpe2lmKG5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJmaXJlZm94LyIpPi0xKXt2YXIgaD0vZmlyZWZveFwvKFtcZFwuXSspLyxtPW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaChoKVsxXTttJiZwYXJzZUludChtLDEwKTw2NyYmZS5vcGVuKCJ0ZXh0L2h0bWwiLCJyZXBsYWNlIil9ZS53cml0ZShmKSxlLmNsb3NlKCksVyhlLGQscyksT2JqZWN0KGkuaW5zZXJ0RWxlbWVudCkodixlLCJodG1sIiksT2JqZWN0KGkuY2FsbEJ1cmwpKHIpLFgoe2RvYzplLGJpZDpyLGlkOnR9KX1lbHNlIGlmKHApe3ZhciBPPU9iamVjdChpLmNyZWF0ZUludmlzaWJsZUlmcmFtZSkoKTtPLmhlaWdodD1zLE8ud2lkdGg9ZCxPLnN0eWxlLmRpc3BsYXk9ImlubGluZSIsTy5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIixPLnNyYz1wLE9iamVjdChpLmluc2VydEVsZW1lbnQpKE8sZSwiYm9keSIpLFcoZSxkLHMpLE9iamVjdChpLmluc2VydEVsZW1lbnQpKHYsZSwiaHRtbCIpLE9iamVjdChpLmNhbGxCdXJsKShyKSxYKHtkb2M6ZSxiaWQ6cixpZDp0fSl9ZWxzZXt2YXIgaj0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkLiBObyBhZCBmb3IgYmlkIHJlc3BvbnNlIGlkOiAiLmNvbmNhdCh0KTskKHtyZWFzb246UCxtZXNzYWdlOmosYmlkOnIsaWQ6dH0pfX19ZWxzZXt2YXIgUz0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkLiBDYW5ub3QgZmluZCBhZCBieSBnaXZlbiBpZCA6ICIuY29uY2F0KHQpOyQoe3JlYXNvbjpNLG1lc3NhZ2U6UyxpZDp0fSl9fWNhdGNoKGUpe3ZhciBBPSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQgSWQgOiIuY29uY2F0KHQsIiB0byB0aGUgcGFnZToiKS5jb25jYXQoZS5tZXNzYWdlKTskKHtyZWFzb246cSxtZXNzYWdlOkEsaWQ6dH0pfWVsc2V7dmFyIEk9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZCBJZCA6Ii5jb25jYXQodCwiIHRvIHRoZSBwYWdlLiBNaXNzaW5nIGRvY3VtZW50IG9yIGFkSWQiKTskKHtyZWFzb246RyxtZXNzYWdlOkksaWQ6dH0pfX0pKSxTLnJlbW92ZUFkVW5pdD1mdW5jdGlvbihlKXsoT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLnJlbW92ZUFkVW5pdCIsYXJndW1lbnRzKSxlKT8oT2JqZWN0KGkuaXNBcnJheSkoZSk/ZTpbZV0pLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1TLmFkVW5pdHMubGVuZ3RoLTE7dD49MDt0LS0pUy5hZFVuaXRzW3RdLmNvZGU9PT1lJiZTLmFkVW5pdHMuc3BsaWNlKHQsMSl9KSk6Uy5hZFVuaXRzPVtdfSxTLnJlcXVlc3RCaWRzPU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5iaWRzQmFja0hhbmRsZXIsbj1lLnRpbWVvdXQscj1lLmFkVW5pdHMsbz1lLmFkVW5pdENvZGVzLGE9ZS5sYWJlbHMsZD1lLmF1Y3Rpb25JZDtULmVtaXQoXyk7dmFyIGY9bnx8Yy5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpO3I9ciYmYy5iLmNvbnZlcnRBZFVuaXRGcGQoT2JqZWN0KGkuaXNBcnJheSkocik/cjpbcl0pfHxTLmFkVW5pdHMsT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLnJlcXVlc3RCaWRzIixhcmd1bWVudHMpO3ZhciBsPXIuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5wcmViaWQuc3RvcmVkcmVxdWVzdCIpfSkpLGI9W10sdj1jLmIuZ2V0Q29uZmlnKCJzMnNDb25maWciKTt2JiYoYj1BcnJheS5pc0FycmF5KHYpP3Y6W3ZdKTt2YXIgeT1bXTtpZihiLmZvckVhY2goKGZ1bmN0aW9uKGUpe2wmJmUuYmlkZGVycy5wdXNoKCJzMnNCaWRkZXJQbGFjZWhvbGRlciIpLHkucHVzaC5hcHBseSh5LG0oZS5iaWRkZXJzKSl9KSkscj1ZKHIpLG8mJm8ubGVuZ3RoP3I9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkobyxlLmNvZGUpfSkpOm89ciYmci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvZGV9KSksci5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qua2V5cyhlLm1lZGlhVHlwZXN8fHtiYW5uZXI6ImJhbm5lciJ9KTshZS5iaWRzLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT1lLmJpZGRlcn0pKSYmeS5pbmNsdWRlcygiczJzQmlkZGVyUGxhY2Vob2xkZXIiKSYmT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LnByZWJpZC5zdG9yZWRyZXF1ZXN0IikmJmUuYmlkcy5wdXNoKHtiaWRkZXI6InMyc0JpZGRlclBsYWNlaG9sZGVyIn0pO3ZhciBuPWUuYmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcn0pKSxyPUEuYmlkZGVyUmVnaXN0cnksbz15P24uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hcCgpKHksZSl9KSk6bjtlLnRyYW5zYWN0aW9uSWQ9T2JqZWN0KGkuZ2VuZXJhdGVVVUlEKSgpLG8uZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIG89cltuXSxhPW8mJm8uZ2V0U3BlYyYmby5nZXRTcGVjKCksYz1hJiZhLnN1cHBvcnRlZE1lZGlhVHlwZXN8fFsiYmFubmVyIl07dC5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gcCgpKGMsZSl9KSk/Zy5hLmluY3JlbWVudEJpZGRlclJlcXVlc3RzQ291bnRlcihlLmNvZGUsbik6KE9iamVjdChpLmxvZ1dhcm4pKE9iamVjdChpLnVuc3VwcG9ydGVkQmlkZGVyTWVzc2FnZSkoZSxuKSksZS5iaWRzPWUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlciE9PW59KSkpfSkpLGcuYS5pbmNyZW1lbnRSZXF1ZXN0c0NvdW50ZXIoZS5jb2RlKX0pKSxyJiYwIT09ci5sZW5ndGgpe3ZhciBoPXUuYS5jcmVhdGVBdWN0aW9uKHthZFVuaXRzOnIsYWRVbml0Q29kZXM6byxjYWxsYmFjazp0LGNiVGltZW91dDpmLGxhYmVsczphLGF1Y3Rpb25JZDpkfSksTz1yLmxlbmd0aDtPPjE1JiZPYmplY3QoaS5sb2dJbmZvKSgiQ3VycmVudCBhdWN0aW9uICIuY29uY2F0KGguZ2V0QXVjdGlvbklkKCksIiBjb250YWlucyAiKS5jb25jYXQoTywiIGFkVW5pdHMuIiksciksby5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gcy5kLnNldExhdGVzdEF1Y3Rpb25Gb3JBZFVuaXQoZSxoLmdldEF1Y3Rpb25JZCgpKX0pKSxoLmNhbGxCaWRzKCl9ZWxzZSBpZihPYmplY3QoaS5sb2dNZXNzYWdlKSgiTm8gYWRVbml0cyBjb25maWd1cmVkLiBObyBiaWRzIHJlcXVlc3RlZC4iKSwiZnVuY3Rpb24iPT10eXBlb2YgdCl0cnl7dCgpfWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgiRXJyb3IgZXhlY3V0aW5nIGJpZHNCYWNrSGFuZGxlciIsbnVsbCxlKX19KSksUy5yZXF1ZXN0Qmlkcy5iZWZvcmUoWiw0OSksUy5hZGRBZFVuaXRzPWZ1bmN0aW9uKGUpe09iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5hZGRBZFVuaXRzIixhcmd1bWVudHMpLFMuYWRVbml0cy5wdXNoLmFwcGx5KFMuYWRVbml0cyxjLmIuY29udmVydEFkVW5pdEZwZChPYmplY3QoaS5pc0FycmF5KShlKT9lOltlXSkpLFQuZW1pdChDKX0sUy5vbkV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMub25FdmVudCIsYXJndW1lbnRzKSxPYmplY3QoaS5pc0ZuKSh0KT8hbnx8TFtlXS5jYWxsKG51bGwsbik/VC5vbihlLHQsbik6T2JqZWN0KGkubG9nRXJyb3IpKCdUaGUgaWQgcHJvdmlkZWQgaXMgbm90IHZhbGlkIGZvciBldmVudCAiJytlKyciIGFuZCBubyBoYW5kbGVyIHdhcyBzZXQuJyk6T2JqZWN0KGkubG9nRXJyb3IpKCdUaGUgZXZlbnQgaGFuZGxlciBwcm92aWRlZCBpcyBub3QgYSBmdW5jdGlvbiBhbmQgd2FzIG5vdCBzZXQgb24gZXZlbnQgIicrZSsnIi4nKX0sUy5vZmZFdmVudD1mdW5jdGlvbihlLHQsbil7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLm9mZkV2ZW50Iixhcmd1bWVudHMpLG4mJiFMW2VdLmNhbGwobnVsbCxuKXx8VC5vZmYoZSx0LG4pfSxTLmdldEV2ZW50cz1mdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuZ2V0RXZlbnRzIiksVC5nZXRFdmVudHMoKX0sUy5yZWdpc3RlckJpZEFkYXB0ZXI9ZnVuY3Rpb24oZSx0KXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMucmVnaXN0ZXJCaWRBZGFwdGVyIixhcmd1bWVudHMpO3RyeXtBLnJlZ2lzdGVyQmlkQWRhcHRlcihlKCksdCl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJFcnJvciByZWdpc3RlcmluZyBiaWRkZXIgYWRhcHRlciA6ICIrZS5tZXNzYWdlKX19LFMucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyPWZ1bmN0aW9uKGUpe09iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXIiLGFyZ3VtZW50cyk7dHJ5e0EucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyKGUpfWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgiRXJyb3IgcmVnaXN0ZXJpbmcgYW5hbHl0aWNzIGFkYXB0ZXIgOiAiK2UubWVzc2FnZSl9fSxTLmNyZWF0ZUJpZD1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLmNyZWF0ZUJpZCIsYXJndW1lbnRzKSxPYmplY3Qodi5hKShlKX07dmFyIGVlPVtdLHRlPU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUpe2UmJiFPYmplY3QoaS5pc0VtcHR5KShlKT8oT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLmVuYWJsZUFuYWx5dGljcyBmb3I6ICIsZSksQS5lbmFibGVBbmFseXRpY3MoZSkpOk9iamVjdChpLmxvZ0Vycm9yKSgidXBianMuZW5hYmxlQW5hbHl0aWNzIHNob3VsZCBiZSBjYWxsZWQgd2l0aCBvcHRpb24ge30iKX0pLCJlbmFibGVBbmFseXRpY3NDYiIpO2Z1bmN0aW9uIG5lKGUpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZS5jYWxsZWQpdHJ5e2UuY2FsbCgpLGUuY2FsbGVkPSEwfWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgiRXJyb3IgcHJvY2Vzc2luZyBjb21tYW5kIDoiLCJwcmViaWQuanMiLGUpfX0pKX1TLmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbihlKXtlZS5wdXNoKHRlLmJpbmQodGhpcyxlKSl9LFMuYWxpYXNCaWRkZXI9ZnVuY3Rpb24oZSx0LG4pe09iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5hbGlhc0JpZGRlciIsYXJndW1lbnRzKSxlJiZ0P0EuYWxpYXNCaWRBZGFwdGVyKGUsdCxuKTpPYmplY3QoaS5sb2dFcnJvcikoImJpZGRlckNvZGUgYW5kIGFsaWFzIG11c3QgYmUgcGFzc2VkIGFzIGFyZ3VtZW50cyIsInVwYmpzLmFsaWFzQmlkZGVyIil9LFMuZ2V0QWxsV2lubmluZ0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdS5hLmdldEFsbFdpbm5pbmdCaWRzKCl9LFMuZ2V0QWxsUHJlYmlkV2lubmluZ0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdS5hLmdldEJpZHNSZWNlaXZlZCgpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdHVzPT09RS5CSURfU1RBVFVTLkJJRF9UQVJHRVRJTkdfU0VUfSkpfSxTLmdldEhpZ2hlc3RDcG1CaWRzPWZ1bmN0aW9uKGUpe3JldHVybiBzLmQuZ2V0V2lubmluZ0JpZHMoZSl9LFMubWFya1dpbm5pbmdCaWRBc1VzZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9W107ZS5hZFVuaXRDb2RlJiZlLmFkSWQ/dD11LmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZElkPT09ZS5hZElkJiZ0LmFkVW5pdENvZGU9PT1lLmFkVW5pdENvZGV9KSk6ZS5hZFVuaXRDb2RlP3Q9cy5kLmdldFdpbm5pbmdCaWRzKGUuYWRVbml0Q29kZSk6ZS5hZElkP3Q9dS5hLmdldEJpZHNSZWNlaXZlZCgpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRJZD09PWUuYWRJZH0pKTpPYmplY3QoaS5sb2dXYXJuKSgiSW1wcm9wZXIgdXNlIG9mIG1hcmtXaW5uaW5nQmlkQXNVc2VkLiBJdCBuZWVkcyBhbiBhZFVuaXRDb2RlIG9yIGFuIGFkSWQgdG8gZnVuY3Rpb24uIiksdC5sZW5ndGg+MCYmKHRbMF0uc3RhdHVzPUUuQklEX1NUQVRVUy5SRU5ERVJFRCl9LFMuZ2V0Q29uZmlnPWMuYi5nZXRDb25maWcsUy5yZWFkQ29uZmlnPWMuYi5yZWFkQ29uZmlnLFMuc2V0Q29uZmlnPWMuYi5zZXRDb25maWcsUy5zZXRCaWRkZXJDb25maWc9Yy5iLnNldEJpZGRlckNvbmZpZyxTLnF1ZS5wdXNoKChmdW5jdGlvbigpe3JldHVybiBPYmplY3Qoby5hKSgpfSkpLFMuY21kLnB1c2g9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUpdHJ5e2UuY2FsbCgpfWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgiRXJyb3IgcHJvY2Vzc2luZyBjb21tYW5kIDoiLGUubWVzc2FnZSxlLnN0YWNrKX1lbHNlIE9iamVjdChpLmxvZ0Vycm9yKSgiQ29tbWFuZHMgd3JpdHRlbiBpbnRvIHVwYmpzLmNtZC5wdXNoIG11c3QgYmUgd3JhcHBlZCBpbiBhIGZ1bmN0aW9uIil9LFMucXVlLnB1c2g9Uy5jbWQucHVzaCxTLnByb2Nlc3NRdWV1ZT1mdW5jdGlvbigpe2QuYi5yZWFkeSgpLG5lKFMucXVlKSxuZShTLmNtZCl9LHQuZGVmYXVsdD1TfSw4MjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzNzgpO2UuZXhwb3J0cz1yfSw4MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlKXt2YXIgdD1lO3JldHVybntjYWxsQmlkczpmdW5jdGlvbigpe30sc2V0QmlkZGVyQ29kZTpmdW5jdGlvbihlKXt0PWV9LGdldEJpZGRlckNvZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdH19fX0sODQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpLGk9big1MSksbz0iIi5zcGxpdDtlLmV4cG9ydHM9cigoZnVuY3Rpb24oKXtyZXR1cm4hT2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCl9KSk/ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PWkoZSk/by5jYWxsKGUsIiIpOk9iamVjdChlKX06T2JqZWN0fSw4NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMyksaT1uKDI5KSxvPW4oODYpO2UuZXhwb3J0cz0hciYmIWkoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShvKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KSl9LDg2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI3KSxpPW4oMzApLG89ci5kb2N1bWVudCxhPWkobykmJmkoby5jcmVhdGVFbGVtZW50KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGE/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0sODc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTgpLGk9big2Nik7KGUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBpW2VdfHwoaVtlXT12b2lkIDAhPT10P3Q6e30pfSkoInZlcnNpb25zIixbXSkucHVzaCh7dmVyc2lvbjoiMy4xNS4xIixtb2RlOnI/InB1cmUiOiJnbG9iYWwiLGNvcHlyaWdodDoiwqkgMjAyMSBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSJ9KX0sODg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTE0KSxpPW4oMjkpO2UuZXhwb3J0cz0hIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJiFpKChmdW5jdGlvbigpe3ZhciBlPVN5bWJvbCgpO3JldHVybiFTdHJpbmcoZSl8fCEoT2JqZWN0KGUpaW5zdGFuY2VvZiBTeW1ib2wpfHwhU3ltYm9sLnNoYW0mJnImJnI8NDF9KSl9LDg5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDUwKSxpPW4oNTQpLG89bigxMTkpLGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbixhKXt2YXIgYyx1PXIodCkscz1pKHUubGVuZ3RoKSxkPW8oYSxzKTtpZihlJiZuIT1uKXtmb3IoO3M+ZDspaWYoKGM9dVtkKytdKSE9YylyZXR1cm4hMH1lbHNlIGZvcig7cz5kO2QrKylpZigoZXx8ZCBpbiB1KSYmdVtkXT09PW4pcmV0dXJuIGV8fGR8fDA7cmV0dXJuIWUmJi0xfX07ZS5leHBvcnRzPXtpbmNsdWRlczphKCEwKSxpbmRleE9mOmEoITEpfX0sOTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksdC5kPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjE1LHI9ZS5nZXRIb29rcyh7aG9vazp0fSk7MD09PXIubGVuZ3RoJiZlLmJlZm9yZSh0LG4pfSx0LmM9ZnVuY3Rpb24oZSx0KXthKCJhc3luYyIsKGZ1bmN0aW9uKGUpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwbHkodm9pZCAwLGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG8oZSl9KG49ZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0obil8fGZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBvKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/byhlLHQpOnZvaWQgMH19KG4pfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpKTt2YXIgbn0pKX0pLGUpKFtdKX0sdC5lPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQ+MT90LTE6MCkscj0xO3I8dDtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTtjKGUpLmJlZm9yZSgoZnVuY3Rpb24oZSx0KXt0LnB1c2gobiksZSh0KX0pKX07dmFyIHI9bigxNzEpLGk9bi5uKHIpO2Z1bmN0aW9uIG8oZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgYT1pKCkoe3JlYWR5OmkuYS5TWU5DfGkuYS5BU1lOQ3xpLmEuUVVFVUV9KSxjPWEuZ2V0fSw5MDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMjApO24oMTQwKSxuKDE0MiksbigxNDQpLG4oMTQ2KSxuKDE0OCksbigxNDkpLG4oMTUwKSxuKDE1MSksbigxNTIpLG4oMTUzKSxuKDE1NCksbigxNTUpLG4oMTU2KSxuKDE1NyksbigxNTgpLG4oMTU5KSxuKDE2MCksbigxNjEpLGUuZXhwb3J0cz1yfSw5MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big1NyksaT1uKDMwKSxvPW4oMzEpLGE9bigzNCkuZixjPW4oNjcpLHU9bigxMjMpLHM9YygibWV0YSIpLGQ9MCxmPU9iamVjdC5pc0V4dGVuc2libGV8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LGw9ZnVuY3Rpb24oZSl7YShlLHMse3ZhbHVlOntvYmplY3RJRDoiTyIrICsrZCx3ZWFrRGF0YTp7fX19KX0scD1lLmV4cG9ydHM9e1JFUVVJUkVEOiExLGZhc3RLZXk6ZnVuY3Rpb24oZSx0KXtpZighaShlKSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIW8oZSxzKSl7aWYoIWYoZSkpcmV0dXJuIkYiO2lmKCF0KXJldHVybiJFIjtsKGUpfXJldHVybiBlW3NdLm9iamVjdElEfSxnZXRXZWFrRGF0YTpmdW5jdGlvbihlLHQpe2lmKCFvKGUscykpe2lmKCFmKGUpKXJldHVybiEwO2lmKCF0KXJldHVybiExO2woZSl9cmV0dXJuIGVbc10ud2Vha0RhdGF9LG9uRnJlZXplOmZ1bmN0aW9uKGUpe3JldHVybiB1JiZwLlJFUVVJUkVEJiZmKGUpJiYhbyhlLHMpJiZsKGUpLGV9fTtyW3NdPSEwfSw5MjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyMSksaT1uKDQxKSxvPXIoIml0ZXJhdG9yIiksYT1BcnJheS5wcm90b3R5cGU7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYoaS5BcnJheT09PWV8fGFbb109PT1lKX19LDkzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXR1cm47aWYodm9pZCAwIT09dClyZXR1cm4gcih0LmNhbGwoZSkpLnZhbHVlfX0sOTQ6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9WyJjb25zdHJ1Y3RvciIsImhhc093blByb3BlcnR5IiwiaXNQcm90b3R5cGVPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidG9Mb2NhbGVTdHJpbmciLCJ0b1N0cmluZyIsInZhbHVlT2YiXX0sOTU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpIGluIHQpbiYmbi51bnNhZmUmJmVbaV0/ZVtpXT10W2ldOnIoZSxpLHRbaV0sbik7cmV0dXJuIGV9fSw5NTE6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDgxKX0sOTY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDk3KS5JdGVyYXRvclByb3RvdHlwZSxpPW4oNzEpLG89big0NCksYT1uKDYwKSxjPW4oNDEpLHU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcz10KyIgSXRlcmF0b3IiO3JldHVybiBlLnByb3RvdHlwZT1pKHIse25leHQ6bygxLG4pfSksYShlLHMsITEsITApLGNbc109dSxlfX0sOTc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcixpLG8sYT1uKDI5KSxjPW4oOTgpLHU9bigzMikscz1uKDMxKSxkPW4oMjEpLGY9bigxOCksbD1kKCJpdGVyYXRvciIpLHA9ITE7W10ua2V5cyYmKCJuZXh0ImluKG89W10ua2V5cygpKT8oaT1jKGMobykpKSE9PU9iamVjdC5wcm90b3R5cGUmJihyPWkpOnA9ITApO3ZhciBnPW51bGw9PXJ8fGEoKGZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIHJbbF0uY2FsbChlKSE9PWV9KSk7ZyYmKHI9e30pLGYmJiFnfHxzKHIsbCl8fHUocixsLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLGUuZXhwb3J0cz17SXRlcmF0b3JQcm90b3R5cGU6cixCVUdHWV9TQUZBUklfSVRFUkFUT1JTOnB9fSw5ODpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMSksaT1uKDUzKSxvPW4oNzApLGE9bigxMzIpLGM9bygiSUVfUFJPVE8iKSx1PU9iamVjdC5wcm90b3R5cGU7ZS5leHBvcnRzPWE/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUpe3JldHVybiBlPWkoZSkscihlLGMpP2VbY106ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/dTpudWxsfX0sOTk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDEzNykuY2hhckF0LGk9big0Niksbz1uKDczKSxhPSJTdHJpbmcgSXRlcmF0b3IiLGM9aS5zZXQsdT1pLmdldHRlckZvcihhKTtvKFN0cmluZywiU3RyaW5nIiwoZnVuY3Rpb24oZSl7Yyh0aGlzLHt0eXBlOmEsc3RyaW5nOlN0cmluZyhlKSxpbmRleDowfSl9KSwoZnVuY3Rpb24oKXt2YXIgZSx0PXUodGhpcyksbj10LnN0cmluZyxpPXQuaW5kZXg7cmV0dXJuIGk+PW4ubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9cihuLGkpLHQuaW5kZXgrPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pKX19KTsKdXBianNDaHVuayhbMzc5XSx7MTA0OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cigxMDUpfSwxMDU6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBUfSkpO3ZhciBuPXIoMSksaT1yKDMpLG89cigwKSxhPXIoMik7ZnVuY3Rpb24gcygpe3JldHVybihzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYyhlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9ZnVuY3Rpb24gZChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9jKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dShlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6YyhPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiB1KGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgcD0iMzNhY3Jvc3MiLGw9Imh0dHBzOi8vc3NjLjMzYWNyb3NzLmNvbS9hcGkvdjEvaGIiLGI9Imh0dHBzOi8vc3NjLWNtcy4zM2Fjcm9zcy5jb20vcHMvP209eGNoJnJ0PWh0bWwmcnU9ZGViIixmPS9eW2EtekEtWjAtOV8tXXsyMn0kLyxtPSJzaWFiIixnPSJpbnZpZXciLGg9Imluc3RyZWFtIix2PVsibWltZXMiLCJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIiwicGxhY2VtZW50IiwicHJvdG9jb2xzIiwic3RhcnRkZWxheSIsInNraXAiLCJza2lwYWZ0ZXIiLCJtaW5iaXRyYXRlIiwibWF4Yml0cmF0ZSIsImRlbGl2ZXJ5IiwicGxheWJhY2ttZXRob2QiLCJhcGkiLCJsaW5lYXJpdHkiXSx5PXt1bmlxdWVTaXRlSWRzOltdfSxPPSJubSI7ZnVuY3Rpb24gaigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLHI9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7cmV0dXJuIHMoe30sZSx7ZXh0OnMoe30sZS5leHQsdSh7fSx0LHIpKX0pfWZ1bmN0aW9uIEEoZSl7cmV0dXJue3c6cGFyc2VJbnQoZVswXSwxMCksaDpwYXJzZUludChlWzFdLDEwKX19ZnVuY3Rpb24gdyhlKXt2YXIgdD1lLnBhcmFtcyxyPWUubWVkaWFUeXBlcyxuPXIuYmFubmVyLGk9ci52aWRlbztyZXR1cm4gaSYmIW4mJiJpbnN0cmVhbSI9PT1pLmNvbnRleHQ/aDp0LnByb2R1Y3RJZD09PWc/dC5wcm9kdWN0SWQ6bX1mdW5jdGlvbiB4KGUsdCxyKXt2YXIgbj1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6cixzaXplOlt0LncsdC5oXX0pO2lmKCFpc05hTihuLmZsb29yKSYmIlVTRCI9PT1uLmN1cnJlbmN5KXJldHVybiBuLmZsb29yfWZ1bmN0aW9uIEkoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9dC53LG49dC5oLGk9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPWkud2lkdGgsYT1pLmhlaWdodCxzPWkubGVmdCxjPWkudG9wLGQ9aS5yaWdodCx1PWkuYm90dG9tO3JldHVybigwPT09b3x8MD09PWEpJiZyJiZuJiYobz1yLGE9bixkPXMrcix1PWMrbikse3dpZHRoOm8saGVpZ2h0OmEsbGVmdDpzLHRvcDpjLHJpZ2h0OmQsYm90dG9tOnV9fWZ1bmN0aW9uIFMoZSl7Zm9yKHZhciB0PXtsZWZ0OmVbMF0ubGVmdCxyaWdodDplWzBdLnJpZ2h0LHRvcDplWzBdLnRvcCxib3R0b206ZVswXS5ib3R0b219LHI9MTtyPGUubGVuZ3RoOysrcil7aWYodC5sZWZ0PU1hdGgubWF4KHQubGVmdCxlW3JdLmxlZnQpLHQucmlnaHQ9TWF0aC5taW4odC5yaWdodCxlW3JdLnJpZ2h0KSx0LmxlZnQ+PXQucmlnaHQpcmV0dXJuIG51bGw7aWYodC50b3A9TWF0aC5tYXgodC50b3AsZVtyXS50b3ApLHQuYm90dG9tPU1hdGgubWluKHQuYm90dG9tLGVbcl0uYm90dG9tKSx0LnRvcD49dC5ib3R0b20pcmV0dXJuIG51bGx9cmV0dXJuIHQud2lkdGg9dC5yaWdodC10LmxlZnQsdC5oZWlnaHQ9dC5ib3R0b20tdC50b3AsdH1mdW5jdGlvbiBDKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49ci53LGk9ci5oLG89SShlLHt3Om4saDppfSksYT1TKFt7bGVmdDowLHRvcDowLHJpZ2h0OnQuaW5uZXJXaWR0aCxib3R0b206dC5pbm5lckhlaWdodH0sb10pO3JldHVybiBudWxsIT09YT9hLndpZHRoKmEuaGVpZ2h0LyhvLndpZHRoKm8uaGVpZ2h0KSoxMDA6MH12YXIgVD17Tk9OX01FQVNVUkFCTEU6Tyxjb2RlOnAsc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iLGEuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGUuYmlkZGVyIT09cHx8dm9pZCAwPT09ZS5wYXJhbXMpcmV0dXJuITE7aWYoIWZ1bmN0aW9uKGUpe2lmKG51bGw9PT0oT2JqZWN0KG8uZGVlcEFjY2VzcykoZSwicGFyYW1zLnNpdGVJZCIsIiIpfHwiIikudHJpbSgpLm1hdGNoKGYpKXJldHVybiExO3JldHVybiEwfShlKSlyZXR1cm4hMTtyZXR1cm4hMH0oZSkmJmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIik7aWYodm9pZCAwPT09dClyZXR1cm4hMDtpZighQXJyYXkuaXNBcnJheSh0LnNpemVzKSlyZXR1cm4hMTtyZXR1cm4hMH0oZSkmJmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxyPU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIse30pO2lmKHZvaWQgMD09PXQpcmV0dXJuITA7aWYoIUFycmF5LmlzQXJyYXkodC5wbGF5ZXJTaXplKSlyZXR1cm4hMTtpZighdC5jb250ZXh0KXJldHVybiExO3ZhciBuPWQoZCh7fSx0KSxyKTtpZighQXJyYXkuaXNBcnJheShuLm1pbWVzKXx8MD09PW4ubWltZXMubGVuZ3RoKXJldHVybiExO2lmKCFBcnJheS5pc0FycmF5KG4ucHJvdG9jb2xzKXx8MD09PW4ucHJvdG9jb2xzLmxlbmd0aClyZXR1cm4hMTtpZih2b2lkIDAhPT1uLnBsYWNlbWVudCYmIm51bWJlciIhPXR5cGVvZiBuLnBsYWNlbWVudClyZXR1cm4hMTtpZigiaW5zdHJlYW0iPT09dC5jb250ZXh0JiZ2b2lkIDAhPT1uLnN0YXJ0ZGVsYXkmJiJudW1iZXIiIT10eXBlb2Ygbi5zdGFydGRlbGF5KXJldHVybiExO3JldHVybiEwfShlKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPXMoe2NvbnNlbnRTdHJpbmc6dm9pZCAwLGdkcHJBcHBsaWVzOiExfSx0JiZ0LmdkcHJDb25zZW50KSxuPXQmJnQudXNwQ29uc2VudCxjPXQmJnQucmVmZXJlckluZm8/dC5yZWZlcmVySW5mby5yZWZlcmVyOnZvaWQgMDtyZXR1cm4geS51bmlxdWVTaXRlSWRzPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuc2l0ZUlkfSkpLmZpbHRlcihvLnVuaXF1ZXMpLGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5iaWRSZXF1ZXN0LHI9ZS5nZHByQ29uc2VudCxuPXZvaWQgMD09PXI/e306cixjPWUudXNwQ29uc2VudCx1PWUucGFnZVVybCxwPXt9LGI9dC5wYXJhbXM7cC5pbXA9W3t9XSxPYmplY3Qoby5kZWVwQWNjZXNzKSh0LCJtZWRpYVR5cGVzLmJhbm5lciIpJiYocC5pbXBbMF0uYmFubmVyPWQoe30sZnVuY3Rpb24oZSl7dmFyIHQscj1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIse30pLG49KGM9ZS5hZFVuaXRDb2RlLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGMpfHxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmdW5jdGlvbihlKXtpZihPYmplY3Qoby5pc0dwdFB1YmFkc0RlZmluZWQpKCkpZm9yKHZhciB0PWdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLHI9T2JqZWN0KG8uaXNTbG90TWF0Y2hpbmdBZFVuaXRDb2RlKShlKSxuPTA7bjx0Lmxlbmd0aDtuKyspaWYocih0W25dKSl7dmFyIGk9dFtuXS5nZXRTbG90RWxlbWVudElkKCk7cmV0dXJuIE9iamVjdChvLmxvZ0luZm8pKCJbMzNBY3Jvc3MgQWRhcHRlcl0gTWFwIGFkIHVuaXQgcGF0aCB0byBIVE1MIGVsZW1lbnQgaWQ6ICciLmNvbmNhdChlLCInIC0+ICIpLmNvbmNhdChpKSksaX1yZXR1cm4gT2JqZWN0KG8ubG9nV2FybikoIlszM0Fjcm9zcyBBZGFwdGVyXSBVbmFibGUgdG8gbG9jYXRlIGVsZW1lbnQgZm9yIGFkIHVuaXQgY29kZTogJyIuY29uY2F0KGUsIiciKSksbnVsbH0oYykpKSxpPWZ1bmN0aW9uKGUpe2lmKE9iamVjdChvLmlzQXJyYXkpKGUpJiYyPT09ZS5sZW5ndGgmJiFPYmplY3Qoby5pc0FycmF5KShlWzBdKSlyZXR1cm5bQShlKV07cmV0dXJuIGUubWFwKEEpfShyLnNpemVzKTt2YXIgYzt0PSJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yP2kubWFwKChmdW5jdGlvbih0KXt2YXIgcixuPXgoZSx0LGEuYik7cmV0dXJuIG4mJihyPXtleHQ6e3R0eDp7YmlkZmxvb3JzOltuXX19fSkscyh7fSx0LHIpfSkpOmk7dmFyIGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiB0LmgqdC53PGUuaCplLnc/dDplfSkpfShpKSx1PWZ1bmN0aW9uKGUpe3JldHVybnt0dHg6e3ZpZXdhYmlsaXR5OnthbW91bnQ6aXNOYU4oZSk/ZTpNYXRoLnJvdW5kKGUpfX19fShmdW5jdGlvbihlKXtyZXR1cm4hZnVuY3Rpb24oKXt0cnl7cmV0dXJuIE9iamVjdChvLmdldFdpbmRvd1NlbGYpKCkhPT1PYmplY3Qoby5nZXRXaW5kb3dUb3ApKCl9Y2F0Y2goZSl7cmV0dXJuITB9fSgpJiZudWxsIT09ZX0obik/ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj1yLncsaT1yLmg7cmV0dXJuInZpc2libGUiPT09dC5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGU/QyhlLHQse3c6bixoOml9KTowfShuLE9iamVjdChvLmdldFdpbmRvd1RvcCkoKSxkKTpPKTtyZXR1cm57Zm9ybWF0OnQsZXh0OnV9fSh0KSkpO09iamVjdChvLmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMudmlkZW8iKSYmKHAuaW1wWzBdLnZpZGVvPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iLHt9KSxyPU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIse30pLG49ZChkKHt9LHQpLHIpLGk9e30sYz1BKG4ucGxheWVyU2l6ZVswXSksdT1jLncscD1jLmg7aS53PXUsaS5oPXAsdi5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmhhc093blByb3BlcnR5KGUpJiYoaVtlXT1uW2VdKX0pKTt2YXIgbD13KGUpO2kucGxhY2VtZW50PWkucGxhY2VtZW50fHwyLGw9PT1oJiYoaS5zdGFydGRlbGF5PWkuc3RhcnRkZWxheXx8MCxpLnBsYWNlbWVudD0xKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vcil7dmFyIGI9eChlLHt3OmkudyxoOmkuaH0sYS5kKTtiJiZzKGkse2V4dDp7dHR4OntiaWRmbG9vcnM6W2JdfX19KX1yZXR1cm4gaX0odCkpO3AuaW1wWzBdLmV4dD17dHR4Ontwcm9kOncodCl9fSxwLnNpdGU9e2lkOmIuc2l0ZUlkfSx1JiYocC5zaXRlLnBhZ2U9dSk7cC5pZD10LmJpZElkLG4uY29uc2VudFN0cmluZyYmKHAudXNlcj1qKHAudXNlciwiY29uc2VudCIsbi5jb25zZW50U3RyaW5nKSk7QXJyYXkuaXNBcnJheSh0LnVzZXJJZEFzRWlkcykmJnQudXNlcklkQXNFaWRzLmxlbmd0aD4wJiYocC51c2VyPWoocC51c2VyLCJlaWRzIix0LnVzZXJJZEFzRWlkcykpO3AucmVncz1qKHAucmVncywiZ2RwciIsTnVtYmVyKG4uZ2RwckFwcGxpZXMpKSxjJiYocC5yZWdzPWoocC5yZWdzLCJ1c19wcml2YWN5IixjKSk7cC5leHQ9e3R0eDp7cHJlYmlkU3RhcnRlZEF0OkRhdGUubm93KCksY2FsbGVyOlt7bmFtZToicHJlYmlkanMiLHZlcnNpb246IjUuMjAuMiJ9XX19LHQuc2NoYWluJiYocC5zb3VyY2U9aihwLnNvdXJjZSwic2NoYWluIix0LnNjaGFpbikpOzE9PT1iLnRlc3QmJihwLnRlc3Q9MSk7dmFyIGY9e2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9LG09aS5iLmdldENvbmZpZygidHR4U2V0dGluZ3MiKTtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6bSYmbS51cmx8fCIiLmNvbmNhdChsLCI/Z3VpZD0iKS5jb25jYXQoYi5zaXRlSWQpLGRhdGE6SlNPTi5zdHJpbmdpZnkocCksb3B0aW9uczpmfX0oe2JpZFJlcXVlc3Q6ZSxnZHByQ29uc2VudDpyLHVzcENvbnNlbnQ6bixwYWdlVXJsOmN9KX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtyZXR1cm4gZS5ib2R5LnNlYXRiaWQubGVuZ3RoPjAmJmUuYm9keS5zZWF0YmlkWzBdLmJpZC5sZW5ndGg+MCYmci5wdXNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VhdGJpZFswXS5iaWRbMF0uYWRvbWFpbiYmZS5zZWF0YmlkWzBdLmJpZFswXS5hZG9tYWluLmxlbmd0aCxyPXtyZXF1ZXN0SWQ6ZS5pZCxiaWRkZXJDb2RlOnAsY3BtOmUuc2VhdGJpZFswXS5iaWRbMF0ucHJpY2Usd2lkdGg6ZS5zZWF0YmlkWzBdLmJpZFswXS53LGhlaWdodDplLnNlYXRiaWRbMF0uYmlkWzBdLmgsYWQ6ZS5zZWF0YmlkWzBdLmJpZFswXS5hZG0sdHRsOmUuc2VhdGJpZFswXS5iaWRbMF0udHRsfHw2MCxjcmVhdGl2ZUlkOmUuc2VhdGJpZFswXS5iaWRbMF0uY3JpZCxtZWRpYVR5cGU6T2JqZWN0KG8uZGVlcEFjY2VzcykoZS5zZWF0YmlkWzBdLmJpZFswXSwiZXh0LnR0eC5tZWRpYVR5cGUiLGEuYiksY3VycmVuY3k6ZS5jdXIsbmV0UmV2ZW51ZTohMH07dCYmKHIubWV0YT17YWR2ZXJ0aXNlckRvbWFpbnM6ZS5zZWF0YmlkWzBdLmJpZFswXS5hZG9tYWlufSk7aWYoci5tZWRpYVR5cGU9PT1hLmQpeyJ4bWwiPT09T2JqZWN0KG8uZGVlcEFjY2VzcykoZS5zZWF0YmlkWzBdLmJpZFswXSwiZXh0LnR0eC52YXN0VHlwZSIsInhtbCIpP3IudmFzdFhtbD1yLmFkOnIudmFzdFVybD1yLmFkfXJldHVybiByfShlLmJvZHkpKSxyfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89ZS5pZnJhbWVFbmFibGVkP3kudW5pcXVlU2l0ZUlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLnNpdGVJZCxyPXZvaWQgMD09PXQ/Inp6ejAwMDAwMDAwMDAwM3p6eiI6dCxuPWUuZ2RwckNvbnNlbnQsbz12b2lkIDA9PT1uP3t9Om4sYT1lLnVzcENvbnNlbnQscz1pLmIuZ2V0Q29uZmlnKCJ0dHhTZXR0aW5ncyIpLGM9cyYmcy5zeW5jVXJsfHxiLGQ9by5jb25zZW50U3RyaW5nLHU9by5nZHByQXBwbGllcyxwPXt0eXBlOiJpZnJhbWUiLHVybDoiIi5jb25jYXQoYywiJmlkPSIpLmNvbmNhdChyLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZCksIiZ1c19wcml2YWN5PSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoYSkpfTsiYm9vbGVhbiI9PXR5cGVvZiB1JiYocC51cmwrPSImZ2Rwcj0iLmNvbmNhdChOdW1iZXIodSkpKTtyZXR1cm4gcH0oe2dkcHJDb25zZW50OnIsdXNwQ29uc2VudDpuLHNpdGVJZDplfSl9KSk6W107cmV0dXJuIHkudW5pcXVlU2l0ZUlkcz1bXSxvfX07T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKFQpfX0sWzEwNF0pOwp1cGJqc0NodW5rKFszNzNdLHsxODg6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDE4OSl9LDE4OTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSk7dmFyIG49cigxKSxpPXIoMiksYT1yKDApLG89cigzKSxkPXIoMTMpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHAoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHx1KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGMoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgbixpLGE9W10sbz0hMCxkPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShvPShuPXIubmV4dCgpKS5kb25lKSYmKGEucHVzaChuLnZhbHVlKSwhdHx8YS5sZW5ndGghPT10KTtvPSEwKTt9Y2F0Y2goZSl7ZD0hMCxpPWV9ZmluYWxseXt0cnl7b3x8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihkKXRocm93IGl9fXJldHVybiBhfShlLHQpfHx1KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB1KGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBwKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PXJ8fCJTZXQiPT09cj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qocik/cChlLHQpOnZvaWQgMH19ZnVuY3Rpb24gcChlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufWZ1bmN0aW9uIGwoZSl7cmV0dXJuKGw9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgbT1vLmIuZ2V0Q29uZmlnLGY9ezA6InRpdGxlIiwyOiJpY29uIiwzOiJpbWFnZSIsNToic3BvbnNvcmVkQnkiLDQ6ImJvZHkiLDE6ImN0YSJ9LHk9e3RpdGxlOntpZDowLG5hbWU6InRpdGxlIn0saWNvbjp7aWQ6Mix0eXBlOjEsbmFtZToiaW1nIn0saW1hZ2U6e2lkOjMsdHlwZTozLG5hbWU6ImltZyJ9LHNwb25zb3JlZEJ5OntpZDo1LG5hbWU6ImRhdGEiLHR5cGU6MX0sYm9keTp7aWQ6NCxuYW1lOiJkYXRhIix0eXBlOjJ9LGN0YTp7aWQ6MSx0eXBlOjEyLG5hbWU6ImRhdGEifX0sdj17Y29kZToiYWRmIixhbGlhc2VzOlt7Y29kZToiYWRmb3JtT3BlblJUQiIsZ3ZsaWQ6NTB9LHtjb2RlOiJhZGZvcm0iLGd2bGlkOjUwfV0sZ3ZsaWQ6NTAsc3VwcG9ydGVkTWVkaWFUeXBlczpbaS5jLGkuYixpLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyYW1zfHx7fSxyPXQubWlkLG49dC5pbnYsaT10Lm1uYW1lO3JldHVybiEhKHJ8fG4mJmkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpPW0oIm9ydGIyIil8fHt9LG89aS51c2VyOyJvYmplY3QiPT09bChtKCJhcHAiKSk/KHI9bSgiYXBwIil8fHt9LGkuYXBwJiZPYmplY3QoYS5tZXJnZURlZXApKHIsaS5hcHApKToobj1tKCJzaXRlIil8fHt9LGkuc2l0ZSYmT2JqZWN0KGEubWVyZ2VEZWVwKShuLGkuc2l0ZSksbi5wYWdlfHwobi5wYWdlPXQucmVmZXJlckluZm8ucmVmZXJlcikpO3ZhciBkPW0oImRldmljZSIpfHx7fTtkLnc9ZC53fHx3aW5kb3cuaW5uZXJXaWR0aCxkLmg9ZC5ofHx3aW5kb3cuaW5uZXJIZWlnaHQsZC51YT1kLnVhfHxuYXZpZ2F0b3IudXNlckFnZW50O3ZhciBzPWIoZSwicGFyYW1zLmFkeERvbWFpbiIpfHwiYWR4LmFkZm9ybS5uZXQiLHU9YihlLCJwYXJhbXMucHQiKXx8YihlLCJwYXJhbXMucHJpY2VUeXBlIil8fCJuZXQiLHA9ZVswXS50cmFuc2FjdGlvbklkLGY9YihlLCJwYXJhbXMudGVzdCIpLHY9bSgiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpLGg9diYmW3ZdLGo9YihlLCJ1c2VySWRBc0VpZHMiKSxTPWIoZSwic2NoYWluIiksdz1lLm1hcCgoZnVuY3Rpb24oZSx0KXtlLm5ldFJldmVudWU9dTt2YXIgcj1lLmdldEZsb29yP2UuZ2V0Rmxvb3Ioe2N1cnJlbmN5OnZ8fCJVU0QifSk6e30sbj1yLmZsb29yLGk9ci5jdXJyZW5jeSxvPWUucGFyYW1zLGQ9e2lkOnQrMSx0YWdpZDpvLm1pZCxiaWRmbG9vcjpuLGJpZGZsb29yY3VyOmksZXh0OntiaWRkZXI6e2ludjpvLmludixtbmFtZTpvLm1uYW1lfX19LHM9T2JqZWN0KGEuX21hcCkoZS5uYXRpdmVQYXJhbXMsKGZ1bmN0aW9uKGUsdCl7dmFyIHI9eVt0XSxuPXtyZXF1aXJlZDoxJmUucmVxdWlyZWR9O2lmKHIpe3ZhciBpLGEsbyxkO24uaWQ9ci5pZDt2YXIgcz1lLmFzcGVjdF9yYXRpb3M7aWYocyYmc1swXSYmKGk9KHM9c1swXSkubWluX3dpZHRofHwwLGE9cy5yYXRpb19oZWlnaHQqaS9zLnJhdGlvX3dpZHRofDApLGUuc2l6ZXMpe3ZhciBjPWcoZS5zaXplcyk7bz1jWzBdLGQ9Y1sxXX1yZXR1cm4gbltyLm5hbWVdPXtsZW46ZS5sZW4sdHlwZTpyLnR5cGUsd21pbjppLGhtaW46YSx3Om8saDpkfSxufX0pKS5maWx0ZXIoQm9vbGVhbik7cy5sZW5ndGgmJihkLm5hdGl2ZT17cmVxdWVzdDp7YXNzZXRzOnN9fSk7dmFyIHA9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKTtpZihwJiZwLnNpemVzKXt2YXIgbD1PYmplY3QoYS5wYXJzZVNpemVzSW5wdXQpKHAuc2l6ZXMpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9YyhlLnNwbGl0KCJ4IiksMikscj10WzBdLG49dFsxXTtyZXR1cm57dzpwYXJzZUludChyLDEwKSxoOnBhcnNlSW50KG4sMTApfX0pKTtkLmJhbm5lcj17Zm9ybWF0Omx9fXZhciBtPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKTtyZXR1cm4gbSYmKGQudmlkZW89bSksZH0pKSxPPXtpZDp0LmF1Y3Rpb25JZCxzaXRlOm4sYXBwOnIsdXNlcjpvLGRldmljZTpkLHNvdXJjZTp7dGlkOnAsZmQ6MX0sZXh0OntwdDp1fSxjdXI6aCxpbXA6d307cmV0dXJuIGYmJihPLmlzX2RlYnVnPSEhZixPLnRlc3Q9MSksdm9pZCAwIT09T2JqZWN0KGEuZGVlcEFjY2VzcykodCwiZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMiKSYmKE9iamVjdChhLmRlZXBTZXRWYWx1ZSkoTywidXNlci5leHQuY29uc2VudCIsdC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxPYmplY3QoYS5kZWVwU2V0VmFsdWUpKE8sInJlZ3MuZXh0LmdkcHIiLDEmdC5nZHByQ29uc2VudC5nZHByQXBwbGllcykpLHQudXNwQ29uc2VudCYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShPLCJyZWdzLmV4dC51c19wcml2YWN5Iix0LnVzcENvbnNlbnQpLGomJk9iamVjdChhLmRlZXBTZXRWYWx1ZSkoTywidXNlci5leHQuZWlkcyIsaiksUyYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShPLCJzb3VyY2UuZXh0LnNjaGFpbiIsUykse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovLyIrcysiL2FkeC9vcGVucnRiIixkYXRhOkpTT04uc3RyaW5naWZ5KE8pLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIn0sYmlkczplfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmJpZHM7aWYoZS5ib2R5KXt2YXIgbj1lLmJvZHksbz1uLnNlYXRiaWQscz1uLmN1cixjPWcoby5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZH0pKSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlW3QuaW1waWQtMV09dCxlfSksW10pO3JldHVybiByLm1hcCgoZnVuY3Rpb24oZSx0KXt2YXIgcj1jW3RdO2lmKHIpe3ZhciBuPU9iamVjdChhLmRlZXBBY2Nlc3MpKHIsImV4dC5wcmViaWQudHlwZSIpLG89e3JlcXVlc3RJZDplLmJpZElkLGNwbTpyLnByaWNlLGNyZWF0aXZlSWQ6ci5jcmlkLHR0bDozNjAsbmV0UmV2ZW51ZToibmV0Ij09PWUubmV0UmV2ZW51ZSxjdXJyZW5jeTpzLG1lZGlhVHlwZTpuLHdpZHRoOnIudyxoZWlnaHQ6ci5oLGRlYWxJZDpyLmRlYWxpZCxtZXRhOnttZWRpYVR5cGU6bixhZHZlcnRpc2VyRG9tYWluczpyLmFkb21haW59fTtyZXR1cm4gci5uYXRpdmU/by5uYXRpdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5uYXRpdmUscj10LmFzc2V0cyxuPXQubGluayxpPXQuaW1wdHJhY2tlcnMsYT10LmpzdHJhY2tlcixvPXtjbGlja1VybDpuLnVybCxjbGlja1RyYWNrZXJzOm4uY2xpY2t0cmFja2Vyc3x8dm9pZCAwLGltcHJlc3Npb25UcmFja2VyczppfHx2b2lkIDAsamF2YXNjcmlwdFRyYWNrZXJzOmE/W2FdOnZvaWQgMH07cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZltlLmlkXSxyPXQmJmVbeVt0XS5uYW1lXTtyJiYob1t0XT1yLnRleHR8fHIudmFsdWV8fHt1cmw6ci51cmwsd2lkdGg6ci53LGhlaWdodDpyLmh9KX0pKSxvfShyKTpvW249PT1pLmQ/InZhc3RYbWwiOiJhZCJdPXIuYWRtLGUucmVuZGVyZXJ8fG4hPT1pLmR8fCJvdXRzdHJlYW0iIT09T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iil8fChvLnJlbmRlcmVyPWQuYS5pbnN0YWxsKHtpZDplLmJpZElkLHVybDoiaHR0cHM6Ly9zMi5hZGZvcm0ubmV0L2Jhbm5lcnMvc2NyaXB0cy92aWRlby9vdXRzdHJlYW0vcmVuZGVyLmpzIixhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pLG8ucmVuZGVyZXIuc2V0UmVuZGVyKGgpKSxvfX0pKS5maWx0ZXIoQm9vbGVhbil9fX07ZnVuY3Rpb24gYihlLHQpe2Zvcih2YXIgcixuPTA7bjxlLmxlbmd0aDtuKyspaWYocj1PYmplY3QoYS5kZWVwQWNjZXNzKShlW25dLHQpKXJldHVybiByfWZ1bmN0aW9uIGcoZSl7dmFyIHQ7cmV0dXJuKHQ9W10pLmNvbmNhdC5hcHBseSh0LHMoZSkpfWZ1bmN0aW9uIGgoZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5BZGZvcm0ucmVuZGVyT3V0c3RyZWFtKGUpfSkpfU9iamVjdChuLnJlZ2lzdGVyQmlkZGVyKSh2KX19LFsxODhdKTsKdXBianNDaHVuayhbMzQ2XSx7MjU5OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCgyNjApfSwyNjA6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBsfSkpO3ZhciBuPXQoMCksaT10KDEpLGE9dCgzKSxvPXQoMTEpLHM9dC5uKG8pLGM9dCgyKTtmdW5jdGlvbiBkKGUpe3JldHVybihkPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gcCgpe3JldHVybihwPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHU9IlVTRCIsZj17aW1hZ2U6e3JlcXVpcmVkOiEwfSx0aXRsZTp7cmVxdWlyZWQ6ITB9LHNwb25zb3JlZEJ5OntyZXF1aXJlZDohMH0sY2xpY2tVcmw6e3JlcXVpcmVkOiEwfSxib2R5OntyZXF1aXJlZDohMX0saWNvbjp7cmVxdWlyZWQ6ITF9LGN0YTp7cmVxdWlyZWQ6ITF9fSxsPXtjb2RlOiJhZHlvdWxpa2UiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2MuYixjLmMsYy5kXSxhbGlhc2VzOlsiYXlsIl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHI9Yih5KGUpKSx0PXIud2lkdGg+MCYmci5oZWlnaHQ+MDtyZXR1cm4gZS5wYXJhbXMmJmUucGFyYW1zLnBsYWNlbWVudCYmKHR8fGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLm5hdGl2ZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD17VmVyc2lvbjoiMS4wIixCaWRzOmUucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciB0PWZ1bmN0aW9uKGUpe2lmKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSlyZXR1cm4gYy5kO2lmKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIikpcmV0dXJuIGMuYjtpZihPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLm5hdGl2ZSIpKXJldHVybiBjLmN9KHIpLGk9eShyKSxhPWIoaSk7aWYoZVtyLmJpZElkXT17fSxlW3IuYmlkSWRdLlBsYWNlbWVudElEPXIucGFyYW1zLnBsYWNlbWVudCxlW3IuYmlkSWRdLlRyYW5zYWN0aW9uSUQ9ci50cmFuc2FjdGlvbklkLGVbci5iaWRJZF0uV2lkdGg9YS53aWR0aCxlW3IuYmlkSWRdLkhlaWdodD1hLmhlaWdodCxlW3IuYmlkSWRdLkF2YWlsYWJsZVNpemVzPWkuam9pbigiLCIpLCJmdW5jdGlvbiI9PXR5cGVvZiByLmdldEZsb29yJiYoZVtyLmJpZElkXS5QcmljaW5nPWZ1bmN0aW9uKGUscix0KXt2YXIgbj1lLmdldEZsb29yKHtjdXJyZW5jeTp1LG1lZGlhVHlwZTp0LHNpemU6W3Iud2lkdGgsci5oZWlnaHRdfSk7aWYoIWlzTmFOKG4uZmxvb3IpJiZuLmN1cnJlbmN5PT09dSlyZXR1cm4gbi5mbG9vcn0ocixhLHQpKSx0PT09Yy5jKXt2YXIgbz1yLm1lZGlhVHlwZXMubmF0aXZlOyJpbWFnZSI9PT1vLnR5cGUmJihvPXAoe30sZixvKSksby5jbGlja1VybD17cmVxdWlyZWQ6ITB9LGVbci5iaWRJZF0uTmF0aXZlPW99aWYodD09PWMuZCl7ZVtyLmJpZElkXS5WaWRlbz1yLm1lZGlhVHlwZXMudmlkZW87dmFyIHM9ci5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemU7QXJyYXkuaXNBcnJheShzKSYmIUFycmF5LmlzQXJyYXkoc1swXSkmJihlW3IuYmlkSWRdLlZpZGVvLnBsYXllclNpemU9W3NdKX1yZXR1cm4gZX0pLHt9KSxQYWdlUmVmcmVzaGVkOm0oKX07ciYmci5nZHByQ29uc2VudCYmKHQuZ2RwckNvbnNlbnQ9e2NvbnNlbnRTdHJpbmc6ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGNvbnNlbnRSZXF1aXJlZDoiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzP3IuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM6bnVsbH0pLHImJnIudXNwQ29uc2VudCYmKHQudXNwQ29uc2VudD1yLnVzcENvbnNlbnQpO3ZhciBpPUpTT04uc3RyaW5naWZ5KHQpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDp2KGUsciksZGF0YTppLG9wdGlvbnM6e3dpdGhDcmVkZW50aWFsczohMH19fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGk9e307dHJ5e2k9SlNPTi5wYXJzZShyLmRhdGEpLkJpZHN9Y2F0Y2goZSl7fXJldHVybiBlLmJvZHkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSxyKXtpZighZXx8IWUuQWQmJiFlLk5hdGl2ZSYmIWUuVmFzdClyZXR1cm47dmFyIHQ9ciYmcltlLkJpZElEXTt0JiYoZS5XaWR0aCYmIjAiIT09ZS5XaWR0aHx8KGUuV2lkdGg9dC5XaWR0aCksZS5IZWlnaHQmJiIwIiE9PWUuSGVpZ2h0fHwoZS5IZWlnaHQ9dC5IZWlnaHQpKTt2YXIgaT17cmVxdWVzdElkOmUuQmlkSUQsdHRsOjM2MDAsY3JlYXRpdmVJZDplLkNyZWF0aXZlSUQsY3BtOmUuUHJpY2UsbmV0UmV2ZW51ZTohMCxjdXJyZW5jeTp1LG1ldGE6ZS5NZXRhfHx7YWR2ZXJ0aXNlckRvbWFpbnM6W119fTtpZih0JiZ0Lk5hdGl2ZSlpLm5hdGl2ZT1mdW5jdGlvbihlLHIpe2lmKCJvYmplY3QiPT09ZChlLk5hdGl2ZSkpcmV0dXJuIGUuTmF0aXZlO3ZhciB0PXt9LGk9e30sYT17fTtpZigic3RyaW5nIj09dHlwZW9mIGUuQWQpe2k9SlNPTi5wYXJzZShlLkFkLm1hdGNoKC9cL1wqUFJFQklEXCpcLyguKilcL1wqUFJFQklEXCpcLy8pWzFdKSxhPWkuQ29udGVudC5QcmV2aWV3LlRleHQ7dmFyIG89aS5UcmFja2luZ1ByZWZpeCsiL3BpeGVsP2V2ZW50X2tpbmQ9SU1QUkVTU0lPTiZhdHRlbXB0PSIraS5BdHRlbXB0LHM9aS5UcmFja2luZ1ByZWZpeCsiL3BpeGVsP2V2ZW50X2tpbmQ9SU5TRVJUSU9OJmF0dGVtcHQ9IitpLkF0dGVtcHQ7aS5DYW1wYWlnbiYmKG8rPSImY2FtcGFpZ249IitpLkNhbXBhaWduLHMrPSImY2FtcGFpZ249IitpLkNhbXBhaWduKSx0LmNsaWNrVXJsPWkuVHJhY2tpbmdQcmVmaXgrIi9hcj9ldmVudF9raW5kPUNMSUNLJmF0dGVtcHQ9IitpLkF0dGVtcHQrIiZjYW1wYWlnbj0iK2kuQ2FtcGFpZ24rIiZ1cmw9IitlbmNvZGVVUklDb21wb25lbnQoaS5Db250ZW50LkxhbmRpbmcuVXJsKSxpLk9uRXZlbnRzPyh0LmNsaWNrVHJhY2tlcnM9QyhpLk9uRXZlbnRzLkNMSUNLKSx0LmltcHJlc3Npb25UcmFja2Vycz1DKGkuT25FdmVudHMuSU1QUkVTU0lPTiksdC5qYXZhc2NyaXB0VHJhY2tlcnM9QyhpLk9uRXZlbnRzLklNUFJFU1NJT04sITApKTp0LmltcHJlc3Npb25UcmFja2Vycz1bXSx0LmltcHJlc3Npb25UcmFja2Vycy5wdXNoKG8scyl9cmV0dXJuIE9iamVjdC5rZXlzKHIpLm1hcCgoZnVuY3Rpb24obyxzKXtzd2l0Y2gobyl7Y2FzZSJ0aXRsZSI6dFtvXT1hLlRJVExFO2JyZWFrO2Nhc2UiYm9keSI6dFtvXT1hLkRFU0NSSVBUSU9OO2JyZWFrO2Nhc2UiY3RhIjp0W29dPWEuQ0FMTFRPQUNUSU9OO2JyZWFrO2Nhc2Uic3BvbnNvcmVkQnkiOnRbb109aS5Db250ZW50LlByZXZpZXcuU3BvbnNvci5OYW1lO2JyZWFrO2Nhc2UiaW1hZ2UiOnZhciBjPXIuaW1hZ2Uuc2l6ZXN8fFtdO2MubGVuZ3RofHwoY1swXT1lLldpZHRofHwzMDAsY1sxXT1lLkhlaWdodHx8MjUwKTt2YXIgZD1JKGksT2JqZWN0KG4uZGVlcEFjY2VzcykoaSwiQ29udGVudC5QcmV2aWV3LlRodW1ibmFpbC5JbWFnZSIpLGNbMF0sY1sxXSk7ZCYmKHRbb109e3VybDpkLHdpZHRoOmNbMF0saGVpZ2h0OmNbMV19KTticmVhaztjYXNlImljb24iOnZhciBwPXIuaWNvbi5zaXplc3x8W107cC5sZW5ndGh8fChwWzBdPTUwLHBbMV09NTApO3ZhciB1PUkoaSxPYmplY3Qobi5kZWVwQWNjZXNzKShpLCJDb250ZW50LlByZXZpZXcuU3BvbnNvci5Mb2dvLlJlc291cmNlIikscFswXSxwWzFdKTtkJiYodFtvXT17dXJsOnUsd2lkdGg6cFswXSxoZWlnaHQ6cFsxXX0pO2JyZWFrO2Nhc2UicHJpdmFjeUljb24iOnRbb109SShpLE9iamVjdChuLmRlZXBBY2Nlc3MpKGksIkNvbnRlbnQuUHJldmlldy5DcmVkaXQuTG9nby5SZXNvdXJjZSIpLDI1LDI1KTticmVhaztjYXNlInByaXZhY3lMaW5rIjp0W29dPU9iamVjdChuLmRlZXBBY2Nlc3MpKGksIkNvbnRlbnQuUHJldmlldy5DcmVkaXQuVXJsIil9fSkpLHR9KGUsdC5OYXRpdmUpLGkubWVkaWFUeXBlPSJuYXRpdmUiO2Vsc2UgaWYodCYmdC5WaWRlbyl7dmFyIGE9ZS5WYXN0fHxmdW5jdGlvbihlKXt2YXIgcj17fTtpZigic3RyaW5nIj09dHlwZW9mIGUuQWQpcmV0dXJuIHI9SlNPTi5wYXJzZShlLkFkLm1hdGNoKC9cL1wqUFJFQklEXCpcLyguKilcL1wqUFJFQklEXCpcLy8pWzFdKSxPYmplY3Qobi5kZWVwQWNjZXNzKShyLCJDb250ZW50Lk1haW5WaWRlby5WYXN0Iil9KGUpO2kudmFzdFhtbD1hP3dpbmRvdy5hdG9iKGEpOiIiLGkubWVkaWFUeXBlPSJ2aWRlbyJ9ZWxzZSBpLndpZHRoPWUuV2lkdGgsaS5oZWlnaHQ9ZS5IZWlnaHQsaS5hZD1lLkFkO3JldHVybiBpfShlLGkpO3ImJnQucHVzaChyKX0pKSx0fX07ZnVuY3Rpb24gbSgpe3RyeXtpZihwZXJmb3JtYW5jZSYmcGVyZm9ybWFuY2UubmF2aWdhdGlvbilyZXR1cm4gcGVyZm9ybWFuY2UubmF2aWdhdGlvbi50eXBlPT09cGVyZm9ybWFuY2UubmF2aWdhdGlvbi5UWVBFX1JFTE9BRH1jYXRjaChlKXt9cmV0dXJuITF9ZnVuY3Rpb24gdihlLHIpe3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciByPXMoKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuREN9KSk7cmV0dXJuIHI/Ii0iK3IucGFyYW1zLkRDOiIifShlKTtyZXR1cm4gT2JqZWN0KG4uYnVpbGRVcmwpKHtwcm90b2NvbDoiaHR0cHMiLGhvc3Q6IiIuY29uY2F0KCJoYi1hcGkiKS5jb25jYXQodCwiLm9tbml0YWdqcy5jb20iKSxwYXRobmFtZToiL2hiLWFwaS9wcmViaWQvdjEiLHNlYXJjaDpoKHIpfSl9ZnVuY3Rpb24gaChlKXt2YXIgcj17fTtpZihlKXt2YXIgdD1lLnJlZmVyZXJJbmZvO3QmJihyLlJlZmVyZXJVcmw9ZW5jb2RlVVJJQ29tcG9uZW50KHQucmVmZXJlciksdC5udW1JZnJhbWVzPjAmJihyLlNhZmVGcmFtZT0hMCkpfXZhciBuPWZ1bmN0aW9uKCl7dmFyIGU7aWYod2luZG93LnNlbGYhPT13aW5kb3cudG9wKXRyeXtlPXdpbmRvdy50b3AuZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKCdsaW5rW3JlbD0iY2Fub25pY2FsIl1baHJlZl0nKX1jYXRjaChlKXt9ZWxzZSBlPWRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcignbGlua1tyZWw9ImNhbm9uaWNhbCJdW2hyZWZdJyk7cmV0dXJuIGU/ZS5ocmVmOiIifSgpO24mJihyLkNhbm9uaWNhbFVybD1lbmNvZGVVUklDb21wb25lbnQobikpO3ZhciBpPWEuYi5nZXRDb25maWcoInB1Ymxpc2hlckRvbWFpbiIpO3JldHVybiBpJiYoci5QdWJsaXNoZXJEb21haW49ZW5jb2RlVVJJQ29tcG9uZW50KGkpKSxyfWZ1bmN0aW9uIHkoZSl7dmFyIHI9ZS5zaXplc3x8W107cmV0dXJuIGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmKHI9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8W10pLGUucGFyYW1zJiZBcnJheS5pc0FycmF5KGUucGFyYW1zLnNpemUpJiYocj1lLnBhcmFtcy5zaXplLEFycmF5LmlzQXJyYXkoclswXSl8fChyPVtyXSkpLE9iamVjdChuLnBhcnNlU2l6ZXNJbnB1dCkocil9ZnVuY3Rpb24gYihlKXt2YXIgcj17fSx0PWVbMF07aWYoInN0cmluZyIhPXR5cGVvZiB0KXJldHVybiByO3ZhciBuPXQudG9VcHBlckNhc2UoKS5zcGxpdCgiWCIpLGk9cGFyc2VJbnQoblswXSwxMCk7aSYmKHIud2lkdGg9aSk7dmFyIGE9cGFyc2VJbnQoblsxXSwxMCk7cmV0dXJuIGEmJihyLmhlaWdodD1hKSxyfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIGU/Imh0dHBzOi8vYmxvYnMub21uaXRhZ2pzLmNvbS9ibG9icy8iK2Uuc3Vic3RyKDE2LDIpKyIvIitlLnN1YnN0cigxNikrIi8iK2U6IiJ9ZnVuY3Rpb24gSShlLHIsdCxuKXt2YXIgaT0iIjtpZihyJiZyLktpbmQpc3dpdGNoKHIuS2luZCl7Y2FzZSJJTlRFUk5BTCI6aT1nKHIuRGF0YS5JbnRlcm5hbC5CbG9iUmVmZXJlbmNlLlVpZCk7YnJlYWs7Y2FzZSJFWFRFUk5BTCI6dmFyIGE9ZS5EeW5hbWljUHJlZml4LG89ci5EYXRhLkV4dGVybmFsLlVybDtpZigobz0obz1vLnJlcGxhY2UoL1xbaGVpZ2h0XF0vaSwiIituKSkucmVwbGFjZSgvXFt3aWR0aFxdL2ksIiIrdCkpLmluZGV4T2YoYSk+PTApe3ZhciBzPS8uKnVybD0oW14mXSopL2dtLmV4ZWMobyk7KGk9cz9zWzFdOiIiKXx8KGk9ZygvLiprZXk9KFteJl0qKS9nbS5leGVjKG8pWzFdKSl9ZWxzZSBpPW99cmV0dXJuIGl9ZnVuY3Rpb24gQyhlLHIpe3ZhciB0PVtdO3JldHVybiBlPyhlLm1hcCgoZnVuY3Rpb24oZSxuKXsociYmIkpBVkFTQ1JJUFRfVVJMIj09PWUuS2luZHx8IXImJiJQSVhFTF9VUkwiPT09ZS5LaW5kKSYmdC5wdXNoKGUuVXJsKX0pKSx0KTp0fU9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShsKX19LFsyNTldKTsKdXBianNDaHVuayhbMzQwXSx7MjcxOmZ1bmN0aW9uKG4sdCxlKXtuLmV4cG9ydHM9ZSgyNzIpfSwyNzI6ZnVuY3Rpb24obix0LGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5kKHQsIkJJRERFUl9DT0RFIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxlLmQodCwiRU5HSU5FX0JBU0VfVVJMIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxlLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksdC5yZXNldFVzZXJTeW5jPWZ1bmN0aW9uKCl7bT0hMX07ZSgwKTt2YXIgYT1lKDQ3KSxyPWUoMSksaT1lKDIpO2Z1bmN0aW9uIG8obix0LGUpe3JldHVybiB0IGluIG4/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCx7dmFsdWU6ZSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOm5bdF09ZSxufXZhciBzPSJhbWF6b24iLGQ9Imh0dHBzOi8vYy5hbWF6b24tYWRzeXN0ZW0uY29tL2UvZHRiL2JpZCIsYz1bXSxtPSExLHA9WyJodHRwczovL2FheC1ldS5hbWF6b24tYWRzeXN0ZW0uY29tL3MvaXUzP2NtM3BwZD0xJmQ9ZHRiLXB1YiZjc2lmPXQiXTt2YXIgdT17Y29kZTpzLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2kuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24obil7cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24obix0KXtpZighd2luZG93LmFwc3RhZylyZXR1cm5bXTtmb3IodmFyIGU9MDtlPG4ubGVuZ3RoO2UrKyl7dmFyIGE9bltlXTtjLnB1c2goYSl9dmFyIHIsaT1bXTtyZXR1cm4gcj1mdW5jdGlvbihuLHQpe2Zvcih2YXIgZSxhPVtdLHI9dCYmdC5nZHByQ29uc2VudCxpPTA7aTxuLmxlbmd0aDtpKyspe2Zvcih2YXIgcz17fSxkPW5baV0uc2l6ZXMsYz1bXSxtPTA7bTxkLmxlbmd0aDttKyspYy5wdXNoKGRbbV1bMF0rIngiK2RbbV1bMV0pO3Muc2Q9bC50b1N0cmluZygpLHMucz1jLHMuc249bltpXS5wYXJhbXMuYWRVbml0R1BUUGF0aCxhLnB1c2gocyksbCsrfXZhciBwPW5bMF0ucGFyYW1zLnB1YklELmluZGV4T2YoIi0iKT4tMSx1PShvKGU9e30sInNyYyIscD8iNjAwIjpuWzBdLnBhcmFtcy5wdWJJRCksbyhlLCJwdWJpZCIsblswXS5wYXJhbXMucHViSUQpLG8oZSwidSIsd2luZG93LmxvY2F0aW9uLmhyZWYpLG8oZSwicGlkIixmdW5jdGlvbihuKXtmb3IodmFyIHQ9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5IixlPW5ldyBBcnJheShuKSxhPTA7YTxuO2ErKyllW2FdPXRbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnQubGVuZ3RoKV07cmV0dXJuIGUuam9pbigiIil9KDEzKSksbyhlLCJwciIsZG9jdW1lbnQucmVmZXJyZXIpLG8oZSwiY2IiLDApLG8oZSwid3MiLCh3aW5kb3cuaW5uZXJXaWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRofHxkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKSsieCIrKHdpbmRvdy5pbm5lckhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodHx8ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQpKSxvKGUsInYiLCI3LjQ3LjAwIiksbyhlLCJzbG90cyIsSlNPTi5zdHJpbmdpZnkoYSkpLG8oZSwidCIsM2UzKSxlKTtyJiYic3RyaW5nIj09dHlwZW9mIHIuY29uc2VudFN0cmluZyYmIiIhPT1yLmNvbnNlbnRTdHJpbmc/ImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQXBwbGllcz8odS5nZHByZT0iMSIsdS5nZHByYz0iIi5jb25jYXQoci5jb25zZW50U3RyaW5nKSx1LmdkcHJsPUpTT04uc3RyaW5naWZ5KHtsc1N0YXR1czoicHJlc2VudCIsc3RhdHVzOiJjbXAtc3VjY2VzcyIscnRpbWVzOlsxXSxjYzoiMCJ9KSk6dS5nZHBybD1KU09OLnN0cmluZ2lmeShvKHtzdGF0dXM6InByZXNlbnQifSwic3RhdHVzIiwiY21wLXN1Y2Nlc3MiKSk6dS5nZHBybD1KU09OLnN0cmluZ2lmeSh7c3RhdHVzOiJjbXAtZXJyb3IifSk7cmV0dXJuIHV9KG4sdCksaS5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOmQsZGF0YTpyfSksaX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24obix0KXt2YXIgZT1bXSxyPW5ldyBSZWdFeHAoImFwc3RhZ1xcLlxcdytcXCgoLio/KVxcKSIsImdtIiksaT1uLmJvZHksbz1yLmV4ZWMoaSk7aWYobyYmby5sZW5ndGg+MCl0cnl7dmFyIHMsZD1KU09OLnBhcnNlKG9bMV0pO2lmKGQuY21wLCFkLnNsb3RzKXJldHVybiBlO3M9ZC5ob3N0O2Zvcih2YXIgbT1kLnNsb3RzLHA9MDtwPG0ubGVuZ3RoO3ArKyl7Zm9yKHZhciB1PXZvaWQgMCxsPW1bcF0sZz0wO2c8Yy5sZW5ndGg7ZysrKWlmKGcudG9TdHJpbmcoKT09PWwuc2xvdElEKXt1PWNbZ107YnJlYWt9aWYodm9pZCAwIT09dSl7dmFyIGY9MCx6PSJVU0QiLHc9IiIrTWF0aC5yb3VuZCgxZTEyKk1hdGgucmFuZG9tKCkpK0RhdGUubm93KCksaD1zKyIvZS9kdGIvYWRtaT9iPSIrbC5hbXpuaWlkKyImcm5kPSIrdysiJnBwPSIrbC5hbXpuYmlkKyImcD0iK2wuYW16bnArIiZjcmlkPSIrbC5jcmlkO3dpbmRvdy51cG9fYW16biYmKHdpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DaGFydCYmd2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUNoYXJ0W2wuYW16bmJpZF0mJihmPXdpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DaGFydFtsLmFtem5iaWRdKSx3aW5kb3cudXBvX2Ftem4uYW1hem9uQ1BNQ3VycmVuY3kmJih6PXdpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DdXJyZW5jeSkpO3ZhciBiPWwuY3JpZDtpZighbC5jcmlkKWlmKCJ4Y2V1NGciPT09bC5hbXpuYmlkKWI9InRlc3RDcmlkIjtlbHNle3ZhciB2PXtldmVudDoiYW1hem9uLW5vLWNyaWQiLHNlbmRQZXJjZW50YWdlOjEwMCxtZXRhOntkb21haW46d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lfX07YS5lKG51bGwsImFtYXpvbi1uby1jcmlkIixbXSx2KX1lLnB1c2goe3JlcXVlc3RJZDp1LmJpZElkLGNwbTpmLHdpZHRoOmwuYW16bnN6LnNwbGl0KCJ4IilbMF0saGVpZ2h0OmwuYW16bnN6LnNwbGl0KCJ4IilbMV0sYWRUYXJnZXRpbmc6J3siYW16bmlpZCI6IicrbC5hbXpuaWlkKyciLCJhbXpucCI6IicrbC5hbXpucCsnIiwiYW16bmJpZCI6IicrbC5hbXpuYmlkKyciLCJhbXpuc3oiOiInK2wuYW16bnN6KycifScsYWQ6IiIsYWRIdG1sOic8Ym9keSBsZWZ0bWFyZ2luPSIwIiB0b3BtYXJnaW49IjAiIG1hcmdpbndpZHRoPSIwIiBtYXJnaW5oZWlnaHQ9IjAiPjxpZnJhbWUgZnJhbWVib3JkZXI9IjAiIG1hcmdpbmhlaWdodD0iMCIgbWFyZ2lud2lkdGg9IjAiIHNjcm9sbGluZz0ibm8iIHdpZHRoPSInK2wuYW16bnN6LnNwbGl0KCJ4IilbMF0rJ3B4IiBoZWlnaHQ9IicrbC5hbXpuc3ouc3BsaXQoIngiKVsxXSsncHgiIGlkPSJhbXpuYWQ3MDM1MiIgc2FuZGJveD0iYWxsb3ctZm9ybXMgYWxsb3ctcG9pbnRlci1sb2NrIGFsbG93LXBvcHVwcyBhbGxvdy1wb3B1cHMtdG8tZXNjYXBlLXNhbmRib3ggYWxsb3ctc2FtZS1vcmlnaW4gYWxsb3ctc2NyaXB0cyBhbGxvdy10b3AtbmF2aWdhdGlvbi1ieS11c2VyLWFjdGl2YXRpb24iIHNyYz0iJytoKyciPjwvaWZyYW1lPjxzY3JpcHQ+dmFyIGFteiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2Ftei5zcmMgPSAiLy9jLmFtYXpvbi1hZHN5c3RlbS5jb20vYmFvLWNzbS9kaXJlY3QvY3NtLmpzIjthbXouYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZnVuY3Rpb24oKXt2YXIgY3NtRnVuYyA9IG51bGw7IGlmKHdpbmRvdy5hbXpuY3NtICYmIHdpbmRvdy5hbXpuY3NtLnJtRCl7Y3NtRnVuYyA9IHdpbmRvdy5hbXpuY3NtLnJtRDt9IGVsc2UgaWYgKHdpbmRvdy5hbXpuY3NtKSB7Y3NtRnVuYyA9IHdpbmRvdy5hbXpuY3NtW09iamVjdC5rZXlzKHdpbmRvdy5hbXpuY3NtKVswXV19OyB2YXIgYWRJZnJhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwnaWZyYW1lW3NyYyo9ImFtYXpvbi1hZHN5c3RlbS5jb20vZS9kdGIvYWRtaVwnKTtjc21GdW5jKGFkSWZyYW1lLCAiJytsLmFtem5paWQrJyIsIHdpbmRvdywgZG9jdW1lbnQsICInK3UucGFyYW1zLnB1YklEKyciKTt9KTsoZG9jdW1lbnQuYm9keXx8ZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChhbXopOzxcL3NjcmlwdD48L2JvZHk+JyxhZFVybDpoLHR0bDo5MDAsY3JlYXRpdmVJZDpifHwiIixuZXRSZXZlbnVlOiEwLGN1cnJlbmN5Onp9KX19fWNhdGNoKG4pe31yZXR1cm4gZX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKG4sdCxlKXtpZighbSl7ZSYmInN0cmluZyI9PXR5cGVvZiBlLmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiBlLmdkcHJBcHBsaWVzPyI/Z2Rwcj0iLmNvbmNhdChOdW1iZXIoZS5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KGUuY29uc2VudFN0cmluZyk6Ij9nZHByX2NvbnNlbnQ9Ii5jb25jYXQoZS5jb25zZW50U3RyaW5nKSksbT0hMDtmb3IodmFyIGE9W10scj0wO3I8cC5sZW5ndGg7cisrKWEucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6cFtyXX0pO3JldHVybiBhfX19O3ZhciBsPTA7T2JqZWN0KHIucmVnaXN0ZXJCaWRkZXIpKHUpfX0sWzI3MV0pOwp1cGJqc0NodW5rKFszMzZdLHsyNzk6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDI4MCl9LDI4MDpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHF9KSk7dmFyIG4saSxhLG89cigwKSxzPXIoMSksYz1yKDIpO2Z1bmN0aW9uIHUoKXtyZXR1cm4odT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGQoZSl7cmV0dXJuKGQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBwKGUsdCl7cmV0dXJuIHR8fCh0PWUuc2xpY2UoMCkpLE9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSx7cmF3Ont2YWx1ZTpPYmplY3QuZnJlZXplKHQpfX0pKX12YXIgbD0iYW9sIixtPSJ2ZXJpem9uIixmPSJvbmVtb2JpbGUiLGI9Im9uZWRpc3BsYXkiLGg9e0dFVDoiZGlzcGxheS1nZXQifSx2PXtHRVQ6Im1vYmlsZS1nZXQiLFBPU1Q6Im1vYmlsZS1wb3N0In0sZz17VEFHOiJpZnJhbWUiLFRZUEU6ImlmcmFtZSJ9LHk9e1RBRzoiaW1nIixUWVBFOiJpbWFnZSJ9LE89WyJhZHNlcnZlci5vcmciLCJjcml0ZW8uY29tIiwiaWQ1LXN5bmMuY29tIiwiaW50ZW50aXEuY29tIiwibGl2ZWludGVudC5jb20iLCJxdWFudGNhc3QuY29tIiwidmVyaXpvbm1lZGlhLmNvbSIsImxpdmVyYW1wLmNvbSIsInlhaG9vLmNvbSJdLFA9QyhufHwobj1wKFsiIiwiL3B1YmFwaS8zLjAvIiwiLyIsIi8iLCIvIiwiL0FEVEVDSDt2PTI7Y21kPWJpZDtjb3JzPXllczthbGlhcz0iLCI7bWlzYz0iLCI7IiwiIl0pKSwiaG9zdCIsIm5ldHdvcmsiLCJwbGFjZW1lbnQiLCJwYWdlaWQiLCJzaXplaWQiLCJhbGlhcyIsIm1pc2MiLCJkeW5hbWljUGFyYW1zIiksaj1DKGl8fChpPXAoWyIiLCIvYmlkUmVxdWVzdD8iXSkpLCJob3N0IiksRT1DKGF8fChhPXAoWyJkY249IiwiJnBvcz0iLCImY21kPWJpZCIsIiJdKSksImRjbiIsInBvcyIsImR5bmFtaWNQYXJhbXMiKSxTPXt1czoiYWRzZXJ2ZXItdXMuYWR0ZWNoLmFkdmVydGlzaW5nLmNvbSIsZXU6ImFkc2VydmVyLWV1LmFkdGVjaC5hZHZlcnRpc2luZy5jb20iLGFzOiJhZHNlcnZlci1hcy5hZHRlY2guYWR2ZXJ0aXNpbmcuY29tIn0sVD0iaHR0cHMiLHg9MTtmdW5jdGlvbiBDKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KHQ+MT90LTE6MCksbj0xO248dDtuKyspcltuLTFdPWFyZ3VtZW50c1tuXTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0KSxpPTA7aTx0O2krKyluW2ldPWFyZ3VtZW50c1tpXTt2YXIgYT1uW24ubGVuZ3RoLTFdfHx7fSxzPVtlWzBdXTtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbih0LHIpe3ZhciBpPU9iamVjdChvLmlzSW50ZWdlcikodCk/blt0XTphW3RdO3MucHVzaChpLGVbcisxXSl9KSkscy5qb2luKCIiKX19ZnVuY3Rpb24gSShlKXtyZXR1cm4gZT09PWx8fGU9PT1tfHxlPT09Zn1mdW5jdGlvbiBSKGUpe2lmKEkoZS5iaWRkZXIpJiZlLnBhcmFtcy5pZCYmZS5wYXJhbXMuaW1wJiZlLnBhcmFtcy5pbXBbMF0pe3ZhciB0PWUucGFyYW1zLmltcFswXTtyZXR1cm4gdC5pZCYmdC50YWdpZCYmdC5iYW5uZXImJnQuYmFubmVyLncmJnQuYmFubmVyLmh9fWZ1bmN0aW9uIHcoZSl7cmV0dXJuIEkoZS5iaWRkZXIpJiZlLnBhcmFtcy5kY24mJmUucGFyYW1zLnBvc31mdW5jdGlvbiBVKGUpe3JldHVybigodD1lLmJpZGRlcik9PT1sfHx0PT09bXx8dD09PWIpJiZlLnBhcmFtcy5wbGFjZW1lbnQmJmUucGFyYW1zLm5ldHdvcms7dmFyIHR9ZnVuY3Rpb24gayhlKXtyZXR1cm4gZS51c2VySWRBc0VpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PU8uaW5kZXhPZihlLnNvdXJjZSl9KSl9dmFyIHE9e2NvZGU6bCxndmxpZDoyNSxhbGlhc2VzOltmLGIsbV0sc3VwcG9ydGVkTWVkaWFUeXBlczpbYy5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gVShlKXx8ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSl8fFIoZSl9KGUpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt9O3JldHVybiB0JiYobi5nZHByPXQuZ2RwckNvbnNlbnQsbi51c3BDb25zZW50PXQudXNwQ29uc2VudCksZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpP3YuR0VUOlIoZSk/di5QT1NUOlUoZSk/aC5HRVQ6dm9pZCAwfShlKTtpZih0KXJldHVybiByLmZvcm1hdEJpZFJlcXVlc3QodCxlLG4pfSkpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPWUuYm9keTtpZihyKXt2YXIgbj10aGlzLl9wYXJzZUJpZFJlc3BvbnNlKHIsdCk7aWYobilyZXR1cm4gbn1lbHNlIE9iamVjdChvLmxvZ0Vycm9yKSgiRW1wdHkgYmlkIHJlc3BvbnNlIix0LmJpZGRlckNvZGUscil9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3ZhciByPSFPYmplY3Qoby5pc0VtcHR5KSh0KSYmdFswXS5ib2R5O3JldHVybiByJiZyLmV4dCYmci5leHQucGl4ZWxzP3RoaXMucGFyc2VQaXhlbEl0ZW1zKHIuZXh0LnBpeGVscyk6W119LGZvcm1hdEJpZFJlcXVlc3Q6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO3N3aXRjaChlKXtjYXNlIGguR0VUOm49e3VybDp0aGlzLmJ1aWxkTWFya2V0cGxhY2VVcmwodCxyKSxtZXRob2Q6IkdFVCIsdHRsOjYwfTticmVhaztjYXNlIHYuR0VUOm49e3VybDp0aGlzLmJ1aWxkT25lTW9iaWxlR2V0VXJsKHQsciksbWV0aG9kOiJHRVQiLHR0bDozNjAwfTticmVhaztjYXNlIHYuUE9TVDpuPXt1cmw6dGhpcy5idWlsZE9uZU1vYmlsZUJhc2VVcmwodCksbWV0aG9kOiJQT1NUIix0dGw6MzYwMCxkYXRhOnRoaXMuYnVpbGRPcGVuUnRiUmVxdWVzdERhdGEodCxyKSxvcHRpb25zOntjb250ZW50VHlwZToiYXBwbGljYXRpb24vanNvbiIsY3VzdG9tSGVhZGVyczp7Ingtb3BlbnJ0Yi12ZXJzaW9uIjoiMi4yIn19fX1yZXR1cm4gbi5iaWRkZXJDb2RlPXQuYmlkZGVyLG4uYmlkSWQ9dC5iaWRJZCxuLnVzZXJTeW5jT249dC5wYXJhbXMudXNlclN5bmNPbixufSxidWlsZE1hcmtldHBsYWNlVXJsOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbj1lLnBhcmFtcyxpPW4uc2VydmVyLGE9bi5yZWdpb258fCJ1cyI7cmV0dXJuIFMuaGFzT3duUHJvcGVydHkoYSl8fChPYmplY3Qoby5sb2dXYXJuKSgiVW5rbm93biByZWdpb24gJyIuY29uY2F0KGEsIicgZm9yIEFPTCBiaWRkZXIuIikpLGE9InVzIikscj1pfHxTW2FdLG4ucmVnaW9uPWEsdGhpcy5hcHBseVByb3RvY29sKFAoe2hvc3Q6cixuZXR3b3JrOm4ubmV0d29yayxwbGFjZW1lbnQ6cGFyc2VJbnQobi5wbGFjZW1lbnQpLHBhZ2VpZDpuLnBhZ2VJZHx8MCxzaXplaWQ6bi5zaXplSWR8fDAsYWxpYXM6bi5hbGlhc3x8T2JqZWN0KG8uZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxtaXNjOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGR5bmFtaWNQYXJhbXM6dGhpcy5mb3JtYXRNYXJrZXRwbGFjZUR5bmFtaWNQYXJhbXMobix0KX0pKX0sYnVpbGRPbmVNb2JpbGVHZXRVcmw6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnBhcmFtcyxuPXIuZGNuLGk9ci5wb3MsYT1yLmV4dDsib2JqZWN0Ij09PWQoZS51c2VySWQpJiYoYT1hfHx7fSxrKGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2FbImVpZCIrZS5zb3VyY2VdPWUudWlkc1swXS5pZH0pKSk7dmFyIG89dGhpcy5idWlsZE9uZU1vYmlsZUJhc2VVcmwoZSk7aWYobiYmaSl7dmFyIHM9dGhpcy5mb3JtYXRPbmVNb2JpbGVEeW5hbWljUGFyYW1zKGEsdCk7bys9RSh7ZGNuOm4scG9zOmksZHluYW1pY1BhcmFtczpzfSl9cmV0dXJuIG99LGJ1aWxkT25lTW9iaWxlQmFzZVVybDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hcHBseVByb3RvY29sKGooe2hvc3Q6ZS5wYXJhbXMuaG9zdHx8ImMyc2hiLnNzcC55YWhvby5jb20ifSkpfSxhcHBseVByb3RvY29sOmZ1bmN0aW9uKGUpe3JldHVybi9eaHR0cHM/OlwvXC8vaS50ZXN0KGUpP2U6MD09PWUuaW5kZXhPZigiLy8iKT8iIi5jb25jYXQoVCwiOiIpLmNvbmNhdChlKToiIi5jb25jYXQoVCwiOi8vIikuY29uY2F0KGUpfSxmb3JtYXRNYXJrZXRwbGFjZUR5bmFtaWNQYXJhbXM6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj17fTt1KHIsdGhpcy5mb3JtYXRLZXlWYWx1ZXMoZS5rZXlWYWx1ZXMpKSx1KHIsdGhpcy5mb3JtYXRDb25zZW50RGF0YSh0KSk7dmFyIG49IiI7cmV0dXJuIE9iamVjdChvLl9lYWNoKShyLChmdW5jdGlvbihlLHQpe24rPSIiLmNvbmNhdCh0LCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlKSwiOyIpfSkpLG59LGZvcm1hdE9uZU1vYmlsZUR5bmFtaWNQYXJhbXM6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307dGhpcy5pc1NlY3VyZVByb3RvY29sKCkmJihlLnNlY3VyZT14KSx1KGUsdGhpcy5mb3JtYXRDb25zZW50RGF0YSh0KSk7dmFyIHI9IiI7cmV0dXJuIE9iamVjdChvLl9lYWNoKShlLChmdW5jdGlvbihlLHQpe3IrPSImIi5jb25jYXQodCwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZSkpfSkpLHJ9LGJ1aWxkT3BlblJ0YlJlcXVlc3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXtpZDplLnBhcmFtcy5pZCxpbXA6ZS5wYXJhbXMuaW1wfTtpZih0aGlzLmlzRVVDb25zZW50UmVxdWlyZWQodCkmJihPYmplY3Qoby5kZWVwU2V0VmFsdWUpKHIsInJlZ3MuZXh0LmdkcHIiLHgpLHQuZ2Rwci5jb25zZW50U3RyaW5nJiZPYmplY3Qoby5kZWVwU2V0VmFsdWUpKHIsInVzZXIuZXh0LmNvbnNlbnQiLHQuZ2Rwci5jb25zZW50U3RyaW5nKSksdC51c3BDb25zZW50JiZPYmplY3Qoby5kZWVwU2V0VmFsdWUpKHIsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHQudXNwQ29uc2VudCksIm9iamVjdCI9PT1kKGUudXNlcklkKSl7ci51c2VyPXIudXNlcnx8e30sci51c2VyLmV4dD1yLnVzZXIuZXh0fHx7fTt2YXIgbj1rKGUpO24ubGVuZ3RoPjAmJihyLnVzZXIuZXh0LmVpZHM9bil9cmV0dXJuIHJ9LGlzRVVDb25zZW50UmVxdWlyZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5nZHByJiZlLmdkcHIuZ2RwckFwcGxpZXMpfSxmb3JtYXRLZXlWYWx1ZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdChvLl9lYWNoKShlLChmdW5jdGlvbihlLHIpe3RbImt2Ii5jb25jYXQocildPWV9KSksdH0sZm9ybWF0Q29uc2VudERhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHRoaXMuaXNFVUNvbnNlbnRSZXF1aXJlZChlKSYmKHQuZ2Rwcj14LGUuZ2Rwci5jb25zZW50U3RyaW5nJiYodC5ldWNvbnNlbnQ9ZS5nZHByLmNvbnNlbnRTdHJpbmcpKSxlLnVzcENvbnNlbnQmJih0LnVzX3ByaXZhY3k9ZS51c3BDb25zZW50KSx0fSxwYXJzZVBpeGVsSXRlbXM6ZnVuY3Rpb24oZSl7dmFyIHQ9L1x3Kig/PVxzKS8scj0vc3JjPSgifCcpKC4qPylcMS8sbj1bXTtpZihlKXt2YXIgaT1lLm1hdGNoKC8oaW1nfGlmcmFtZSlbXHNcU10qP3NyY1xzKj1ccyooInwnKSguKj8pXDIvZ2kpO2kmJmkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGk9ZS5tYXRjaCh0KVswXSxhPWUubWF0Y2gocilbMl07aSYmYSYmbi5wdXNoKHt0eXBlOmk9PT15LlRBRz95LlRZUEU6Zy5UWVBFLHVybDphfSl9KSl9cmV0dXJuIG59LF9wYXJzZUJpZFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbjt0cnl7cj1lLnNlYXRiaWRbMF0uYmlkWzBdfWNhdGNoKGUpe3JldHVybn1pZihyLmV4dCYmci5leHQuZW5jcCluPXIuZXh0LmVuY3A7ZWxzZSBpZihudWxsPT09KG49ci5wcmljZSl8fGlzTmFOKG4pKXJldHVybiB2b2lkIE9iamVjdChvLmxvZ0Vycm9yKSgiSW52YWxpZCBwcmljZSBpbiBiaWQgcmVzcG9uc2UiLGwscik7cmV0dXJue2JpZGRlckNvZGU6dC5iaWRkZXJDb2RlLHJlcXVlc3RJZDp0LmJpZElkLGFkOnIuYWRtLGNwbTpuLHdpZHRoOnIudyxoZWlnaHQ6ci5oLGNyZWF0aXZlSWQ6ci5jcmlkfHwwLHB1YmFwaUlkOmUuaWQsY3VycmVuY3k6ZS5jdXJ8fCJVU0QiLGRlYWxJZDpyLmRlYWxpZCxuZXRSZXZlbnVlOiEwLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOnImJnIuYWRvbWFpbj9yLmFkb21haW46W119LHR0bDp0LnR0bH19LGlzT25lTW9iaWxlQmlkZGVyOkksaXNTZWN1cmVQcm90b2NvbDpmdW5jdGlvbigpe3JldHVybiJodHRwczoiPT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2x9fTtPYmplY3Qocy5yZWdpc3RlckJpZGRlcikocSl9fSxbMjc5XSk7CnVwYmpzQ2h1bmsoWzMzM10sezI4OTpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoMjkwKX0sMjkwOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gRX0pKTt2YXIgYT10KDApLG49dCgxMyksaT10KDMpLHM9dCgxKSxvPXQoMiksZD10KDIzKSxjPXQoMTEpLHA9dC5uKGMpLHU9dCgxMiksbD10Lm4odSksbT10KDIyKSxmPXQoNyk7ZnVuY3Rpb24gYihlKXtyZXR1cm4oYj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHYoKXtyZXR1cm4odj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBhIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsYSkmJihlW2FdPXRbYV0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHkoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGcoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHIpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGcoZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09dHx8IlNldCI9PT10KXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkpcmV0dXJuIGcoZSxyKX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gZyhlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLGE9bmV3IEFycmF5KHIpO3Q8cjt0KyspYVt0XT1lW3RdO3JldHVybiBhfXZhciBoPSJhcHBuZXh1cyIsXz0iaHR0cHM6Ly9pYi5hZG54cy5jb20vdXQvdjMvcHJlYmlkIixrPSJodHRwczovL2liLmFkbnhzLXNpbXBsZS5jb20vdXQvdjMvcHJlYmlkIixPPVsiaWQiLCJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIiwic2tpcHBhYmxlIiwicGxheWJhY2tfbWV0aG9kIiwiZnJhbWV3b3JrcyIsImNvbnRleHQiLCJza2lwb2Zmc2V0Il0saj1bIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iLCJza2lwIiwic2tpcGFmdGVyIiwicGxheWJhY2ttZXRob2QiLCJhcGkiXSxJPVsiYWdlIiwiZXh0ZXJuYWxVaWQiLCJzZWdtZW50cyIsImdlbmRlciIsImRudCIsImxhbmd1YWdlIl0sQT1bImdlbyIsImRldmljZV9pZCJdLHc9WyJlbmFibGVkIiwiZG9uZ2xlIiwibWVtYmVyX2lkIiwiZGVidWdfdGltZW91dCJdLHg9e3BsYXliYWNrX21ldGhvZDp7dW5rbm93bjowLGF1dG9fcGxheV9zb3VuZF9vbjoxLGF1dG9fcGxheV9zb3VuZF9vZmY6MixjbGlja190b19wbGF5OjMsbW91c2Vfb3Zlcjo0LGF1dG9fcGxheV9zb3VuZF91bmtub3duOjV9LGNvbnRleHQ6e3Vua25vd246MCxwcmVfcm9sbDoxLG1pZF9yb2xsOjIscG9zdF9yb2xsOjMsb3V0c3RyZWFtOjQsImluLWJhbm5lciI6NX19LEM9e2JvZHk6ImRlc2NyaXB0aW9uIixib2R5MjoiZGVzYzIiLGN0YToiY3RhdGV4dCIsaW1hZ2U6e3NlcnZlck5hbWU6Im1haW5faW1hZ2UiLHJlcXVpcmVkUGFyYW1zOntyZXF1aXJlZDohMH19LGljb246e3NlcnZlck5hbWU6Imljb24iLHJlcXVpcmVkUGFyYW1zOntyZXF1aXJlZDohMH19LHNwb25zb3JlZEJ5OiJzcG9uc29yZWRfYnkiLHByaXZhY3lMaW5rOiJwcml2YWN5X2xpbmsiLHNhbGVQcmljZToic2FsZXByaWNlIixkaXNwbGF5VXJsOiJkaXNwbGF5dXJsIn0sUz0vXC9cL2NkblwuYWRueHNcLmNvbVwvdnxcL1wvY2RuXC5hZG54c1wtc2ltcGxlXC5jb21cL3YvLFQ9T2JqZWN0KGYuYikoMzIsaCksRT17Y29kZTpoLGd2bGlkOjMyLGFsaWFzZXM6W3tjb2RlOiJhcHBuZXh1c0FzdCIsZ3ZsaWQ6MzJ9LHtjb2RlOiJicmVhbHRpbWUifSx7Y29kZToiZW14ZGlnaXRhbCIsZ3ZsaWQ6MTgzfSx7Y29kZToicGFnZXNjaWVuY2UifSx7Y29kZToiZGVmeW1lZGlhIn0se2NvZGU6ImdvdXJtZXRhZHMifSx7Y29kZToibWF0b215In0se2NvZGU6ImZlYXR1cmVmb3J3YXJkIn0se2NvZGU6Im9mdG1lZGlhIn0se2NvZGU6ImRpc3RyaWN0bSIsZ3ZsaWQ6MTQ0fSx7Y29kZToiYWRhc3RhIn0se2NvZGU6ImJlaW50b28iLGd2bGlkOjYxOH0se2NvZGU6InRhcmdldFZpZGVvIn1dLHN1cHBvcnRlZE1lZGlhVHlwZXM6W28uYixvLmQsby5jXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlLnBhcmFtcy5wbGFjZW1lbnRJZHx8ZS5wYXJhbXMubWVtYmVyJiZlLnBhcmFtcy5pbnZDb2RlKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PWUubWFwKHEpLG49cCgpKGUsTSkscz17fTshMD09PWkuYi5nZXRDb25maWcoImNvcHBhIikmJihzPXtjb3BwYTohMH0pLG4mJk9iamVjdC5rZXlzKG4ucGFyYW1zLnVzZXIpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKShJLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdChhLmNvbnZlcnRDYW1lbFRvVW5kZXJzY29yZSkoZSk7aWYoInNlZ21lbnRzIj09PWUmJk9iamVjdChhLmlzQXJyYXkpKG4ucGFyYW1zLnVzZXJbZV0pKXt2YXIgdD1bXTtuLnBhcmFtcy51c2VyW2VdLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChhLmlzTnVtYmVyKShlKT90LnB1c2goe2lkOmV9KTpPYmplY3QoYS5pc1BsYWluT2JqZWN0KShlKSYmdC5wdXNoKGUpfSkpLHNbcl09dH1lbHNlInNlZ21lbnRzIiE9PWUmJihzW3JdPW4ucGFyYW1zLnVzZXJbZV0pfSkpO3ZhciBvLGQ9cCgpKGUsQik7ZCYmZC5wYXJhbXMmJmQucGFyYW1zLmFwcCYmKG89e30sT2JqZWN0LmtleXMoZC5wYXJhbXMuYXBwKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBsKCkoQSxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gb1tlXT1kLnBhcmFtcy5hcHBbZV19KSkpO3ZhciBjLHU9cCgpKGUsVik7dSYmdS5wYXJhbXMmJmQucGFyYW1zLmFwcCYmZC5wYXJhbXMuYXBwLmlkJiYoYz17YXBwaWQ6dS5wYXJhbXMuYXBwLmlkfSk7dmFyIG09e30sZj17fSxiPVQuZ2V0Q29va2llKCJhcG5fcHJlYmlkX2RlYnVnIil8fG51bGw7aWYoYil0cnl7bT1KU09OLnBhcnNlKGIpfWNhdGNoKGUpe09iamVjdChhLmxvZ0Vycm9yKSgiQXBwTmV4dXMgRGVidWcgQXVjdGlvbiBDb29raWUgRXJyb3I6XG5cbiIrZSl9ZWxzZXt2YXIgdj1wKCkoZSxGKTt2JiZ2LmRlYnVnJiYobT12LmRlYnVnKX1tJiZtLmVuYWJsZWQmJk9iamVjdC5rZXlzKG0pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKSh3LGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2ZbZV09bVtlXX0pKTt2YXIgZz1wKCkoZSxEKSxoPWc/cGFyc2VJbnQoZy5wYXJhbXMubWVtYmVyLDEwKTowLE89ZVswXS5zY2hhaW4saj1wKCkoZSxXKSx4PXt0YWdzOnkodCksdXNlcjpzLHNkazp7c291cmNlOiJwYmpzIix2ZXJzaW9uOiI1LjIwLjIifSxzY2hhaW46T307aWYoaiYmKHguaWFiX3N1cHBvcnQ9e29taWRwbjoiQXBwbmV4dXMiLG9taWRwdjoiNS4yMC4yIn0pLGg+MCYmKHgubWVtYmVyX2lkPWgpLGQmJih4LmRldmljZT1vKSx1JiYoeC5hcHA9YyksaS5iLmdldENvbmZpZygiYWRwb2QuYnJhbmRDYXRlZ29yeUV4Y2x1c2lvbiIpJiYoeC5icmFuZF9jYXRlZ29yeV91bmlxdWVuZXNzPSEwKSxmLmVuYWJsZWQmJih4LmRlYnVnPWYsT2JqZWN0KGEubG9nSW5mbykoIkFwcE5leHVzIERlYnVnIEF1Y3Rpb24gU2V0dGluZ3M6XG5cbiIrSlNPTi5zdHJpbmdpZnkoZixudWxsLDQpKSksciYmci5nZHByQ29uc2VudCYmKHguZ2Rwcl9jb25zZW50PXtjb25zZW50X3N0cmluZzpyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsY29uc2VudF9yZXF1aXJlZDpyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSxyLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCYmLTEhPT1yLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudC5pbmRleE9mKCJ+IikpKXt2YXIgQz1yLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCxTPUMuc3Vic3RyaW5nKEMuaW5kZXhPZigifiIpKzEpO3guZ2Rwcl9jb25zZW50LmFkZHRsX2NvbnNlbnQ9Uy5zcGxpdCgiLiIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUsMTApfSkpfWlmKHImJnIudXNwQ29uc2VudCYmKHgudXNfcHJpdmFjeT1yLnVzcENvbnNlbnQpLHImJnIucmVmZXJlckluZm8pe3ZhciBFPXtyZF9yZWY6ZW5jb2RlVVJJQ29tcG9uZW50KHIucmVmZXJlckluZm8ucmVmZXJlcikscmRfdG9wOnIucmVmZXJlckluZm8ucmVhY2hlZFRvcCxyZF9pZnM6ci5yZWZlcmVySW5mby5udW1JZnJhbWVzLHJkX3N0azpyLnJlZmVyZXJJbmZvLnN0YWNrLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKX0pKS5qb2luKCIsIil9O3gucmVmZXJyZXJfZGV0ZWN0aW9uPUV9aWYocCgpKGUsSikmJmUuZmlsdGVyKEopLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUscil7dmFyIHQ9ci5tZWRpYVR5cGVzLnZpZGVvLG49dC5kdXJhdGlvblJhbmdlU2VjLGk9dC5yZXF1aXJlRXhhY3REdXJhdGlvbixzPWZ1bmN0aW9uKGUpe3ZhciByPWUuYWRQb2REdXJhdGlvblNlYyx0PWUuZHVyYXRpb25SYW5nZVNlYyxuPWUucmVxdWlyZUV4YWN0RHVyYXRpb24saT1PYmplY3QoYS5nZXRNaW5WYWx1ZUZyb21BcnJheSkodCkscz1NYXRoLmZsb29yKHIvaSk7cmV0dXJuIG4/TWF0aC5tYXgocyx0Lmxlbmd0aCk6c30oci5tZWRpYVR5cGVzLnZpZGVvKSxvPU9iamVjdChhLmdldE1heFZhbHVlRnJvbUFycmF5KShuKSxkPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS51dWlkPT09ci5iaWRJZH0pKSxjPWEuZmlsbC5hcHBseSh2b2lkIDAseShkKS5jb25jYXQoW3NdKSk7aWYoaSl7dmFyIHA9TWF0aC5jZWlsKHMvbi5sZW5ndGgpLHU9T2JqZWN0KGEuY2h1bmspKGMscCk7bi5mb3JFYWNoKChmdW5jdGlvbihlLHIpe3Vbcl0ubWFwKChmdW5jdGlvbihyKXtIKHIsIm1pbmR1cmF0aW9uIixlKSxIKHIsIm1heGR1cmF0aW9uIixlKX0pKX0pKX1lbHNlIGMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gSChlLCJtYXhkdXJhdGlvbiIsbyl9KSk7cmV0dXJuIGN9KHQsZSksbj14LnRhZ3MuZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gci51dWlkIT09ZS5iaWRJZH0pKTt4LnRhZ3M9W10uY29uY2F0KHkobikseShyKSl9KSksZVswXS51c2VySWQpe3ZhciBSPVtdO0soUixPYmplY3QoYS5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQuZmxvY0lkLmlkIiksImNocm9tZS5jb20iLG51bGwpLEsoUixPYmplY3QoYS5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQuY3JpdGVvSWQiKSwiY3JpdGVvLmNvbSIsbnVsbCksSyhSLE9iamVjdChhLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5uZXRJZCIpLCJuZXRpZC5kZSIsbnVsbCksSyhSLE9iamVjdChhLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5pZGxfZW52IiksImxpdmVyYW1wLmNvbSIsbnVsbCksSyhSLE9iamVjdChhLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC50ZGlkIiksImFkc2VydmVyLm9yZyIsIlRESUQiKSxLKFIsT2JqZWN0KGEuZGVlcEFjY2VzcykoZVswXSwidXNlcklkLnVpZDIuaWQiKSwidWlkYXBpLmNvbSIsIlVJRDIiKSxSLmxlbmd0aCYmKHguZWlkcz1SKX1yZXR1cm4gdFswXS5wdWJsaXNoZXJfaWQmJih4LnB1Ymxpc2hlcl9pZD10WzBdLnB1Ymxpc2hlcl9pZCksZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxuPXt3aXRoQ3JlZGVudGlhbHM6ITB9LHM9XztOKHIpfHwocz1rKTsiVFJVRSIhPT1PYmplY3QoYS5nZXRQYXJhbWV0ZXJCeU5hbWUpKCJhcG5fdGVzdCIpLnRvVXBwZXJDYXNlKCkmJiEwIT09aS5iLmdldENvbmZpZygiYXBuX3Rlc3QiKXx8KG4uY3VzdG9tSGVhZGVycz17IlgtSXMtVGVzdCI6MX0pO2lmKGUudGFncy5sZW5ndGg+MTUpe3ZhciBvPU9iamVjdChhLmRlZXBDbG9uZSkoZSk7T2JqZWN0KGEuY2h1bmspKGUudGFncywxNSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7by50YWdzPWU7dmFyIGE9SlNPTi5zdHJpbmdpZnkobyk7dC5wdXNoKHttZXRob2Q6IlBPU1QiLHVybDpzLGRhdGE6YSxiaWRkZXJSZXF1ZXN0OnIsb3B0aW9uczpufSl9KSl9ZWxzZXt2YXIgZD1KU09OLnN0cmluZ2lmeShlKTt0PXttZXRob2Q6IlBPU1QiLHVybDpzLGRhdGE6ZCxiaWRkZXJSZXF1ZXN0OnIsb3B0aW9uczpufX1yZXR1cm4gdH0oeCxyKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD10aGlzLGk9ci5iaWRkZXJSZXF1ZXN0O2U9ZS5ib2R5O3ZhciBkPVtdO2lmKCFlfHxlLmVycm9yKXt2YXIgYz0iaW4gcmVzcG9uc2UgZm9yICIuY29uY2F0KGkuYmlkZGVyQ29kZSwiIGFkYXB0ZXIiKTtyZXR1cm4gZSYmZS5lcnJvciYmKGMrPSI6ICIuY29uY2F0KGUuZXJyb3IpKSxPYmplY3QoYS5sb2dFcnJvcikoYyksZH1pZihlLnRhZ3MmJmUudGFncy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcixjPShyPWUpJiZyLmFkcyYmci5hZHMubGVuZ3RoJiZwKCkoci5hZHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJ0Yn0pKTtpZihjJiYwIT09Yy5jcG0mJmwoKSh0LnN1cHBvcnRlZE1lZGlhVHlwZXMsYy5hZF90eXBlKSl7dmFyIHU9ZnVuY3Rpb24oZSxyLHQpe3ZhciBpPU9iamVjdChhLmdldEJpZFJlcXVlc3QpKGUudXVpZCxbdF0pLGQ9e3JlcXVlc3RJZDplLnV1aWQsY3BtOnIuY3BtLGNyZWF0aXZlSWQ6ci5jcmVhdGl2ZV9pZCxkZWFsSWQ6ci5kZWFsX2lkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjMwMCxhZFVuaXRDb2RlOmkuYWRVbml0Q29kZSxhcHBuZXh1czp7YnV5ZXJNZW1iZXJJZDpyLmJ1eWVyX21lbWJlcl9pZCxkZWFsUHJpb3JpdHk6ci5kZWFsX3ByaW9yaXR5LGRlYWxDb2RlOnIuZGVhbF9jb2RlfX07ci5hZG9tYWluJiYoZC5tZXRhPXYoe30sZC5tZXRhLHthZHZlcnRpc2VyRG9tYWluczpbXX0pKTtyLmFkdmVydGlzZXJfaWQmJihkLm1ldGE9dih7fSxkLm1ldGEse2FkdmVydGlzZXJJZDpyLmFkdmVydGlzZXJfaWR9KSk7ci5icmFuZF9pZCYmKGQubWV0YT12KHt9LGQubWV0YSx7YnJhbmRJZDpyLmJyYW5kX2lkfSkpO2lmKHIucnRiLnZpZGVvKXtzd2l0Y2godihkLHt3aWR0aDpyLnJ0Yi52aWRlby5wbGF5ZXJfd2lkdGgsaGVpZ2h0OnIucnRiLnZpZGVvLnBsYXllcl9oZWlnaHQsdmFzdEltcFVybDpyLm5vdGlmeV91cmwsdHRsOjM2MDB9KSxPYmplY3QoYS5kZWVwQWNjZXNzKShpLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSl7Y2FzZSBvLmE6dmFyIGM9T2JqZWN0KHMuZ2V0SWFiU3ViQ2F0ZWdvcnkpKGkuYmlkZGVyLHIuYnJhbmRfY2F0ZWdvcnlfaWQpO2QubWV0YT12KHt9LGQubWV0YSx7cHJpbWFyeUNhdElkOmN9KTt2YXIgdT1yLmRlYWxfcHJpb3JpdHk7ZC52aWRlbz17Y29udGV4dDpvLmEsZHVyYXRpb25TZWNvbmRzOk1hdGguZmxvb3Ioci5ydGIudmlkZW8uZHVyYXRpb25fbXMvMWUzKSxkZWFsVGllcjp1fSxkLnZhc3RVcmw9ci5ydGIudmlkZW8uYXNzZXRfdXJsO2JyZWFrO2Nhc2UgbS5iOmlmKGQuYWRSZXNwb25zZT1lLGQuYWRSZXNwb25zZS5hZD1kLmFkUmVzcG9uc2UuYWRzWzBdLGQuYWRSZXNwb25zZS5hZC52aWRlbz1kLmFkUmVzcG9uc2UuYWQucnRiLnZpZGVvLGQudmFzdFhtbD1yLnJ0Yi52aWRlby5jb250ZW50LHIucmVuZGVyZXJfdXJsKXt2YXIgbD1wKCkodC5iaWRzLChmdW5jdGlvbihyKXtyZXR1cm4gci5iaWRJZD09PWUudXVpZH0pKSxmPU9iamVjdChhLmRlZXBBY2Nlc3MpKGwsInJlbmRlcmVyLm9wdGlvbnMiKTtkLnJlbmRlcmVyPWZ1bmN0aW9uKGUscil7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGk9bi5hLmluc3RhbGwoe2lkOnIucmVuZGVyZXJfaWQsdXJsOnIucmVuZGVyZXJfdXJsLGNvbmZpZzp0LGxvYWRlZDohMSxhZFVuaXRDb2RlOmV9KTt0cnl7aS5zZXRSZW5kZXIoTCl9Y2F0Y2goZSl7T2JqZWN0KGEubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIGkuc2V0RXZlbnRIYW5kbGVycyh7aW1wcmVzc2lvbjpmdW5jdGlvbigpe3JldHVybiBPYmplY3QoYS5sb2dNZXNzYWdlKSgiQXBwTmV4dXMgb3V0c3RyZWFtIHZpZGVvIGltcHJlc3Npb24gZXZlbnQiKX0sbG9hZGVkOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChhLmxvZ01lc3NhZ2UpKCJBcHBOZXh1cyBvdXRzdHJlYW0gdmlkZW8gbG9hZGVkIGV2ZW50Iil9LGVuZGVkOmZ1bmN0aW9uKCl7T2JqZWN0KGEubG9nTWVzc2FnZSkoIkFwcE5leHVzIG91dHN0cmVhbSByZW5kZXJlciB2aWRlbyBldmVudCIpLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiMiLmNvbmNhdChlKSkuc3R5bGUuZGlzcGxheT0ibm9uZSJ9fSksaX0oZC5hZFVuaXRDb2RlLHIsZil9YnJlYWs7Y2FzZSBtLmE6ZC52YXN0VXJsPXIubm90aWZ5X3VybCsiJnJlZGlyPSIrZW5jb2RlVVJJQ29tcG9uZW50KHIucnRiLnZpZGVvLmFzc2V0X3VybCl9fWVsc2UgaWYoci5ydGJbby5jXSl7dmFyIGI9ci5ydGJbby5jXSx5PXIudmlld2FiaWxpdHkuY29uZmlnLnJlcGxhY2UoInNyYz0iLCJkYXRhLXNyYz0iKSxnPWIuamF2YXNjcmlwdF90cmFja2VycztudWxsPT1nP2c9eTpPYmplY3QoYS5pc1N0cikoZyk/Zz1bZyx5XTpnLnB1c2goeSksZFtvLmNdPXt0aXRsZTpiLnRpdGxlLGJvZHk6Yi5kZXNjLGJvZHkyOmIuZGVzYzIsY3RhOmIuY3RhdGV4dCxyYXRpbmc6Yi5yYXRpbmcsc3BvbnNvcmVkQnk6Yi5zcG9uc29yZWQscHJpdmFjeUxpbms6Yi5wcml2YWN5X2xpbmssYWRkcmVzczpiLmFkZHJlc3MsZG93bmxvYWRzOmIuZG93bmxvYWRzLGxpa2VzOmIubGlrZXMscGhvbmU6Yi5waG9uZSxwcmljZTpiLnByaWNlLHNhbGVQcmljZTpiLnNhbGVwcmljZSxjbGlja1VybDpiLmxpbmsudXJsLGRpc3BsYXlVcmw6Yi5kaXNwbGF5dXJsLGNsaWNrVHJhY2tlcnM6Yi5saW5rLmNsaWNrX3RyYWNrZXJzLGltcHJlc3Npb25UcmFja2VyczpiLmltcHJlc3Npb25fdHJhY2tlcnMsamF2YXNjcmlwdFRyYWNrZXJzOmd9LGIubWFpbl9pbWcmJihkLm5hdGl2ZS5pbWFnZT17dXJsOmIubWFpbl9pbWcudXJsLGhlaWdodDpiLm1haW5faW1nLmhlaWdodCx3aWR0aDpiLm1haW5faW1nLndpZHRofSksYi5pY29uJiYoZC5uYXRpdmUuaWNvbj17dXJsOmIuaWNvbi51cmwsaGVpZ2h0OmIuaWNvbi5oZWlnaHQsd2lkdGg6Yi5pY29uLndpZHRofSl9ZWxzZXt2KGQse3dpZHRoOnIucnRiLmJhbm5lci53aWR0aCxoZWlnaHQ6ci5ydGIuYmFubmVyLmhlaWdodCxhZDpyLnJ0Yi5iYW5uZXIuY29udGVudH0pO3RyeXtpZihyLnJ0Yi50cmFja2Vycylmb3IodmFyIGg9MDtoPHIucnRiLnRyYWNrZXJzWzBdLmltcHJlc3Npb25fdXJscy5sZW5ndGg7aCsrKXt2YXIgXz1yLnJ0Yi50cmFja2Vyc1swXS5pbXByZXNzaW9uX3VybHNbaF0saz1PYmplY3QoYS5jcmVhdGVUcmFja1BpeGVsSHRtbCkoXyk7ZC5hZCs9a319Y2F0Y2goZSl7T2JqZWN0KGEubG9nRXJyb3IpKCJFcnJvciBhcHBlbmRpbmcgdHJhY2tpbmcgcGl4ZWwiLGUpfX1yZXR1cm4gZH0oZSxjLGkpO3UubWVkaWFUeXBlPWZ1bmN0aW9uKGUpe3ZhciByPWUuYWRfdHlwZTtyZXR1cm4gcj09PW8uZD9vLmQ6cj09PW8uYz9vLmM6by5ifShjKSxkLnB1c2godSl9fSkpLGUuZGVidWcmJmUuZGVidWcuZGVidWdfaW5mbyl7dmFyIHU9IkFwcE5leHVzIERlYnVnIEF1Y3Rpb24gZm9yIFByZWJpZFxuXG4iK2UuZGVidWcuZGVidWdfaW5mbzt1PXUucmVwbGFjZSgvKDx0ZD58PHRoPikvZ20sIlx0IikucmVwbGFjZSgvKDxcL3RkPnw8XC90aD4pL2dtLCJcbiIpLnJlcGxhY2UoL148YnI+L2dtLCIiKS5yZXBsYWNlKC8oPGJyPlxufDxicj4pL2dtLCJcbiIpLnJlcGxhY2UoLzxoMT4oLiopPFwvaDE+L2dtLCJcblxuPT09PT0gJDEgPT09PT1cblxuIikucmVwbGFjZSgvPGhbMi02XT4oLiopPFwvaFsyLTZdPi9nbSwiXG5cbioqKiAkMSAqKipcblxuIikucmVwbGFjZSgvKDwoW14+XSspPikvZ2ltLCIiKSxPYmplY3QoYS5sb2dNZXNzYWdlKSgiaHR0cHM6Ly9jb25zb2xlLmFwcG5leHVzLmNvbS9kb2NzL3VuZGVyc3RhbmRpbmctdGhlLWRlYnVnLWF1Y3Rpb24iKSxPYmplY3QoYS5sb2dNZXNzYWdlKSh1KX1yZXR1cm4gZH0sZ2V0TWFwcGluZ0ZpbGVJbmZvOmZ1bmN0aW9uKCl7cmV0dXJue3VybDoiaHR0cHM6Ly9hY2RuLmFkbnhzLXNpbXBsZS5jb20vcHJlYmlkL2FwcG5leHVzLW1hcHBpbmcvbWFwcGluZ3MuanNvbiIscmVmcmVzaEluRGF5czoyfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0KXtpZihlLmlmcmFtZUVuYWJsZWQmJk4oe2dkcHJDb25zZW50OnR9KSlyZXR1cm5be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2FjZG4uYWRueHMuY29tL2RtcC9hc3luY191c2Vyc3luYy5odG1sIn1dfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZT1PYmplY3QoYS5jb252ZXJ0VHlwZXMpKHttZW1iZXI6InN0cmluZyIsaW52Q29kZToic3RyaW5nIixwbGFjZW1lbnRJZDoibnVtYmVyIixrZXl3b3JkczphLnRyYW5zZm9ybUJpZGRlclBhcmFtS2V5d29yZHMscHVibGlzaGVySWQ6Im51bWJlciJ9LGUpLHImJihlLnVzZV9wbXRfcnVsZT0iYm9vbGVhbiI9PXR5cGVvZiBlLnVzZVBheW1lbnRSdWxlJiZlLnVzZVBheW1lbnRSdWxlLGUudXNlUGF5bWVudFJ1bGUmJmRlbGV0ZSBlLnVzZVBheW1lbnRSdWxlLFIoZS5rZXl3b3JkcykmJmUua2V5d29yZHMuZm9yRWFjaChQKSxPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihyKXt2YXIgdD1PYmplY3QoYS5jb252ZXJ0Q2FtZWxUb1VuZGVyc2NvcmUpKHIpO3QhPT1yJiYoZVt0XT1lW3JdLGRlbGV0ZSBlW3JdKX0pKSksZX0sb25CaWRXb246ZnVuY3Rpb24oZSl7ZS5uYXRpdmUmJmZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUpe3ZhciByO2lmKE9iamVjdChhLmlzU3RyKShlKSYmVShlKSlyPWU7ZWxzZSBpZihPYmplY3QoYS5pc0FycmF5KShlKSlmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XTtVKG4pJiYocj1uKX1yZXR1cm4gcn0oZS5uYXRpdmUuamF2YXNjcmlwdFRyYWNrZXJzKTtpZihyKWZvcih2YXIgdD0icGJqc19hZGlkPSIrZS5hZElkKyI7cGJqc19hdWM9IitlLmFkVW5pdENvZGUsbj1mdW5jdGlvbihlKXt2YXIgcj1lLmluZGV4T2YoJ3NyYz0iJykrNSx0PWUuaW5kZXhPZignIicscik7cmV0dXJuIGUuc3Vic3RyaW5nKHIsdCl9KHIpLGk9bi5yZXBsYWNlKCJkb21faWQ9JW5hdGl2ZV9kb21faWQlIix0KSxzPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpZnJhbWUiKSxvPSExLGQ9MDtkPHMubGVuZ3RoJiYhbztkKyspe3ZhciBjPXNbZF07dHJ5e3ZhciBwPWMuY29udGVudERvY3VtZW50fHxjLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7aWYocClmb3IodmFyIHU9cC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IiksbD0wO2w8dS5sZW5ndGgmJiFvO2wrKyl7dmFyIG09dVtsXTttLmdldEF0dHJpYnV0ZSgiZGF0YS1zcmMiKT09biYmKG0uc2V0QXR0cmlidXRlKCJzcmMiLGkpLG0uc2V0QXR0cmlidXRlKCJkYXRhLXNyYyIsIiIpLG0ucmVtb3ZlQXR0cmlidXRlJiZtLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1zcmMiKSxvPSEwKX19Y2F0Y2goZSl7aWYoIShlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiYiU2VjdXJpdHlFcnJvciI9PT1lLm5hbWUpKXRocm93IGV9fX0oZSl9fTtmdW5jdGlvbiBSKGUpe3JldHVybiEhKE9iamVjdChhLmlzQXJyYXkpKGUpJiZlLmxlbmd0aD4wKX1mdW5jdGlvbiBQKGUpe1IoZS52YWx1ZSkmJiIiPT09ZS52YWx1ZVswXSYmZGVsZXRlIGUudmFsdWV9ZnVuY3Rpb24gVShlKXt2YXIgcj1lLm1hdGNoKFMpLHQ9bnVsbCE9ciYmci5sZW5ndGg+PTEsYT1lLm1hdGNoKCJ0cmsuanMiKSxuPW51bGwhPWEmJmEubGVuZ3RoPj0xO3JldHVybiBlLnN0YXJ0c1dpdGgoIjxzY3JpcHQiKSYmbiYmdH1mdW5jdGlvbiBOKGUpe3ZhciByPSEwO3JldHVybiBlJiZlLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYyPT09ZS5nZHByQ29uc2VudC5hcGlWZXJzaW9uJiYocj0hKCEwIT09T2JqZWN0KGEuZGVlcEFjY2VzcykoZS5nZHByQ29uc2VudCwidmVuZG9yRGF0YS5wdXJwb3NlLmNvbnNlbnRzLjEiKSkpLHJ9ZnVuY3Rpb24gcShlKXt2YXIgcj17fTtyLnNpemVzPXooZS5zaXplcyksci5wcmltYXJ5X3NpemU9ci5zaXplc1swXSxyLmFkX3R5cGVzPVtdLHIudXVpZD1lLmJpZElkLGUucGFyYW1zLnBsYWNlbWVudElkP3IuaWQ9cGFyc2VJbnQoZS5wYXJhbXMucGxhY2VtZW50SWQsMTApOnIuY29kZT1lLnBhcmFtcy5pbnZDb2RlLHIuYWxsb3dfc21hbGxlcl9zaXplcz1lLnBhcmFtcy5hbGxvd1NtYWxsZXJTaXplc3x8ITEsci51c2VfcG10X3J1bGU9ZS5wYXJhbXMudXNlUGF5bWVudFJ1bGV8fCExLHIucHJlYmlkPSEwLHIuZGlzYWJsZV9wc2E9ITA7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoIU9iamVjdChhLmlzRm4pKGUuZ2V0Rmxvb3IpKXJldHVybiBlLnBhcmFtcy5yZXNlcnZlP2UucGFyYW1zLnJlc2VydmU6bnVsbDt2YXIgcj1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7aWYoT2JqZWN0KGEuaXNQbGFpbk9iamVjdCkocikmJiFpc05hTihyLmZsb29yKSYmIlVTRCI9PT1yLmN1cnJlbmN5KXJldHVybiByLmZsb29yO3JldHVybiBudWxsfShlKTtpZih0JiYoci5yZXNlcnZlPXQpLGUucGFyYW1zLnBvc2l0aW9uJiYoci5wb3NpdGlvbj17YWJvdmU6MSxiZWxvdzoyfVtlLnBhcmFtcy5wb3NpdGlvbl18fDApLGUucGFyYW1zLnRyYWZmaWNTb3VyY2VDb2RlJiYoci50cmFmZmljX3NvdXJjZV9jb2RlPWUucGFyYW1zLnRyYWZmaWNTb3VyY2VDb2RlKSxlLnBhcmFtcy5wcml2YXRlU2l6ZXMmJihyLnByaXZhdGVfc2l6ZXM9eihlLnBhcmFtcy5wcml2YXRlU2l6ZXMpKSxlLnBhcmFtcy5zdXBwbHlUeXBlJiYoci5zdXBwbHlfdHlwZT1lLnBhcmFtcy5zdXBwbHlUeXBlKSxlLnBhcmFtcy5wdWJDbGljayYmKHIucHViY2xpY2s9ZS5wYXJhbXMucHViQ2xpY2spLGUucGFyYW1zLmV4dEludkNvZGUmJihyLmV4dF9pbnZfY29kZT1lLnBhcmFtcy5leHRJbnZDb2RlKSxlLnBhcmFtcy5wdWJsaXNoZXJJZCYmKHIucHVibGlzaGVyX2lkPXBhcnNlSW50KGUucGFyYW1zLnB1Ymxpc2hlcklkLDEwKSksZS5wYXJhbXMuZXh0ZXJuYWxJbXBJZCYmKHIuZXh0ZXJuYWxfaW1wX2lkPWUucGFyYW1zLmV4dGVybmFsSW1wSWQpLCFPYmplY3QoYS5pc0VtcHR5KShlLnBhcmFtcy5rZXl3b3Jkcykpe3ZhciBuPU9iamVjdChhLnRyYW5zZm9ybUJpZGRlclBhcmFtS2V5d29yZHMpKGUucGFyYW1zLmtleXdvcmRzKTtuLmxlbmd0aD4wJiZuLmZvckVhY2goUCksci5rZXl3b3Jkcz1ufXZhciBpLHMsYz1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YS5wYmFkc2xvdCIpO2lmKGMmJihyLmdwaWQ9YyksKGUubWVkaWFUeXBlPT09by5jfHxPYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KG8uYykpKSYmKHIuYWRfdHlwZXMucHVzaChvLmMpLDA9PT1yLnNpemVzLmxlbmd0aCYmKHIuc2l6ZXM9eihbMSwxXSkpLGUubmF0aXZlUGFyYW1zKSl7dmFyIHU9KGk9ZS5uYXRpdmVQYXJhbXMscz17fSxPYmplY3Qua2V5cyhpKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1DW2VdJiZDW2VdLnNlcnZlck5hbWV8fENbZV18fGUsdD1DW2VdJiZDW2VdLnJlcXVpcmVkUGFyYW1zO2lmKHNbcl09dih7fSx0LGlbZV0pLChyPT09Qy5pbWFnZS5zZXJ2ZXJOYW1lfHxyPT09Qy5pY29uLnNlcnZlck5hbWUpJiZzW3JdLnNpemVzKXt2YXIgbj1zW3JdLnNpemVzOyhPYmplY3QoYS5pc0FycmF5T2ZOdW1zKShuKXx8T2JqZWN0KGEuaXNBcnJheSkobikmJm4ubGVuZ3RoPjAmJm4uZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc0FycmF5T2ZOdW1zKShlKX0pKSkmJihzW3JdLnNpemVzPXooc1tyXS5zaXplcykpfXI9PT1DLnByaXZhY3lMaW5rJiYocy5wcml2YWN5X3N1cHBvcnRlZD0hMCl9KSkscyk7cltvLmNdPXtsYXlvdXRzOlt1XX19dmFyIG09T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChvLmQpKSxmPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpO3IuaGJfc291cmNlPW0mJiJhZHBvZCI9PT1mPzc6MSwoZS5tZWRpYVR5cGU9PT1vLmR8fG0pJiZyLmFkX3R5cGVzLnB1c2goby5kKSwoZS5tZWRpYVR5cGU9PT1vLmR8fG0mJiJvdXRzdHJlYW0iIT09ZikmJihyLnJlcXVpcmVfYXNzZXRfdXJsPSEwKSxlLnBhcmFtcy52aWRlbyYmKHIudmlkZW89e30sT2JqZWN0LmtleXMoZS5wYXJhbXMudmlkZW8pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKShPLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlImNvbnRleHQiOmNhc2UicGxheWJhY2tfbWV0aG9kIjp2YXIgbj1lLnBhcmFtcy52aWRlb1t0XTtuPU9iamVjdChhLmlzQXJyYXkpKG4pP25bMF06bixyLnZpZGVvW3RdPXhbdF1bbl07YnJlYWs7Y2FzZSJmcmFtZXdvcmtzIjpicmVhaztkZWZhdWx0OnIudmlkZW9bdF09ZS5wYXJhbXMudmlkZW9bdF19fSkpLGUucGFyYW1zLnZpZGVvLmZyYW1ld29ya3MmJk9iamVjdChhLmlzQXJyYXkpKGUucGFyYW1zLnZpZGVvLmZyYW1ld29ya3MpJiYoci52aWRlb19mcmFtZXdvcmtzPWUucGFyYW1zLnZpZGVvLmZyYW1ld29ya3MpKSxtJiYoci52aWRlbz1yLnZpZGVvfHx7fSxPYmplY3Qua2V5cyhtKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBsKCkoaixlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSJtaW5kdXJhdGlvbiI6Y2FzZSJtYXhkdXJhdGlvbiI6Im51bWJlciIhPXR5cGVvZiByLnZpZGVvW2VdJiYoci52aWRlb1tlXT1tW2VdKTticmVhaztjYXNlInNraXAiOiJib29sZWFuIiE9dHlwZW9mIHIudmlkZW8uc2tpcHBhYmxlJiYoci52aWRlby5za2lwcGFibGU9MT09PW1bZV0pO2JyZWFrO2Nhc2Uic2tpcGFmdGVyIjoibnVtYmVyIiE9dHlwZW9mIHIudmlkZW8uc2tpcG9mZnNldCYmKHIudmlkZW8uc2tpcHBvZmZzZXQ9bVtlXSk7YnJlYWs7Y2FzZSJwbGF5YmFja21ldGhvZCI6aWYoIm51bWJlciIhPXR5cGVvZiByLnZpZGVvLnBsYXliYWNrX21ldGhvZCl7dmFyIHQ9bVtlXTsodD1PYmplY3QoYS5pc0FycmF5KSh0KT90WzBdOnQpPj0xJiZ0PD00JiYoci52aWRlby5wbGF5YmFja19tZXRob2Q9dCl9YnJlYWs7Y2FzZSJhcGkiOmlmKCFyLnZpZGVvX2ZyYW1ld29ya3MmJk9iamVjdChhLmlzQXJyYXkpKG1bZV0pKXt2YXIgbj1tW2VdLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ND09PWU/NTo1PT09ZT80OmU7aWYocj49MSYmcjw9NSlyZXR1cm4gcn0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpO3IudmlkZW9fZnJhbWV3b3Jrcz1ufX19KSkpLGUucmVuZGVyZXImJihyLnZpZGVvPXYoe30sci52aWRlbyx7Y3VzdG9tX3JlbmRlcmVyX3ByZXNlbnQ6ITB9KSksZS5wYXJhbXMuZnJhbWV3b3JrcyYmT2JqZWN0KGEuaXNBcnJheSkoZS5wYXJhbXMuZnJhbWV3b3JrcykmJihyLmJhbm5lcl9mcmFtZXdvcmtzPWUucGFyYW1zLmZyYW1ld29ya3MpO3ZhciBiPXAoKShkLmEuZ2V0QWRVbml0cygpLChmdW5jdGlvbihyKXtyZXR1cm4gZS50cmFuc2FjdGlvbklkPT09ci50cmFuc2FjdGlvbklkfSkpO3JldHVybiBiJiZiLm1lZGlhVHlwZXMmJmIubWVkaWFUeXBlcy5iYW5uZXImJnIuYWRfdHlwZXMucHVzaChvLmIpLDA9PT1yLmFkX3R5cGVzLmxlbmd0aCYmZGVsZXRlIHIuYWRfdHlwZXMscn1mdW5jdGlvbiB6KGUpe3ZhciByPVtdLHQ9e307aWYoT2JqZWN0KGEuaXNBcnJheSkoZSkmJjI9PT1lLmxlbmd0aCYmIU9iamVjdChhLmlzQXJyYXkpKGVbMF0pKXQud2lkdGg9cGFyc2VJbnQoZVswXSwxMCksdC5oZWlnaHQ9cGFyc2VJbnQoZVsxXSwxMCksci5wdXNoKHQpO2Vsc2UgaWYoIm9iamVjdCI9PT1iKGUpKWZvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dOyh0PXt9KS53aWR0aD1wYXJzZUludChpWzBdLDEwKSx0LmhlaWdodD1wYXJzZUludChpWzFdLDEwKSxyLnB1c2godCl9cmV0dXJuIHJ9ZnVuY3Rpb24gTShlKXtyZXR1cm4hIWUucGFyYW1zLnVzZXJ9ZnVuY3Rpb24gRChlKXtyZXR1cm4hIXBhcnNlSW50KGUucGFyYW1zLm1lbWJlciwxMCl9ZnVuY3Rpb24gQihlKXtpZihlLnBhcmFtcylyZXR1cm4hIWUucGFyYW1zLmFwcH1mdW5jdGlvbiBWKGUpe3JldHVybiBlLnBhcmFtcyYmZS5wYXJhbXMuYXBwPyEhZS5wYXJhbXMuYXBwLmlkOiEhZS5wYXJhbXMuYXBwfWZ1bmN0aW9uIEYoZSl7cmV0dXJuISFlLmRlYnVnfWZ1bmN0aW9uIEooZSl7cmV0dXJuIGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvJiZlLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dD09PW8uYX1mdW5jdGlvbiBXKGUpe3ZhciByPSExLHQ9ZS5wYXJhbXMsbj1lLnBhcmFtcy52aWRlbztyZXR1cm4gdC5mcmFtZXdvcmtzJiZPYmplY3QoYS5pc0FycmF5KSh0LmZyYW1ld29ya3MpJiYocj1sKCkoZS5wYXJhbXMuZnJhbWV3b3Jrcyw2KSksIXImJm4mJm4uZnJhbWV3b3JrcyYmT2JqZWN0KGEuaXNBcnJheSkobi5mcmFtZXdvcmtzKSYmKHI9bCgpKGUucGFyYW1zLnZpZGVvLmZyYW1ld29ya3MsNikpLHJ9ZnVuY3Rpb24gSChlLHIsdCl7T2JqZWN0KGEuaXNFbXB0eSkoZS52aWRlbykmJihlLnZpZGVvPXt9KSxlLnZpZGVvW3JdPXR9ZnVuY3Rpb24gTChlKXt2YXIgcix0O3I9ZS5hZFVuaXRDb2RlLCh0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHIpLnF1ZXJ5U2VsZWN0b3JBbGwoImRpdltpZF49J2dvb2dsZV9hZHMnXSIpKVswXSYmdFswXS5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlzcGxheSIsIm5vbmUiKSxmdW5jdGlvbihlKXt0cnl7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkucXVlcnlTZWxlY3RvckFsbCgic2NyaXB0W2lkXj0nc2FzX3NjcmlwdCddIik7clswXS5uZXh0U2libGluZyYmImlmcmFtZSI9PT1yWzBdLm5leHRTaWJsaW5nLmxvY2FsTmFtZSYmclswXS5uZXh0U2libGluZy5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlzcGxheSIsIm5vbmUiKX1jYXRjaChlKXt9fShlLmFkVW5pdENvZGUpLGUucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cuQU5PdXRzdHJlYW1WaWRlby5yZW5kZXJBZCh7dGFnSWQ6ZS5hZFJlc3BvbnNlLnRhZ19pZCxzaXplczpbZS5nZXRTaXplKCkuc3BsaXQoIngiKV0sdGFyZ2V0SWQ6ZS5hZFVuaXRDb2RlLHV1aWQ6ZS5hZFJlc3BvbnNlLnV1aWQsYWRSZXNwb25zZTplLmFkUmVzcG9uc2UscmVuZGVyZXJPcHRpb25zOmUucmVuZGVyZXIuZ2V0Q29uZmlnKCl9LCQuYmluZChudWxsLGUpKX0pKX1mdW5jdGlvbiAkKGUscix0KXtlLnJlbmRlcmVyLmhhbmRsZVZpZGVvRXZlbnQoe2lkOnIsZXZlbnROYW1lOnR9KX1mdW5jdGlvbiBLKGUscix0LGEpe3JldHVybiByJiYoYT9lLnB1c2goe3NvdXJjZTp0LGlkOnIscnRpX3BhcnRuZXI6YX0pOmUucHVzaCh7c291cmNlOnQsaWQ6cn0pKSxlfU9iamVjdChzLnJlZ2lzdGVyQmlkZGVyKShFKX19LFsyODldKTsKdXBianNDaHVuayhbMzEzXSx7MzMzOmZ1bmN0aW9uKHQsZSxyKXt0LmV4cG9ydHM9cigzMzQpfSwzMzQ6ZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKGUsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciBpPXIoMCksbj1yKDEpLG89cigyKSxkPXIoMyk7ZnVuY3Rpb24gYSh0KXtyZXR1cm4oYT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH0pKHQpfXZhciB1PSJicmlnaHRjb20iLHM9e2NvZGU6dSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltvLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKHQpe2lmKHQuYmlkZGVyIT09dXx8dm9pZCAwPT09dC5wYXJhbXMpcmV0dXJuITE7aWYodm9pZCAwPT09dC5wYXJhbXMucHVibGlzaGVySWQpcmV0dXJuITE7cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24odCxlKXt0cnl7dmFyIHI9IiI7ZSYmZS5yZWZlcmVySW5mbyYmKHI9ZS5yZWZlcmVySW5mby5yZWZlcmVyKTt2YXIgbj1bXSxvPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgicHVibGlzaGVySWQiLHRbMF0ucGFyYW1zKTtPYmplY3QoaS5fZWFjaCkodCwoZnVuY3Rpb24odCl7dmFyIGU9dC5tZWRpYVR5cGVzJiZ0Lm1lZGlhVHlwZXMuYmFubmVyJiZ0Lm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfHx0LnNpemVzLHI9KGU9KGU9T2JqZWN0KGkuaXNBcnJheSkoZSkmJk9iamVjdChpLmlzQXJyYXkpKGVbMF0pP2U6W2VdKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoaS5pc0FycmF5KSh0KX0pKSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57dzpwYXJzZUludCh0WzBdLDEwKSxoOnBhcnNlSW50KHRbMV0sMTApfX0pKSxvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQuYWRVbml0Q29kZSksZD1yLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5oKmUudzx0LmgqdC53P2U6dH0pKSxhPWZ1bmN0aW9uKHQpe3JldHVybiFmdW5jdGlvbigpe3RyeXtyZXR1cm4gT2JqZWN0KGkuZ2V0V2luZG93U2VsZikoKSE9PU9iamVjdChpLmdldFdpbmRvd1RvcCkoKX1jYXRjaCh0KXtyZXR1cm4hMH19KCkmJm51bGwhPT10fShvKT9mdW5jdGlvbih0LGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxuPXIudyxvPXIuaDtyZXR1cm4idmlzaWJsZSI9PT1PYmplY3QoaS5nZXRXaW5kb3dUb3ApKCkuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlP2godCxlLHt3Om4saDpvfSk6MH0obyxPYmplY3QoaS5nZXRXaW5kb3dUb3ApKCksZCk6Im5hIix1PWlzTmFOKGEpP2E6TWF0aC5yb3VuZChhKSxzPXtpZDp0LmJpZElkLGJhbm5lcjp7Zm9ybWF0OnIsZXh0Ont2aWV3YWJpbGl0eTp1fX0sdGFnaWQ6U3RyaW5nKHQuYWRVbml0Q29kZSl9LGM9ZnVuY3Rpb24odCl7aWYoIU9iamVjdChpLmlzRm4pKHQuZ2V0Rmxvb3IpKXJldHVybiB0LnBhcmFtcy5iaWRGbG9vcj90LnBhcmFtcy5iaWRGbG9vcjpudWxsO3ZhciBlPXQuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtpZihPYmplY3QoaS5pc1BsYWluT2JqZWN0KShlKSYmIWlzTmFOKGUuZmxvb3IpJiYiVVNEIj09PWUuY3VycmVuY3kpcmV0dXJuIGUuZmxvb3I7cmV0dXJuIG51bGx9KHQpO2MmJihzLmJpZGZsb29yPWMpLG4ucHVzaChzKX0pKTt2YXIgYT17aWQ6T2JqZWN0KGkuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxpbXA6bixzaXRlOntkb21haW46T2JqZWN0KGkucGFyc2VVcmwpKHIpLmhvc3QscGFnZTpyLHB1Ymxpc2hlcjp7aWQ6b319LGRldmljZTp7ZGV2aWNldHlwZTovKGlvc3xpcG9kfGlwYWR8aXBob25lfGFuZHJvaWQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KT8xOi8oc21hcnRbLV0/dHZ8aGJidHZ8YXBwbGV0dnxnb29nbGV0dnxoZG1pfG5ldGNhc3RcLnR2fHZpZXJhfG5ldHR2fHJva3V8XGJkdHZcYnxzb255ZHR2fGluZXR0dmJyb3dzZXJ8XGJ0dlxiKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/MzoyLHc6c2NyZWVuLndpZHRoLGg6c2NyZWVuLmhlaWdodH0sdG1heDpkLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil9O3JldHVybiBlJiZlLmdkcHJDb25zZW50JiYoT2JqZWN0KGkuZGVlcFNldFZhbHVlKShhLCJyZWdzLmV4dC5nZHByIiwrZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyksT2JqZWN0KGkuZGVlcFNldFZhbHVlKShhLCJ1c2VyLmV4dC5jb25zZW50IixlLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vYnJpZ2h0Y29tYmlkLm1hcnBoZXppcy5jb20vaGIiLGRhdGE6SlNPTi5zdHJpbmdpZnkoYSksb3B0aW9uczp7Y29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMX19fWNhdGNoKHIpe09iamVjdChpLmxvZ0Vycm9yKShyLHtiaWRSZXFzOnQsYmlkZGVyUmVxdWVzdDplfSl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbih0KXtpZighdC5ib2R5fHwib2JqZWN0IiE9YSh0LmJvZHkpKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiQnJpZ2h0Y29tIHNlcnZlciByZXR1cm5lZCBlbXB0eS9ub24tanNvbiByZXNwb25zZTogIitKU09OLnN0cmluZ2lmeSh0LmJvZHkpKSxbXTt2YXIgZT10LmJvZHkscj1lLmlkLG49ZS5zZWF0YmlkO3RyeXt2YXIgZD1bXTtyZXR1cm4gciYmbiYmbi5sZW5ndGg+MCYmblswXS5iaWQmJm5bMF0uYmlkLmxlbmd0aD4wJiZuWzBdLmJpZC5tYXAoKGZ1bmN0aW9uKHQpe2QucHVzaCh7cmVxdWVzdElkOnQuaW1waWQsY3BtOnBhcnNlRmxvYXQodC5wcmljZSksd2lkdGg6cGFyc2VJbnQodC53KSxoZWlnaHQ6cGFyc2VJbnQodC5oKSxjcmVhdGl2ZUlkOnQuY3JpZHx8dC5pZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLG1lZGlhVHlwZTpvLmIsYWQ6Yyh0KSx0dGw6NjAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6dCYmdC5hZG9tYWluP3QuYWRvbWFpbjpbXX19KX0pKSxkfWNhdGNoKHQpe09iamVjdChpLmxvZ0Vycm9yKSh0LHtpZDpyLHNlYXRiaWQ6bn0pfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm5bXX19O2Z1bmN0aW9uIGModCl7dmFyIGU9dC5hZG07cmV0dXJuIm51cmwiaW4gdCYmKGUrPU9iamVjdChpLmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKSh0Lm51cmwpKSxlfWZ1bmN0aW9uIGIodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9ZS53LGk9ZS5oLG49dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPW4ud2lkdGgsZD1uLmhlaWdodCxhPW4ubGVmdCx1PW4udG9wLHM9bi5yaWdodCxjPW4uYm90dG9tO3JldHVybigwPT09b3x8MD09PWQpJiZyJiZpJiYobz1yLGQ9aSxzPWErcixjPXUraSkse3dpZHRoOm8saGVpZ2h0OmQsbGVmdDphLHRvcDp1LHJpZ2h0OnMsYm90dG9tOmN9fWZ1bmN0aW9uIHAodCl7Zm9yKHZhciBlPXtsZWZ0OnRbMF0ubGVmdCxyaWdodDp0WzBdLnJpZ2h0LHRvcDp0WzBdLnRvcCxib3R0b206dFswXS5ib3R0b219LHI9MTtyPHQubGVuZ3RoOysrcil7aWYoZS5sZWZ0PU1hdGgubWF4KGUubGVmdCx0W3JdLmxlZnQpLGUucmlnaHQ9TWF0aC5taW4oZS5yaWdodCx0W3JdLnJpZ2h0KSxlLmxlZnQ+PWUucmlnaHQpcmV0dXJuIG51bGw7aWYoZS50b3A9TWF0aC5tYXgoZS50b3AsdFtyXS50b3ApLGUuYm90dG9tPU1hdGgubWluKGUuYm90dG9tLHRbcl0uYm90dG9tKSxlLnRvcD49ZS5ib3R0b20pcmV0dXJuIG51bGx9cmV0dXJuIGUud2lkdGg9ZS5yaWdodC1lLmxlZnQsZS5oZWlnaHQ9ZS5ib3R0b20tZS50b3AsZX1mdW5jdGlvbiBoKHQsZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGk9ci53LG49ci5oLG89Yih0LHt3OmksaDpufSksZD1wKFt7bGVmdDowLHRvcDowLHJpZ2h0OmUuaW5uZXJXaWR0aCxib3R0b206ZS5pbm5lckhlaWdodH0sb10pO3JldHVybiBudWxsIT09ZD9kLndpZHRoKmQuaGVpZ2h0LyhvLndpZHRoKm8uaGVpZ2h0KSoxMDA6MH1PYmplY3Qobi5yZWdpc3RlckJpZGRlcikocyl9fSxbMzMzXSk7CnVwYmpzQ2h1bmsoWzI5N10sezM3NjpmdW5jdGlvbihuLHQsZSl7bi5leHBvcnRzPWUoMzc3KX0sMzc3OmZ1bmN0aW9uKG4sdCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZCh0LCJhbGxvd0F1Y3Rpb24iLChmdW5jdGlvbigpe3JldHVybiBDfSkpLGUuZCh0LCJ1c2VyQ01QIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSxlLmQodCwiY29uc2VudFRpbWVvdXQiLChmdW5jdGlvbigpe3JldHVybiBwfSkpLGUuZCh0LCJnZHByU2NvcGUiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLGUuZCh0LCJzdGF0aWNDb25zZW50RGF0YSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSksdC5yZXF1ZXN0Qmlkc0hvb2s9aix0LnJlc2V0Q29uc2VudERhdGE9ZnVuY3Rpb24oKXttPXZvaWQgMCxmPXZvaWQgMCx2PTAsaS5nZHByRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobnVsbCl9LHQuc2V0Q29uc2VudENvbmZpZz1BO3ZhciBvPWUoMCksYT1lKDMpLGk9ZSg4KSxjPWUoMTIpLHI9ZS5uKGMpLHM9ZSg4MiksZD1lLm4ocyk7ZnVuY3Rpb24gbChuKXtyZXR1cm4obD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG59OmZ1bmN0aW9uKG4pe3JldHVybiBuJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZuLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZuIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2Ygbn0pKG4pfWZ1bmN0aW9uIHUobix0LGUpe3JldHVybiB0IGluIG4/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCx7dmFsdWU6ZSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOm5bdF09ZSxufXZhciBmLHAsZyxiLG0sQz17dmFsdWU6dHJ1ZSxkZWZpbmVkSW5Db25maWc6ITF9LHY9MCx5PSExLHc9e2lhYjpmdW5jdGlvbihuLHQsZSl7ZnVuY3Rpb24gYShhLGkpe09iamVjdChvLmxvZ0luZm8pKCJSZWNlaXZlZCBhIHJlc3BvbnNlIGZyb20gQ01QIixhKSxpPyExIT09YS5nZHByQXBwbGllcyYmInRjbG9hZGVkIiE9PWEuZXZlbnRTdGF0dXMmJiJ1c2VyYWN0aW9uY29tcGxldGUiIT09YS5ldmVudFN0YXR1c3x8bihhLGUpOnQoIkNNUCB1bmFibGUgdG8gcmVnaXN0ZXIgY2FsbGJhY2sgZnVuY3Rpb24uICBQbGVhc2UgY2hlY2sgQ01QIHNldHVwLiIsZSl9dmFyIGk9ZnVuY3Rpb24oKXt2YXIgdD17fTtmdW5jdGlvbiBhKCl7dC5nZXRDb25zZW50RGF0YSYmdC5nZXRWZW5kb3JDb25zZW50cyYmKE9iamVjdChvLmxvZ0luZm8pKCJSZWNlaXZlZCBhbGwgcmVxdWVzdGVkIHJlc3BvbnNlcyBmcm9tIENNUCIsdCksbih0LGUpKX1yZXR1cm57Y29uc2VudERhdGFDYWxsYmFjazpmdW5jdGlvbihuKXt0LmdldENvbnNlbnREYXRhPW4sYSgpfSx2ZW5kb3JDb25zZW50c0NhbGxiYWNrOmZ1bmN0aW9uKG4pe3QuZ2V0VmVuZG9yQ29uc2VudHM9bixhKCl9fX0oKSxjPXt9LHI9ZnVuY3Rpb24oKXtmb3IodmFyIG4sdCxlPXdpbmRvdzshbjspe3RyeXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5fX3RjZmFwaXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUuX19jbXApeyJmdW5jdGlvbiI9PXR5cGVvZiBlLl9fdGNmYXBpPyh2PTIsdD1lLl9fdGNmYXBpKToodj0xLHQ9ZS5fX2NtcCksbj1lO2JyZWFrfX1jYXRjaChuKXt9dHJ5e2lmKGUuZnJhbWVzLl9fdGNmYXBpTG9jYXRvcil7dj0yLG49ZTticmVha319Y2F0Y2gobil7fXRyeXtpZihlLmZyYW1lcy5fX2NtcExvY2F0b3Ipe3Y9MSxuPWU7YnJlYWt9fWNhdGNoKG4pe31pZihlPT09d2luZG93LnRvcClicmVhaztlPWUucGFyZW50fXJldHVybntjbXBGcmFtZTpuLGNtcEZ1bmN0aW9uOnR9fSgpLHM9ci5jbXBGcmFtZSxsPXIuY21wRnVuY3Rpb247aWYoIXMpcmV0dXJuIHQoIkNNUCBub3QgZm91bmQuIixlKTtPYmplY3Qoby5pc0ZuKShsKT8oT2JqZWN0KG8ubG9nSW5mbykoIkRldGVjdGVkIENNUCBBUEkgaXMgZGlyZWN0bHkgYWNjZXNzaWJsZSwgY2FsbGluZyBpdCBub3cuLi4iKSwxPT09dj8obCgiZ2V0Q29uc2VudERhdGEiLG51bGwsaS5jb25zZW50RGF0YUNhbGxiYWNrKSxsKCJnZXRWZW5kb3JDb25zZW50cyIsbnVsbCxpLnZlbmRvckNvbnNlbnRzQ2FsbGJhY2spKToyPT09diYmbCgiYWRkRXZlbnRMaXN0ZW5lciIsdixhKSk6MT09PXYmJndpbmRvdy4kc2YmJndpbmRvdy4kc2YuZXh0JiYiZnVuY3Rpb24iPT10eXBlb2Ygd2luZG93LiRzZi5leHQuY21wPyhPYmplY3Qoby5sb2dJbmZvKSgiRGV0ZWN0ZWQgUHJlYmlkLmpzIGlzIGVuY2FzZWQgaW4gYSBTYWZlRnJhbWUgYW5kIENNUCBpcyByZWdpc3RlcmVkLCBjYWxsaW5nIGl0IG5vdy4uLiIpLGYoImdldENvbnNlbnREYXRhIixpLmNvbnNlbnREYXRhQ2FsbGJhY2spLGYoImdldFZlbmRvckNvbnNlbnRzIixpLnZlbmRvckNvbnNlbnRzQ2FsbGJhY2spKTooT2JqZWN0KG8ubG9nSW5mbykoIkRldGVjdGVkIENNUCBpcyBvdXRzaWRlIHRoZSBjdXJyZW50IGlmcmFtZSB3aGVyZSBQcmViaWQuanMgaXMgbG9jYXRlZCwgY2FsbGluZyBpdCBub3cuLi4iKSwxPT09dj8ocCgiZ2V0Q29uc2VudERhdGEiLHMsaS5jb25zZW50RGF0YUNhbGxiYWNrKSxwKCJnZXRWZW5kb3JDb25zZW50cyIscyxpLnZlbmRvckNvbnNlbnRzQ2FsbGJhY2spKToyPT09diYmcCgiYWRkRXZlbnRMaXN0ZW5lciIscyxhKSk7ZnVuY3Rpb24gZihuLHQpe3ZhciBhPWUuYWRVbml0cyxpPTEsYz0xO2lmKEFycmF5LmlzQXJyYXkoYSkmJmEubGVuZ3RoPjApe3ZhciByPU9iamVjdChvLmdldEFkVW5pdFNpemVzKShhWzBdKTtpPXJbMF1bMF0sYz1yWzBdWzFdfXdpbmRvdy4kc2YuZXh0LnJlZ2lzdGVyKGksYywoZnVuY3Rpb24oZSxvKXtpZigiY21wUmV0dXJuIj09PWUpe3ZhciBhPSJnZXRDb25zZW50RGF0YSI9PT1uP28udmVuZG9yQ29uc2VudERhdGE6by52ZW5kb3JDb25zZW50czt0KGEpfX0pKSx3aW5kb3cuJHNmLmV4dC5jbXAobil9ZnVuY3Rpb24gcChuLHQsZSl7dmFyIG89Mj09PXY/Il9fdGNmYXBpIjoiX19jbXAiLGE9IiIuY29uY2F0KG8sIkNhbGwiKTtmdW5jdGlvbiBpKG4pe3ZhciB0PSIiLmNvbmNhdChvLCJSZXR1cm4iKSxlPSJzdHJpbmciPT10eXBlb2Ygbi5kYXRhJiZkKCkobi5kYXRhLHQpP0pTT04ucGFyc2Uobi5kYXRhKTpuLmRhdGE7aWYoZVt0XSYmZVt0XS5jYWxsSWQpe3ZhciBhPWVbdF07dm9pZCAwIT09Y1thLmNhbGxJZF0mJmNbYS5jYWxsSWRdKGEucmV0dXJuVmFsdWUsYS5zdWNjZXNzKX19Mj09PXY/KHdpbmRvd1tvXT1mdW5jdGlvbihuLGUsbyxpKXt2YXIgcj1NYXRoLnJhbmRvbSgpKyIiLHM9dSh7fSxhLHtjb21tYW5kOm4sdmVyc2lvbjplLHBhcmFtZXRlcjppLGNhbGxJZDpyfSk7Y1tyXT1vLHQucG9zdE1lc3NhZ2UocywiKiIpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSwhMSksd2luZG93W29dKG4sdixlKSk6KHdpbmRvd1tvXT1mdW5jdGlvbihuLGUsbyl7dmFyIGk9TWF0aC5yYW5kb20oKSsiIixyPXUoe30sYSx7Y29tbWFuZDpuLHBhcmFtZXRlcjplLGNhbGxJZDppfSk7Y1tpXT1vLHQucG9zdE1lc3NhZ2UociwiKiIpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSwhMSksd2luZG93W29dKG4sdm9pZCAwLGUpKX19LHN0YXRpYzpmdW5jdGlvbihuLHQsZSl7bihiLGUpfX07ZnVuY3Rpb24gaihuLHQpe3ZhciBlPXtjb250ZXh0OnRoaXMsYXJnczpbdF0sbmV4dEZuOm4sYWRVbml0czp0LmFkVW5pdHN8fHVwYmpzLmFkVW5pdHMsYmlkc0JhY2tIYW5kbGVyOnQuYmlkc0JhY2tIYW5kbGVyLGhhdmVFeGl0ZWQ6ITEsdGltZXI6bnVsbH07cmV0dXJuIG0/KE9iamVjdChvLmxvZ0luZm8pKCJVc2VyIGNvbnNlbnQgaW5mb3JtYXRpb24gYWxyZWFkeSBrbm93bi4gIFB1bGxpbmcgaW50ZXJuYWxseSBzdG9yZWQgaW5mb3JtYXRpb24uLi4iKSxoKG51bGwsZSkpOnIoKShPYmplY3Qua2V5cyh3KSxmKT8od1tmXS5jYWxsKHRoaXMsRCxrLGUpLHZvaWQoZS5oYXZlRXhpdGVkfHwoMD09PXA/RCh2b2lkIDAsZSk6ZS50aW1lcj1zZXRUaW1lb3V0KE8uYmluZChudWxsLGUpLHApKSkpOihPYmplY3Qoby5sb2dXYXJuKSgiQ01QIGZyYW1ld29yayAoIi5jb25jYXQoZiwiKSBpcyBub3QgYSBzdXBwb3J0ZWQgZnJhbWV3b3JrLiAgQWJvcnRpbmcgY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGFuZCByZXN1bWluZyBhdWN0aW9uLiIpKSxlLm5leHRGbi5hcHBseShlLmNvbnRleHQsZS5hcmdzKSl9ZnVuY3Rpb24gRChuLHQpeyJzdGF0aWMiPT09ZiYmMj09PSh2PW4uZ2V0Q29uc2VudERhdGE/MTpuLmdldFRDRGF0YT8yOjApJiYobj1uLmdldFRDRGF0YSk7dmFyIGU9MT09PXY/ZnVuY3Rpb24obil7dmFyIHQ9biYmbi5nZXRDb25zZW50RGF0YSYmbi5nZXRDb25zZW50RGF0YS5nZHByQXBwbGllcztyZXR1cm4hKCJib29sZWFuIj09dHlwZW9mIHQmJighMCE9PXR8fE9iamVjdChvLmlzU3RyKShuLmdldENvbnNlbnREYXRhLmNvbnNlbnREYXRhKSYmT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobi5nZXRWZW5kb3JDb25zZW50cykmJk9iamVjdC5rZXlzKG4uZ2V0VmVuZG9yQ29uc2VudHMpLmxlbmd0aD4xKSl9OjI9PT12P2Z1bmN0aW9uKCl7dmFyIHQ9biYmImJvb2xlYW4iPT10eXBlb2Ygbi5nZHByQXBwbGllcz9uLmdkcHJBcHBsaWVzOmcsZT1uJiZuLnRjU3RyaW5nO3JldHVybiEoImJvb2xlYW4iPT10eXBlb2YgdCYmKCEwIT09dHx8T2JqZWN0KG8uaXNTdHIpKGUpKSl9Om51bGw7Qy5kZWZpbmVkSW5Db25maWcmJjI9PT12P09iamVjdChvLmxvZ1dhcm4pKCInYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQnIGlnbm9yZWQgZm9yIFRDRiAyIik6Qy5kZWZpbmVkSW5Db25maWd8fDEhPT12fHxPYmplY3Qoby5sb2dJbmZvKSgiJ2FsbG93QXVjdGlvbldpdGhvdXRDb25zZW50JyB1c2luZyBzeXN0ZW0gZGVmYXVsdDogKCIuY29uY2F0KHRydWUsIikuIikpLE9iamVjdChvLmlzRm4pKGUpP2Uobik/aygiQ01QIHJldHVybmVkIHVuZXhwZWN0ZWQgdmFsdWUgZHVyaW5nIGxvb2t1cCBwcm9jZXNzLiIsdCxuKTooY2xlYXJUaW1lb3V0KHQudGltZXIpLE0obiksaChudWxsLHQpKTprKCJVbmFibGUgdG8gZGVyaXZlIENNUCB2ZXJzaW9uIHRvIHByb2Nlc3MgZGF0YS4gIENvbnNlbnQgb2JqZWN0IGRvZXMgbm90IGNvbmZvcm0gdG8gVENGIHYxIG9yIHYyIHNwZWNzLiIsdCxuKX1mdW5jdGlvbiBPKG4pe2soIkNNUCB3b3JrZmxvdyBleGNlZWRlZCB0aW1lb3V0IHRocmVzaG9sZC4iLG4pfWZ1bmN0aW9uIGsobix0LGUpe2NsZWFyVGltZW91dCh0LnRpbWVyKSxDLnZhbHVlJiYxPT09diYmTSh2b2lkIDApLGgobix0LGUpfWZ1bmN0aW9uIE0obil7MT09PXY/bT17Y29uc2VudFN0cmluZzpuP24uZ2V0Q29uc2VudERhdGEuY29uc2VudERhdGE6dm9pZCAwLHZlbmRvckRhdGE6bj9uLmdldFZlbmRvckNvbnNlbnRzOnZvaWQgMCxnZHByQXBwbGllczpuP24uZ2V0Q29uc2VudERhdGEuZ2RwckFwcGxpZXM6Z306KG09e2NvbnNlbnRTdHJpbmc6bj9uLnRjU3RyaW5nOnZvaWQgMCx2ZW5kb3JEYXRhOm58fHZvaWQgMCxnZHByQXBwbGllczpuJiYiYm9vbGVhbiI9PXR5cGVvZiBuLmdkcHJBcHBsaWVzP24uZ2RwckFwcGxpZXM6Z30sbiYmbi5hZGR0bENvbnNlbnQmJk9iamVjdChvLmlzU3RyKShuLmFkZHRsQ29uc2VudCkmJihtLmFkZHRsQ29uc2VudD1uLmFkZHRsQ29uc2VudCkpLG0uYXBpVmVyc2lvbj12LGkuZ2RwckRhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKG0pfWZ1bmN0aW9uIGgobix0LGUpe2lmKCExPT09dC5oYXZlRXhpdGVkKXt0LmhhdmVFeGl0ZWQ9ITA7dmFyIGE9dC5jb250ZXh0LGk9dC5hcmdzLGM9dC5uZXh0Rm47bj9DLnZhbHVlJiYxPT09dj8oT2JqZWN0KG8ubG9nV2FybikobisiICdhbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCcgYWN0aXZhdGVkLiIsZSksYy5hcHBseShhLGkpKTooT2JqZWN0KG8ubG9nRXJyb3IpKG4rIiBDYW5jZWxpbmcgYXVjdGlvbiBhcyBwZXIgY29uc2VudE1hbmFnZW1lbnQgY29uZmlnLiIsZSksImZ1bmN0aW9uIj09dHlwZW9mIHQuYmlkc0JhY2tIYW5kbGVyP3QuYmlkc0JhY2tIYW5kbGVyKCk6T2JqZWN0KG8ubG9nRXJyb3IpKCJFcnJvciBleGVjdXRpbmcgYmlkc0JhY2tIYW5kbGVyIikpOmMuYXBwbHkoYSxpKX19ZnVuY3Rpb24gQShuKXsobj1uJiYobi5nZHByfHxuLnVzcD9uLmdkcHI6bikpJiYib2JqZWN0Ij09PWwobik/KE9iamVjdChvLmlzU3RyKShuLmNtcEFwaSk/Zj1uLmNtcEFwaTooZj0iaWFiIixPYmplY3Qoby5sb2dJbmZvKSgiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSBjbXAuICBVc2luZyBzeXN0ZW0gZGVmYXVsdCBzZXR0aW5nICgiLmNvbmNhdCgiaWFiIiwiKS4iKSkpLE9iamVjdChvLmlzTnVtYmVyKShuLnRpbWVvdXQpP3A9bi50aW1lb3V0OihwPTFlNCxPYmplY3Qoby5sb2dJbmZvKSgiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSB0aW1lb3V0LiAgVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoMWU0LCIpLiIpKSksImJvb2xlYW4iPT10eXBlb2Ygbi5hbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCYmKEMudmFsdWU9bi5hbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCxDLmRlZmluZWRJbkNvbmZpZz0hMCksZz0hMD09PW4uZGVmYXVsdEdkcHJTY29wZSxPYmplY3Qoby5sb2dJbmZvKSgiY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGhhcyBiZWVuIGFjdGl2YXRlZC4uLiIpLCJzdGF0aWMiPT09ZiYmKE9iamVjdChvLmlzUGxhaW5PYmplY3QpKG4uY29uc2VudERhdGEpPyhiPW4uY29uc2VudERhdGEscD0wKTpPYmplY3Qoby5sb2dFcnJvcikoImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyB3aXRoIGNtcEFwaTogJ3N0YXRpYycgZGlkIG5vdCBzcGVjaWZ5IGNvbnNlbnREYXRhLiBObyBjb25zZW50cyB3aWxsIGJlIGF2YWlsYWJsZSB0byBhZGFwdGVycy4iKSkseXx8dXBianMucmVxdWVzdEJpZHMuYmVmb3JlKGosNTApLHk9ITApOk9iamVjdChvLmxvZ1dhcm4pKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgbm90IGRlZmluZWQsIGV4aXRpbmcgY29uc2VudCBtYW5hZ2VyIil9YS5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQiLChmdW5jdGlvbihuKXtyZXR1cm4gQShuLmNvbnNlbnRNYW5hZ2VtZW50KX0pKX19LFszNzZdKTsKdXBianNDaHVuayhbMjk2XSx7MzgzOmZ1bmN0aW9uKHQsbixlKXt0LmV4cG9ydHM9ZSgzODQpfSwzODQ6ZnVuY3Rpb24odCxuLGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5kKG4sImNvbnNlbnRBUEkiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLGUuZChuLCJjb25zZW50VGltZW91dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksZS5kKG4sInN0YXRpY0NvbnNlbnREYXRhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxuLnJlcXVlc3RCaWRzSG9vaz1mLG4ucmVzZXRDb25zZW50RGF0YT1mdW5jdGlvbigpe2w9dm9pZCAwLHM9dm9pZCAwLGkudXNwRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobnVsbCl9LG4uc2V0Q29uc2VudENvbmZpZz1QO3ZhciBhPWUoMCksbz1lKDMpLGk9ZSg4KTtmdW5jdGlvbiBjKHQpe3JldHVybihjPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiB0fSkodCl9dmFyIHMscix1LGwsZD0hMSxwPXtpYWI6ZnVuY3Rpb24odCxuLGUpe3ZhciBvPSh1PXt9LHtjb25zZW50RGF0YUNhbGxiYWNrOmZ1bmN0aW9uKGEsbyl7byYmYS51c3BTdHJpbmcmJih1LnVzUHJpdmFjeT1hLnVzcFN0cmluZyksdS51c1ByaXZhY3k/dCh1LGUpOm4oIlVuYWJsZSB0byBnZXQgVVNQIGNvbnNlbnQgc3RyaW5nLiIsZSl9fSksaT17fSxjPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LG4sZT13aW5kb3c7IXQ7KXt0cnl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuX191c3BhcGkpe249ZS5fX3VzcGFwaSx0PWU7YnJlYWt9fWNhdGNoKHQpe310cnl7aWYoZS5mcmFtZXMuX191c3BhcGlMb2NhdG9yKXt0PWU7YnJlYWt9fWNhdGNoKHQpe31pZihlPT09d2luZG93LnRvcClicmVhaztlPWUucGFyZW50fXJldHVybnt1c3BhcGlGcmFtZTp0LHVzcGFwaUZ1bmN0aW9uOm59fSgpLHM9Yy51c3BhcGlGcmFtZSxyPWMudXNwYXBpRnVuY3Rpb247dmFyIHU7aWYoIXMpcmV0dXJuIG4oIlVTUCBDTVAgbm90IGZvdW5kLiIsZSk7T2JqZWN0KGEuaXNGbikocik/KE9iamVjdChhLmxvZ0luZm8pKCJEZXRlY3RlZCBVU1AgQ01QIGlzIGRpcmVjdGx5IGFjY2Vzc2libGUsIGNhbGxpbmcgaXQgbm93Li4uIikscigiZ2V0VVNQRGF0YSIsMSxvLmNvbnNlbnREYXRhQ2FsbGJhY2spKTooT2JqZWN0KGEubG9nSW5mbykoIkRldGVjdGVkIFVTUCBDTVAgaXMgb3V0c2lkZSB0aGUgY3VycmVudCBpZnJhbWUgd2hlcmUgUHJlYmlkLmpzIGlzIGxvY2F0ZWQsIGNhbGxpbmcgaXQgbm93Li4uIiksZnVuY3Rpb24odCxuLGUpe2Z1bmN0aW9uIGEodCl7dmFyIG49dCYmdC5kYXRhJiZ0LmRhdGEuX191c3BhcGlSZXR1cm47biYmbi5jYWxsSWQmJnZvaWQgMCE9PWlbbi5jYWxsSWRdJiYoaVtuLmNhbGxJZF0obi5yZXR1cm5WYWx1ZSxuLnN1Y2Nlc3MpLGRlbGV0ZSBpW24uY2FsbElkXSl9d2luZG93Ll9fdXNwYXBpPWZ1bmN0aW9uKHQsZSxhKXt2YXIgbz1NYXRoLnJhbmRvbSgpKyIiLGM9e19fdXNwYXBpQ2FsbDp7Y29tbWFuZDp0LHZlcnNpb246ZSxjYWxsSWQ6b319O2lbb109YSxuLnBvc3RNZXNzYWdlKGMsIioiKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGEsITEpLHdpbmRvdy5fX3VzcGFwaSh0LDEsZSl9KCJnZXRVU1BEYXRhIixzLG8uY29uc2VudERhdGFDYWxsYmFjaykpfSxzdGF0aWM6ZnVuY3Rpb24odCxuLGUpe3QodSxlKX19O2Z1bmN0aW9uIGYodCxuKXt2YXIgZT17Y29udGV4dDp0aGlzLGFyZ3M6W25dLG5leHRGbjp0LGFkVW5pdHM6bi5hZFVuaXRzfHx1cGJqcy5hZFVuaXRzLGJpZHNCYWNrSGFuZGxlcjpuLmJpZHNCYWNrSGFuZGxlcixoYXZlRXhpdGVkOiExLHRpbWVyOm51bGx9O2lmKCFwW3NdKXJldHVybiBPYmplY3QoYS5sb2dXYXJuKSgiVVNQIGZyYW1ld29yayAoIi5jb25jYXQocywiKSBpcyBub3QgYSBzdXBwb3J0ZWQgZnJhbWV3b3JrLiBBYm9ydGluZyBjb25zZW50TWFuYWdlbWVudCBtb2R1bGUgYW5kIHJlc3VtaW5nIGF1Y3Rpb24uIikpLGUubmV4dEZuLmFwcGx5KGUuY29udGV4dCxlLmFyZ3MpO3Bbc10uY2FsbCh0aGlzLGcsbSxlKSxlLmhhdmVFeGl0ZWR8fCgwPT09cj9nKHZvaWQgMCxlKTplLnRpbWVyPXNldFRpbWVvdXQoYi5iaW5kKG51bGwsZSkscikpfWZ1bmN0aW9uIGcodCxuKXshdHx8IXQudXNQcml2YWN5P20oIlVTUEFQSSByZXR1cm5lZCB1bmV4cGVjdGVkIHZhbHVlIGR1cmluZyBsb29rdXAgcHJvY2Vzcy4iLG4sdCk6KGNsZWFyVGltZW91dChuLnRpbWVyKSxmdW5jdGlvbih0KXt0JiZ0LnVzUHJpdmFjeSYmKGw9dC51c1ByaXZhY3ksaS51c3BEYXRhSGFuZGxlci5zZXRDb25zZW50RGF0YShsKSl9KHQpLHkobnVsbCxuKSl9ZnVuY3Rpb24gYih0KXttKCJVU1BBUEkgd29ya2Zsb3cgZXhjZWVkZWQgdGltZW91dCB0aHJlc2hvbGQuIix0KX1mdW5jdGlvbiBtKHQsbixlKXtjbGVhclRpbWVvdXQobi50aW1lcikseSh0LG4sZSl9ZnVuY3Rpb24geSh0LG4sZSl7aWYoITE9PT1uLmhhdmVFeGl0ZWQpe24uaGF2ZUV4aXRlZD0hMDt2YXIgbz1uLmNvbnRleHQsaT1uLmFyZ3MsYz1uLm5leHRGbjt0JiZPYmplY3QoYS5sb2dXYXJuKSh0KyIgUmVzdW1pbmcgYXVjdGlvbiB3aXRob3V0IGNvbnNlbnQgZGF0YSBhcyBwZXIgY29uc2VudE1hbmFnZW1lbnQgY29uZmlnLiIsZSksYy5hcHBseShvLGkpfX1mdW5jdGlvbiBQKHQpeyh0PXQmJnQudXNwKSYmIm9iamVjdCI9PT1jKHQpPyhPYmplY3QoYS5pc1N0cikodC5jbXBBcGkpP3M9dC5jbXBBcGk6KHM9ImlhYiIsT2JqZWN0KGEubG9nSW5mbykoImNvbnNlbnRNYW5hZ2VtZW50LnVzcCBjb25maWcgZGlkIG5vdCBzcGVjaWZ5IGNtcEFwaS4gVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoImlhYiIsIikuIikpKSxPYmplY3QoYS5pc051bWJlcikodC50aW1lb3V0KT9yPXQudGltZW91dDoocj01MCxPYmplY3QoYS5sb2dJbmZvKSgiY29uc2VudE1hbmFnZW1lbnQudXNwIGNvbmZpZyBkaWQgbm90IHNwZWNpZnkgdGltZW91dC4gVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoNTAsIikuIikpKSxPYmplY3QoYS5sb2dJbmZvKSgiVVNQQVBJIGNvbnNlbnRNYW5hZ2VtZW50IG1vZHVsZSBoYXMgYmVlbiBhY3RpdmF0ZWQuLi4iKSwic3RhdGljIj09PXMmJihPYmplY3QoYS5pc1BsYWluT2JqZWN0KSh0LmNvbnNlbnREYXRhKSYmT2JqZWN0KGEuaXNQbGFpbk9iamVjdCkodC5jb25zZW50RGF0YS5nZXRVU1BEYXRhKT8odC5jb25zZW50RGF0YS5nZXRVU1BEYXRhLnVzcFN0cmluZyYmKHU9e3VzUHJpdmFjeTp0LmNvbnNlbnREYXRhLmdldFVTUERhdGEudXNwU3RyaW5nfSkscj0wKTpPYmplY3QoYS5sb2dFcnJvcikoImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyB3aXRoIGNtcEFwaTogJ3N0YXRpYycgZGlkIG5vdCBzcGVjaWZ5IGNvbnNlbnREYXRhLiBObyBjb25zZW50cyB3aWxsIGJlIGF2YWlsYWJsZSB0byBhZGFwdGVycy4iKSksZHx8dXBianMucmVxdWVzdEJpZHMuYmVmb3JlKGYsNTApLGQ9ITApOk9iamVjdChhLmxvZ1dhcm4pKCJjb25zZW50TWFuYWdlbWVudC51c3AgY29uZmlnIG5vdCBkZWZpbmVkLCBleGl0aW5nIHVzcCBjb25zZW50IG1hbmFnZXIiKX1vLmIuZ2V0Q29uZmlnKCJjb25zZW50TWFuYWdlbWVudCIsKGZ1bmN0aW9uKHQpe3JldHVybiBQKHQuY29uc2VudE1hbmFnZW1lbnQpfSkpfX0sWzM4M10pOwp1cGJqc0NodW5rKFsyOTVdLHszODU6ZnVuY3Rpb24oZSxyLG4pe2UuZXhwb3J0cz1uKDM4Nil9LDM4NjpmdW5jdGlvbihlLHIsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHQ9bigwKSxpPW4oMSk7ZnVuY3Rpb24gcygpe3JldHVybihzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBuPWFyZ3VtZW50c1tyXTtmb3IodmFyIHQgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobix0KSYmKGVbdF09blt0XSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGE9MCxkPSJjb25zdW1hYmxlIix1PXtjb2RlOiJjb25zdW1hYmxlIixpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlLnBhcmFtcy5uZXR3b3JrSWQmJmUucGFyYW1zLnNpdGVJZCYmZS5wYXJhbXMudW5pdElkJiZlLnBhcmFtcy51bml0TmFtZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgbj17bWV0aG9kOiJQT1NUIix1cmw6IiIsZGF0YToiIixiaWRSZXF1ZXN0OltdfTtpZihlLmxlbmd0aDwxKXJldHVybiBuO2E9ZVswXS5wYXJhbXMuc2l0ZUlkLGQ9ZVswXS5iaWRkZXI7dmFyIHQ9cyh7cGxhY2VtZW50czpbXSx0aW1lOkRhdGUubm93KCksdXJsOnIucmVmZXJlckluZm8ucmVmZXJlcixyZWZlcnJlcjpkb2N1bWVudC5yZWZlcnJlcixzb3VyY2U6W3tuYW1lOiJwcmViaWRqcyIsdmVyc2lvbjoiNS4yMC4yIn1dfSxlWzBdLnBhcmFtcyk7cmV0dXJuIHImJnIuZ2RwckNvbnNlbnQmJih0LmdkcHI9e2NvbnNlbnQ6ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGFwcGxpZXM6ImJvb2xlYW4iIT10eXBlb2Ygci5nZHByQ29uc2VudC5nZHByQXBwbGllc3x8ci5nZHByQ29uc2VudC5nZHByQXBwbGllc30pLHImJnIudXNwQ29uc2VudCYmKHQuY2NwYT1yLnVzcENvbnNlbnQpLGUubWFwKChmdW5jdGlvbihlKXt2YXIgcj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN8fGUuc2l6ZXN8fFtdLG49cyh7ZGl2TmFtZTplLmJpZElkLGFkVHlwZXM6ZS5hZFR5cGVzfHxwKHIpfSxlLnBhcmFtcyk7bi5uZXR3b3JrSWQmJm4uc2l0ZUlkJiZuLnVuaXRJZCYmbi51bml0TmFtZSYmdC5wbGFjZW1lbnRzLnB1c2gobil9KSksbi5kYXRhPUpTT04uc3RyaW5naWZ5KHQpLG4uYmlkUmVxdWVzdD1lLG4uYmlkZGVyUmVxdWVzdD1yLG4udXJsPSJodHRwczovL2Uuc2VydmVyYmlkLmNvbS9hcGkvdjIiLG59LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIG4sdCxpLHMsYT1bXTt0PXIuYmlkUmVxdWVzdCxlPShlfHx7fSkuYm9keTtmb3IodmFyIGQ9MDtkPHQubGVuZ3RoO2QrKylpZihuPXt9LGk9KHM9dFtkXSkuYmlkSWQsZSl7dmFyIHU9ZS5kZWNpc2lvbnMmJmUuZGVjaXNpb25zW2ldLG89dSYmdS5wcmljaW5nJiZ1LnByaWNpbmcuY2xlYXJQcmljZTt1JiZvJiYobi5yZXF1ZXN0SWQ9aSxuLmNwbT1vLG4ud2lkdGg9dS53aWR0aCxuLmhlaWdodD11LmhlaWdodCxuLnVuaXRJZD1zLnBhcmFtcy51bml0SWQsbi51bml0TmFtZT1zLnBhcmFtcy51bml0TmFtZSxuLmFkPWModSxuLnVuaXRJZCxuLnVuaXROYW1lKSxuLmN1cnJlbmN5PSJVU0QiLG4uY3JlYXRpdmVJZD11LmFkSWQsbi50dGw9MzAsbi5tZXRhPXthZHZlcnRpc2VyRG9tYWluczp1LmFkb21haW4/dS5hZG9tYWluOltdfSxuLm5ldFJldmVudWU9ITAsbi5yZWZlcnJlcj1yLmJpZGRlclJlcXVlc3QucmVmZXJlckluZm8ucmVmZXJlcixhLnB1c2gobikpfXJldHVybiBhfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vc3luYy5zZXJ2ZXJiaWQuY29tL3NzLyIrYSsiLmh0bWwifV06ZS5waXhlbEVuYWJsZWQmJnIubGVuZ3RoPjA/clswXS5ib2R5LnBpeGVsczp2b2lkIE9iamVjdCh0LmxvZ1dhcm4pKGQrIjogUGxlYXNlIGVuYWJsZSBpZnJhbWUgYmFzZWQgdXNlciBzeW5jaW5nLiIpfX0sbz1bbnVsbCwiMTIweDkwIiwiMTIweDkwIiwiNDY4eDYwIiwiNzI4eDkwIiwiMzAweDI1MCIsIjE2MHg2MDAiLCIxMjB4NjAwIiwiMzAweDEwMCIsIjE4MHgxNTAiLCIzMzZ4MjgwIiwiMjQweDQwMCIsIjIzNHg2MCIsIjg4eDMxIiwiMTIweDYwIiwiMTIweDI0MCIsIjEyNXgxMjUiLCIyMjB4MjUwIiwiMjUweDI1MCIsIjI1MHg5MCIsIjB4MCIsIjIwMHg5MCIsIjMwMHg1MCIsIjMyMHg1MCIsIjMyMHg0ODAiLCIxODV4MTg1IiwiNjIweDQ1IiwiMzAweDEyNSIsIjgwMHgyNTAiXTtmdW5jdGlvbiBwKGUpe3ZhciByPVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPW8uaW5kZXhPZihlWzBdKyJ4IitlWzFdKTtuPj0wJiZyLnB1c2gobil9KSkscn1mdW5jdGlvbiBjKGUscixuKXtyZXR1cm4gZS5jb250ZW50cyYmZS5jb250ZW50c1swXSYmZS5jb250ZW50c1swXS5ib2R5K09iamVjdCh0LmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKShlLmltcHJlc3Npb25VcmwpfW9bNzddPSI5NzB4OTAiLG9bMTIzXT0iOTcweDI1MCIsb1s0M109IjMwMHg2MDAiLG9bMjg2XT0iOTcweDY2IixvWzMyMzBdPSI5NzB4MjgwIixvWzQyOV09IjQ4Nng2MCIsb1szNzRdPSI3MDB4NTAwIixvWzkzNF09IjMwMHgxMDUwIixvWzE1NzhdPSIzMjB4MTAwIixvWzMzMV09IjMyMHgyNTAiLG9bMzMwMV09IjMyMHgyNjciLG9bMjczMF09IjcyOHgyNTAiLE9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKSh1KX19LFszODVdKTsKdXBianNDaHVuayhbMjkzXSx7Mzg5OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCgzOTApfSwzOTA6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgbj10KDApLGE9dCgxKSxpPXQoMiksbz10KDcpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGMoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHIpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGMoZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09dHx8IlNldCI9PT10KXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkpcmV0dXJuIGMoZSxyKX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gYyhlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLG49bmV3IEFycmF5KHIpO3Q8cjt0Kyspblt0XT1lW3RdO3JldHVybiBufXZhciBkPU9iamVjdChvLmIpKDI0KSx1PSJjb252ZXJzYW50IixwPXtjb2RlOnUsZ3ZsaWQ6MjQsYWxpYXNlczpbImNudnIiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmIsaS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZighZXx8IWUucGFyYW1zKXJldHVybiBPYmplY3Qobi5sb2dXYXJuKSgiY29udmVyc2FudDogTWlzc2luZyBiaWQgcGFyYW1ldGVycyIpLCExO2lmKCFPYmplY3Qobi5pc1N0cikoZS5wYXJhbXMuc2l0ZV9pZCkpcmV0dXJuIE9iamVjdChuLmxvZ1dhcm4pKCJjb252ZXJzYW50OiBzaXRlX2lkIG11c3QgYmUgc3BlY2lmaWVkIGFzIGEgc3RyaW5nIiksITE7aWYobChlKSl7dmFyIHI9ZS5wYXJhbXMubWltZXN8fE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ubWltZXMiKTtpZihyKXtpZighT2JqZWN0KG4uaXNBcnJheSkocil8fCFyLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4uaXNTdHIpKGUpfSkpKXJldHVybiBPYmplY3Qobi5sb2dXYXJuKSgiY29udmVyc2FudDogbWltZXMgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzIiksITF9ZWxzZSBPYmplY3Qobi5sb2dXYXJuKSgiY29udmVyc2FudDogbWltZXMgc2hvdWxkIGJlIHNwZWNpZmllZCBmb3IgdmlkZW9zIil9cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdCxhPXImJnIucmVmZXJlckluZm8/ci5yZWZlcmVySW5mby5yZWZlcmVyOiIiLGk9IiIsbz0iIixzPW51bGwsYz0iX3B1YmNpZCIsdT0iaHR0cHM6Ly93ZWIuaGIuYWQuY3BlLmRvdG9taS5jb20vY3Z4L2NsaWVudC9oYi9vcnRiLzI1IixwPWUubWFwKChmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgcj1PYmplY3Qobi5nZXRCaWRJZFBhcmFtZXRlcikoImJpZGZsb29yIixlLnBhcmFtcyk7aWYoIXImJk9iamVjdChuLmlzRm4pKGUuZ2V0Rmxvb3IpKXt2YXIgdD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7T2JqZWN0KG4uaXNQbGFpbk9iamVjdCkodCkmJiFpc05hTih0LmZsb29yKSYmIlVTRCI9PT10LmN1cnJlbmN5JiYocj10LmZsb29yKX1yZXR1cm4gcn0oZSk7aT1PYmplY3Qobi5nZXRCaWRJZFBhcmFtZXRlcikoInNpdGVfaWQiLGUucGFyYW1zKXx8aSxjPU9iamVjdChuLmdldEJpZElkUGFyYW1ldGVyKSgicHViY2lkX25hbWUiLGUucGFyYW1zKXx8YyxvPWUuYXVjdGlvbklkO3ZhciB0PXtpZDplLmJpZElkLHNlY3VyZToxLGJpZGZsb29yOnJ8fDAsZGlzcGxheW1hbmFnZXI6IlByZWJpZC5qcyIsZGlzcGxheW1hbmFnZXJ2ZXI6IjUuMjAuMiJ9O2lmKGIoZS5wYXJhbXMudGFnX2lkLHQsInRhZ2lkIiksbChlKSl7dmFyIGE9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpfHx7fSxkPW0oYS5wbGF5ZXJTaXplfHxlLnNpemVzKSxwPXt9O2QmJmRbMF0mJihiKGRbMF0udyxwLCJ3IiksYihkWzBdLmgscCwiaCIpKSxiKGUucGFyYW1zLnBvc2l0aW9uLHAsInBvcyIpLGIoZS5wYXJhbXMubWltZXN8fGEubWltZXMscCwibWltZXMiKSxiKGUucGFyYW1zLm1heGR1cmF0aW9ufHxhLm1heGR1cmF0aW9uLHAsIm1heGR1cmF0aW9uIiksYihlLnBhcmFtcy5wcm90b2NvbHN8fGEucHJvdG9jb2xzLHAsInByb3RvY29scyIpLGIoZS5wYXJhbXMuYXBpfHxhLmFwaSxwLCJhcGkiKSx0LnZpZGVvPXB9ZWxzZXt2YXIgZj17Zm9ybWF0Om0oKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIil8fHt9KS5zaXplc3x8ZS5zaXplcyl9O2IoZS5wYXJhbXMucG9zaXRpb24sZiwicG9zIiksdC5iYW5uZXI9Zn1yZXR1cm4gZS51c2VySWQmJmUudXNlcklkLnB1YmNpZD9zPWUudXNlcklkLnB1YmNpZDplLmNydW1icyYmZS5jcnVtYnMucHViY2lkJiYocz1lLmNydW1icy5wdWJjaWQpLGUucGFyYW1zLndoaXRlX2xhYmVsX3VybCYmKHU9ZS5wYXJhbXMud2hpdGVfbGFiZWxfdXJsKSx0fSkpLGY9e2lkOm8saW1wOnAsc2l0ZTp7aWQ6aSxtb2JpbGU6bnVsbCE9PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT0idmlld3BvcnQiXVtjb250ZW50Kj0id2lkdGg9ZGV2aWNlLXdpZHRoIl0nKT8xOjAscGFnZTphfSxkZXZpY2U6KHQ9bmF2aWdhdG9yLmxhbmd1YWdlPyJsYW5ndWFnZSI6InVzZXJMYW5ndWFnZSIse2g6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxkbnQ6IjEiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09PXdpbmRvdy5kb05vdFRyYWNrfHwiMSI9PT1uYXZpZ2F0b3IubXNEb05vVHJhY2t8fCJ5ZXMiPT09bmF2aWdhdG9yLmRvTm90VHJhY2s/MTowLGxhbmd1YWdlOm5hdmlnYXRvclt0XS5zcGxpdCgiLSIpWzBdLG1ha2U6bmF2aWdhdG9yLnZlbmRvcj9uYXZpZ2F0b3IudmVuZG9yOiIiLHVhOm5hdmlnYXRvci51c2VyQWdlbnR9KSxhdDoxfSxnPXt9O3ImJihyLmdkcHJDb25zZW50JiYoZy5jb25zZW50PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZywiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKGYsInJlZ3MuZXh0LmdkcHIiLHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSksci51c3BDb25zZW50JiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKGYsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCkpLHN8fChzPWZ1bmN0aW9uKGUpe3ZhciByO3RyeXtpZighKHI9ZC5nZXRDb29raWUoZSkpKXt2YXIgdD1kLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChlLCJfZXhwIikpOygiIj09PXR8fHQmJm5ldyBEYXRlKHQpLmdldFRpbWUoKS1EYXRlLm5vdygpPjApJiYocj0ocj1kLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKGUpKT9kZWNvZGVVUklDb21wb25lbnQocik6cil9T2JqZWN0KG4uaXNTdHIpKHIpJiYieyI9PT1yLmNoYXJBdCgwKSYmKHI9SlNPTi5wYXJzZShyKSl9Y2F0Y2goZSl7T2JqZWN0KG4ubG9nRXJyb3IpKGUpfXJldHVybiByfShjKSkscyYmKGcuZnBjPXMpO3ZhciB2PWZ1bmN0aW9uKGUpe3ZhciByPWVbMF0sdD1bXTtpZihPYmplY3Qobi5pc0FycmF5KShyLnVzZXJJZEFzRWlkcykmJnIudXNlcklkQXNFaWRzLmxlbmd0aD4wKXt2YXIgYT17ImVwc2lsb24uY29tIjoxLCJhZHNlcnZlci5vcmciOjEsImxpdmVyYW1wLmNvbSI6MSwiY3JpdGVvLmNvbSI6MSwiaWQ1LXN5bmMuY29tIjoxLCJwYXJyYWJsZS5jb20iOjEsImxpdmVpbnRlbnQuY29tIjoxfTtyLnVzZXJJZEFzRWlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXthLmhhc093blByb3BlcnR5KGUuc291cmNlKSYmdC5wdXNoKGUpfSkpfXJldHVybiB0fShlKTtyZXR1cm4gdi5sZW5ndGg+MCYmKGcuZWlkcz12KSxPYmplY3Qobi5pc0VtcHR5KShnKXx8KGYudXNlcj17ZXh0Omd9KSx7bWV0aG9kOiJQT1NUIix1cmw6dSxkYXRhOmZ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGE9e307cmV0dXJuIGU9ZS5ib2R5LHImJnIuZGF0YSYmci5kYXRhLmltcCYmT2JqZWN0KG4uX2VhY2gpKHIuZGF0YS5pbXAsKGZ1bmN0aW9uKGUpe3JldHVybiBhW2UuaWRdPWV9KSksZSYmT2JqZWN0KG4uaXNBcnJheSkoZS5zZWF0YmlkKSYmT2JqZWN0KG4uX2VhY2gpKGUuc2VhdGJpZCwoZnVuY3Rpb24ocil7T2JqZWN0KG4uX2VhY2gpKHIuYmlkLChmdW5jdGlvbihyKXt2YXIgbj1wYXJzZUZsb2F0KHIucHJpY2UpO2lmKG4+MCYmci5pbXBpZCl7dmFyIGk9ci5hZG18fCIiLG89ci5udXJsfHwiIixzPWFbci5pbXBpZF0sYz17cmVxdWVzdElkOnIuaW1waWQsY3VycmVuY3k6ZS5jdXJ8fCJVU0QiLGNwbTpuLGNyZWF0aXZlSWQ6ci5jcmlkfHwiIix0dGw6MzAwLG5ldFJldmVudWU6ITAsbWV0YTp7fX07ci5hZG9tYWluJiZyLmFkb21haW4ubGVuZ3RoPjAmJihjLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9ci5hZG9tYWluKSxzLnZpZGVvPygiPCI9PT1pLmNoYXJBdCgwKT9jLnZhc3RYbWw9aTpjLnZhc3RVcmw9aSxjLm1lZGlhVHlwZT0idmlkZW8iLGMud2lkdGg9cy52aWRlby53LGMuaGVpZ2h0PXMudmlkZW8uaCk6KGMuYWQ9aSsnPGltZyBzcmM9IicrbysnIiAvPicsYy53aWR0aD1yLncsYy5oZWlnaHQ9ci5oKSx0LnB1c2goYyl9fSkpfSkpLHR9LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHIpe3JldHVybiBPYmplY3Qobi5jb252ZXJ0VHlwZXMpKHtzaXRlX2lkOiJzdHJpbmciLHNlY3VyZToibnVtYmVyIixtb2JpbGU6Im51bWJlciJ9LGUpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQsYSl7dmFyIGk9e30sbz1bXTtpZih0JiYoaS5nZHByPXQuZ2RwckFwcGxpZXM/MTowLGkuZ2Rwcl9jb25zZW50PWVuY29kZVVSSUNvbXBvbmVudCh0LmNvbnNlbnRTdHJpbmd8fCIiKSksYSYmKGkudXNfcHJpdmFjeT1lbmNvZGVVUklDb21wb25lbnQoYSkpLHImJnIuZXh0KXt2YXIgYz1be3VybHM6ci5leHQuZnN5bmNzLHR5cGU6ImlmcmFtZSJ9LHt1cmxzOnIuZXh0LnBzeW5jcyx0eXBlOiJpbWFnZSJ9XS5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiByLnVybHMmJigiaWZyYW1lIj09PXIudHlwZSYmZS5pZnJhbWVFbmFibGVkfHwiaW1hZ2UiPT09ci50eXBlJiZlLnBpeGVsRW5hYmxlZCl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS51cmxzLm1hcCgoZnVuY3Rpb24ocil7dmFyIHQ9T2JqZWN0KG4ucGFyc2VVcmwpKHIpO3JldHVybiBPYmplY3Qobi5tZXJnZURlZXApKHQuc2VhcmNoLGkpLDA9PT1PYmplY3Qua2V5cyh0LnNlYXJjaCkubGVuZ3RoJiZkZWxldGUgdC5zZWFyY2gse3R5cGU6ZS50eXBlLHVybDpPYmplY3Qobi5idWlsZFVybCkodCl9fSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5jb25jYXQocil9KSxbXSl9KSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBlLmNvbmNhdChyKX0pLFtdKTtvLnB1c2guYXBwbHkobyxzKGMpKX1yZXR1cm4gb319O2Z1bmN0aW9uIG0oZSl7dmFyIHI7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJihyPTI9PT1lLmxlbmd0aCYmIm51bWJlciI9PXR5cGVvZiBlWzBdJiYibnVtYmVyIj09dHlwZW9mIGVbMV0/W3t3OmVbMF0saDplWzFdfV06T2JqZWN0KG4uX21hcCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpKSxyfWZ1bmN0aW9uIGwoZSl7cmV0dXJuInZpZGVvIj09PWUubWVkaWFUeXBlfHwhIU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKX1mdW5jdGlvbiBiKGUscix0KXtlJiYoclt0XT1lKX1PYmplY3QoYS5yZWdpc3RlckJpZGRlcikocCl9fSxbMzg5XSk7CnVwYmpzQ2h1bmsoWzJdLHszOTU6ZnVuY3Rpb24odCxlLHIpe3QuZXhwb3J0cz1yKDM5Nil9LDM5NjpmdW5jdGlvbihtb2R1bGUsX193ZWJwYWNrX2V4cG9ydHNfXyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJBREFQVEVSX1ZFUlNJT04iLChmdW5jdGlvbigpe3JldHVybiBBREFQVEVSX1ZFUlNJT059KSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIlBST0ZJTEVfSURfUFVCTElTSEVSVEFHIiwoZnVuY3Rpb24oKXtyZXR1cm4gUFJPRklMRV9JRF9QVUJMSVNIRVJUQUd9KSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIkZBU1RfQklEX1ZFUlNJT05fQ1VSUkVOVCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZBU1RfQklEX1ZFUlNJT05fQ1VSUkVOVH0pKSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHNwZWN9KSksX193ZWJwYWNrX2V4cG9ydHNfXy5jYW5GYXN0QmlkPWNhbkZhc3RCaWQsX193ZWJwYWNrX2V4cG9ydHNfXy5nZXRGYXN0QmlkVXJsPWdldEZhc3RCaWRVcmwsX193ZWJwYWNrX2V4cG9ydHNfXy50cnlHZXRDcml0ZW9GYXN0QmlkPXRyeUdldENyaXRlb0Zhc3RCaWQ7dmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NyY19hZGxvYWRlcl9qc19fPV9fd2VicGFja19yZXF1aXJlX18oMzUpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2FkYXB0ZXJzX2JpZGRlckZhY3RvcnlfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX2NvbmZpZ19qc19fPV9fd2VicGFja19yZXF1aXJlX18oMyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfbWVkaWFUeXBlc19qc19fPV9fd2VicGFja19yZXF1aXJlX18oMiksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2NvcmVfanNfcHVyZV9mZWF0dXJlc19hcnJheV9maW5kX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygxMSksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2NvcmVfanNfcHVyZV9mZWF0dXJlc19hcnJheV9maW5kX2pzX19fZGVmYXVsdD1fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2NvcmVfanNfcHVyZV9mZWF0dXJlc19hcnJheV9maW5kX2pzX18pLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jcml0ZW9fZGlyZWN0X3JzYV92YWxpZGF0ZV9idWlsZF92ZXJpZnlfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDc3KSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfY3JpdGVvX2RpcmVjdF9yc2FfdmFsaWRhdGVfYnVpbGRfdmVyaWZ5X2pzX19fZGVmYXVsdD1fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2NyaXRlb19kaXJlY3RfcnNhX3ZhbGlkYXRlX2J1aWxkX3ZlcmlmeV9qc19fKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX3NyY19zdG9yYWdlTWFuYWdlcl9qc19fPV9fd2VicGFja19yZXF1aXJlX18oNyk7ZnVuY3Rpb24gX2V4dGVuZHMoKXtyZXR1cm4oX2V4dGVuZHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIHI9YXJndW1lbnRzW2VdO2Zvcih2YXIgaSBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLGkpJiYodFtpXT1yW2ldKX1yZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgR1ZMSUQ9OTEsQURBUFRFUl9WRVJTSU9OPTM0LEJJRERFUl9DT0RFPSJjcml0ZW8iLENEQl9FTkRQT0lOVD0iaHR0cHM6Ly9iaWRkZXIuY3JpdGVvLmNvbS9jZGIiLFBST0ZJTEVfSURfSU5MSU5FPTIwNyxQUk9GSUxFX0lEX1BVQkxJU0hFUlRBRz0xODUsc3RvcmFnZT1PYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19zcmNfc3RvcmFnZU1hbmFnZXJfanNfXy5iKShHVkxJRCksTE9HX1BSRUZJWD0iQ3JpdGVvOiAiLEZBU1RfQklEX1ZFUlNJT05fUExBQ0VIT0xERVI9IiVGQVNUX0JJRF9WRVJTSU9OJSIsRkFTVF9CSURfVkVSU0lPTl9DVVJSRU5UPTExMyxGQVNUX0JJRF9WRVJTSU9OX0xBVEVTVD0ibGF0ZXN0IixGQVNUX0JJRF9WRVJTSU9OX05PTkU9Im5vbmUiLFBVQkxJU0hFUl9UQUdfVVJMX1RFTVBMQVRFPSJodHRwczovL3N0YXRpYy5jcml0ZW8ubmV0L2pzL2xkL3B1Ymxpc2hlcnRhZy5wcmViaWQiK0ZBU1RfQklEX1ZFUlNJT05fUExBQ0VIT0xERVIrIi5qcyIsRkFTVF9CSURfUFVCS0VZX0U9NjU1MzcsRkFTVF9CSURfUFVCS0VZX049Inp0UVl3Q0U1QlU3VDlDRE01aGU2cktvYWJzdFhSbWt6eDU0ekZQWmtXYks1MzBkd3RMQkRlYVdCTXhIQlVUNTVDWXlib1IvRVo0ZWZnaFBpM0NvTkdmR1dlenBqa285UDZwMkV3R0FydEhFZVM0c2xodS9TcFNJRk1qRzZmZHJwUm9OdUlBTWhxMVorUHIvK0hPZDFwVGhGS2VHRnIyL05odEFnK1RYQXphVT0iLHNwZWM9e2NvZGU6QklEREVSX0NPREUsZ3ZsaWQ6R1ZMSUQsc3VwcG9ydGVkTWVkaWFUeXBlczpbX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfbWVkaWFUeXBlc19qc19fLmIsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfbWVkaWFUeXBlc19qc19fLmQsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfbWVkaWFUeXBlc19qc19fLmNdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fCF0LnBhcmFtc3x8IXQucGFyYW1zLnpvbmVJZCYmIXQucGFyYW1zLm5ldHdvcmtJZCkmJiEoaGFzVmlkZW9NZWRpYVR5cGUodCkmJiFoYXNWYWxpZFZpZGVvTWVkaWFUeXBlKHQpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbih0LGUpe3ZhciByLGkscz1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19jb25maWdfanNfXy5iLmdldExlZ2FjeUZwZChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19jb25maWdfanNfXy5iLmdldENvbmZpZygib3J0YjIiKSl8fHt9O19leHRlbmRzKGUse3B1Ymxpc2hlckV4dDpzLmNvbnRleHQsdXNlckV4dDpzLnVzZXIsY2VoOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX2NvbmZpZ19qc19fLmIuZ2V0Q29uZmlnKCJjcml0ZW8uY2VoIil9KTt2YXIgYT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19jb25maWdfanNfXy5iLmdldENvbmZpZygiY3JpdGVvLmZhc3RCaWRWZXJzaW9uIiksXz1jYW5GYXN0QmlkKGEpO2lmKCFwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSYmXyl7d2luZG93LkNyaXRlbz13aW5kb3cuQ3JpdGVvfHx7fSx3aW5kb3cuQ3JpdGVvLnVzZVByZWJpZEV2ZW50cz0hMSx0cnlHZXRDcml0ZW9GYXN0QmlkKCk7dmFyIG89Z2V0RmFzdEJpZFVybChhKTtzZXRUaW1lb3V0KChmdW5jdGlvbigpe09iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NyY19hZGxvYWRlcl9qc19fLmEpKG8sQklEREVSX0NPREUpfSksZS50aW1lb3V0KX1pZihwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSl7dmFyIG49bmV3IENyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkKFBST0ZJTEVfSURfUFVCTElTSEVSVEFHLEFEQVBURVJfVkVSU0lPTix0LGUsIjUuMjAuMiIpO3I9bi5idWlsZENkYlVybCgpLGk9bi5idWlsZENkYlJlcXVlc3QoKX1lbHNle3ZhciBjPWJ1aWxkQ29udGV4dCh0LGUpO3I9YnVpbGRDZGJVcmwoYyksaT1idWlsZENkYlJlcXVlc3QoYyx0LGUpfWlmKGkpcmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOnIsZGF0YTppLGJpZFJlcXVlc3RzOnR9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbih0LGUpe3ZhciByPXQuYm9keXx8dDtpZihwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSl7dmFyIGk9Q3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcihlKTtpZihpKXJldHVybiBpLmludGVycHJldFJlc3BvbnNlKHIsZSl9dmFyIHM9W107cmV0dXJuIHImJnIuc2xvdHMmJk9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmlzQXJyYXkpKHIuc2xvdHMpJiZyLnNsb3RzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fX2RlZmF1bHQoKShlLmJpZFJlcXVlc3RzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlPT09dC5pbXBpZCYmKCFlLnBhcmFtcy56b25lSWR8fHBhcnNlSW50KGUucGFyYW1zLnpvbmVJZCk9PT10LnpvbmVpZCl9KSksaT1yLmJpZElkLGE9e3JlcXVlc3RJZDppLGFkSWQ6dC5iaWRJZHx8T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxjcG06dC5jcG0sY3VycmVuY3k6dC5jdXJyZW5jeSxuZXRSZXZlbnVlOiEwLHR0bDp0LnR0bHx8NjAsY3JlYXRpdmVJZDp0LmNyZWF0aXZlY29kZSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodCxkZWFsSWQ6dC5kZWFsQ29kZX07dC5hZG9tYWluJiYoYS5tZXRhPV9leHRlbmRzKHt9LGEubWV0YSx7YWR2ZXJ0aXNlckRvbWFpbnM6dC5hZG9tYWlufSkpLHQubmF0aXZlP3IucGFyYW1zLm5hdGl2ZUNhbGxiYWNrP2EuYWQ9Y3JlYXRlTmF0aXZlQWQoaSx0Lm5hdGl2ZSxyLnBhcmFtcy5uYXRpdmVDYWxsYmFjayk6KGEubmF0aXZlPWNyZWF0ZVByZWJpZE5hdGl2ZUFkKHQubmF0aXZlKSxhLm1lZGlhVHlwZT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY19tZWRpYVR5cGVzX2pzX18uYyk6dC52aWRlbz8oYS52YXN0VXJsPXQuZGlzcGxheXVybCxhLm1lZGlhVHlwZT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY19tZWRpYVR5cGVzX2pzX18uZCk6YS5hZD10LmNyZWF0aXZlLHMucHVzaChhKX0pKSxzfSxvblRpbWVvdXQ6ZnVuY3Rpb24odCl7aWYocHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJkFycmF5LmlzQXJyYXkodCkpe3ZhciBlPVtdO3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7LTE9PT1lLmluZGV4T2YodC5hdWN0aW9uSWQpJiYoZS5wdXNoKHQuYXVjdGlvbklkKSxDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZC5HZXRBZGFwdGVyKHQuYXVjdGlvbklkKS5oYW5kbGVCaWRUaW1lb3V0KCkpfSkpfX0sb25CaWRXb246ZnVuY3Rpb24odCl7cHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJnQmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkLkdldEFkYXB0ZXIodC5hdWN0aW9uSWQpLmhhbmRsZUJpZFdvbih0KX0sb25TZXRUYXJnZXRpbmc6ZnVuY3Rpb24odCl7cHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkLkdldEFkYXB0ZXIodC5hdWN0aW9uSWQpLmhhbmRsZVNldFRhcmdldGluZyh0KX19O2Z1bmN0aW9uIHB1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQ3JpdGVvJiZDcml0ZW8uUHViVGFnJiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzJiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZH1mdW5jdGlvbiBidWlsZENvbnRleHQodCxlKXt2YXIgcj0iIjtlJiZlLnJlZmVyZXJJbmZvJiYocj1lLnJlZmVyZXJJbmZvLnJlZmVyZXIpO3ZhciBpPU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLnBhcnNlVXJsKShyKS5zZWFyY2gscz17dXJsOnIsZGVidWc6IjEiPT09aS5wYnRfZGVidWcsbm9Mb2c6IjEiPT09aS5wYnRfbm9sb2csYW1wOiExfTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXsiYW1wIj09PXQucGFyYW1zLmludGVncmF0aW9uTW9kZSYmKHMuYW1wPSEwKX0pKSxzfWZ1bmN0aW9uIGJ1aWxkQ2RiVXJsKHQpe3ZhciBlPUNEQl9FTkRQT0lOVDtyZXR1cm4gZSs9Ij9wcm9maWxlSWQ9IitQUk9GSUxFX0lEX0lOTElORSxlKz0iJmF2PSIrU3RyaW5nKEFEQVBURVJfVkVSU0lPTiksZSs9IiZ3dj0iK2VuY29kZVVSSUNvbXBvbmVudCgiNS4yMC4yIiksZSs9IiZjYj0iK1N0cmluZyhNYXRoLmZsb29yKDk5OTk5OTk5OTk5Kk1hdGgucmFuZG9tKCkpKSx0LmFtcCYmKGUrPSImaW09MSIpLHQuZGVidWcmJihlKz0iJmRlYnVnPTEiKSx0Lm5vTG9nJiYoZSs9IiZub2xvZz0xIiksZX1mdW5jdGlvbiBjaGVja05hdGl2ZVNlbmRJZCh0KXtyZXR1cm4hKHQubmF0aXZlUGFyYW1zJiYodC5uYXRpdmVQYXJhbXMuaW1hZ2UmJighMCE9PXQubmF0aXZlUGFyYW1zLmltYWdlLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5pbWFnZS5zZW5kVGFyZ2V0aW5nS2V5cyl8fHQubmF0aXZlUGFyYW1zLmljb24mJighMCE9PXQubmF0aXZlUGFyYW1zLmljb24uc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLmljb24uc2VuZFRhcmdldGluZ0tleXMpfHx0Lm5hdGl2ZVBhcmFtcy5jbGlja1VybCYmKCEwIT09dC5uYXRpdmVQYXJhbXMuY2xpY2tVcmwuc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLmNsaWNrVXJsLnNlbmRUYXJnZXRpbmdLZXlzKXx8dC5uYXRpdmVQYXJhbXMuZGlzcGxheVVybCYmKCEwIT09dC5uYXRpdmVQYXJhbXMuZGlzcGxheVVybC5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMuZGlzcGxheVVybC5zZW5kVGFyZ2V0aW5nS2V5cyl8fHQubmF0aXZlUGFyYW1zLnByaXZhY3lMaW5rJiYoITAhPT10Lm5hdGl2ZVBhcmFtcy5wcml2YWN5TGluay5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMucHJpdmFjeUxpbmsuc2VuZFRhcmdldGluZ0tleXMpfHx0Lm5hdGl2ZVBhcmFtcy5wcml2YWN5SWNvbiYmKCEwIT09dC5uYXRpdmVQYXJhbXMucHJpdmFjeUljb24uc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLnByaXZhY3lJY29uLnNlbmRUYXJnZXRpbmdLZXlzKSkpfWZ1bmN0aW9uIGJ1aWxkQ2RiUmVxdWVzdCh0LGUscil7dmFyIGkscz17cHVibGlzaGVyOnt1cmw6dC51cmwsZXh0OnIucHVibGlzaGVyRXh0fSxzbG90czplLm1hcCgoZnVuY3Rpb24odCl7aT10LnBhcmFtcy5uZXR3b3JrSWR8fGk7dmFyIGU9e2ltcGlkOnQuYWRVbml0Q29kZSx0cmFuc2FjdGlvbmlkOnQudHJhbnNhY3Rpb25JZCxhdWN0aW9uSWQ6dC5hdWN0aW9uSWR9O2lmKHQucGFyYW1zLnpvbmVJZCYmKGUuem9uZWlkPXQucGFyYW1zLnpvbmVJZCksT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2VzcykodCwib3J0YjJJbXAuZXh0IikmJihlLmV4dD10Lm9ydGIySW1wLmV4dCksdC5wYXJhbXMuZXh0JiYoZS5leHQ9X2V4dGVuZHMoe30sZS5leHQsdC5wYXJhbXMuZXh0KSksdC5wYXJhbXMucHVibGlzaGVyU3ViSWQmJihlLnB1Ymxpc2hlcnN1YmlkPXQucGFyYW1zLnB1Ymxpc2hlclN1YklkKSx0LnBhcmFtcy5uYXRpdmVDYWxsYmFja3x8T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2VzcykodCwibWVkaWFUeXBlcy4iLmNvbmNhdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY19tZWRpYVR5cGVzX2pzX18uYykpPyhlLm5hdGl2ZT0hMCxjaGVja05hdGl2ZVNlbmRJZCh0KXx8T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybikoTE9HX1BSRUZJWCsiYWxsIG5hdGl2ZSBhc3NldHMgY29udGFpbmluZyBVUkwgc2hvdWxkIGJlIHNlbnQgYXMgcGxhY2Vob2xkZXJzIHdpdGggc2VuZElkKGljb24sIGltYWdlLCBjbGlja1VybCwgZGlzcGxheVVybCwgcHJpdmFjeUxpbmssIHByaXZhY3lJY29uKSIpLGUuc2l6ZXM9cGFyc2VTaXplcyhyZXRyaWV2ZUJhbm5lclNpemVzKHQpLHBhcnNlTmF0aXZlU2l6ZSkpOmUuc2l6ZXM9cGFyc2VTaXplcyhyZXRyaWV2ZUJhbm5lclNpemVzKHQpLHBhcnNlU2l6ZSksaGFzVmlkZW9NZWRpYVR5cGUodCkpe3ZhciByPXtwbGF5ZXJzaXplczpwYXJzZVNpemVzKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpLHBhcnNlU2l6ZSksbWltZXM6dC5tZWRpYVR5cGVzLnZpZGVvLm1pbWVzLHByb3RvY29sczp0Lm1lZGlhVHlwZXMudmlkZW8ucHJvdG9jb2xzLG1heGR1cmF0aW9uOnQubWVkaWFUeXBlcy52aWRlby5tYXhkdXJhdGlvbixhcGk6dC5tZWRpYVR5cGVzLnZpZGVvLmFwaSxza2lwOnQubWVkaWFUeXBlcy52aWRlby5za2lwLHBsYWNlbWVudDp0Lm1lZGlhVHlwZXMudmlkZW8ucGxhY2VtZW50LG1pbmR1cmF0aW9uOnQubWVkaWFUeXBlcy52aWRlby5taW5kdXJhdGlvbixwbGF5YmFja21ldGhvZDp0Lm1lZGlhVHlwZXMudmlkZW8ucGxheWJhY2ttZXRob2Qsc3RhcnRkZWxheTp0Lm1lZGlhVHlwZXMudmlkZW8uc3RhcnRkZWxheX0scz10LnBhcmFtcy52aWRlbzt2b2lkIDAhPT1zJiYoci5za2lwPXIuc2tpcHx8cy5za2lwfHwwLHIucGxhY2VtZW50PXIucGxhY2VtZW50fHxzLnBsYWNlbWVudCxyLm1pbmR1cmF0aW9uPXIubWluZHVyYXRpb258fHMubWluZHVyYXRpb24sci5wbGF5YmFja21ldGhvZD1yLnBsYXliYWNrbWV0aG9kfHxzLnBsYXliYWNrbWV0aG9kLHIuc3RhcnRkZWxheT1yLnN0YXJ0ZGVsYXl8fHMuc3RhcnRkZWxheXx8MCksZS52aWRlbz1yfXJldHVybiBlfSkpfTtyZXR1cm4gaSYmKHMucHVibGlzaGVyLm5ldHdvcmtpZD1pKSxzLnVzZXI9e2V4dDpyLnVzZXJFeHR9LHImJnIuY2VoJiYocy51c2VyLmNlaD1yLmNlaCksciYmci5nZHByQ29uc2VudCYmKHMuZ2RwckNvbnNlbnQ9e30sdm9pZCAwIT09ci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHMuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM9ISFyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxzLmdkcHJDb25zZW50LnZlcnNpb249ci5nZHByQ29uc2VudC5hcGlWZXJzaW9uLHZvaWQgMCE9PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKHMuZ2RwckNvbnNlbnQuY29uc2VudERhdGE9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksciYmci51c3BDb25zZW50JiYocy51c2VyLnVzcElhYj1yLnVzcENvbnNlbnQpLHN9ZnVuY3Rpb24gcmV0cmlldmVCYW5uZXJTaXplcyh0KXtyZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2VzcykodCwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKXx8dC5zaXplc31mdW5jdGlvbiBwYXJzZVNpemVzKHQsZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkodFswXSk/dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfSkpOltlKHQpXX1mdW5jdGlvbiBwYXJzZVNpemUodCl7cmV0dXJuIHRbMF0rIngiK3RbMV19ZnVuY3Rpb24gcGFyc2VOYXRpdmVTaXplKHQpe3JldHVybiB2b2lkIDA9PT10WzBdJiZ2b2lkIDA9PT10WzFdPyIyeDIiOnRbMF0rIngiK3RbMV19ZnVuY3Rpb24gaGFzVmlkZW9NZWRpYVR5cGUodCl7cmV0dXJuIHZvaWQgMCE9PU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMudmlkZW8iKX1mdW5jdGlvbiBoYXNWYWxpZFZpZGVvTWVkaWFUeXBlKHQpe3ZhciBlPSEwO2lmKFsibWltZXMiLCJwbGF5ZXJTaXplIiwibWF4ZHVyYXRpb24iLCJwcm90b2NvbHMiLCJhcGkiLCJza2lwIiwicGxhY2VtZW50IiwicGxheWJhY2ttZXRob2QiXS5mb3JFYWNoKChmdW5jdGlvbihyKXt2b2lkIDA9PT1PYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKSh0LCJtZWRpYVR5cGVzLnZpZGVvLiIrcikmJnZvaWQgMD09PU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3MpKHQsInBhcmFtcy52aWRlby4iK3IpJiYoZT0hMSxPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5sb2dFcnJvcikoIkNyaXRlbyBCaWQgQWRhcHRlcjogbWVkaWFUeXBlcy52aWRlby4iK3IrIiBpcyByZXF1aXJlZCIpKX0pKSxlKXt2YXIgcj10Lm1lZGlhVHlwZXMudmlkZW8ucGxhY2VtZW50fHx0LnBhcmFtcy52aWRlby5wbGFjZW1lbnQ7aWYoImluc3RyZWFtIj09dC5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJjE9PT1yKXJldHVybiEwO2lmKCJvdXRzdHJlYW0iPT10Lm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCYmMSE9PXIpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gY3JlYXRlUHJlYmlkTmF0aXZlQWQodCl7cmV0dXJue3NlbmRUYXJnZXRpbmdLZXlzOiExLHRpdGxlOnQucHJvZHVjdHNbMF0udGl0bGUsYm9keTp0LnByb2R1Y3RzWzBdLmRlc2NyaXB0aW9uLHNwb25zb3JlZEJ5OnQuYWR2ZXJ0aXNlci5kZXNjcmlwdGlvbixpY29uOnQuYWR2ZXJ0aXNlci5sb2dvLGltYWdlOnQucHJvZHVjdHNbMF0uaW1hZ2UsY2xpY2tVcmw6dC5wcm9kdWN0c1swXS5jbGlja191cmwscHJpdmFjeUxpbms6dC5wcml2YWN5Lm9wdG91dF9jbGlja191cmwscHJpdmFjeUljb246dC5wcml2YWN5Lm9wdG91dF9pbWFnZV91cmwsY3RhOnQucHJvZHVjdHNbMF0uY2FsbF90b19hY3Rpb24scHJpY2U6dC5wcm9kdWN0c1swXS5wcmljZSxpbXByZXNzaW9uVHJhY2tlcnM6dC5pbXByZXNzaW9uX3BpeGVscy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnVybH0pKX19ZnVuY3Rpb24gY3JlYXRlTmF0aXZlQWQodCxlLHIpe3ZhciBpPSJjcml0ZW9fcHJlYmlkX25hdGl2ZV9zbG90cyI7cmV0dXJuIHdpbmRvd1tpXT13aW5kb3dbaV18fHt9LHdpbmRvd1tpXVt0XT17Y2FsbGJhY2s6cixwYXlsb2FkOmV9LCdcbjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij5cbmZvciAodmFyIGkgPSAwOyBpIDwgMTA7ICsraSkge1xuIHZhciBzbG90cyA9IHdpbmRvdy5wYXJlbnQuJy5jb25jYXQoaSwnO1xuICBpZighc2xvdHMpe2NvbnRpbnVlO31cbiAgdmFyIHJlc3BvbnNlU2xvdCA9IHNsb3RzWyInKS5jb25jYXQodCwnIl07XG4gIHJlc3BvbnNlU2xvdC5jYWxsYmFjayhyZXNwb25zZVNsb3QucGF5bG9hZCk7XG4gIGJyZWFrO1xufVxuPFwvc2NyaXB0PicpfWZ1bmN0aW9uIGNhbkZhc3RCaWQodCl7cmV0dXJuIHQhPT1GQVNUX0JJRF9WRVJTSU9OX05PTkV9ZnVuY3Rpb24gZ2V0RmFzdEJpZFVybCh0KXt2YXIgZTtpZih0PT09RkFTVF9CSURfVkVSU0lPTl9MQVRFU1QpZT0iIjtlbHNlIGlmKHQpe1N0cmluZyh0KS5zcGxpdCgiLiIpWzBdPDEwMiYmT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybikoIlNwZWNpZnlpbmcgYSBGYXN0YmlkIHZlcnNpb24gd2hpY2ggaXMgbm90IHN1cHBvcnRpbmcgdmVyc2lvbiBzZWxlY3Rpb24uIiksZT0iLiIrdH1lbHNlIGU9Ii4iK0ZBU1RfQklEX1ZFUlNJT05fQ1VSUkVOVDtyZXR1cm4gUFVCTElTSEVSX1RBR19VUkxfVEVNUExBVEUucmVwbGFjZShGQVNUX0JJRF9WRVJTSU9OX1BMQUNFSE9MREVSLGUpfWZ1bmN0aW9uIHRyeUdldENyaXRlb0Zhc3RCaWQoKXt0cnl7dmFyIGZhc3RCaWRTdG9yYWdlS2V5PSJjcml0ZW9fZmFzdF9iaWQiLGhhc2hQcmVmaXg9Ii8vIEhhc2g6ICIsZmFzdEJpZEZyb21TdG9yYWdlPXN0b3JhZ2UuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoZmFzdEJpZFN0b3JhZ2VLZXkpO2lmKG51bGwhPT1mYXN0QmlkRnJvbVN0b3JhZ2Upe3ZhciBmaXJzdExpbmVFbmRQb3NpdGlvbj1mYXN0QmlkRnJvbVN0b3JhZ2UuaW5kZXhPZigiXG4iKSxmaXJzdExpbmU9ZmFzdEJpZEZyb21TdG9yYWdlLnN1YnN0cigwLGZpcnN0TGluZUVuZFBvc2l0aW9uKS50cmltKCk7aWYoZmlyc3RMaW5lLnN1YnN0cigwLGhhc2hQcmVmaXgubGVuZ3RoKSE9PWhhc2hQcmVmaXgpT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybikoIk5vIGhhc2ggZm91bmQgaW4gRmFzdEJpZCIpLHN0b3JhZ2UucmVtb3ZlRGF0YUZyb21Mb2NhbFN0b3JhZ2UoZmFzdEJpZFN0b3JhZ2VLZXkpO2Vsc2V7dmFyIHB1Ymxpc2hlclRhZ0hhc2g9Zmlyc3RMaW5lLnN1YnN0cihoYXNoUHJlZml4Lmxlbmd0aCkscHVibGlzaGVyVGFnPWZhc3RCaWRGcm9tU3RvcmFnZS5zdWJzdHIoZmlyc3RMaW5lRW5kUG9zaXRpb24rMSk7T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jcml0ZW9fZGlyZWN0X3JzYV92YWxpZGF0ZV9idWlsZF92ZXJpZnlfanNfXy52ZXJpZnkpKHB1Ymxpc2hlclRhZyxwdWJsaXNoZXJUYWdIYXNoLEZBU1RfQklEX1BVQktFWV9OLEZBU1RfQklEX1BVQktFWV9FKT8oT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ubG9nSW5mbykoIlVzaW5nIENyaXRlbyBGYXN0QmlkIiksZXZhbChwdWJsaXNoZXJUYWcpKTooT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybikoIkludmFsaWQgQ3JpdGVvIEZhc3RCaWQgZm91bmQiKSxzdG9yYWdlLnJlbW92ZURhdGFGcm9tTG9jYWxTdG9yYWdlKGZhc3RCaWRTdG9yYWdlS2V5KSl9fX1jYXRjaCh0KXt9fU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3NyY19hZGFwdGVyc19iaWRkZXJGYWN0b3J5X2pzX18ucmVnaXN0ZXJCaWRkZXIpKHNwZWMpfSw3NzpmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgaT1yKDc4KSxzPXIoNzkpO2UudmVyaWZ5PWZ1bmN0aW9uKHQsZSxyLGEpe3ZhciBfPW5ldyBpLkJpZ0ludGVnZXIoaS5iNjR0b0hleChlKSksbz1uZXcgaS5CaWdJbnRlZ2VyKGkuYjY0dG9IZXgocikpLG49Xy5tb2RQb3dJbnQoYSxvKTtyZXR1cm4gaS5yZW1vdmVFeHRyYVN5bWJvbHMobi50b0hleFN0cmluZygpKT09PXMuU2hhMjU2Lmhhc2godCl9fSw3ODpmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7bnVsbCE9PXQmJnRoaXMuZnJvbUhleFN0cmluZyh0KX1yZXR1cm4gdC5wcm90b3R5cGUudG9IZXhTdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLnM8MClyZXR1cm4iLSIrdGhpcy5uZWdhdGUoKS50b0hleFN0cmluZygpO3ZhciB0LGU9ITEscj0iIixpPXRoaXMudCxzPXRoaXMuREItaSp0aGlzLkRCJTQ7aWYoaS0tID4wKWZvcihzPHRoaXMuREImJih0PXRoaXNbaV0+PnMpPjAmJihlPSEwLHI9ZCh0KSk7aT49MDspczw0Pyh0PSh0aGlzW2ldJigxPDxzKS0xKTw8NC1zLHR8PXRoaXNbLS1pXT4+KHMrPXRoaXMuREItNCkpOih0PXRoaXNbaV0+PihzLT00KSYxNSxzPD0wJiYocys9dGhpcy5EQiwtLWkpKSx0PjAmJihlPSEwKSxlJiYocis9ZCh0KSk7cmV0dXJuIGU/cjoiMCJ9LHQucHJvdG90eXBlLmZyb21IZXhTdHJpbmc9ZnVuY3Rpb24oZSl7aWYobnVsbCE9PWUpe3RoaXMudD0wLHRoaXMucz0wO2Zvcih2YXIgcj1lLmxlbmd0aCxpPSExLHM9MDstLXI+PTA7KXt2YXIgYT1wKGUscik7YTwwPyItIj09ZS5jaGFyQXQocikmJihpPSEwKTooaT0hMSwwPT1zP3RoaXNbdGhpcy50KytdPWE6cys0PnRoaXMuREI/KHRoaXNbdGhpcy50LTFdfD0oYSYoMTw8dGhpcy5EQi1zKS0xKTw8cyx0aGlzW3RoaXMudCsrXT1hPj50aGlzLkRCLXMpOnRoaXNbdGhpcy50LTFdfD1hPDxzLChzKz00KT49dGhpcy5EQiYmKHMtPXRoaXMuREIpKX0wLHRoaXMuY2xhbXAoKSxpJiZ0LlpFUk8uc3ViVG8odGhpcyx0aGlzKX19LHQucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3ZhciBlPWEoKTtyZXR1cm4gdC5aRVJPLnN1YlRvKHRoaXMsZSksZX0sdC5wcm90b3R5cGUuYWJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuczwwP3RoaXMubmVnYXRlKCk6dGhpc30sdC5wcm90b3R5cGUubW9kPWZ1bmN0aW9uKGUpe3ZhciByPWEoKTtyZXR1cm4gdGhpcy5hYnMoKS5kaXZSZW1UbyhlLG51bGwsciksdGhpcy5zPDAmJnIuY29tcGFyZVRvKHQuWkVSTyk+MCYmZS5zdWJUbyhyLHIpLHJ9LHQucHJvdG90eXBlLmNvcHlUbz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50LTE7ZT49MDstLWUpdFtlXT10aGlzW2VdO3QudD10aGlzLnQsdC5zPXRoaXMuc30sdC5wcm90b3R5cGUubFNoaWZ0VG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dCV0aGlzLkRCLGk9dGhpcy5EQi1yLHM9KDE8PGkpLTEsYT1NYXRoLmZsb29yKHQvdGhpcy5EQiksXz10aGlzLnM8PHImdGhpcy5ETSxvPXRoaXMudC0xO28+PTA7LS1vKWVbbythKzFdPXRoaXNbb10+Pml8XyxfPSh0aGlzW29dJnMpPDxyO2ZvcihvPWEtMTtvPj0wOy0tbyllW29dPTA7ZVthXT1fLGUudD10aGlzLnQrYSsxLGUucz10aGlzLnMsZS5jbGFtcCgpfSx0LnByb3RvdHlwZS5pbnZEaWdpdD1mdW5jdGlvbigpe2lmKHRoaXMudDwxKXJldHVybiAwO3ZhciB0PXRoaXNbMF07aWYoMD09KDEmdCkpcmV0dXJuIDA7dmFyIGU9MyZ0O3JldHVybihlPShlPShlPShlPWUqKDItKDE1JnQpKmUpJjE1KSooMi0oMjU1JnQpKmUpJjI1NSkqKDItKCg2NTUzNSZ0KSplJjY1NTM1KSkmNjU1MzUpKigyLXQqZSV0aGlzLkRWKSV0aGlzLkRWKT4wP3RoaXMuRFYtZTotZX0sdC5wcm90b3R5cGUuZGxTaGlmdFRvPWZ1bmN0aW9uKHQsZSl7dmFyIHI7Zm9yKHI9dGhpcy50LTE7cj49MDstLXIpZVtyK3RdPXRoaXNbcl07Zm9yKHI9dC0xO3I+PTA7LS1yKWVbcl09MDtlLnQ9dGhpcy50K3QsZS5zPXRoaXMuc30sdC5wcm90b3R5cGUuc3F1YXJlVG89ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuYWJzKCkscj10LnQ9MiplLnQ7LS1yPj0wOyl0W3JdPTA7Zm9yKHI9MDtyPGUudC0xOysrcil7dmFyIGk9ZS5hbShyLGVbcl0sdCwyKnIsMCwxKTsodFtyK2UudF0rPWUuYW0ocisxLDIqZVtyXSx0LDIqcisxLGksZS50LXItMSkpPj1lLkRWJiYodFtyK2UudF0tPWUuRFYsdFtyK2UudCsxXT0xKX10LnQ+MCYmKHRbdC50LTFdKz1lLmFtKHIsZVtyXSx0LDIqciwwLDEpKSx0LnM9MCx0LmNsYW1wKCl9LHQucHJvdG90eXBlLm11bHRpcGx5VG89ZnVuY3Rpb24oZSxyKXt2YXIgaT10aGlzLmFicygpLHM9ZS5hYnMoKSxhPWkudDtmb3Ioci50PWErcy50Oy0tYT49MDspclthXT0wO2ZvcihhPTA7YTxzLnQ7KythKXJbYStpLnRdPWkuYW0oMCxzW2FdLHIsYSwwLGkudCk7ci5zPTAsci5jbGFtcCgpLHRoaXMucyE9ZS5zJiZ0LlpFUk8uc3ViVG8ocixyKX0sdC5wcm90b3R5cGUuZGl2UmVtVG89ZnVuY3Rpb24oZSxyLGkpe3ZhciBzPWUuYWJzKCk7aWYoIShzLnQ8PTApKXt2YXIgbz10aGlzLmFicygpO2lmKG8udDxzLnQpcmV0dXJuIG51bGwhPXImJnIuZnJvbUhleFN0cmluZygiMCIpLHZvaWQobnVsbCE9aSYmdGhpcy5jb3B5VG8oaSkpO251bGw9PWkmJihpPWEoKSk7dmFyIG49YSgpLGM9dGhpcy5zLHA9ZS5zLGQ9dGhpcy5EQi1fKHNbcy50LTFdKTtkPjA/KHMubFNoaWZ0VG8oZCxuKSxvLmxTaGlmdFRvKGQsaSkpOihzLmNvcHlUbyhuKSxvLmNvcHlUbyhpKSk7dmFyIHU9bi50LGw9blt1LTFdO2lmKDAhPWwpe3ZhciBoPWwqKDE8PHRoaXMuRjEpKyh1PjE/blt1LTJdPj50aGlzLkYyOjApLGY9dGhpcy5GVi9oLEU9KDE8PHRoaXMuRjEpL2gsdj0xPDx0aGlzLkYyLG09aS50LFQ9bS11LGI9bnVsbD09cj9hKCk6cjtmb3Iobi5kbFNoaWZ0VG8oVCxiKSxpLmNvbXBhcmVUbyhiKT49MCYmKGlbaS50KytdPTEsaS5zdWJUbyhiLGkpKSx0Lk9ORS5kbFNoaWZ0VG8odSxiKSxiLnN1YlRvKG4sbik7bi50PHU7KW5bbi50KytdPTA7Zm9yKDstLVQ+PTA7KXt2YXIgRD1pWy0tbV09PWw/dGhpcy5ETTpNYXRoLmZsb29yKGlbbV0qZisoaVttLTFdK3YpKkUpO2lmKChpW21dKz1uLmFtKDAsRCxpLFQsMCx1KSk8RClmb3Iobi5kbFNoaWZ0VG8oVCxiKSxpLnN1YlRvKGIsaSk7aVttXTwtLUQ7KWkuc3ViVG8oYixpKX1udWxsIT1yJiYoaS5kclNoaWZ0VG8odSxyKSxjIT1wJiZ0LlpFUk8uc3ViVG8ocixyKSksaS50PXUsaS5jbGFtcCgpLGQ+MCYmaS5yU2hpZnRUbyhkLGkpLGM8MCYmdC5aRVJPLnN1YlRvKGksaSl9fX0sdC5wcm90b3R5cGUuclNoaWZ0VG89ZnVuY3Rpb24odCxlKXtlLnM9dGhpcy5zO3ZhciByPU1hdGguZmxvb3IodC90aGlzLkRCKTtpZihyPj10aGlzLnQpZS50PTA7ZWxzZXt2YXIgaT10JXRoaXMuREIscz10aGlzLkRCLWksYT0oMTw8aSktMTtlWzBdPXRoaXNbcl0+Pmk7Zm9yKHZhciBfPXIrMTtfPHRoaXMudDsrK18pZVtfLXItMV18PSh0aGlzW19dJmEpPDxzLGVbXy1yXT10aGlzW19dPj5pO2k+MCYmKGVbdGhpcy50LXItMV18PSh0aGlzLnMmYSk8PHMpLGUudD10aGlzLnQtcixlLmNsYW1wKCl9fSx0LnByb3RvdHlwZS5kclNoaWZ0VG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dDtyPHRoaXMudDsrK3IpZVtyLXRdPXRoaXNbcl07ZS50PU1hdGgubWF4KHRoaXMudC10LDApLGUucz10aGlzLnN9LHQucHJvdG90eXBlLnN1YlRvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPTAsaT0wLHM9TWF0aC5taW4odC50LHRoaXMudCk7cjxzOylpKz10aGlzW3JdLXRbcl0sZVtyKytdPWkmdGhpcy5ETSxpPj49dGhpcy5EQjtpZih0LnQ8dGhpcy50KXtmb3IoaS09dC5zO3I8dGhpcy50OylpKz10aGlzW3JdLGVbcisrXT1pJnRoaXMuRE0saT4+PXRoaXMuREI7aSs9dGhpcy5zfWVsc2V7Zm9yKGkrPXRoaXMucztyPHQudDspaS09dFtyXSxlW3IrK109aSZ0aGlzLkRNLGk+Pj10aGlzLkRCO2ktPXQuc31lLnM9aTwwPy0xOjAsaTwtMT9lW3IrK109dGhpcy5EVitpOmk+MCYmKGVbcisrXT1pKSxlLnQ9cixlLmNsYW1wKCl9LHQucHJvdG90eXBlLmNsYW1wPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucyZ0aGlzLkRNO3RoaXMudD4wJiZ0aGlzW3RoaXMudC0xXT09dDspLS10aGlzLnR9LHQucHJvdG90eXBlLm1vZFBvd0ludD1mdW5jdGlvbih0LGUpe3ZhciByO3JldHVybiByPXQ8MjU2fHxlLmlzRXZlbigpP25ldyB1KGUpOm5ldyBsKGUpLHRoaXMuZXhwKHQscil9LHQucHJvdG90eXBlLmV4cD1mdW5jdGlvbihlLHIpe2lmKGU+NDI5NDk2NzI5NXx8ZTwxKXJldHVybiB0Lk9ORTt2YXIgaT1hKCkscz1hKCksbz1yLmNvbnZlcnQodGhpcyksbj1fKGUpLTE7Zm9yKG8uY29weVRvKGkpOy0tbj49MDspaWYoci5zcXJUbyhpLHMpLChlJjE8PG4pPjApci5tdWxUbyhzLG8saSk7ZWxzZXt2YXIgYz1pO2k9cyxzPWN9cmV0dXJuIHIucmV2ZXJ0KGkpfSx0LnByb3RvdHlwZS5pc0V2ZW49ZnVuY3Rpb24oKXtyZXR1cm4gMD09KHRoaXMudD4wPzEmdGhpc1swXTp0aGlzLnMpfSx0LnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zLXQucztpZigwIT1lKXJldHVybiBlO3ZhciByPXRoaXMudDtpZigwIT0oZT1yLXQudCkpcmV0dXJuIHRoaXMuczwwPy1lOmU7Zm9yKDstLXI+PTA7KWlmKDAhPShlPXRoaXNbcl0tdFtyXSkpcmV0dXJuIGU7cmV0dXJuIDB9LHQucHJvdG90eXBlLmFtMT1mdW5jdGlvbih0LGUscixpLHMsYSl7Zm9yKDstLWE+PTA7KXt2YXIgXz1lKnRoaXNbdCsrXStyW2ldK3M7cz1NYXRoLmZsb29yKF8vNjcxMDg4NjQpLHJbaSsrXT02NzEwODg2MyZffXJldHVybiBzfSx0LnByb3RvdHlwZS5hbTI9ZnVuY3Rpb24odCxlLHIsaSxzLGEpe2Zvcih2YXIgXz0zMjc2NyZlLG89ZT4+MTU7LS1hPj0wOyl7dmFyIG49MzI3NjcmdGhpc1t0XSxjPXRoaXNbdCsrXT4+MTUscD1vKm4rYypfO3M9KChuPV8qbisoKDMyNzY3JnApPDwxNSkrcltpXSsoMTA3Mzc0MTgyMyZzKSk+Pj4zMCkrKHA+Pj4xNSkrbypjKyhzPj4+MzApLHJbaSsrXT0xMDczNzQxODIzJm59cmV0dXJuIHN9LHQucHJvdG90eXBlLmFtMz1mdW5jdGlvbih0LGUscixpLHMsYSl7Zm9yKHZhciBfPTE2MzgzJmUsbz1lPj4xNDstLWE+PTA7KXt2YXIgbj0xNjM4MyZ0aGlzW3RdLGM9dGhpc1t0KytdPj4xNCxwPW8qbitjKl87cz0oKG49XypuKygoMTYzODMmcCk8PDE0KStyW2ldK3MpPj4yOCkrKHA+PjE0KStvKmMscltpKytdPTI2ODQzNTQ1NSZufXJldHVybiBzfSx0fSgpO2Z1bmN0aW9uIGEoKXtyZXR1cm4gbmV3IHMobnVsbCl9ZnVuY3Rpb24gXyh0KXt2YXIgZSxyPTE7cmV0dXJuIDAhPShlPXQ+Pj4xNikmJih0PWUscis9MTYpLDAhPShlPXQ+PjgpJiYodD1lLHIrPTgpLDAhPShlPXQ+PjQpJiYodD1lLHIrPTQpLDAhPShlPXQ+PjIpJiYodD1lLHIrPTIpLDAhPShlPXQ+PjEpJiYodD1lLHIrPTEpLHJ9ZS5CaWdJbnRlZ2VyPXMsZS5uYmk9YSxlLm5iaXRzPV87dmFyIG8sbixjPVtdO2ZvcihvPSIwIi5jaGFyQ29kZUF0KDApLG49MDtuPD05OysrbiljW28rK109bjtmb3Iobz0iYSIuY2hhckNvZGVBdCgwKSxuPTEwO248MzY7KytuKWNbbysrXT1uO2ZvcihvPSJBIi5jaGFyQ29kZUF0KDApLG49MTA7bjwzNjsrK24pY1tvKytdPW47ZnVuY3Rpb24gcCh0LGUpe3ZhciByPWNbdC5jaGFyQ29kZUF0KGUpXTtyZXR1cm4gbnVsbD09cj8tMTpyfWUuaW50QXQ9cDtmdW5jdGlvbiBkKHQpe3JldHVybiIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiLmNoYXJBdCh0KX1lLmludDJjaGFyPWQ7ZS5iNjR0b0hleD1mdW5jdGlvbih0KXt2YXIgZSxyPSIiLGk9MCxzPTA7Zm9yKGU9MDtlPHQubGVuZ3RoJiYiPSIhPXQuY2hhckF0KGUpOysrZSl7dmFyIGE9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLmluZGV4T2YodC5jaGFyQXQoZSkpO2E8MHx8KDA9PWk/KHIrPWQoYT4+Mikscz0zJmEsaT0xKToxPT1pPyhyKz1kKHM8PDJ8YT4+NCkscz0xNSZhLGk9Mik6Mj09aT8ocis9ZChzKSxyKz1kKGE+PjIpLHM9MyZhLGk9Myk6KHIrPWQoczw8MnxhPj40KSxyKz1kKDE1JmEpLGk9MCkpfXJldHVybiAxPT1pJiYocis9ZChzPDwyKSkscn0sZS5yZW1vdmVFeHRyYVN5bWJvbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXjFmKzAwLywiIikucmVwbGFjZSgiMzAzMTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAxMDUwMDA0MjAiLCIiKX07dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMubT10fXJldHVybiB0LnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0LnM8MHx8dC5jb21wYXJlVG8odGhpcy5tKT49MD90Lm1vZCh0aGlzLm0pOnR9LHQucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sdC5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQpe3QuZGl2UmVtVG8odGhpcy5tLG51bGwsdCl9LHQucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKHQsZSxyKXt0Lm11bHRpcGx5VG8oZSxyKSx0aGlzLnJlZHVjZShyKX0sdC5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24odCxlKXt0LnNxdWFyZVRvKGUpLHRoaXMucmVkdWNlKGUpfSx0fSgpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMubT10LHRoaXMubXA9dC5pbnZEaWdpdCgpLHRoaXMubXBsPTMyNzY3JnRoaXMubXAsdGhpcy5tcGg9dGhpcy5tcD4+MTUsdGhpcy51bT0oMTw8dC5EQi0xNSktMSx0aGlzLm10Mj0yKnQudH1yZXR1cm4gdC5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbih0KXt2YXIgZT1hKCk7cmV0dXJuIHQuYWJzKCkuZGxTaGlmdFRvKHRoaXMubS50LGUpLGUuZGl2UmVtVG8odGhpcy5tLG51bGwsZSksdC5zPDAmJmUuY29tcGFyZVRvKHMuWkVSTyk+MCYmdGhpcy5tLnN1YlRvKGUsZSksZX0sdC5wcm90b3R5cGUucmV2ZXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPWEoKTtyZXR1cm4gdC5jb3B5VG8oZSksdGhpcy5yZWR1Y2UoZSksZX0sdC5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQpe2Zvcig7dC50PD10aGlzLm10MjspdFt0LnQrK109MDtmb3IodmFyIGU9MDtlPHRoaXMubS50OysrZSl7dmFyIHI9MzI3NjcmdFtlXSxpPXIqdGhpcy5tcGwrKChyKnRoaXMubXBoKyh0W2VdPj4xNSkqdGhpcy5tcGwmdGhpcy51bSk8PDE1KSZ0LkRNO2Zvcih0W3I9ZSt0aGlzLm0udF0rPXRoaXMubS5hbSgwLGksdCxlLDAsdGhpcy5tLnQpO3Rbcl0+PXQuRFY7KXRbcl0tPXQuRFYsdFsrK3JdKyt9dC5jbGFtcCgpLHQuZHJTaGlmdFRvKHRoaXMubS50LHQpLHQuY29tcGFyZVRvKHRoaXMubSk+PTAmJnQuc3ViVG8odGhpcy5tLHQpfSx0LnByb3RvdHlwZS5tdWxUbz1mdW5jdGlvbih0LGUscil7dC5tdWx0aXBseVRvKGUsciksdGhpcy5yZWR1Y2Uocil9LHQucHJvdG90eXBlLnNxclRvPWZ1bmN0aW9uKHQsZSl7dC5zcXVhcmVUbyhlKSx0aGlzLnJlZHVjZShlKX0sdH0oKTtmdW5jdGlvbiBoKHQpe3ZhciBlPWEoKTtyZXR1cm4gZS5mcm9tSGV4U3RyaW5nKHQudG9TdHJpbmcoKSksZX1lLm5idj1oLHMuWkVSTz1oKDApLHMuT05FPWgoMSksIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlciI9PW5hdmlnYXRvci5hcHBOYW1lPyhzLnByb3RvdHlwZS5hbT1zLnByb3RvdHlwZS5hbTIsaT0zMCk6Ik5ldHNjYXBlIiE9bmF2aWdhdG9yLmFwcE5hbWU/KHMucHJvdG90eXBlLmFtPXMucHJvdG90eXBlLmFtMSxpPTI2KToocy5wcm90b3R5cGUuYW09cy5wcm90b3R5cGUuYW0zLGk9MjgpLHMucHJvdG90eXBlLkRCPWkscy5wcm90b3R5cGUuRE09KDE8PGkpLTEscy5wcm90b3R5cGUuRFY9MTw8aTtzLnByb3RvdHlwZS5GVj1NYXRoLnBvdygyLDUyKSxzLnByb3RvdHlwZS5GMT01Mi1pLHMucHJvdG90eXBlLkYyPTIqaS01Mn0sNzk6ZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0Lmhhc2g9ZnVuY3Rpb24oZSl7ZT10LnV0ZjhFbmNvZGUoZXx8IiIpO2Zvcih2YXIgcj1bMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4XSxpPVsxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNV0scz0oZSs9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjgpKS5sZW5ndGgvNCsyLGE9TWF0aC5jZWlsKHMvMTYpLF89bmV3IEFycmF5KGEpLG89MDtvPGE7bysrKXtfW29dPW5ldyBBcnJheSgxNik7Zm9yKHZhciBuPTA7bjwxNjtuKyspX1tvXVtuXT1lLmNoYXJDb2RlQXQoNjQqbys0Km4pPDwyNHxlLmNoYXJDb2RlQXQoNjQqbys0Km4rMSk8PDE2fGUuY2hhckNvZGVBdCg2NCpvKzQqbisyKTw8OHxlLmNoYXJDb2RlQXQoNjQqbys0Km4rMyk8PDB9dmFyIGM9OCooZS5sZW5ndGgtMSkvTWF0aC5wb3coMiwzMikscD04KihlLmxlbmd0aC0xKT4+PjA7X1thLTFdWzE0XT1NYXRoLmZsb29yKGMpLF9bYS0xXVsxNV09cDtmb3Iobz0wO288YTtvKyspe2Zvcih2YXIgZD1uZXcgQXJyYXkoNjQpLHU9MDt1PDE2O3UrKylkW3VdPV9bb11bdV07Zm9yKHU9MTY7dTw2NDt1KyspZFt1XT10LnExKGRbdS0yXSkrZFt1LTddK3QucTAoZFt1LTE1XSkrZFt1LTE2XT4+PjA7dmFyIGw9aVswXSxoPWlbMV0sZj1pWzJdLEU9aVszXSx2PWlbNF0sbT1pWzVdLFQ9aVs2XSxiPWlbN107Zm9yKHU9MDt1PDY0O3UrKyl7dmFyIEQ9Yit0LnoxKHYpK3QuQ2godixtLFQpK3JbdV0rZFt1XSx5PXQuejAobCkrdC5NYWoobCxoLGYpO2I9VCxUPW0sbT12LHY9RStEPj4+MCxFPWYsZj1oLGg9bCxsPUQreT4+PjB9aVswXT1pWzBdK2w+Pj4wLGlbMV09aVsxXStoPj4+MCxpWzJdPWlbMl0rZj4+PjAsaVszXT1pWzNdK0U+Pj4wLGlbNF09aVs0XSt2Pj4+MCxpWzVdPWlbNV0rbT4+PjAsaVs2XT1pWzZdK1Q+Pj4wLGlbN109aVs3XStiPj4+MH12YXIgTz1uZXcgQXJyYXkoaS5sZW5ndGgpO2ZvcihiPTA7YjxpLmxlbmd0aDtiKyspT1tiXT0oIjAwMDAwMDAwIitpW2JdLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTgpO3JldHVybiBPLmpvaW4oIiIpfSx0LnV0ZjhFbmNvZGU9ZnVuY3Rpb24odCl7dHJ5e3JldHVybihuZXcgVGV4dEVuY29kZXIpLmVuY29kZSh0KS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrU3RyaW5nLmZyb21DaGFyQ29kZShlKX0pLCIiKX1jYXRjaChlKXtyZXR1cm4gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHQpKX19LHQuUk9UUj1mdW5jdGlvbih0LGUpe3JldHVybiBlPj4+dHxlPDwzMi10fSx0LnowPWZ1bmN0aW9uKGUpe3JldHVybiB0LlJPVFIoMixlKV50LlJPVFIoMTMsZSledC5ST1RSKDIyLGUpfSx0LnoxPWZ1bmN0aW9uKGUpe3JldHVybiB0LlJPVFIoNixlKV50LlJPVFIoMTEsZSledC5ST1RSKDI1LGUpfSx0LnEwPWZ1bmN0aW9uKGUpe3JldHVybiB0LlJPVFIoNyxlKV50LlJPVFIoMTgsZSleZT4+PjN9LHQucTE9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuUk9UUigxNyxlKV50LlJPVFIoMTksZSleZT4+PjEwfSx0LkNoPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdCZlXn50JnJ9LHQuTWFqPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdCZlXnQmcl5lJnJ9LHR9KCk7ZS5TaGEyNTY9aX19LFszOTVdKTsKdXBianNDaHVuayhbMjg5XSx7Mzk5OmZ1bmN0aW9uKGUscixuKXtlLmV4cG9ydHM9big0MDApfSw0MDA6ZnVuY3Rpb24oZSxyLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHIsImN1cnJlbmN5U3VwcG9ydEVuYWJsZWQiLChmdW5jdGlvbigpe3JldHVybiBofSkpLG4uZChyLCJjdXJyZW5jeVJhdGVzIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSxyLnNldENvbmZpZz1DLHIuYWRkQmlkUmVzcG9uc2VIb29rPUQ7dmFyIG89bigwKSxjPW4oMTQpLHQ9big0MyksaT1uKDUpLGE9KG4ubihpKSxuKDQpKSx1PW4oMykscz1uKDkpO2Z1bmN0aW9uIGYoZSl7cmV0dXJuKGY9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgZCxsPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvcHJlYmlkL2N1cnJlbmN5LWZpbGVAMS9sYXRlc3QuanNvbj9kYXRlPSQkVE9EQVkkJCIseT1bXSxiPXt9LGc9ITEsdj0hMCxwPSJVU0QiLGg9ITEsTz17fSxqPXt9O2Z1bmN0aW9uIEMoZSl7dmFyIHI9bDtpZigib2JqZWN0Ij09PWYoZS5yYXRlcykmJihPLmNvbnZlcnNpb25zPWUucmF0ZXMsZz0hMCx2PSExKSwib2JqZWN0Ij09PWYoZS5kZWZhdWx0UmF0ZXMpJiYoZD1lLmRlZmF1bHRSYXRlcyxPLmNvbnZlcnNpb25zPWQsZz0hMCksInN0cmluZyI9PXR5cGVvZiBlLmFkU2VydmVyQ3VycmVuY3kpe09iamVjdChvLmxvZ0luZm8pKCJlbmFibGluZyBjdXJyZW5jeSBzdXBwb3J0Iixhcmd1bWVudHMpLHA9ZS5hZFNlcnZlckN1cnJlbmN5LGUuY29udmVyc2lvblJhdGVGaWxlJiYoT2JqZWN0KG8ubG9nSW5mbykoImN1cnJlbmN5IHVzaW5nIG92ZXJyaWRlIGNvbnZlcnNpb25SYXRlRmlsZToiLGUuY29udmVyc2lvblJhdGVGaWxlKSxyPWUuY29udmVyc2lvblJhdGVGaWxlKTt2YXIgbj1yLmluZGV4T2YoIiQkVE9EQVkkJCIpO2lmKC0xIT09bil7dmFyIGM9bmV3IERhdGUsdD0iIi5jb25jYXQoYy5nZXRNb250aCgpKzEpLGk9IiIuY29uY2F0KGMuZ2V0RGF0ZSgpKTt0Lmxlbmd0aDwyJiYodD0iMCIuY29uY2F0KHQpKSxpLmxlbmd0aDwyJiYoaT0iMCIuY29uY2F0KGkpKTt2YXIgYT0iIi5jb25jYXQoYy5nZXRGdWxsWWVhcigpKS5jb25jYXQodCkuY29uY2F0KGkpO3I9IiIuY29uY2F0KHIuc3Vic3RyaW5nKDAsbikpLmNvbmNhdChhKS5jb25jYXQoci5zdWJzdHJpbmcobis5LHIubGVuZ3RoKSl9bShyKX1lbHNlIE9iamVjdChvLmxvZ0luZm8pKCJkaXNhYmxpbmcgY3VycmVuY3kgc3VwcG9ydCIpLFIoKTsib2JqZWN0Ij09PWYoZS5iaWRkZXJDdXJyZW5jeURlZmF1bHQpJiYoaj1lLmJpZGRlckN1cnJlbmN5RGVmYXVsdCl9ZnVuY3Rpb24gUyhlKXtkPyhPYmplY3Qoby5sb2dXYXJuKShlKSxPYmplY3Qoby5sb2dXYXJuKSgiQ3VycmVuY3kgZmFpbGVkIGxvYWRpbmcgcmF0ZXMsIGZhbGxpbmcgYmFjayB0byBjdXJyZW5jeS5kZWZhdWx0UmF0ZXMiKSk6T2JqZWN0KG8ubG9nRXJyb3IpKGUpfWZ1bmN0aW9uIG0oZSl7Yj17fSxoPSEwLE9iamVjdChvLmxvZ0luZm8pKCJJbnN0YWxsaW5nIGFkZEJpZFJlc3BvbnNlIGRlY29yYXRvciBmb3IgY3VycmVuY3kgbW9kdWxlIixhcmd1bWVudHMpLE9iamVjdChjLmEpKCkuY29udmVydEN1cnJlbmN5PWZ1bmN0aW9uKGUscixuKXtyZXR1cm4gcGFyc2VGbG9hdChlKSp3KHIsbil9LE9iamVjdChzLmEpKCJhZGRCaWRSZXNwb25zZSIpLmJlZm9yZShELDEwMCksdiYmKHY9ITEsT2JqZWN0KGEuYSkoZSx7c3VjY2VzczpmdW5jdGlvbihlKXt0cnl7Tz1KU09OLnBhcnNlKGUpLE9iamVjdChvLmxvZ0luZm8pKCJjdXJyZW5jeVJhdGVzIHNldCB0byAiK0pTT04uc3RyaW5naWZ5KE8pKSxnPSEwLEkoKX1jYXRjaChyKXtTKCJGYWlsZWQgdG8gcGFyc2UgY3VycmVuY3lSYXRlcyByZXNwb25zZTogIitlKX19LGVycm9yOlN9KSl9ZnVuY3Rpb24gUigpe09iamVjdChvLmxvZ0luZm8pKCJVbmluc3RhbGxpbmcgYWRkQmlkUmVzcG9uc2UgZGVjb3JhdG9yIGZvciBjdXJyZW5jeSBtb2R1bGUiLGFyZ3VtZW50cyksT2JqZWN0KHMuYSkoImFkZEJpZFJlc3BvbnNlIikuZ2V0SG9va3Moe2hvb2s6RH0pLnJlbW92ZSgpLGRlbGV0ZSBPYmplY3QoYy5hKSgpLmNvbnZlcnRDdXJyZW5jeSxwPSJVU0QiLGI9e30saD0hMSxnPSExLHY9ITAsTz17fSxqPXt9fWZ1bmN0aW9uIEQoZSxyLG4pe2lmKCFuKXJldHVybiBlLmNhbGwodGhpcyxyKTt2YXIgYz1uLmJpZGRlckNvZGV8fG4uYmlkZGVyO2lmKGpbY10pe3ZhciBhPWpbY107bi5jdXJyZW5jeSYmYSE9PW4uY3VycmVuY3k/T2JqZWN0KG8ubG9nV2FybikoIkN1cnJlbmN5IGRlZmF1bHQgJyIuY29uY2F0KGMsIjogIikuY29uY2F0KGEsIicgaWdub3JlZC4gYWRhcHRlciBzcGVjaWZpZWQgJyIpLmNvbmNhdChuLmN1cnJlbmN5LCInIikpOm4uY3VycmVuY3k9YX1pZihuLmN1cnJlbmN5fHwoT2JqZWN0KG8ubG9nV2FybikoJ0N1cnJlbmN5IG5vdCBzcGVjaWZpZWQgb24gYmlkLiAgRGVmYXVsdGVkIHRvICJVU0QiJyksbi5jdXJyZW5jeT0iVVNEIiksbi5nZXRDcG1Jbk5ld0N1cnJlbmN5PWZ1bmN0aW9uKGUpe3JldHVybihwYXJzZUZsb2F0KHRoaXMuY3BtKSp3KHRoaXMuY3VycmVuY3ksZSkpLnRvRml4ZWQoMyl9LG4uY3VycmVuY3k9PT1wKXJldHVybiBlLmNhbGwodGhpcyxyLG4pO3kucHVzaChmdW5jdGlvbihlLHIsbil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9blsxXTtpZih2b2lkIDAhPT1jJiYiY3VycmVuY3kiaW4gYyYmImNwbSJpbiBjKXt2YXIgYT1jLmN1cnJlbmN5O3RyeXt2YXIgdT13KGEpOzEhPT11JiYoYy5jcG09KHBhcnNlRmxvYXQoYy5jcG0pKnUpLnRvRml4ZWQoNCksYy5jdXJyZW5jeT1wKX1jYXRjaChlKXtPYmplY3Qoby5sb2dXYXJuKSgiUmV0dXJuaW5nIE5PX0JJRCwgZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHRocmV3IGVycm9yOiAiLGUpLG5bMV09T2JqZWN0KHQuYSkoaS5TVEFUVVMuTk9fQklELHtiaWRkZXI6Yy5iaWRkZXJDb2RlfHxjLmJpZGRlcixiaWRJZDpjLnJlcXVlc3RJZH0pfX1yZXR1cm4gZS5hcHBseShyLG4pfX0oZSx0aGlzLFtyLG5dKSksaCYmIWd8fEkoKX1mdW5jdGlvbiBJKCl7Zm9yKDt5Lmxlbmd0aD4wOyl5LnNoaWZ0KCkoKX1mdW5jdGlvbiB3KGUpe3ZhciByLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnAsYz1udWxsLHQ9IiIuY29uY2F0KGUsIi0+IikuY29uY2F0KG4pO2lmKHQgaW4gYiljPWJbdF0sT2JqZWN0KG8ubG9nTWVzc2FnZSkoIlVzaW5nIGNvbnZlcnNpb25DYWNoZSB2YWx1ZSAiK2MrIiBmb3IgIit0KTtlbHNlIGlmKCExPT09aCl7aWYoIlVTRCIhPT1lKXRocm93IG5ldyBFcnJvcigiUHJlYmlkIGN1cnJlbmN5IHN1cHBvcnQgaGFzIG5vdCBiZWVuIGVuYWJsZWQgYW5kIGZyb21DdXJyZW5jeSBpcyBub3QgVVNEIik7Yz0xfWVsc2UgaWYoZT09PW4pYz0xO2Vsc2UgaWYoZSBpbiBPLmNvbnZlcnNpb25zKXtpZighKG4gaW4ocj1PLmNvbnZlcnNpb25zW2VdKSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgYWRTZXJ2ZXJDdXJyZW5jeSBpbiBjb25maWcgJyIrbisiJyBub3QgZm91bmQgaW4gdGhlIGN1cnJlbmN5IHJhdGVzIGZpbGUiKTtjPXJbbl0sT2JqZWN0KG8ubG9nSW5mbykoImdldEN1cnJlbmN5Q29udmVyc2lvbiB1c2luZyBkaXJlY3QgIitlKyIgdG8gIituKyIgY29udmVyc2lvblJhdGUgIitjKX1lbHNlIGlmKG4gaW4gTy5jb252ZXJzaW9ucyl7aWYoIShlIGluKHI9Ty5jb252ZXJzaW9uc1tuXSkpKXRocm93IG5ldyBFcnJvcigiU3BlY2lmaWVkIGZyb21DdXJyZW5jeSAnIitlKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO2M9RigxL3JbZV0sNCksT2JqZWN0KG8ubG9nSW5mbykoImdldEN1cnJlbmN5Q29udmVyc2lvbiB1c2luZyByZWNpcHJvY2FsICIrZSsiIHRvICIrbisiIGNvbnZlcnNpb25SYXRlICIrYyl9ZWxzZXt2YXIgaT1PYmplY3Qua2V5cyhPLmNvbnZlcnNpb25zKVswXTtpZighKGUgaW4gTy5jb252ZXJzaW9uc1tpXSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgZnJvbUN1cnJlbmN5ICciK2UrIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7dmFyIGE9MS9PLmNvbnZlcnNpb25zW2ldW2VdO2lmKCEobiBpbiBPLmNvbnZlcnNpb25zW2ldKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWNpZmllZCBhZFNlcnZlckN1cnJlbmN5IGluIGNvbmZpZyAnIituKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO3ZhciB1PU8uY29udmVyc2lvbnNbaV1bbl07Yz1GKGEqdSw0KSxPYmplY3Qoby5sb2dJbmZvKSgiZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHVzaW5nIGludGVybWVkaWF0ZSAiK2UrIiB0aHJ1ICIraSsiIHRvICIrbisiIGNvbnZlcnNpb25SYXRlICIrYyl9cmV0dXJuIHQgaW4gYnx8KE9iamVjdChvLmxvZ01lc3NhZ2UpKCJBZGRpbmcgY29udmVyc2lvbkNhY2hlIHZhbHVlICIrYysiIGZvciAiK3QpLGJbdF09YyksY31mdW5jdGlvbiBGKGUscil7Zm9yKHZhciBuPTEsbz0wO288cjtvKyspbis9IjAiO3JldHVybiBNYXRoLnJvdW5kKGUqbikvbn11LmIuZ2V0Q29uZmlnKCJjdXJyZW5jeSIsKGZ1bmN0aW9uKGUpe3JldHVybiBDKGUuY3VycmVuY3kpfSkpfX0sWzM5OV0pOwp1cGJqc0NodW5rKFsyODFdLHs0MTc6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDQxOCl9LDQxODpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksci5nZXRGbG9vcj1oLHIuY2xlYW5TaXplcz12LHIuc2h1ZmZsZT1PLHIucmVtb3ZlRHVwbGljYXRlPUEsci51cHRvNT1JLHIubWF0Y2hSZXF1ZXN0PWosci5jaGVja0RlZXBBcnJheT1TLHIuZGVmYXVsdFNpemU9eCxyLmJpbmRVc2VySWQ9dyxyLmdldEFwaT1ULHIuZ2V0UGxheWJhY2ttZXRob2Q9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg+MClyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBiLnBsYXliYWNrX21ldGhvZFtlXX0pKTtyZXR1cm5bMl19LHIuZ2V0UHJvdG9jb2xzPXosci5jbGVhblZhc3Q9Xzt2YXIgbj10KDApLGk9dCgxKSxvPXQoMykscz10KDIpO2Z1bmN0aW9uIGEoZSxyKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUscil7dmFyIHQ9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT10KXJldHVybjt2YXIgbixpLG89W10scz0hMCxhPSExO3RyeXtmb3IodD10LmNhbGwoZSk7IShzPShuPXQubmV4dCgpKS5kb25lKSYmKG8ucHVzaChuLnZhbHVlKSwhcnx8by5sZW5ndGghPT1yKTtzPSEwKTt9Y2F0Y2goZSl7YT0hMCxpPWV9ZmluYWxseXt0cnl7c3x8bnVsbD09dC5yZXR1cm58fHQucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IGl9fXJldHVybiBvfShlLHIpfHx1KGUscil8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBjKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBkKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8dShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB1KGUscil7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBkKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PXR8fCJTZXQiPT09dD9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCk/ZChlLHIpOnZvaWQgMH19ZnVuY3Rpb24gZChlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLG49bmV3IEFycmF5KHIpO3Q8cjt0Kyspblt0XT1lW3RdO3JldHVybiBufWZ1bmN0aW9uIHAoZSl7cmV0dXJuKHA9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBsKGUscil7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtyJiYobj1uLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKS5lbnVtZXJhYmxlfSkpKSx0LnB1c2guYXBwbHkodCxuKX1yZXR1cm4gdH1mdW5jdGlvbiBtKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PW51bGwhPWFyZ3VtZW50c1tyXT9hcmd1bWVudHNbcl06e307ciUyP2woT2JqZWN0KHQpLCEwKS5mb3JFYWNoKChmdW5jdGlvbihyKXtmKGUscix0W3JdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKTpsKE9iamVjdCh0KSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGYoZSxyLHQpe3JldHVybiByIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7dmFsdWU6dCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbcl09dCxlfXZhciB5PSJodHRwczovL2RteC5kaXN0cmljdG0uaW8vYi92MSIsYj17cGxheWJhY2tfbWV0aG9kOnthdXRvX3BsYXlfc291bmRfb246MSxhdXRvX3BsYXlfc291bmRfb2ZmOjIsY2xpY2tfdG9fcGxheTozLG1vdXNlX292ZXI6NCx2aWV3cG9ydF9zb3VuZF9vbjo1LHZpZXdwb3J0X3NvdW5kX29mZjo2fX0sZz17Y29kZToiZGlzdHJpY3RtRE1YIixndmxpZDoxNDQsYWxpYXNlczpbImRteCJdLHN1cHBvcnRlZEZvcm1hdDpbcy5iLHMuZF0sc3VwcG9ydGVkTWVkaWFUeXBlczpbcy5kLHMuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmFtcy5tZW1iZXJpZH0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXtyZXR1cm4oZT1lLmJvZHl8fHt9KS5zZWF0YmlkJiZPYmplY3Qobi5pc0FycmF5KShlLnNlYXRiaWQpP2Uuc2VhdGJpZC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49dC5iaWQucmVkdWNlKChmdW5jdGlvbihlLHQpe2lmKGUucHJpY2U8dC5wcmljZSl7dmFyIG49aih0LmltcGlkLHIpLGk9eChuKSxvPWkud2lkdGgscz1pLmhlaWdodDtyZXR1cm4gdC5jcG09cGFyc2VGbG9hdCh0LnByaWNlKS50b0ZpeGVkKDIpLHQuYmlkSWQ9dC5pbXBpZCx0LnJlcXVlc3RJZD10LmltcGlkLHQud2lkdGg9dC53fHxvLHQuaGVpZ2h0PXQuaHx8cyx0LnR0bD0zMDAsdC5tZWRpYVR5cGU9bi5tZWRpYVR5cGVzJiZuLm1lZGlhVHlwZXMudmlkZW8/InZpZGVvIjoiYmFubmVyIiwidmlkZW8iPT09dC5tZWRpYVR5cGUmJih0LnZhc3RYbWw9Xyh0LmFkbSx0Lm51cmwpLHQudHRsPTM2MDApLHQuZGVhbGlkJiYodC5kZWFsSWQ9dC5kZWFsaWQpLHQudXVpZD10LmJpZElkLHQuYWQ9dC5hZG0sdC5uZXRSZXZlbnVlPSEwLHQuY3JlYXRpdmVJZD10LmNyaWQsdC5jdXJyZW5jeT0iVVNEIix0Lm1ldGE9dC5tZXRhfHx7fSx0LmFkb21haW4mJnQuYWRvbWFpbi5sZW5ndGg+MCYmKHQubWV0YS5hZHZlcnRpc2VyRG9tYWlucz10LmFkb21haW4pLHR9cmV0dXJuIGUuY3BtPWUucHJpY2UsZX0pLHtwcmljZTowfSk7cmV0dXJuIG4uYWRtJiZlLnB1c2gobiksZX0pLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiEhZS5iaWRJZH0pKTpbXX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PW8uYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKSxpPW51bGwscz17aWQ6T2JqZWN0KG4uZ2VuZXJhdGVVVUlEKSgpLGN1cjpbIlVTRCJdLHRtYXg6dC0zMDAsdGVzdDp0aGlzLnRlc3QoKXx8MCxzaXRlOntwdWJsaXNoZXI6e2lkOlN0cmluZyhlWzBdLnBhcmFtcy5tZW1iZXJpZCl8fG51bGx9fX07dHJ5e3ZhciBhPW8uYi5nZXRDb25maWcoImRteCIpO3MudXNlcj1hLnVzZXJ8fHt9O3ZhciBjPWEuc2l0ZXx8e307cy5zaXRlPW0obSh7fSxzLnNpdGUpLGMpfWNhdGNoKGUpe312YXIgdT1bXTtlWzBdJiZlWzBdLnVzZXJJZCYmKHcodSxPYmplY3Qobi5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQuaWRsX2VudiIpLCJsaXZlcmFtcC5jb20iLDEpLHcodSxPYmplY3Qobi5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQuaWQ1aWQudWlkIiksImlkNS1zeW5jLmNvbSIsMSksdyh1LE9iamVjdChuLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5wdWJjaWQiKSwicHViY2lkLm9yZyIsMSksdyh1LE9iamVjdChuLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC50ZGlkIiksImFkc2VydmVyLm9yZyIsMSksdyh1LE9iamVjdChuLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5jcml0ZW9JZCIpLCJjcml0ZW8uY29tIiwxKSx3KHUsT2JqZWN0KG4uZGVlcEFjY2VzcykoZVswXSwidXNlcklkLmJyaXRlcG9vbGlkIiksImJyaXRlcG9vbC5jb20iLDEpLHcodSxPYmplY3Qobi5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQubGlwYi5saXBiaWQiKSwibGl2ZWludGVudC5jb20iLDEpLHcodSxPYmplY3Qobi5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQuaW50ZW50aXFpZCIpLCJpbnRlbnRpcS5jb20iLDEpLHcodSxPYmplY3Qobi5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQubG90YW1lUGFub3JhbWFJZCIpLCJsb3RhbWUuY29tIiwxKSx3KHUsT2JqZWN0KG4uZGVlcEFjY2VzcykoZVswXSwidXNlcklkLnBhcnJhYmxlSWQiKSwicGFycmFibGUuY29tIiwxKSx3KHUsT2JqZWN0KG4uZGVlcEFjY2VzcykoZVswXSwidXNlcklkLm5ldElkIiksIm5ldGlkLmRlIiwxKSxzLnVzZXI9cy51c2VyfHx7fSxzLnVzZXIuZXh0PXMudXNlci5leHR8fHt9LHMudXNlci5leHQuZWlkcz11KSxzLnRlc3R8fGRlbGV0ZSBzLnRlc3Qsci5nZHByQ29uc2VudCYmKHMucmVncz17fSxzLnJlZ3MuZXh0PXt9LHMucmVncy5leHQuZ2Rwcj0hMD09PXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowLCEwPT09ci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHMudXNlcj17fSxzLnVzZXIuZXh0PXt9LHMudXNlci5leHQuY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxzLnJlZ3M9cy5yZWdzfHx7fSxzLnJlZ3MuY29wcGE9ITA9PT1vLmIuZ2V0Q29uZmlnKCJjb3BwYSIpPzE6MCxyJiZyLnVzcENvbnNlbnQmJihzLnJlZ3M9cy5yZWdzfHx7fSxzLnJlZ3MuZXh0PXMucmVncy5leHR8fHt9LHMucmVncy5leHQudXNfcHJpdmFjeT1yLnVzcENvbnNlbnQpO3RyeXtpPWVbMF0uc2NoYWluLHMuc291cmNlPXt9LHMuc291cmNlLmV4dD17fSxzLnNvdXJjZS5leHQuc2NoYWluPWl8fHt9fWNhdGNoKGUpe312YXIgZD1lLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9e307cmV0dXJuIHIuaWQ9ZS5iaWRJZCxyLnRhZ2lkPVN0cmluZyhlLnBhcmFtcy5kbXhpZHx8ZS5hZFVuaXRDb2RlKSxyLnNlY3VyZT0xLHIuYmlkZmxvb3I9aChlKSxlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbz9yLnZpZGVvPXt0b3BmcmFtZToxLHNraXA6ZS5tZWRpYVR5cGVzLnZpZGVvLnNraXB8fDAsbGluZWFyaXR5OmUubWVkaWFUeXBlcy52aWRlby5saW5lYXJpdHl8fDEsbWluZHVyYXRpb246ZS5tZWRpYVR5cGVzLnZpZGVvLm1pbmR1cmF0aW9ufHw1LG1heGR1cmF0aW9uOmUubWVkaWFUeXBlcy52aWRlby5tYXhkdXJhdGlvbnx8NjAscGxheWJhY2ttZXRob2Q6ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXliYWNrbWV0aG9kfHxbMl0sYXBpOlQoZS5tZWRpYVR5cGVzLnZpZGVvKSxtaW1lczplLm1lZGlhVHlwZXMudmlkZW8ubWltZXN8fFsidmlkZW8vbXA0Il0scHJvdG9jb2xzOnooZS5tZWRpYVR5cGVzLnZpZGVvKSxoOmUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzFdLHc6ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMF19OnIuYmFubmVyPXt0b3BmcmFtZToxLHc6dihlLnNpemVzLCJ3IiksaDp2KGUuc2l6ZXMsImgiKSxmb3JtYXQ6dihlLnNpemVzKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZS53JiYibnVtYmVyIj09dHlwZW9mIGUuaH0pKX0scn0pKTtyZXR1cm4gZC5sZW5ndGg8PTU/KHMuaW1wPWQse21ldGhvZDoiUE9TVCIsdXJsOnksZGF0YTpKU09OLnN0cmluZ2lmeShzKSxiaWRkZXJSZXF1ZXN0OnJ9KTpJKGQscyxyLHkpfSx0ZXN0OmZ1bmN0aW9uKCl7cmV0dXJuLTEhPT13aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJkbVRlc3Q9dHJ1ZSIpPzE6MH0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0LG4pe3ZhciBpPVtdLG89Imh0dHBzOi8vY2RuLmRpc3RyaWN0bS5pby9pZHMvaW5kZXguaHRtbCI7aWYodCYmdC5nZHByQXBwbGllcyYmInN0cmluZyI9PXR5cGVvZiB0LmNvbnNlbnRTdHJpbmcmJmkucHVzaChbImdkcHIiLHQuY29uc2VudFN0cmluZ10pLG4mJmkucHVzaChbImNjcGEiLG5dKSxpLmxlbmd0aD4wJiYobys9Ij8iK2kubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5qb2luKCI9Iil9KSkuam9pbigiJiIpKSxlLmlmcmFtZUVuYWJsZWQpcmV0dXJuW3t0eXBlOiJpZnJhbWUiLHVybDpvfV19fTtmdW5jdGlvbiBoKGUpe3ZhciByPW51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3Ipe3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTplLm1lZGlhVHlwZXMudmlkZW8/InZpZGVvIjoiYmFubmVyIixzaXplOmUuc2l6ZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSl9KTsib2JqZWN0IiE9PXAodCl8fCJVU0QiIT09dC5jdXJyZW5jeXx8aXNOYU4ocGFyc2VGbG9hdCh0LmZsb29yKSl8fChyPXBhcnNlRmxvYXQodC5mbG9vcikpfXJldHVybiBudWxsIT09cj9yOmUucGFyYW1zLmZsb29yfWZ1bmN0aW9uIHYoZSxyKXt2YXIgdD1PKGUsW3tzaXplOlszMDAsMjUwXSxzOjEwMH0se3NpemU6WzcyOCw5MF0sczo5NX0se3NpemU6WzMyMCw1MF0sczo5MH0se3NpemU6WzE2MCw2MDBdLHM6ODh9LHtzaXplOlszMDAsNjAwXSxzOjg1fSx7c2l6ZTpbMzAwLDUwXSxzOjgwfSx7c2l6ZTpbOTcwLDI1MF0sczo3NX0se3NpemU6Wzk3MCw5MF0sczo2MH1dKTtzd2l0Y2gocil7Y2FzZSJ3IjpyZXR1cm4gdFswXVswXXx8MDtjYXNlImgiOnJldHVybiB0WzBdWzFdfHwwO2Nhc2Uic2l6ZSI6ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gTyhlLHIpe3ZhciB0PWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PXIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQoZS5zaXplWzBdLCJ4IikuY29uY2F0KGUuc2l6ZVsxXSl9KSkuaW5kZXhPZigiIi5jb25jYXQoZVswXSwieCIpLmNvbmNhdChlWzFdKSl9KSksbj1lLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09PWUubGVuZ3RoPyhlLnB1c2godCksZSk6KGUucHVzaCh0KSwoZT0oZT1yLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuLTEhPT1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KGVbMF0sIngiKS5jb25jYXQoZVsxXSl9KSkuaW5kZXhPZigiIi5jb25jYXQoci5zaXplWzBdLCJ4IikuY29uY2F0KHIuc2l6ZVsxXSkpfSkpKS5zb3J0KChmdW5jdGlvbihlLHIpe3JldHVybiByLnMtZS5zfSkpKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNpemV9KSkpfSksW10pO3JldHVybiBBKFtdLmNvbmNhdChjKG4pLGModCkpKX1mdW5jdGlvbiBBKGUpe3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24ocix0KXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChlWzBdLCJ4IikuY29uY2F0KGVbMV0pfSkpLmluZGV4T2YoIiIuY29uY2F0KHJbMF0sIngiKS5jb25jYXQoclsxXSkpPT09dH0pKX1mdW5jdGlvbiBJKGUscix0LG4pe2Zvcih2YXIgaT1bXTswIT09ZS5sZW5ndGg7KWUubGVuZ3RoPj01P2kucHVzaChlLnNwbGljZSgwLDUpKTppLnB1c2goZS5zcGxpY2UoMCxlLmxlbmd0aCkpO3JldHVybiBpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHIuaW1wPWUse21ldGhvZDoiUE9TVCIsdXJsOm4sZGF0YTpKU09OLnN0cmluZ2lmeShyKSxiaWRkZXJSZXF1ZXN0OnR9fSkpfWZ1bmN0aW9uIGooZSxyKXtyZXR1cm4gYShyLmJpZGRlclJlcXVlc3QuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiByLmJpZElkPT09ZX0pKSwxKVswXX1mdW5jdGlvbiBTKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZBcnJheS5pc0FycmF5KGVbMF0pP2VbMF06ZX1mdW5jdGlvbiB4KGUpe3ZhciByPWUuc2l6ZXMsdD17fTtyZXR1cm4gdC53aWR0aD1TKHIpWzBdLHQuaGVpZ2h0PVMocilbMV0sdH1mdW5jdGlvbiB3KGUscix0LGkpe09iamVjdChuLmlzU3RyKShyKSYmQXJyYXkuaXNBcnJheShlKSYmZS5wdXNoKHtzb3VyY2U6dCx1aWRzOlt7aWQ6cixhdHlwZTppfV19KX1mdW5jdGlvbiBUKGUpe3ZhciByPWUuYXBpO3JldHVybiByJiZBcnJheS5pc0FycmF5KHIpJiZyLmxlbmd0aD4wP3I6WzJdfWZ1bmN0aW9uIHooZSl7dmFyIHI9ZS5wcm90b2NvbHM7cmV0dXJuIHImJkFycmF5LmlzQXJyYXkocikmJnIubGVuZ3RoPjA/cjpbMiwzLDUsNiw3LDhdfWZ1bmN0aW9uIF8oZSxyKXt0cnl7dmFyIHQ9LzxpbWdcc1tePl0qP3NyY1xzKj1ccypbJ1wiXShbXidcIl0qPylbJ1wiXVtePl0qPz4vLG49YShlLm1hdGNoKHQpLDIpLGk9blswXSxvPW5bMV07aWYoZT1lLnJlcGxhY2UodCwiIiksaSYmbyl7dmFyIHM9IjxJbXByZXNzaW9uPjwhW0NEQVRBWyIuY29uY2F0KG8sIl1dPjwvSW1wcmVzc2lvbj4iKTtlPWUucmVwbGFjZSgiPC9JbXByZXNzaW9uPiIsIjwvSW1wcmVzc2lvbj4iLmNvbmNhdChzKSl9cmV0dXJuIGV9Y2F0Y2godCl7aWYoIXIpcmV0dXJuIGU7dmFyIGM9IjxJbXByZXNzaW9uPjwhW0NEQVRBWyIuY29uY2F0KHIsIl1dPjwvSW1wcmVzc2lvbj4iKTtyZXR1cm4gZT1lLnJlcGxhY2UoIjwvSW1wcmVzc2lvbj4iLCI8L0ltcHJlc3Npb24+Ii5jb25jYXQoYykpfX1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikoZyl9fSxbNDE3XSk7CnVwYmpzQ2h1bmsoWzI3Nl0sezQyNzpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNDI4KX0sNDI4OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJlbXhBZGFwdGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSk7dmFyIGk9dCgwKSxuPXQoMSksYT10KDIpLGQ9dCgxMyksbz10KDEyKSxzPXQubihvKSx1PXQoMTEpLGM9dC5uKHUpO2Z1bmN0aW9uIHAoKXtyZXR1cm4ocD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBpIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkmJihlW2ldPXRbaV0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBsPSJlbXhfZGlnaXRhbCIsZz0iaHR0cHM6Ly9qcy5icmVhbHRpbWUuY29tL291dHN0cmVhbS8xLjMwLjAvYnVuZGxlLmpzIixtPSJVU0QiLGI9W3trZXk6ImlkbF9lbnYiLHNvdXJjZToibGl2ZXJhbXAuY29tIixydGlQYXJ0bmVyOiJpZGwiLHF1ZXJ5UGFyYW06ImlkbCJ9LHtrZXk6InVpZDIuaWQiLHNvdXJjZToidWlkYXBpLmNvbSIscnRpUGFydG5lcjoiVUlEMiIscXVlcnlQYXJhbToidWlkMiJ9XSxmPXt2YWxpZGF0ZVNpemVzOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5pc0FycmF5KShlKSYmdm9pZCAwIT09ZVswXT9lLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuaXNBcnJheSkoZSkmJjI9PT1lLmxlbmd0aH0pKTooT2JqZWN0KGkubG9nV2FybikoImVteF9kaWdpdGFsOiBTaXplcyBzaG91bGQgYmUgYW4gYXJyYXkiKSwhMSl9LGNoZWNrVmlkZW9Db250ZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbyYmZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJigiaW5zdHJlYW0iPT09ZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHR8fCJvdXRzdHJlYW0iPT09ZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQpfSxidWlsZEJhbm5lcjpmdW5jdGlvbihlKXt2YXIgcj1bXTtyZXR1cm4gcj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplczplLnNpemVzLGYudmFsaWRhdGVTaXplcyhyKXx8KE9iamVjdChpLmxvZ1dhcm4pKCJlbXhfZGlnaXRhbDogY291bGQgbm90IGRldGVjdCBtZWRpYVR5cGUgYmFubmVyIHNpemVzLiBBc3NpZ25pbmcgdG8gYmlkIHNpemVzIGluc3RlYWQiKSxyPWUuc2l6ZXMpLHtmb3JtYXQ6ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKSx3OnJbMF1bMF0saDpyWzBdWzFdfX0sZm9ybWF0VmlkZW9SZXNwb25zZTpmdW5jdGlvbihlLHIsdCl7KGUudmFzdFhtbD1yLmFkbSx0LmJpZGRlclJlcXVlc3QmJnQuYmlkZGVyUmVxdWVzdC5iaWRzJiZ0LmJpZGRlclJlcXVlc3QuYmlkcy5sZW5ndGg+MCkmJihjKCkodC5iaWRkZXJSZXF1ZXN0LmJpZHMsKGZ1bmN0aW9uKHIpe3JldHVybiBlLnJlcXVlc3RJZCYmci5iaWRJZCYmZS5yZXF1ZXN0SWQ9PT1yLmJpZElkJiZyLm1lZGlhVHlwZXMmJnIubWVkaWFUeXBlcy52aWRlbyYmIm91dHN0cmVhbSI9PT1yLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dH0pKSYmKGUucmVuZGVyZXI9Zi5jcmVhdGVSZW5kZXJlcihlLHtpZDpyLmlkLHVybDpnfSkpKTtyZXR1cm4gZX0saXNNb2JpbGU6ZnVuY3Rpb24oKXtyZXR1cm4vKGlvc3xpcG9kfGlwYWR8aXBob25lfGFuZHJvaWQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0saXNDb25uZWN0ZWRUVjpmdW5jdGlvbigpe3JldHVybi8oc21hcnRbLV0/dHZ8aGJidHZ8YXBwbGV0dnxnb29nbGV0dnxoZG1pfG5ldGNhc3RcLnR2fHZpZXJhfG5ldHR2fHJva3V8XGJkdHZcYnxzb255ZHR2fGluZXR0dmJyb3dzZXJ8XGJ0dlxiKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGdldERldmljZTpmdW5jdGlvbigpe3JldHVybnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGpzOjEsZG50OiJ5ZXMiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT1uYXZpZ2F0b3IubXNEb05vdFRyYWNrPzE6MCxoOnNjcmVlbi5oZWlnaHQsdzpzY3JlZW4ud2lkdGgsZGV2aWNldHlwZTpmLmlzTW9iaWxlKCk/MTpmLmlzQ29ubmVjdGVkVFYoKT8zOjIsbGFuZ3VhZ2U6bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfHxuYXZpZ2F0b3Iuc3lzdGVtTGFuZ3VhZ2V9fSxjbGVhblByb3RvY29sczpmdW5jdGlvbihlKXtyZXR1cm4gZS5wcm90b2NvbHMmJnMoKShlLnByb3RvY29scyw3KSYmKE9iamVjdChpLmxvZ1dhcm4pKCJlbXhfZGlnaXRhbDogVkFTVCA0LjAgaXMgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQuIFRoaXMgcHJvdG9jb2wgaGFzIGJlZW4gZmlsdGVyZWQgb3V0IG9mIHRoZSByZXF1ZXN0LiIpLGUucHJvdG9jb2xzPWUucHJvdG9jb2xzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIDchPT1lfSkpKSxlfSxvdXRzdHJlYW1SZW5kZXI6ZnVuY3Rpb24oZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3ZhciByPWUmJmUucGFyYW1zJiZlLnBhcmFtc1swXSYmZS5wYXJhbXNbMF0udmlkZW8/ZS5wYXJhbXNbMF0udmlkZW86e307d2luZG93LmVteFZpZGVvUXVldWU9d2luZG93LmVteFZpZGVvUXVldWV8fFtdLHdpbmRvdy5xdWV1ZUVteFZpZGVvKHtpZDplLmFkVW5pdENvZGUsYWRzUmVzcG9uc2VzOmUudmFzdFhtbCxvcHRpb25zOnJ9KSx3aW5kb3cuZW14VmlkZW9SZWFkeSYmd2luZG93LnZpZGVvanMmJndpbmRvdy5lbXhWaWRlb1JlYWR5KCl9KSl9LGNyZWF0ZVJlbmRlcmVyOmZ1bmN0aW9uKGUscil7dmFyIHQ9ZC5hLmluc3RhbGwoe2lkOnIuaWQsdXJsOmcsbG9hZGVkOiExfSk7dHJ5e3Quc2V0UmVuZGVyKGYub3V0c3RyZWFtUmVuZGVyKX1jYXRjaChlKXtPYmplY3QoaS5sb2dXYXJuKSgiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gdH0sYnVpbGRWaWRlbzpmdW5jdGlvbihlKXt2YXIgcj1wKGUubWVkaWFUeXBlcy52aWRlbyxlLnBhcmFtcy52aWRlbyk7cmV0dXJuIE9iamVjdChpLmlzQXJyYXkpKGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKT8oci53PWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzBdLHIuaD1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVsxXSk6KHIudz1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSxyLmg9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMV0pLGYuY2xlYW5Qcm90b2NvbHMocil9LHBhcnNlUmVzcG9uc2U6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZS5yZXBsYWNlKC8lKD8hWzAtOV1bMC05YS1mQS1GXSspL2csIiUyNSIpKX1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoImVteF9kaWdpdGFsQmlkQWRhcHRlciIsImVycm9yIixlKX19LGdldFJlZmVycmVyOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiB3aW5kb3cudG9wLmRvY3VtZW50LnJlZmVycmVyfWNhdGNoKGUpe3JldHVybiBkb2N1bWVudC5yZWZlcnJlcn19LGdldFNpdGU6ZnVuY3Rpb24oZSl7cmV0dXJue2RvbWFpbjpPYmplY3QoaS5wYXJzZVVybCkoZS5yZWZlcmVyKS5ob3N0bmFtZSxwYWdlOmUucmVmZXJlcixyZWY6Zi5nZXRSZWZlcnJlcigpfX0sZ2V0R2RwcjpmdW5jdGlvbihlLHIpe3JldHVybiBlLmdkcHJDb25zZW50JiYoci5yZWdzPXtleHQ6e2dkcHI6ITA9PT1lLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MH19KSxlLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYoci51c2VyPXtleHQ6e2NvbnNlbnQ6ZS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nfX0pLHJ9LGdldFN1cHBseUNoYWluOmZ1bmN0aW9uKGUscil7cmV0dXJuIGUuYmlkc1swXSYmZS5iaWRzWzBdLnNjaGFpbiYmKHIuc291cmNlPXtleHQ6e3NjaGFpbjplLmJpZHNbMF0uc2NoYWlufX0pLHJ9LGdldEVpZHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGIubWFwKGYuZ2V0VXNlcklkKGUpKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfSxnZXRVc2VySWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciB0PXIua2V5LG49ci5zb3VyY2UsYT1yLnJ0aVBhcnRuZXIsZD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJ1c2VySWQuIi5jb25jYXQodCkpO3JldHVybiBkP2YuZm9ybWF0RWlkKGQsbixhKTpudWxsfX0sZm9ybWF0RWlkOmZ1bmN0aW9uKGUscix0KXtyZXR1cm57c291cmNlOnIsdWlkczpbe2lkOmUsZXh0OntydGlQYXJ0bmVyOnR9fV19fX0sdj17Y29kZTpsLGd2bGlkOjE4MyxzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmIsYS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZighZXx8IWUucGFyYW1zKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiZW14X2RpZ2l0YWw6IE1pc3NpbmcgYmlkIG9yIGJpZCBwYXJhbXMuIiksITE7aWYoZS5iaWRkZXIhPT1sKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgnZW14X2RpZ2l0YWw6IE11c3QgdXNlICJlbXhfZGlnaXRhbCIgYXMgYmlkZGVyIGNvZGUuJyksITE7aWYoIWUucGFyYW1zLnRhZ2lkfHwhT2JqZWN0KGkuaXNTdHIpKGUucGFyYW1zLnRhZ2lkKSlyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoImVteF9kaWdpdGFsOiBNaXNzaW5nIHRhZ2lkIHBhcmFtIG9yIHRhZ2lkIHByZXNlbnQgYW5kIG5vdCB0eXBlIFN0cmluZy4iKSwhMTt2YXIgcjtpZihlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXIpe2lmKHI9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz9lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOmUuc2l6ZXMsIWYudmFsaWRhdGVTaXplcyhyKSlyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoImVteF9kaWdpdGFsOiBNaXNzaW5nIHNpemVzIGluIGJpZCIpLCExfWVsc2UgaWYoZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8pe2lmKCFmLmNoZWNrVmlkZW9Db250ZXh0KGUpKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiZW14X2RpZ2l0YWw6IE1pc3NpbmcgdmlkZW8gY29udGV4dDogaW5zdHJlYW0gb3Igb3V0c3RyZWFtIiksITE7aWYoIWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiZW14X2RpZ2l0YWw6IE1pc3NpbmcgdmlkZW8gcGxheWVyU2l6ZSIpLCExfXJldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10sbj0iaHR0cHM6Ly9oYi5lbXhkZ3QuY29tP3Q9Iisoci50aW1lb3V0fHwiIikrIiZ0cz0iK0RhdGUubm93KCkrIiZzcmM9cGJqcyIsYT1sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKCJodHRwcyIpPi0xPzE6MCxkPWYuZ2V0RGV2aWNlKCksbz1mLmdldFNpdGUoci5yZWZlcmVySW5mbyk7T2JqZWN0KGkuX2VhY2gpKGUsKGZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgidGFnaWQiLGUucGFyYW1zKSxuPXBhcnNlRmxvYXQoZnVuY3Rpb24oZSl7aWYoIU9iamVjdChpLmlzRm4pKGUuZ2V0Rmxvb3IpKXJldHVybiBwYXJzZUZsb2F0KE9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgiYmlkZmxvb3IiLGUucGFyYW1zKSk7dmFyIHI9ZS5nZXRGbG9vcih7Y3VycmVuY3k6bSxtZWRpYVR5cGU6IioiLHNpemU6IioifSk7aWYoT2JqZWN0KGkuaXNQbGFpbk9iamVjdCkocikmJiFpc05hTihyLmZsb29yKSYmIlVTRCI9PT1yLmN1cnJlbmN5KXJldHVybiByLmZsb29yO3JldHVybiBudWxsfShlKSl8fDAsZD0hIWUubWVkaWFUeXBlcy52aWRlbyxvPXAoe2lkOmUuYmlkSWQsdGlkOmUudHJhbnNhY3Rpb25JZCx0YWdpZDpyLHNlY3VyZTphfSxkP3t2aWRlbzpmLmJ1aWxkVmlkZW8oZSl9OntiYW5uZXI6Zi5idWlsZEJhbm5lcihlKX0sbj4wP3tiaWRmbG9vcjpuLGJpZGZsb29yY3VyOm19Ont9KTt0LnB1c2gobyl9KSk7dmFyIHM9e2lkOnIuYXVjdGlvbklkLGltcDp0LGRldmljZTpkLHNpdGU6byxjdXI6bSx2ZXJzaW9uOiIxLjUuMSJ9O2lmKHM9Zi5nZXRHZHByKHIscCh7fSxzKSkscz1mLmdldFN1cHBseUNoYWluKHIscCh7fSxzKSksciYmci51c3BDb25zZW50JiYocy51c19wcml2YWN5PXIudXNwQ29uc2VudCksci51c2VySWQpe3ZhciB1PWYuZ2V0RWlkcyhyKTt1Lmxlbmd0aD4wJiYocy51c2VyJiZzLnVzZXIuZXh0P3MudXNlci5leHQuZWlkcz11OnMudXNlcj17ZXh0OntlaWRzOnV9fSl9cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOm4sZGF0YTpKU09OLnN0cmluZ2lmeShzKSxvcHRpb25zOnt3aXRoQ3JlZGVudGlhbHM6ITB9LGJpZGRlclJlcXVlc3Q6cn19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10saT1lLmJvZHl8fHt9O3JldHVybiBpLnNlYXRiaWQmJmkuc2VhdGJpZC5sZW5ndGg+MCYmaS5zZWF0YmlkWzBdLmJpZCYmaS5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe2U9ZS5iaWRbMF07dmFyIGk9ITEsbj1mLnBhcnNlUmVzcG9uc2UoZS5hZG0pfHwiIixkPXtyZXF1ZXN0SWQ6ZS5pZCxjcG06ZS5wcmljZSx3aWR0aDplLncsaGVpZ2h0OmUuaCxjcmVhdGl2ZUlkOmUuY3JpZHx8ZS5pZCxkZWFsSWQ6ZS5kZWFsaWR8fG51bGwsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6ZS50dGwsYWQ6bn07ZS5hZG0mJmUuYWRtLmluZGV4T2YoIjw/eG1sIHZlcnNpb249Iik+LTEmJihpPSEwLGQ9Zi5mb3JtYXRWaWRlb1Jlc3BvbnNlKGQscCh7fSxlKSxyKSksZC5tZWRpYVR5cGU9aT9hLmQ6YS5iLGUuYWRvbWFpbiYmZS5hZG9tYWluLmxlbmd0aCYmKGQubWV0YT17YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWlufSksdC5wdXNoKGQpfSkpLHR9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsdCxpKXt2YXIgbj1bXTtpZihlLmlmcmFtZUVuYWJsZWQpe3ZhciBhPSJodHRwczovL2JpZGRyLmJyZWFsdGltZS5jb20vY2hlY2suaHRtbCI7dCYmInN0cmluZyI9PXR5cGVvZiB0LmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiB0LmdkcHJBcHBsaWVzP2ErPSI/Z2Rwcj0iLmNvbmNhdChOdW1iZXIodC5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KHQuY29uc2VudFN0cmluZyk6YSs9Ij9nZHByX2NvbnNlbnQ9Ii5jb25jYXQodC5jb25zZW50U3RyaW5nKSksbi5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDphfSl9cmV0dXJuIG59fTtPYmplY3Qobi5yZWdpc3RlckJpZGRlcikodil9fSxbNDI3XSk7CnVwYmpzQ2h1bmsoWzI0N10sezQ5MjpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNDkzKX0sNDkzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKGUpe24uZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKTt2YXIgcj1uKDIpLGk9bigwKSxvPW4oMyksYT1uKDcpLGM9bigxMiksdT1uLm4oYyksZD1uKDEpO2Z1bmN0aW9uIHMoKXtyZXR1cm4ocz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHAoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIGwoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/cChPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2YoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnAoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gZihlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gbShlKXtyZXR1cm4obT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGIoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1uKXJldHVybjt2YXIgcixpLG89W10sYT0hMCxjPSExO3RyeXtmb3Iobj1uLmNhbGwoZSk7IShhPShyPW4ubmV4dCgpKS5kb25lKSYmKG8ucHVzaChyLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7Yz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGl9fXJldHVybiBvfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHkoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHkoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHkoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgdj1PYmplY3QoYS5iKSgpLGc9e3Q6MCxycTo4LHBidjoiNS4yMC4yIn0saD1bci5iLHIuZF0sTz17fSx3PXt9LEk9bnVsbDtmdW5jdGlvbiBqKHQpe3ZhciBuLHIsbyxhLGMsdSxkLHM7aWYody52dylyZXR1cm4gdzt0cnl7cj0obj1lLnRvcCkuc2NyZWVuLG89dHx8IiJ9Y2F0Y2goZSl7cmV0dXJuIE9iamVjdChpLmxvZ0Vycm9yKShlKSx3fXJldHVybiB3PXt2dzpuLmlubmVyV2lkdGgsdmg6bi5pbm5lckhlaWdodCxzdzpyLndpZHRoLHNoOnIuaGVpZ2h0LHB1Om8sY2U6di5jb29raWVzQXJlRW5hYmxlZCgpLGRwcjpuLmRldmljZVBpeGVsUmF0aW98fDEsamNzaTpKU09OLnN0cmluZ2lmeShnKSxvZ3U6KHU9KGRvY3VtZW50JiZkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdKS5xdWVyeVNlbGVjdG9yKCJtZXRhW3Byb3BlcnR5PSdvZzp1cmwnXSIpLHU/dS5jb250ZW50Om51bGwpfSxkPXdpbmRvdy5uYXZpZ2F0b3ImJih3aW5kb3cubmF2aWdhdG9yLmNvbm5lY3Rpb258fHdpbmRvdy5uYXZpZ2F0b3IubW96Q29ubmVjdGlvbnx8d2luZG93Lm5hdmlnYXRvci53ZWJraXRDb25uZWN0aW9uKSwoYz0ocz1kJiYoZC5kb3dubGlua3x8ZC5iYW5kd2lkdGgpKT9NYXRoLnJvdW5kKDEwMjQqcyk6bnVsbCkmJih3Lm5zPWMpLChhPShvLm1hdGNoKC8jZ2dhZD0oXHcrKSQvKXx8WzAsMF0pWzFdKSYmKHdbaXNOYU4oYSk/ImVBZEJ1eUlkIjoiYWRCdXlJZCJdPWEpLHd9ZnVuY3Rpb24gUyhlLHQpe3JldHVybiBlLnJlcGxhY2UoIkFEX0pTT04iLHdpbmRvdy5idG9hKEpTT04uc3RyaW5naWZ5KHQpKSl9ZnVuY3Rpb24geChlKXt2YXIgdD1lLmRpZ2l0cnVzdGlkJiZlLmRpZ2l0cnVzdGlkLmRhdGE7cmV0dXJuIXR8fHQucHJpdmFjeSYmdC5wcml2YWN5Lm9wdG91dD97fTp7ZHQ6dC5pZH19ZnVuY3Rpb24gUChlKXt2YXIgdD0wLG49MCxyPTA7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGk9YihlLDIpLG89aVswXSxhPWlbMV0sYz1vPmE/bzphOyhjPnJ8fGM9PT1yJiZvPj10JiZhPj1uKSYmKHI9Yyx0PW8sbj1hKX0pKSxbdCxuXX12YXIgQz17Y29kZToiZ3VtZ3VtIixhbGlhc2VzOlsiZ2ciXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmFtcyxuPWUuYWRVbml0Q29kZSxyPXQuaW5TY3JlZW58fHQuaW5TY3JlZW5QdWJJRHx8dC5pblNsb3R8fHQuSUNWfHx0LnZpZGVvfHx0LmluVmlkZW98fHQuc2xvdHx8dC5uYXRpdmV8fHQuem9uZXx8dC5wdWJJRDtpZihPW3JdKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiW0d1bUd1bV0gUGxlYXNlIGNoZWNrIHRoZSBpbXBsZW1lbnRhdGlvbiBmb3IgIi5jb25jYXQociwiIGZvciB0aGUgcGxhY2VtZW50ICIpLmNvbmNhdChuKSksITE7c3dpdGNoKCEwKXtjYXNlISF0LnpvbmU6Y2FzZSEhdC5wdWJJZDpjYXNlISF0LmluU2NyZWVuOmNhc2UhIXQuaW5TY3JlZW5QdWJJRDpjYXNlISF0LmluU2xvdDpjYXNlISF0LklDVjpjYXNlISF0LnZpZGVvOmNhc2UhIXQuaW5WaWRlbzpjYXNlISF0LnZpZGVvUHViSUQ6YnJlYWs7ZGVmYXVsdDpyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoIltHdW1HdW1dIE5vIHByb2R1Y3Qgc2VsZWN0ZWQgZm9yIHRoZSBwbGFjZW1lbnQgIi5jb25jYXQobiwiLCBwbGVhc2UgY2hlY2sgeW91ciBpbXBsZW1lbnRhdGlvbi4iKSksITF9cmV0dXJuISh0LmJpZGZsb29yJiYoIm51bWJlciIhPXR5cGVvZiB0LmJpZGZsb29yfHwhaXNGaW5pdGUodC5iaWRmbG9vcikpKXx8KE9iamVjdChpLmxvZ1dhcm4pKCJbR3VtR3VtXSBiaWRmbG9vciBtdXN0IGJlIGEgTnVtYmVyIiksITEpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIG49W10scj10JiZ0LmdkcHJDb25zZW50LGE9dCYmdC51c3BDb25zZW50LGM9by5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLHU9dCYmdC5yZWZlcmVySW5mbyYmdC5yZWZlcmVySW5mby5yZWZlcmVyO3JldHVybiBPYmplY3QoaS5fZWFjaCkoZSwoZnVuY3Rpb24oZSl7dmFyIHQsbyxkPWUuYmlkSWQscD1lLm1lZGlhVHlwZXMsZj12b2lkIDA9PT1wP3t9OnAseT1lLnBhcmFtcyx2PXZvaWQgMD09PXk/e306eSxnPWUuc2NoYWluLGg9ZS50cmFuc2FjdGlvbklkLE89ZS51c2VySWQsdz12b2lkIDA9PT1PP3t9Ok8sUz1lLm9ydGIySW1wLEM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPU9iamVjdC5rZXlzKGUpWzBdfHwiYmFubmVyIixpPXtmbG9vcjowLGN1cnJlbmN5OiJVU0QifTtpZigiZnVuY3Rpb24iPT10eXBlb2Ygbi5nZXRGbG9vcil7dmFyIG89bi5nZXRGbG9vcih7bWVkaWFUeXBlOnIsc2l6ZToiKiJ9KSxhPW8uY3VycmVuY3ksYz1vLmZsb29yO2MmJihpLmZsb29yPWMpLGEmJihpLmN1cnJlbmN5PWEpLHQmJmMmJiJVU0QiPT09YSYmKGkuZmxvb3I9TWF0aC5tYXgodCxwYXJzZUZsb2F0KGMpKSl9ZWxzZSB0JiYoaS5mbG9vcj10KTtyZXR1cm4gaX0oZix2LmJpZGZsb29yLGUpLHo9Qy5jdXJyZW5jeSxEPUMuZmxvb3IsQT1mdW5jdGlvbihlKXt2YXIgdD1bInVpZCIsImVpZCIsImxpcGJpZCJdO3JldHVybiBPYmplY3Qua2V5cyhlKS5yZWR1Y2UoKGZ1bmN0aW9uKG4scil7dmFyIGk9ZVtyXTtzd2l0Y2gobShpKSl7Y2FzZSJzdHJpbmciOm5bcl09aTticmVhaztjYXNlIm9iamVjdCI6dmFyIG89dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmhhc093blByb3BlcnR5KGUpfSkpO28ubGVuZ3RoJiYobltyXT1pW29bMF1dKX1yZXR1cm4gbn0pLHt9KX0odyksVD1bMSwxXSxrPXt9LFI9IiIsVT1uZXcgRGF0ZSxHPVUmJlUuZ2V0VGltZSgpLFY9VSYmVS5nZXRUaW1lem9uZU9mZnNldCgpO2Zvcih2YXIgRSBpbiBWJiYoRyYmKGsubHQ9Ryksay50bz1WKSxBKWtbRV09QVtFXTtpZihPYmplY3QoaS5kZWVwQWNjZXNzKShTLCJleHQuZGF0YS5wYmFkc2xvdCIpP1I9T2JqZWN0KGkuZGVlcEFjY2VzcykoUywiZXh0LmRhdGEucGJhZHNsb3QiKTpPYmplY3QoaS5kZWVwQWNjZXNzKShTLCJleHQuZGF0YS5hZHNlcnZlci5uYW1lIikmJihSPVMuZXh0LmRhdGEuYWRzZXJ2ZXIuYWRzbG90KSxmLmJhbm5lcj9UPWYuYmFubmVyLnNpemVzOmYudmlkZW8mJihUPWYudmlkZW8ucGxheWVyU2l6ZSxrPWZ1bmN0aW9uKGUpe3ZhciB0PWUubWluZHVyYXRpb24sbj1lLm1heGR1cmF0aW9uLHI9ZS5saW5lYXJpdHksbz1lLnN0YXJ0ZGVsYXksYT1lLnBsYWNlbWVudCxjPWUucHJvdG9jb2xzLHU9dm9pZCAwPT09Yz9bXTpjLGQ9ZS5wbGF5ZXJTaXplLHM9dm9pZCAwPT09ZD9bXTpkLHA9T2JqZWN0KGkucGFyc2VTaXplc0lucHV0KShzKSxsPWIocFswXSYmcFswXS5zcGxpdCgieCIpLDIpLGY9bFswXSxtPWxbMV0seT0iIjtyZXR1cm4gdS5sZW5ndGgmJih5PXUuam9pbigiLCIpKSx7bWluZDp0LG1heGQ6bixsaTpyLHNkOm8scHQ6YSxwcjp5LHZpdzpmLHZpaDptfX0oZi52aWRlbykpLEkmJihrLnB2PUkpLEQmJihrLmZwPUQsay5mcGM9eiksdi5pcmlzY2F0JiYic3RyaW5nIj09dHlwZW9mIHYuaXJpc2NhdCYmKGsuaXJpc2NhdD12LmlyaXNjYXQpLHYuaXJpc2lkJiYic3RyaW5nIj09dHlwZW9mIHYuaXJpc2lkJiYoay5pcmlzaWQ9di5pcmlzaWQpLHYuem9uZXx8di5wdWJJZClpZih2LnpvbmU/ay50PXYuem9uZTprLnB1YklkPXYucHViSWQsay5waT0yLHYuc2xvdCl7dmFyIE49YihQKFQpLDIpLHE9TlswXSxCPU5bMV07ay5tYXh3PXEsay5tYXhoPUIsay5zaT12LnNsb3Qsay5waT0zLGsuYmY9VC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIiIuY29uY2F0KGUpLmNvbmNhdChlJiYiLCIpLmNvbmNhdCh0WzBdLCJ4IikuY29uY2F0KHRbMV0pfSksIiIpfWVsc2Ugdi5uYXRpdmU/KGsubmk9di5uYXRpdmUsay5waT01KTpmLnZpZGVvJiYoay5waT0yPT09Zi52aWRlby5saW5lYXJpdHk/Njo3KTtlbHNlIGs9bChsKHt9LGspLGZ1bmN0aW9uKGUsdCl7dmFyIG49e307ZS5pblNjcmVlblB1YklEJiYobi5wdWJJZD1lLmluU2NyZWVuUHViSUQsbi5waT0yKTtlLmluU2NyZWVuJiYobi50PWUuaW5TY3JlZW4sbi5waT0yKTtpZihlLmluU2xvdCl7dmFyIHI9YihQKHQpLDIpLGk9clswXSxvPXJbMV07bi5tYXh3PWksbi5tYXhoPW8sbi5zaT1lLmluU2xvdCxuLnBpPTMsbi5iZj10LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4iIi5jb25jYXQoZSkuY29uY2F0KGUmJiIsIikuY29uY2F0KHRbMF0sIngiKS5jb25jYXQodFsxXSl9KSwiIil9ZS5JQ1YmJihuLm5pPWUuSUNWLG4ucGk9NSk7ZS52aWRlb1B1YklEJiYobi5wdWJJZD1lLnZpZGVvUHViSUQsbi5waT03KTtlLnZpZGVvJiYobi50PWUudmlkZW8sbi5waT03KTtlLmluVmlkZW8mJihuLnQ9ZS5pblZpZGVvLG4ucGk9Nik7cmV0dXJuIG59KHYsVCkpO3ImJihrLmdkcHJBcHBsaWVzPXIuZ2RwckFwcGxpZXM/MTowKSxrLmdkcHJBcHBsaWVzJiYoay5nZHByQ29uc2VudD1yLmNvbnNlbnRTdHJpbmcpLGEmJihrLnVzcENvbnNlbnQ9YSksZyYmZy5ub2RlcyYmKGsuc2NoYWluPShvPSIiLmNvbmNhdCgodD1nKS52ZXIsIiwiKS5jb25jYXQodC5jb21wbGV0ZSksdC5ub2Rlcy5tYXAoKGZ1bmN0aW9uKGUpe28rPSIhIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuYXNpfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuc2lkfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuaHB8fCIiKSwiLCIpLG8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5yaWR8fCIiKSwiLCIpLG8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5uYW1lfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuZG9tYWlufHwiIikpfSkpLG8pKSxuLnB1c2goe2lkOmQsdG1heDpjLHRJZDpoLHBpOmsucGksc2VsZWN0b3I6di5zZWxlY3RvcixzaXplczpULHVybDoiaHR0cHM6Ly9nMi5ndW1ndW0uY29tL2hiaWQvaW1wIixtZXRob2Q6IkdFVCIsZGF0YTpzKGssaih1KSx4KHcpLHtncGlkOlJ9KX0pfSkpLG59LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49W10sbz1lLmJvZHk7aWYoIW98fG8uZXJyKXt2YXIgYT10LmRhdGF8fHt9LGM9YS5zaXx8YS5uaXx8YS50fHxhLnB1YklkLGQ9bz9vLmVyci5kcnQ6MThlNTtPW2NdPXtwcm9kdWN0SWQ6YS5waSx0aW1lc3RhbXA6KG5ldyBEYXRlKS5nZXRUaW1lKCl9LHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7T1tjXSYmZGVsZXRlIE9bY119KSxkKSxPYmplY3QoaS5sb2dXYXJuKSgiW0d1bUd1bV0gUGxlYXNlIGNoZWNrIHRoZSBpbXBsZW1lbnRhdGlvbiBmb3IgIi5jb25jYXQoYykpfXZhciBwPXMoe2FkOntwcmljZTowLGlkOjAsbWFya3VwOiIiLHdpZHRoOjAsaGVpZ2h0OjB9LHBhZzp7cHZpZDowfSxtZXRhOnthZG9tYWluOltdLG1lZGlhVHlwZToiIn19LG8pLGY9cC5hZCxtPWYucHJpY2UseT1mLmlkLHY9Zi5tYXJrdXAsaD1mLmN1cix3PWYud2lkdGgsaj1mLmhlaWdodCx4PWYubWF4dyxQPWYubWF4aCxDPXAuY3csej1wLnBhZy5wdmlkLEQ9cC5qY3NpLEE9cC5tZXRhLFQ9QS5hZG9tYWluLGs9QS5tZWRpYVR5cGUsUj10LmRhdGF8fHt9LFU9Ui5waSxHPTY9PT1VfHw3PT09VT9yLmQ6ci5iLFY9Mz09PVUmJjk9PT1SLnNpLEU9e2FkdmVydGlzZXJEb21haW5zOlR8fFtdLG1lZGlhVHlwZTprfHxHfSxOPU9iamVjdChpLnBhcnNlU2l6ZXNJbnB1dCkodC5zaXplcyk7aWYoeCYmUClOPVsiIi5jb25jYXQoeCwieCIpLmNvbmNhdChQKV07ZWxzZSBpZig1PT09VSYmdSgpKE4sIjF4MSIpKU49WyIxeDEiXTtlbHNlIGlmKDI9PT1VJiZ1KCkoTiwiMXgxIikpe3ZhciBxPXQuc2l6ZXMmJnQuc2l6ZXMucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPWIodCwyKSxyPW5bMF0saT1uWzFdO3JldHVybiB3IT09ciYmaiE9PWl8fGUucHVzaCh0LmpvaW4oIngiKSksZX0pLFtdKXx8W107Tj1xLmxlbmd0aD9xOk9iamVjdChpLnBhcnNlU2l6ZXNJbnB1dCkodC5zaXplcyl9dmFyIEI9YihOWzBdLnNwbGl0KCJ4IiksMiksTT1CWzBdLFc9QlsxXTtyZXR1cm4gRCYmKG8uamNzaT1nKSxJPXoseSYmbi5wdXNoKGwobCh7YWQ6Qz9TKEMscyh7fSxvLHtiaWRSZXF1ZXN0OnR9KSk6dn0sRz09PXIuZCYme2FkOnYsdmFzdFhtbDp2fSkse30se21lZGlhVHlwZTpHLGNwbTpWPy4xOm0sY3JlYXRpdmVJZDp5LGN1cnJlbmN5Omh8fCJVU0QiLGhlaWdodDpXLG5ldFJldmVudWU6ITAscmVxdWVzdElkOnQuaWQsdHRsOjYwLHdpZHRoOk0sbWV0YTpFfSkpLG59LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYm9keSYmZS5ib2R5LnB4cyYmZS5ib2R5LnB4cy5zY3J8fFtdfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9KSxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dHlwZToiZiI9PT1lLnQ/ImlmcmFtZSI6ImltYWdlIix1cmw6ZS51fX0pKX0sc3VwcG9ydGVkTWVkaWFUeXBlczpofTtPYmplY3QoZC5yZWdpc3RlckJpZGRlcikoQyl9LmNhbGwodCxuKDQwKSl9fSxbNDkyXSk7CnVwYmpzQ2h1bmsoWzI0MV0sezUwNjpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNTA3KX0sNTA3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJJRDVfU1RPUkFHRV9OQU1FIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxyLmQodCwiSUQ1X1BSSVZBQ1lfU1RPUkFHRV9OQU1FIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxyLmQodCwiaWQ1SWRTdWJtb2R1bGUiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLHQuZXhwRGF5c1N0cj1PLHQubmJDYWNoZU5hbWU9aix0LnN0b3JlTmJJbkNhY2hlPXYsdC5nZXROYkZyb21DYWNoZT1JLHQuZ2V0RnJvbUxvY2FsU3RvcmFnZT1TLHQuc3RvcmVJbkxvY2FsU3RvcmFnZT1fO3ZhciBvPXIoMCksbj1yKDQpLGE9cig5KSxjPXIoMTkpLGk9cig3KSxzPXIoOCkscD0iaWQ1aWQiLHU9IiIuY29uY2F0KHAsIl9wcml2YWN5IiksZD0iaHRtbDUiLGc9IlVzZXIgSUQgLSBJRDUgc3VibW9kdWxlOiAiLGI9WyJwYmpzLWlkNWlkIiwiaWQ1aWQuMXN0IiwiaWQ1aWQiXSxsPU9iamVjdChpLmIpKDEzMSwiaWQ1SWQiKSxtPXtuYW1lOiJpZDVJZCIsZ3ZsaWQ6MTMxLGRlY29kZTpmdW5jdGlvbihlLHQpe3ZhciByPTA7aWYoZSYmInN0cmluZyI9PXR5cGVvZiBlLnVuaXZlcnNhbF91aWQpe3ZhciBuPXtpZDVpZDp7dWlkOmUudW5pdmVyc2FsX3VpZCxleHQ6e2xpbmtUeXBlOnI9ZS5saW5rX3R5cGV8fHJ9fX07c3dpdGNoKE9iamVjdChvLmRlZXBBY2Nlc3MpKGUsImFiX3Rlc3RpbmcucmVzdWx0Iikpe2Nhc2UiY29udHJvbCI6T2JqZWN0KG8ubG9nSW5mbykoZysiQS9CIFRlc3RpbmcgLSB1c2VyIGlzIGluIHRoZSBDb250cm9sIEdyb3VwOiBJRDUgSUQgaXMgTk9UIGV4cG9zZWQiKSxPYmplY3Qoby5kZWVwU2V0VmFsdWUpKG4sImlkNWlkLmV4dC5hYlRlc3RpbmdDb250cm9sR3JvdXAiLCEwKTticmVhaztjYXNlImVycm9yIjpPYmplY3Qoby5sb2dFcnJvcikoZysiQS9CIFRlc3RpbmcgRVJST1IhIGNvbnRyb2xHcm91cFBjdCBtdXN0IGJlIGEgbnVtYmVyID49IDAgYW5kIDw9IDEiKTticmVhaztjYXNlIm5vcm1hbCI6T2JqZWN0KG8ubG9nSW5mbykoZysiQS9CIFRlc3RpbmcgLSB1c2VyIGlzIE5PVCBpbiB0aGUgQ29udHJvbCBHcm91cCIpLE9iamVjdChvLmRlZXBTZXRWYWx1ZSkobiwiaWQ1aWQuZXh0LmFiVGVzdGluZ0NvbnRyb2xHcm91cCIsITEpfXJldHVybiBPYmplY3Qoby5sb2dJbmZvKShnKyJEZWNvZGVkIElEIixuKSxufX0sZ2V0SWQ6ZnVuY3Rpb24oZSx0LHIpe2lmKGYoZSkpe3ZhciBhLGk9Imh0dHBzOi8vaWQ1LXN5bmMuY29tL2cvdjIvIi5jb25jYXQoZS5wYXJhbXMucGFydG5lciwiLmpzb24iKSxwPXQmJiJib29sZWFuIj09dHlwZW9mIHQuZ2RwckFwcGxpZXMmJnQuZ2RwckFwcGxpZXM/MTowLG09cy51c3BEYXRhSGFuZGxlci5nZXRDb25zZW50RGF0YSgpLGo9T2JqZWN0KGMuYSkoKSxJPXImJnIuc2lnbmF0dXJlP3Iuc2lnbmF0dXJlOihiLmZvckVhY2goKGZ1bmN0aW9uKGUpe2wuZ2V0Q29va2llKGUpJiYoYT1KU09OLnBhcnNlKGwuZ2V0Q29va2llKGUpKXx8YSl9KSksYSYmYS5zaWduYXR1cmV8fCIiKSxTPXtwYXJ0bmVyOmUucGFyYW1zLnBhcnRuZXIsZ2RwcjpwLG5iUGFnZTp5KGUucGFyYW1zLnBhcnRuZXIpLG86InBianMiLHJmOmoucmVmZXJlcix0b3A6ai5yZWFjaGVkVG9wPzE6MCx1Omouc3RhY2tbMF18fHdpbmRvdy5sb2NhdGlvbi5ocmVmLHY6IjUuMjAuMiJ9OyFwfHx2b2lkIDA9PT10LmNvbnNlbnRTdHJpbmd8fE9iamVjdChvLmlzRW1wdHkpKHQuY29uc2VudFN0cmluZyl8fE9iamVjdChvLmlzRW1wdHlTdHIpKHQuY29uc2VudFN0cmluZyl8fChTLmdkcHJfY29uc2VudD10LmNvbnNlbnRTdHJpbmcpLHZvaWQgMD09PW18fE9iamVjdChvLmlzRW1wdHkpKG0pfHxPYmplY3Qoby5pc0VtcHR5U3RyKShtKXx8KFMudXNfcHJpdmFjeT1tKSx2b2lkIDA9PT1JfHxPYmplY3Qoby5pc0VtcHR5U3RyKShJKXx8KFMucz1JKSx2b2lkIDA9PT1lLnBhcmFtcy5wZHx8T2JqZWN0KG8uaXNFbXB0eVN0cikoZS5wYXJhbXMucGQpfHwoUy5wZD1lLnBhcmFtcy5wZCksdm9pZCAwPT09ZS5wYXJhbXMucHJvdmlkZXJ8fE9iamVjdChvLmlzRW1wdHlTdHIpKGUucGFyYW1zLnByb3ZpZGVyKXx8KFMucHJvdmlkZXI9ZS5wYXJhbXMucHJvdmlkZXIpO3ZhciBoPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoby5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYWJUZXN0aW5nIix7ZW5hYmxlZDohMX0pfShlKTshMD09PWguZW5hYmxlZCYmKFMuYWJfdGVzdGluZz17ZW5hYmxlZDohMCxjb250cm9sX2dyb3VwX3BjdDpoLmNvbnRyb2xHcm91cFBjdH0pO3JldHVybntjYWxsYmFjazpmdW5jdGlvbih0KXt2YXIgcj17c3VjY2VzczpmdW5jdGlvbihyKXt2YXIgbjtpZihyKXRyeXtuPUpTT04ucGFyc2UociksT2JqZWN0KG8ubG9nSW5mbykoZysicmVzcG9uc2UgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyIixuKSx2KGUucGFyYW1zLnBhcnRuZXIsMCksbi5wcml2YWN5JiZfKHUsSlNPTi5zdHJpbmdpZnkobi5wcml2YWN5KSwzMCksZS5zdG9yYWdlLnR5cGU9PT1kJiZmdW5jdGlvbihlKXtPYmplY3Qoby5sb2dJbmZvKShnKyJyZW1vdmluZyBsZWdhY3kgY29va2llcyIpLGIuZm9yRWFjaCgoZnVuY3Rpb24odCl7bC5zZXRDb29raWUoIiIuY29uY2F0KHQpLCIgIixPKC0xKSksbC5zZXRDb29raWUoIiIuY29uY2F0KHQsIl9uYiIpLCIgIixPKC0xKSksbC5zZXRDb29raWUoIiIuY29uY2F0KHQsIl8iKS5jb25jYXQoZSwiX25iIiksIiAiLE8oLTEpKSxsLnNldENvb2tpZSgiIi5jb25jYXQodCwiX2xhc3QiKSwiICIsTygtMSkpfSkpfShlLnBhcmFtcy5wYXJ0bmVyKX1jYXRjaChlKXtPYmplY3Qoby5sb2dFcnJvcikoZytlKX10KG4pfSxlcnJvcjpmdW5jdGlvbihlKXtPYmplY3Qoby5sb2dFcnJvcikoZysiZ2V0SWQgZmV0Y2ggZW5jb3VudGVyZWQgYW4gZXJyb3IiLGUpLHQoKX19O09iamVjdChvLmxvZ0luZm8pKGcrInJlcXVlc3RpbmcgYW4gSUQgZnJvbSB0aGUgc2VydmVyIixTKSxPYmplY3Qobi5hKShpLHIsSlNPTi5zdHJpbmdpZnkoUykse21ldGhvZDoiUE9TVCIsd2l0aENyZWRlbnRpYWxzOiEwfSl9fX19LGV4dGVuZElkOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZihlKSx5KGUmJmUucGFyYW1zJiZlLnBhcmFtcy5wYXJ0bmVyfHwwKSxPYmplY3Qoby5sb2dJbmZvKShnKyJ1c2luZyBjYWNoZWQgSUQiLHIpLHJ9fTtmdW5jdGlvbiBmKGUpe3JldHVybiBlJiZlLnBhcmFtcyYmZS5wYXJhbXMucGFydG5lciYmIm51bWJlciI9PXR5cGVvZiBlLnBhcmFtcy5wYXJ0bmVyP2Uuc3RvcmFnZSYmZS5zdG9yYWdlLnR5cGUmJmUuc3RvcmFnZS5uYW1lPyhlLnN0b3JhZ2UudHlwZSE9PWQmJk9iamVjdChvLmxvZ1dhcm4pKGcrInN0b3JhZ2UgdHlwZSByZWNvbW1lbmRlZCB0byBiZSAnIi5jb25jYXQoZCwiJy4gSW4gYSBmdXR1cmUgcmVsZWFzZSB0aGlzIG1heSBiZWNvbWUgYSBzdHJpY3QgcmVxdWlyZW1lbnQiKSksZS5zdG9yYWdlLm5hbWUhPT1wJiZPYmplY3Qoby5sb2dXYXJuKShnKyJzdG9yYWdlIG5hbWUgcmVjb21tZW5kZWQgdG8gYmUgJyIuY29uY2F0KHAsIicuIEluIGEgZnV0dXJlIHJlbGVhc2UgdGhpcyBtYXkgYmVjb21lIGEgc3RyaWN0IHJlcXVpcmVtZW50IikpLCEwKTooT2JqZWN0KG8ubG9nRXJyb3IpKGcrInN0b3JhZ2UgcmVxdWlyZWQgdG8gYmUgc2V0IiksITEpOihPYmplY3Qoby5sb2dFcnJvcikoZysicGFydG5lciByZXF1aXJlZCB0byBiZSBkZWZpbmVkIGFzIGEgbnVtYmVyIiksITEpfWZ1bmN0aW9uIE8oZSl7cmV0dXJuIG5ldyBEYXRlKERhdGUubm93KCkrODY0ZTUqZSkudG9VVENTdHJpbmcoKX1mdW5jdGlvbiBqKGUpe3JldHVybiIiLmNvbmNhdChwLCJfIikuY29uY2F0KGUsIl9uYiIpfWZ1bmN0aW9uIHYoZSx0KXtfKGooZSksdCwzMCl9ZnVuY3Rpb24gSShlKXt2YXIgdD1TKGooZSkpO3JldHVybiB0P3BhcnNlSW50KHQpOjB9ZnVuY3Rpb24geShlKXt2YXIgdD1JKGUpKzE7cmV0dXJuIHYoZSx0KSx0fWZ1bmN0aW9uIFMoZSl7dmFyIHQ9bC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSgiIi5jb25jYXQoZSwiX2V4cCIpKTtyZXR1cm4iIj09PXR8fHQmJm5ldyBEYXRlKHQpLmdldFRpbWUoKS1EYXRlLm5vdygpPjA/bC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShlKToobC5yZW1vdmVEYXRhRnJvbUxvY2FsU3RvcmFnZShlKSxudWxsKX1mdW5jdGlvbiBfKGUsdCxyKXtsLnNldERhdGFJbkxvY2FsU3RvcmFnZSgiIi5jb25jYXQoZSwiX2V4cCIpLE8ocikpLGwuc2V0RGF0YUluTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChlKSx0KX1PYmplY3QoYS5lKSgidXNlcklkIixtKX19LFs1MDZdKTsKdXBianNDaHVuayhbNTFdLHsxNzpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO3IuYj1mdW5jdGlvbihlKXt2YXIgcj1bXTtmb3IodmFyIHQgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHQpKWlmKCJwdWJQcm92aWRlZElkIj09PXQpcj1yLmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIGk9bihlW3RdLHQpO2kmJnIucHVzaChpKX1yZXR1cm4gcn0sci5hPWZ1bmN0aW9uKGUpe3ZhciByPVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmT2JqZWN0KGkuZGVlcEFjY2VzcykoYSx0KyIuc291cmNlIikmJnIucHVzaCh7c291cmNlOmFbdF0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHJ9O3ZhciBpPXQoMCksYT17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LG5hdmVnZ0lkOntzb3VyY2U6Im5hdmVnZy5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdChpLnBpY2spKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHIpLmxlbmd0aClyZXR1cm4gcn19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxwdWJsaW5rSWQ6e3NvdXJjZToiZXBzaWxvbi5jb20iLGF0eXBlOjN9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfSxjb25uZWN0SWQ6e3NvdXJjZToieWFob28uY29tIixhdHlwZTozfX07ZnVuY3Rpb24gbihlLHIpe3ZhciB0PWFbcl07aWYodCYmZSl7dmFyIG49e307bi5zb3VyY2U9dC5zb3VyY2U7dmFyIHM9T2JqZWN0KGkuaXNGbikodC5nZXRWYWx1ZSk/dC5nZXRWYWx1ZShlKTplO2lmKE9iamVjdChpLmlzU3RyKShzKSl7dmFyIGM9e2lkOnMsYXR5cGU6dC5hdHlwZX07aWYoT2JqZWN0KGkuaXNGbikodC5nZXRVaWRFeHQpKXt2YXIgZD10LmdldFVpZEV4dChlKTtkJiYoYy5leHQ9ZCl9aWYobi51aWRzPVtjXSxPYmplY3QoaS5pc0ZuKSh0LmdldEVpZEV4dCkpe3ZhciBvPXQuZ2V0RWlkRXh0KGUpO28mJihuLmV4dD1vKX1yZXR1cm4gbn19cmV0dXJuIG51bGx9fSw1MTk6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDUyMCl9LDUyMDpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSksci5JbXByb3ZlRGlnaXRhbEFkU2VydmVySlNDbGllbnQ9djt2YXIgaT10KDApLGE9dCgxKSxuPXQoMykscz10KDIpLGM9dCgxMyksZD10KDE3KSxvPXQoMTIpLHU9dC5uKG8pO2Z1bmN0aW9uIHAoKXtyZXR1cm4ocD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBpIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkmJihlW2ldPXRbaV0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBsPSJodHRwczovL2FjZG4uYWRueHMuY29tL3ZpZGVvL291dHN0cmVhbS9BTk91dHN0cmVhbVZpZGVvLmpzIixiPVsic2tpcCIsInNraXBtaW4iLCJza2lwYWZ0ZXIiXSxtPXt2ZXJzaW9uOiI3LjQuMCIsY29kZToiaW1wcm92ZWRpZ2l0YWwiLGd2bGlkOjI1MyxhbGlhc2VzOlsiaWQiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltzLmIscy5jLHMuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5wYXJhbXMmJihlLnBhcmFtcy5wbGFjZW1lbnRJZHx8ZS5wYXJhbXMucGxhY2VtZW50S2V5JiZlLnBhcmFtcy5wdWJsaXNoZXJJZCkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgcj1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoImFkVW5pdENvZGUiLGUpfHxudWxsLHQ9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJwbGFjZW1lbnRJZCIsZS5wYXJhbXMpfHxudWxsLGE9bnVsbCxjPW51bGw7bnVsbD09PXQmJihhPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgicHVibGlzaGVySWQiLGUucGFyYW1zKXx8bnVsbCxjPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgicGxhY2VtZW50S2V5IixlLnBhcmFtcyl8fG51bGwpO3ZhciBkPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgia2V5VmFsdWVzIixlLnBhcmFtcyl8fG51bGwsbz1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoInNpemUiLGUucGFyYW1zKXx8bnVsbCxwPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgiYmlkSWQiLGUpLGw9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJ0cmFuc2FjdGlvbklkIixlKSxtPW4uYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKSxnPXt9O2YoZSkmJihnLmFkVHlwZXM9W3MuZF0pOyhmKGUpfHx5KGUpKSYmKGcudmlkZW89ZnVuY3Rpb24oZSl7dmFyIHI9e307cmV0dXJuIE9iamVjdC5rZXlzKE9iamVjdChlLm1lZGlhVHlwZXMudmlkZW8pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB1KCkoYixlKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyW3RdPWUubWVkaWFUeXBlcy52aWRlb1t0XX0pKSxPYmplY3Qua2V5cyhPYmplY3QoZS5wYXJhbXMudmlkZW8pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB1KCkoYixlKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyW3RdPWUucGFyYW1zLnZpZGVvW3RdfSkpLHJ9KGUpKTt0P2cucGxhY2VtZW50SWQ9dDooYSYmKGcucHVibGlzaGVySWQ9YSksYyYmKGcucGxhY2VtZW50S2V5PWMpKTtkJiYoZy5rZXlWYWx1ZXM9ZCk7ITA9PT1uLmIuZ2V0Q29uZmlnKCJpbXByb3ZlZGlnaXRhbC51c2VQcmViaWRTaXplcyIpJiYhZihlKSYmIXkoZSkmJmUuc2l6ZXMmJmUuc2l6ZXMubGVuZ3RoPjA/Zy5mb3JtYXQ9ZS5zaXplczpvJiZvLncmJm8uaCYmKGcuc2l6ZT17fSxnLnNpemUuaD1vLmgsZy5zaXplLnc9by53KTtwJiYoZy5pZD1wKTtyJiYoZy5hZFVuaXRJZD1yKTtsJiYoZy50cmFuc2FjdGlvbklkPWwpO20mJihnLmN1cnJlbmN5PW0pO3ZhciBoPWZ1bmN0aW9uKGUpe2lmKCFPYmplY3QoaS5pc0ZuKShlLmdldEZsb29yKSlyZXR1cm4gbnVsbDt2YXIgcj1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7aWYoT2JqZWN0KGkuaXNQbGFpbk9iamVjdCkocikmJiFpc05hTihyLmZsb29yKSYmIlVTRCI9PT1yLmN1cnJlbmN5KXJldHVybiByLmZsb29yO3JldHVybiBudWxsfShlKSx2PW51bGw7aHx8KGg9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJiaWRGbG9vciIsZS5wYXJhbXMpLHY9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJiaWRGbG9vckN1ciIsZS5wYXJhbXMpKTtoJiYoZy5iaWRGbG9vcj1oLGcuYmlkRmxvb3JDdXI9dj92LnRvVXBwZXJDYXNlKCk6IlVTRCIpO3JldHVybiBnfShlKX0pKSxhPW5ldyB2KCJoYiIpLGM9e3NpbmdsZVJlcXVlc3RNb2RlOiEwPT09bi5iLmdldENvbmZpZygiaW1wcm92ZWRpZ2l0YWwuc2luZ2xlUmVxdWVzdCIpLHJldHVybk9ialR5cGU6YS5DT05TVEFOVFMuUkVUVVJOX09CSl9UWVBFLlVSTF9QQVJBTVNfU1BMSVQsbGliVmVyc2lvbjp0aGlzLnZlcnNpb259O2lmKHImJnIuZ2RwckNvbnNlbnQmJnIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKGMuZ2Rwcj1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLHImJnIudXNwQ29uc2VudCYmKGMudXNQcml2YWN5PXIudXNwQ29uc2VudCksciYmci5yZWZlcmVySW5mbyYmci5yZWZlcmVySW5mby5yZWZlcmVyJiYoYy5yZWZlcnJlcj1yLnJlZmVyZXJJbmZvLnJlZmVyZXIpLGMuc2NoYWluPWVbMF0uc2NoYWluLGVbMF0udXNlcklkKXt2YXIgbz1PYmplY3QoZC5iKShlWzBdLnVzZXJJZCk7by5sZW5ndGgmJk9iamVjdChpLmRlZXBTZXRWYWx1ZSkoYywidXNlci5leHQuZWlkcyIsbyl9dmFyIHA9YS5jcmVhdGVSZXF1ZXN0KHQsYyk7cmV0dXJuIHAuZXJyb3JzJiZwLmVycm9ycy5sZW5ndGg+MCYmT2JqZWN0KGkubG9nRXJyb3IpKCJJRCBXQVJOSU5HIDB4MDEiKSxwLnJlcXVlc3RzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlclJlcXVlc3Q9cn0pKSxwLnJlcXVlc3RzfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PXIuYmlkZGVyUmVxdWVzdCxhPVtdO3JldHVybiBPYmplY3QoaS5fZWFjaCkoZS5ib2R5LmJpZCwoZnVuY3Rpb24oZSl7aWYoZS5wcmljZSYmbnVsbCE9PWUucHJpY2UmJiFlLmhhc093blByb3BlcnR5KCJlcnJvckNvZGUiKSYmKGUuYWRtfHxlLm5hdGl2ZSkpe3ZhciByPU9iamVjdChpLmdldEJpZFJlcXVlc3QpKGUuaWQsW3RdKSxuPXt9O2lmKGUubmF0aXZlKW4ubmF0aXZlPWZ1bmN0aW9uKGUpe3ZhciByPXt9O2lmKCFlfHwhT2JqZWN0KGkuaXNBcnJheSkoZS5hc3NldHMpKXJldHVybiBudWxsO2UuYXNzZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUudGl0bGUpci50aXRsZT1lLnRpdGxlLnRleHQ7ZWxzZSBpZihlLmRhdGEpc3dpdGNoKGUuZGF0YS50eXBlKXtjYXNlIDE6ci5zcG9uc29yZWRCeT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAyOnIuYm9keT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAzOnIucmF0aW5nPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDQ6ci5saWtlcz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA1OnIuZG93bmxvYWRzPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDY6ci5wcmljZT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA3OnIuc2FsZVByaWNlPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDg6ci5waG9uZT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA5OnIuYWRkcmVzcz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAxMDpyLmJvZHkyPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDExOnIuZGlzcGxheVVybD1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAxMjpyLmN0YT1lLmRhdGEudmFsdWV9ZWxzZSBpZihlLmltZylzd2l0Y2goZS5pbWcudHlwZSl7Y2FzZSAyOnIuaWNvbj17dXJsOmUuaW1nLnVybCx3aWR0aDplLmltZy53LGhlaWdodDplLmltZy5ofTticmVhaztjYXNlIDM6ci5pbWFnZT17dXJsOmUuaW1nLnVybCx3aWR0aDplLmltZy53LGhlaWdodDplLmltZy5ofX19KSksZS5ldmVudHRyYWNrZXJzPyhyLmltcHJlc3Npb25UcmFja2Vycz1bXSxlLmV2ZW50dHJhY2tlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoMT09PWUuZXZlbnQpc3dpdGNoKGUubWV0aG9kKXtjYXNlIDE6ci5pbXByZXNzaW9uVHJhY2tlcnMucHVzaChlLnVybCk7YnJlYWs7Y2FzZSAyOnIuamF2YXNjcmlwdFRyYWNrZXJzPSc8c2NyaXB0IHNyYz0iJy5jb25jYXQoZS51cmwsJyI+PFwvc2NyaXB0PicpfX0pKSk6KHIuaW1wcmVzc2lvblRyYWNrZXJzPWUuaW1wdHJhY2tlcnN8fFtdLHIuamF2YXNjcmlwdFRyYWNrZXJzPWUuanN0cmFja2VyKTtlLmxpbmsmJihyLmNsaWNrVXJsPWUubGluay51cmwsci5jbGlja1RyYWNrZXJzPWUubGluay5jbGlja3RyYWNrZXJzKTtlLnByaXZhY3kmJihyLnByaXZhY3lMaW5rPWUucHJpdmFjeSk7cmV0dXJuIHJ9KGUubmF0aXZlKSxuLm9ydGJOYXRpdmU9ZS5uYXRpdmUsZS5udXJsJiZuLm5hdGl2ZS5pbXByZXNzaW9uVHJhY2tlcnMudW5zaGlmdChlLm51cmwpLG4ubWVkaWFUeXBlPXMuYztlbHNlIGlmKGUuYWRfdHlwZSYmInZpZGVvIj09PWUuYWRfdHlwZSluLnZhc3RYbWw9ZS5hZG0sbi5tZWRpYVR5cGU9cy5kLHkocikmJihuLmFkUmVzcG9uc2U9e2NvbnRlbnQ6bi52YXN0WG1sLGhlaWdodDplLmgsd2lkdGg6ZS53fSxuLnJlbmRlcmVyPWZ1bmN0aW9uKGUpe3ZhciByPWMuYS5pbnN0YWxsKHtpZDplLmFkVW5pdENvZGUsdXJsOmwsbG9hZGVkOiExLGNvbmZpZzpPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJyZW5kZXJlci5vcHRpb25zIiksYWRVbml0Q29kZTplLmFkVW5pdENvZGV9KTt0cnl7ci5zZXRSZW5kZXIoZyl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIHJ9KHIpKTtlbHNle3ZhciBkPSIiO2UubnVybCYmZS5udXJsLmxlbmd0aD4wJiYoZD0nPGltZyBzcmM9IicuY29uY2F0KGUubnVybCwnIiB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBzdHlsZT0iZGlzcGxheTpub25lIj4nKSksbi5hZD0iIi5jb25jYXQoZCwiPHNjcmlwdD4iKS5jb25jYXQoZS5hZG0sIjxcL3NjcmlwdD4iKSxuLm1lZGlhVHlwZT1zLmJ9aWYobi5jcG09cGFyc2VGbG9hdChlLnByaWNlKSxuLmNyZWF0aXZlSWQ9ZS5jcmlkLG4uY3VycmVuY3k9ZS5jdXJyZW5jeT9lLmN1cnJlbmN5LnRvVXBwZXJDYXNlKCk6IlVTRCIsT2JqZWN0KGkuaXNOdW1iZXIpKGUubGlkKSYmZS5idXlpbmdfdHlwZSYmInJ0YiIhPT1lLmJ1eWluZ190eXBlKW4uZGVhbElkPWUubGlkO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShlLmxpZCkmJkFycmF5LmlzQXJyYXkoZS5idXlpbmdfdHlwZSkmJmUubGlkLmxlbmd0aD09PWUuYnV5aW5nX3R5cGUubGVuZ3RoKXt2YXIgbz0hMTtlLmJ1eWluZ190eXBlLmZvckVhY2goKGZ1bmN0aW9uKHIsdCl7b3x8ciYmInJ0YiIhPT1yJiYobz0hMCxuLmRlYWxJZD1lLmxpZFt0XSl9KSl9bi5oZWlnaHQ9ZS5oLG4ubmV0UmV2ZW51ZT0hIWUuaXNOZXQmJmUuaXNOZXQsbi5yZXF1ZXN0SWQ9ZS5pZCxuLnR0bD0zMDAsbi53aWR0aD1lLncsbi53aWR0aCYmbi5oZWlnaHR8fChuLndpZHRoPTEsbi5oZWlnaHQ9MSksZS5hZG9tYWluJiYobi5tZXRhPXthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW59KSxhLnB1c2gobil9fSkpLGF9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe2lmKGUucGl4ZWxFbmFibGVkKXt2YXIgdD1bXTtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJvZHkuYmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChpLmlzQXJyYXkpKGUuc3luYykmJmUuc3luYy5mb3JFYWNoKChmdW5jdGlvbihlKXstMT09PXQuaW5kZXhPZihlKSYmdC5wdXNoKGUpfSkpfSkpfSkpLHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dHlwZToiaW1hZ2UiLHVybDplfX0pKX1yZXR1cm5bXX19O2Z1bmN0aW9uIGYoZSl7dmFyIHI9T2JqZWN0LmtleXMoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcyIse30pKSx0PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxhPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpO3JldHVybiJ2aWRlbyI9PT1lLm1lZGlhVHlwZXx8MT09PXIubGVuZ3RoJiZ0JiYib3V0c3RyZWFtIiE9PWF9ZnVuY3Rpb24geShlKXt2YXIgcj1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIiksdD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTtyZXR1cm4gciYmIm91dHN0cmVhbSI9PT10fWZ1bmN0aW9uIGcoZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5BTk91dHN0cmVhbVZpZGVvLnJlbmRlckFkKHtzaXplczpbZS53aWR0aCxlLmhlaWdodF0sdGFyZ2V0SWQ6ZS5hZFVuaXRDb2RlLGFkUmVzcG9uc2U6ZS5hZFJlc3BvbnNlLHJlbmRlcmVyT3B0aW9uczplLnJlbmRlcmVyLmdldENvbmZpZygpfSxoLmJpbmQobnVsbCxlKSl9KSl9ZnVuY3Rpb24gaChlLHIsdCl7ZS5yZW5kZXJlci5oYW5kbGVWaWRlb0V2ZW50KHtpZDpyLGV2ZW50TmFtZTp0fSl9ZnVuY3Rpb24gdihlKXt0aGlzLkNPTlNUQU5UUz17QURfU0VSVkVSX0JBU0VfVVJMOiJpY2UuMzYweWllbGQuY29tIixFTkRfUE9JTlQ6ZXx8ImhiIixBRF9TRVJWRVJfVVJMX1BBUkFNOiJqc29ucD0iLENMSUVOVF9WRVJTSU9OOiJKUy02LjQuMCIsTUFYX1VSTF9MRU5HVEg6MjA4MyxFUlJPUl9DT0RFUzp7TUlTU0lOR19QTEFDRU1FTlRfUEFSQU1TOjIsTElCX1ZFUlNJT05fTUlTU0lORzozfSxSRVRVUk5fT0JKX1RZUEU6e0RFRkFVTFQ6MCxVUkxfUEFSQU1TX1NQTElUOjF9fSx0aGlzLmdldEVycm9yUmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybntpZE1hcHBpbmdzOnt9LHJlcXVlc3RzOnt9LGVycm9yQ29kZTplfX0sdGhpcy5jcmVhdGVSZXF1ZXN0PWZ1bmN0aW9uKGUscix0KXtpZighci5saWJWZXJzaW9uKXJldHVybiB0aGlzLmdldEVycm9yUmV0dXJuKHRoaXMuQ09OU1RBTlRTLkVSUk9SX0NPREVTLkxJQl9WRVJTSU9OX01JU1NJTkcpO3IucmV0dXJuT2JqVHlwZT1yLnJldHVybk9ialR5cGV8fHRoaXMuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5ERUZBVUxULHIuYWRTZXJ2ZXJCYXNlVXJsPSJodHRwczovLyIrKHIuYWRTZXJ2ZXJCYXNlVXJsfHx0aGlzLkNPTlNUQU5UUy5BRF9TRVJWRVJfQkFTRV9VUkwpO3ZhciBhLG49W107aWYoT2JqZWN0KGkuaXNBcnJheSkoZSkpZm9yKHZhciBzPTA7czxlLmxlbmd0aDtzKyspYT10aGlzLmNyZWF0ZUltcHJlc3Npb25PYmplY3QoZVtzXSksbi5wdXNoKGEpO2Vsc2UgYT10aGlzLmNyZWF0ZUltcHJlc3Npb25PYmplY3QoZSksbi5wdXNoKGEpO3ZhciBjPSEwO3IucmV0dXJuT2JqVHlwZT09PXRoaXMuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5VUkxfUEFSQU1TX1NQTElUJiYoYz0hMSk7dmFyIGQ9e3JlcXVlc3RzOltdfTtjJiYoZC5pZE1hcHBpbmdzPVtdKTtmb3IodmFyIG89bnVsbCx1PSIiLmNvbmNhdChyLmFkU2VydmVyQmFzZVVybCwiLyIpLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5FTkRfUE9JTlQsIj8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuQURfU0VSVkVSX1VSTF9QQVJBTSkscD17YmlkX3JlcXVlc3Q6dGhpcy5jcmVhdGVCYXNpY0JpZFJlcXVlc3RPYmplY3Qocix0KX0sbD0wO2w8bi5sZW5ndGg7bCsrKWlmKChhPW5bbF0pLmVycm9yQ29kZSkobz1vfHxbXSkucHVzaCh7ZXJyb3JDb2RlOmEuZXJyb3JDb2RlLGFkVW5pdElkOmEuYWRVbml0SWR9KTtlbHNle2MmJmQuaWRNYXBwaW5ncy5wdXNoKHthZFVuaXRJZDphLmFkVW5pdElkLGlkOmEuaW1wcmVzc2lvbk9iamVjdC5pZH0pLHAuYmlkX3JlcXVlc3QuaW1wPXAuYmlkX3JlcXVlc3QuaW1wfHxbXSxwLmJpZF9yZXF1ZXN0LmltcC5wdXNoKGEuaW1wcmVzc2lvbk9iamVjdCk7dmFyIGI9ITE7KHUrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHApKSkubGVuZ3RoPnRoaXMuQ09OU1RBTlRTLk1BWF9VUkxfTEVOR1RIJiYoYj0hMCxwLmJpZF9yZXF1ZXN0LmltcC5sZW5ndGg+MSYmKHAuYmlkX3JlcXVlc3QuaW1wLnBvcCgpLGMmJmQuaWRNYXBwaW5ncy5wb3AoKSxsLS0pKSwhYiYmci5zaW5nbGVSZXF1ZXN0TW9kZSYmbCE9PW4ubGVuZ3RoLTF8fChkLnJlcXVlc3RzLnB1c2godGhpcy5mb3JtYXRSZXF1ZXN0KHIscCkpLHA9e2JpZF9yZXF1ZXN0OnRoaXMuY3JlYXRlQmFzaWNCaWRSZXF1ZXN0T2JqZWN0KHIsdCl9KX1yZXR1cm4gbyYmKGQuZXJyb3JzPW8pLGR9LHRoaXMuZm9ybWF0UmVxdWVzdD1mdW5jdGlvbihlLHIpe3N3aXRjaChlLnJldHVybk9ialR5cGUpe2Nhc2UgdGhpcy5DT05TVEFOVFMuUkVUVVJOX09CSl9UWVBFLlVSTF9QQVJBTVNfU1BMSVQ6cmV0dXJue21ldGhvZDoiR0VUIix1cmw6IiIuY29uY2F0KGUuYWRTZXJ2ZXJCYXNlVXJsLCIvIikuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkVORF9QT0lOVCksZGF0YToiIi5jb25jYXQodGhpcy5DT05TVEFOVFMuQURfU0VSVkVSX1VSTF9QQVJBTSkuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShyKSkpfTtkZWZhdWx0OnJldHVybnt1cmw6IiIuY29uY2F0KGUuYWRTZXJ2ZXJCYXNlVXJsLCIvIikrIiIuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkVORF9QT0lOVCwiPyIpLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5BRF9TRVJWRVJfVVJMX1BBUkFNKStlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocikpfX19LHRoaXMuY3JlYXRlQmFzaWNCaWRSZXF1ZXN0T2JqZWN0PWZ1bmN0aW9uKGUscil7dmFyIHQ9e3NlY3VyZToxfTtpZihlLnJlcXVlc3RJZD90LmlkPWUucmVxdWVzdElkOnQuaWQ9T2JqZWN0KGkuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxlLmRvbWFpbiYmKHQuZG9tYWluPWUuZG9tYWluKSxlLnBhZ2UmJih0LnBhZ2U9ZS5wYWdlKSxlLnJlZiYmKHQucmVmPWUucmVmKSxlLmNhbGxiYWNrJiYodC5jYWxsYmFjaz1lLmNhbGxiYWNrKSxlLmxpYlZlcnNpb24mJih0LnZlcnNpb249ZS5saWJWZXJzaW9uKyItIit0aGlzLkNPTlNUQU5UUy5DTElFTlRfVkVSU0lPTiksZS5yZWZlcnJlciYmKHQucmVmZXJyZXI9ZS5yZWZlcnJlciksKGUuZ2Rwcnx8MD09PWUuZ2RwcikmJih0LmdkcHI9ZS5nZHByKSxlLnVzUHJpdmFjeSYmKHQudXNfcHJpdmFjeT1lLnVzUHJpdmFjeSksZS5zY2hhaW4mJih0LnNjaGFpbj1lLnNjaGFpbiksZS51c2VyJiYodC51c2VyPWUudXNlcikscilmb3IodmFyIGEgaW4gcil0W2FdPXJbYV07cmV0dXJuIHR9LHRoaXMuY3JlYXRlSW1wcmVzc2lvbk9iamVjdD1mdW5jdGlvbihlKXt2YXIgcj17fSx0PXt9O2lmKHIuaW1wcmVzc2lvbk9iamVjdD10LGUuaWQ/dC5pZD1lLmlkOnQuaWQ9T2JqZWN0KGkuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxlLmFkVHlwZXMmJih0LmFkX3R5cGVzPWUuYWRUeXBlcyksZS5hZFVuaXRJZCYmKHIuYWRVbml0SWQ9ZS5hZFVuaXRJZCksZS5jdXJyZW5jeSYmKHQuY3VycmVuY3k9ZS5jdXJyZW5jeS50b1VwcGVyQ2FzZSgpKSxlLmJpZEZsb29yJiYodC5iaWRmbG9vcj1lLmJpZEZsb29yKSxlLmJpZEZsb29yQ3VyJiYodC5iaWRmbG9vcmN1cj1lLmJpZEZsb29yQ3VyLnRvVXBwZXJDYXNlKCkpLGUucGxhY2VtZW50SWQmJih0LnBpZD1lLnBsYWNlbWVudElkKSxlLnB1Ymxpc2hlcklkJiYodC5wdWJpZD1lLnB1Ymxpc2hlcklkKSxlLnBsYWNlbWVudEtleSYmKHQucGtleT1lLnBsYWNlbWVudEtleSksZS50cmFuc2FjdGlvbklkJiYodC50aWQ9ZS50cmFuc2FjdGlvbklkKSwhT2JqZWN0KGkuaXNFbXB0eSkoZS52aWRlbykpe3ZhciBhPXAoe30sZS52aWRlbyk7MSE9PWEuc2tpcCYmKGRlbGV0ZSBhLnNraXBtaW4sZGVsZXRlIGEuc2tpcGFmdGVyLDAhPT1hLnNraXAmJihPYmplY3QoaS5sb2dXYXJuKSgidmlkZW8uc2tpcDogaW52YWxpZCB2YWx1ZSAnIi5jb25jYXQoYS5za2lwLCInLiBFeHBlY3RlZCAwIG9yIDEiKSksZGVsZXRlIGEuc2tpcCkpLE9iamVjdChpLmlzRW1wdHkpKGEpfHwodC52aWRlbz1hKX1pZihlLmtleVZhbHVlcylmb3IodmFyIG4gaW4gZS5rZXlWYWx1ZXMpZm9yKHZhciBzPTA7czxlLmtleVZhbHVlc1tuXS5sZW5ndGg7cysrKXQua3Z3PXQua3Z3fHx7fSx0Lmt2d1tuXT10Lmt2d1tuXXx8W10sdC5rdndbbl0ucHVzaChlLmtleVZhbHVlc1tuXVtzXSk7aWYodC5iYW5uZXI9e30sZS5zaXplJiZlLnNpemUudyYmZS5zaXplLmgmJih0LmJhbm5lci53PWUuc2l6ZS53LHQuYmFubmVyLmg9ZS5zaXplLmgpLGUuZm9ybWF0JiZPYmplY3QoaS5pc0FycmF5KShlLmZvcm1hdCkpe3ZhciBjPWUuZm9ybWF0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIDI9PT1lLmxlbmd0aCYmT2JqZWN0KGkuaXNJbnRlZ2VyKShlWzBdKSYmT2JqZWN0KGkuaXNJbnRlZ2VyKShlWzFdKSYmZVswXT49MCYmZVsxXT49MH0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKTtjLmxlbmd0aD4wJiYodC5iYW5uZXIuZm9ybWF0PWMpfXJldHVybiB0LnBpZHx8dC5wdWJpZHx8dC5wa2V5fHx0LmJhbm5lciYmdC5iYW5uZXIudyYmdC5iYW5uZXIuaHx8KHIuaW1wcmVzc2lvbk9iamVjdD1udWxsLHIuZXJyb3JDb2RlPXRoaXMuQ09OU1RBTlRTLkVSUk9SX0NPREVTLk1JU1NJTkdfUExBQ0VNRU5UX1BBUkFNUykscn19T2JqZWN0KGEucmVnaXN0ZXJCaWRkZXIpKG0pfX0sWzUxOV0pOwp1cGJqc0NodW5rKFsyMjNdLHs1NTE6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDU1Mil9LDU1MjpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuICR9KSk7dmFyIGk9dCgwKSxuPXQoMiksYT10KDMpLG89dCgxMSkscz10Lm4obyksZD10KDEpLGM9dCgyMikscD10KDEyKSx1PXQubihwKSxsPXQoMTMpO2Z1bmN0aW9uIGYoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIE8oZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxoKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIG0oZSl7cmV0dXJuKG09ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBiKGUscil7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtyJiYoaT1pLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKS5lbnVtZXJhYmxlfSkpKSx0LnB1c2guYXBwbHkodCxpKX1yZXR1cm4gdH1mdW5jdGlvbiB5KGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PW51bGwhPWFyZ3VtZW50c1tyXT9hcmd1bWVudHNbcl06e307ciUyP2IoT2JqZWN0KHQpLCEwKS5mb3JFYWNoKChmdW5jdGlvbihyKXt2KGUscix0W3JdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKTpiKE9iamVjdCh0KSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHYoZSxyLHQpe3JldHVybiByIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7dmFsdWU6dCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbcl09dCxlfWZ1bmN0aW9uIGcoZSxyKXt2YXIgdD0idW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYoIXQpe2lmKEFycmF5LmlzQXJyYXkoZSl8fCh0PWgoZSkpfHxyJiZlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXt0JiYoZT10KTt2YXIgaT0wLG49ZnVuY3Rpb24oKXt9O3JldHVybntzOm4sbjpmdW5jdGlvbigpe3JldHVybiBpPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtpKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOm59fXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX12YXIgYSxvPSEwLHM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXt0PXQuY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPXQubmV4dCgpO3JldHVybiBvPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe3M9ITAsYT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e298fG51bGw9PXQucmV0dXJufHx0LnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBhfX19fWZ1bmN0aW9uIGgoZSxyKXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIE8oZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09dHx8IlNldCI9PT10P0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KT9PKGUscik6dm9pZCAwfX1mdW5jdGlvbiBPKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsaT1uZXcgQXJyYXkocik7dDxyO3QrKylpW3RdPWVbdF07cmV0dXJuIGl9dmFyIGo9InJvdW5kZWwiLHg9W24uYixuLmRdLEk9OGUzLHc9e0pQWToxfSxBPSJwIixQPSJ4IixTPXtTSVRFOlsiaWQiLCJuYW1lIiwiZG9tYWluIiwiY2F0Iiwic2VjdGlvbmNhdCIsInBhZ2VjYXQiLCJwYWdlIiwicmVmIiwic2VhcmNoIiwibW9iaWxlIiwicHJpdmFjeXBvbGljeSIsInB1Ymxpc2hlciIsImNvbnRlbnQiLCJrZXl3b3JkcyIsImV4dCJdLFVTRVI6WyJpZCIsImJ1eWVydWlkIiwieW9iIiwiZ2VuZGVyIiwia2V5d29yZHMiLCJjdXN0b21kYXRhIiwiZ2VvIiwiZGF0YSIsImV4dCJdfSx6PXsibGl2ZXJhbXAuY29tIjoiaWRsIiwibmV0aWQuZGUiOiJORVRJRCIsIm5ldXN0YXIuYml6IjoiZmFicmlja0lkIiwiemVvdGFwLmNvbSI6Inplb3RhcElkUGx1cyIsInVpZGFwaS5jb20iOiJVSUQyIiwiYWRzZXJ2ZXIub3JnIjoiVERJRCJ9LFQ9WyJicml0ZXBvb2xpZCIsImlkNWlkIiwibGlwYmlkIiwiaGFsb0lkIiwiY3JpdGVvSWQiLCJsb3RhbWVQYW5vcmFtYUlkIiwibWVya2xlSWQiLCJwYXJyYWJsZUlkIiwiY29ubmVjdGlkIiwidGFwYWRJZCIsInF1YW50Y2FzdElkIiwicHViY2lkIiwiVERJRCIsImZsb2NJZCJdLEM9WyJtaW1lcyIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iXSxrPVsibWltZXMiLCJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIiwicHJvdG9jb2xzIiwicHJvdG9jb2wiLCJzdGFydGRlbGF5IiwicGxhY2VtZW50IiwibGluZWFyaXR5Iiwic2tpcCIsInNraXBtaW4iLCJza2lwYWZ0ZXIiLCJzZXF1ZW5jZSIsImJhdHRyIiwibWF4ZXh0ZW5kZWQiLCJtaW5iaXRyYXRlIiwibWF4Yml0cmF0ZSIsImJveGluZ2FsbG93ZWQiLCJwbGF5YmFja21ldGhvZCIsInBsYXliYWNrZW5kIiwiZGVsaXZlcnkiLCJwb3MiLCJjb21wYW5pb25hZCIsImFwaSIsImNvbXBhbmlvbnR5cGUiLCJleHQiLCJwbGF5ZXJTaXplIiwidyIsImgiXTtmdW5jdGlvbiBFKGUpe3ZhciByPXt9O3IuaWQ9ZS5iaWRJZCxyLmV4dD17fSxyLmV4dC5zaXRlSUQ9ZS5wYXJhbXMuc2l0ZUlkLCFlLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiaWQiKXx8InN0cmluZyIhPXR5cGVvZiBlLnBhcmFtcy5pZCYmIm51bWJlciIhPXR5cGVvZiBlLnBhcmFtcy5pZHx8KHIuZXh0LnNpZD1TdHJpbmcoZS5wYXJhbXMuaWQpKTt2YXIgdD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YS5hZHNlcnZlci5hZHNsb3QiKTtyZXR1cm4gdCYmKHIuZXh0LmRmcF9hZF91bml0X2NvZGU9dCkscn1mdW5jdGlvbiBEKGUscix0KXt2YXIgbj1udWxsLGE9bnVsbDtpZihlLnBhcmFtcy5iaWRGbG9vciYmZS5wYXJhbXMuYmlkRmxvb3JDdXImJihuPXtmbG9vcjplLnBhcmFtcy5iaWRGbG9vcixjdXJyZW5jeTplLnBhcmFtcy5iaWRGbG9vckN1cn0pLE9iamVjdChpLmlzRm4pKGUuZ2V0Rmxvb3IpKXt2YXIgbz0iKiIscz0iKiI7aWYodCYmT2JqZWN0KGkuY29udGFpbnMpKHgsdCkpe3ZhciBkPXJbdF07bz10LHM9W2QudyxkLmhdfXRyeXthPWUuZ2V0Rmxvb3Ioe21lZGlhVHlwZTpvLHNpemU6c30pfWNhdGNoKGUpe09iamVjdChpLmxvZ1dhcm4pKCJwcmljZUZsb29ycyBtb2R1bGUgY2FsbCBnZXRGbG9vciBmYWlsZWQsIGVycm9yIDogIixlKX19YT8oci5iaWRmbG9vcj1hLmZsb29yLHIuYmlkZmxvb3JjdXI9YS5jdXJyZW5jeSxyLmV4dC5mbD1BKTpuJiYoci5iaWRmbG9vcj1uLmZsb29yLHIuYmlkZmxvb3JjdXI9bi5jdXJyZW5jeSxyLmV4dC5mbD1QKX1mdW5jdGlvbiBfKGUscix0KXt2YXIgYT17fSxvPSEoIU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsImV4cCIpfHwhT2JqZWN0KGkuaXNJbnRlZ2VyKShlLmV4cCkpLHM9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiZGVhbGlkIil8fE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsImV4dC5kZWFsaWQiKTtyZXR1cm4gdy5oYXNPd25Qcm9wZXJ0eShyKT9hLmNwbT1lLnByaWNlL3dbcl06YS5jcG09ZS5wcmljZS8xMDAsYS5yZXF1ZXN0SWQ9ZS5pbXBpZCxzJiYoYS5kZWFsSWQ9cyksYS5uZXRSZXZlbnVlPXRydWUsYS5jdXJyZW5jeT1yLGEuY3JlYXRpdmVJZD1lLmhhc093blByb3BlcnR5KCJjcmlkIik/ZS5jcmlkOiItIixPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJleHQudmFzdHVybCIpPyhhLnZhc3RVcmw9ZS5leHQudmFzdHVybCxhLndpZHRoPXQudmlkZW8udyxhLmhlaWdodD10LnZpZGVvLmgsYS5tZWRpYVR5cGU9bi5kLGEubWVkaWFUeXBlcz10Lm1lZGlhVHlwZXMsYS50dGw9bz9lLmV4cDozNjAwKTooYS5hZD1lLmFkbSxhLndpZHRoPWUudyxhLmhlaWdodD1lLmgsYS5tZWRpYVR5cGU9bi5iLGEudHRsPW8/ZS5leHA6MzAwKSxhLm1ldGE9e30sYS5tZXRhLm5ldHdvcmtJZD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJleHQuZHNwaWQiKSxhLm1ldGEuYnJhbmRJZD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJleHQuYWR2YnJhbmRpZCIpLGEubWV0YS5icmFuZE5hbWU9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiZXh0LmFkdmJyYW5kIiksZS5hZG9tYWluJiZlLmFkb21haW4ubGVuZ3RoPjAmJihhLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9ZS5hZG9tYWluKSxhfWZ1bmN0aW9uIEYoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aCYmT2JqZWN0KGkuaXNJbnRlZ2VyKShlWzBdKSYmT2JqZWN0KGkuaXNJbnRlZ2VyKShlWzFdKX1mdW5jdGlvbiBSKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdO2lmKEYoZSkpcmV0dXJuIGVbMF09PT1yWzBdJiZlWzFdPT09clsxXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylpZihlW3RdWzBdPT09clswXSYmZVt0XVsxXT09PXJbMV0pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gcShlLHIpe3ZhciB0PVtdO2V8fE9iamVjdChpLmxvZ1dhcm4pKCJJWCBCaWQgQWRhcHRlcjogbWVkaWFUeXBlcy52aWRlbyBpcyB0aGUgcHJlZmVycmVkIGxvY2F0aW9uIGZvciB2aWRlbyBwYXJhbXMgaW4gYWQgdW5pdCIpO3ZhciBuLGE9ZyhDKTt0cnl7Zm9yKGEucygpOyEobj1hLm4oKSkuZG9uZTspe3ZhciBvPW4udmFsdWUscz1lJiZlLmhhc093blByb3BlcnR5KG8pLGQ9ciYmci5oYXNPd25Qcm9wZXJ0eShvKTtzfHxkfHx0LnB1c2goIklYIEJpZCBBZGFwdGVyOiAiLmNvbmNhdChvLCIgaXMgbm90IGluY2x1ZGVkIGluIGVpdGhlciB0aGUgYWR1bml0IG9yIHBhcmFtcyBsZXZlbCIpKX19Y2F0Y2goZSl7YS5lKGUpfWZpbmFsbHl7YS5mKCl9dmFyIGM9ZSYmZS5oYXNPd25Qcm9wZXJ0eSgicHJvdG9jb2wiKSxwPWUmJmUuaGFzT3duUHJvcGVydHkoInByb3RvY29scyIpLHU9ciYmci5oYXNPd25Qcm9wZXJ0eSgicHJvdG9jb2wiKSxsPXImJnIuaGFzT3duUHJvcGVydHkoInByb3RvY29scyIpO3JldHVybiBjfHxwfHx1fHxsfHx0LnB1c2goIklYIEJpZCBBZGFwdGVyOiBwcm90b2NvbC9wcm90Y29scyBpcyBub3QgaW5jbHVkZWQgaW4gZWl0aGVyIHRoZSBhZHVuaXQgb3IgcGFyYW1zIGxldmVsIiksdH1mdW5jdGlvbiBCKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdO3JldHVybiBGKGUpP2U6ISFGKGVbMF0pJiZlWzBdfWZ1bmN0aW9uIFUoZSxyLHQpe2lmKGUpcmV0dXJuIHkoeSh7fSxzKCkodCwoZnVuY3Rpb24ocil7cmV0dXJuIHIuYmlkSWQ9PT1lfSkpKSxzKCkociwoZnVuY3Rpb24ocil7cmV0dXJuIHIuaWQ9PT1lfSkpKX1mdW5jdGlvbiBOKGUscix0LG8pe3ZhciBzPSJodHRwczovL2h0bGIuY2FzYWxlbWVkaWEuY29tL2N5Z251cyIsZD1mdW5jdGlvbihlLHIpe3ZhciB0PVtdLG49e307aWYoT2JqZWN0KGkuaXNBcnJheSkoZSkpe3ZhciBhLG89ZyhlKTt0cnl7Zm9yKG8ucygpOyEoYT1vLm4oKSkuZG9uZTspe3ZhciBzPWEudmFsdWU7eltzLnNvdXJjZV0mJk9iamVjdChpLmRlZXBBY2Nlc3MpKHMsInVpZHMuMCIpJiYobltzLnNvdXJjZV09ITAscy51aWRzWzBdLmV4dD17cnRpUGFydG5lcjp6W3Muc291cmNlXX0sZGVsZXRlIHMudWlkc1swXS5hdHlwZSx0LnB1c2gocykpfX1jYXRjaChlKXtvLmUoZSl9ZmluYWxseXtvLmYoKX19aWYociYmci5pZCYmci52ZXJzaW9uKXt2YXIgZD17c291cmNlOiJjaHJvbWUuY29tIix1aWRzOlt7aWQ6ci5pZCxleHQ6e3J0aVBhcnRuZXI6ImZsb2NJZCIsdmVyOnIudmVyc2lvbn19XX07dC5wdXNoKGQpLG5bImNocm9tZS5jb20iXT0hMH1yZXR1cm57dG9TZW5kOnQsc2VlblNvdXJjZXM6bn19KE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIjAudXNlcklkQXNFaWRzIiksT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiMC51c2VySWQuZmxvY0lkIikpLGM9ZC50b1NlbmQ7aWYod2luZG93LmhlYWRlcnRhZyYmImZ1bmN0aW9uIj09dHlwZW9mIHdpbmRvdy5oZWFkZXJ0YWcuZ2V0SWRlbnRpdHlJbmZvKXt2YXIgcD13aW5kb3cuaGVhZGVydGFnLmdldElkZW50aXR5SW5mbygpO2lmKHAmJiJvYmplY3QiPT09bShwKSlmb3IodmFyIHUgaW4gcClpZihwLmhhc093blByb3BlcnR5KHUpKXt2YXIgbD1wW3VdOyFsLnJlc3BvbnNlUGVuZGluZyYmbC5kYXRhJiYib2JqZWN0Ij09PW0obC5kYXRhKSYmT2JqZWN0LmtleXMobC5kYXRhKS5sZW5ndGgmJiFkLnNlZW5Tb3VyY2VzW2wuZGF0YS5zb3VyY2VdJiZjLnB1c2gobC5kYXRhKX19aWYociYmci5iaWRkZXJDb2RlPT09aiYmIWQuc2VlblNvdXJjZXNbImxpdmVyYW1wLmNvbSJdKXJldHVybltdO3ZhciBiPXt9O2IuaWQ9ZVswXS5iaWRkZXJSZXF1ZXN0SWQudG9TdHJpbmcoKSxiLnNpdGU9e30sYi5leHQ9e30sYi5leHQuc291cmNlPSJwcmViaWQiLGIuZXh0Lml4ZGlhZz17fSxiLmV4dC5peGRpYWcubXNkPTAsYi5leHQuaXhkaWFnLm1zaT0wLGIuaW1wPVtdLGIuYXQ9MTt2YXIgdj1mdW5jdGlvbihlKXtmb3IodmFyIHI9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYW5zYWN0aW9uSWR9KSkuZmlsdGVyKChmdW5jdGlvbihlLHIsdCl7cmV0dXJuIHQuaW5kZXhPZihlKT09PXJ9KSksdD17bWZ1OjAsYnU6MCxpdTowLG51OjAsb3U6MCxhbGx1OjAscmVuOiExLHZlcnNpb246IjUuMjAuMiIsdXNlcklkczpKKGVbMF0pfSxuPWZ1bmN0aW9uKG4pe2lmKG89ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYW5zYWN0aW9uSWQ9PT1yW25dfSkpWzBdLE9iamVjdChpLmRlZXBBY2Nlc3MpKG8sIm1lZGlhVHlwZXMiKSl7aWYoT2JqZWN0LmtleXMoby5tZWRpYVR5cGVzKS5sZW5ndGg+MSYmdC5tZnUrKyxPYmplY3QoaS5kZWVwQWNjZXNzKShvLCJtZWRpYVR5cGVzLm5hdGl2ZSIpJiZ0Lm51KyssT2JqZWN0KGkuZGVlcEFjY2VzcykobywibWVkaWFUeXBlcy5iYW5uZXIiKSYmdC5idSsrLCJvdXRzdHJlYW0iPT09T2JqZWN0KGkuZGVlcEFjY2VzcykobywibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iikpe3Qub3UrKzt2YXIgYT0ib2JqZWN0Ij09PW0oT2JqZWN0KGkuZGVlcEFjY2VzcykobywicmVuZGVyZXIiKXx8T2JqZWN0KGkuZGVlcEFjY2VzcykobywibWVkaWFUeXBlcy52aWRlby5yZW5kZXJlciIpKTt0LnJlbj10LnJlbiYmYT9PYmplY3QoaS5kZWVwQWNjZXNzKSh0LCJyZW4iKTphfSJpbnN0cmVhbSI9PT1PYmplY3QoaS5kZWVwQWNjZXNzKShvLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmdC5pdSsrLHQuYWxsdSsrfX0sYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgbztuKGEpfXJldHVybiB0fShlKTtmb3IodmFyIGggaW4gdiliLmV4dC5peGRpYWdbaF09dltoXTtpZihlWzBdLnNjaGFpbiYmKGIuc291cmNlPXtleHQ6e3NjaGFpbjplWzBdLnNjaGFpbn19KSxjLmxlbmd0aD4wJiYoYi51c2VyPXt9LGIudXNlci5laWRzPWMpLGRvY3VtZW50LnJlZmVycmVyJiYiIiE9PWRvY3VtZW50LnJlZmVycmVyJiYoYi5zaXRlLnJlZj1kb2N1bWVudC5yZWZlcnJlcikscil7aWYoci5nZHByQ29uc2VudCl7dmFyIE89ci5nZHByQ29uc2VudDtPLmhhc093blByb3BlcnR5KCJnZHByQXBwbGllcyIpJiYoYi5yZWdzPXtleHQ6e2dkcHI6Ty5nZHByQXBwbGllcz8xOjB9fSksTy5oYXNPd25Qcm9wZXJ0eSgiY29uc2VudFN0cmluZyIpJiYoYi51c2VyPWIudXNlcnx8e30sYi51c2VyLmV4dD17Y29uc2VudDpPLmNvbnNlbnRTdHJpbmd8fCIifSxPLmhhc093blByb3BlcnR5KCJhZGR0bENvbnNlbnQiKSYmTy5hZGR0bENvbnNlbnQmJihiLnVzZXIuZXh0LmNvbnNlbnRlZF9wcm92aWRlcnNfc2V0dGluZ3M9e2NvbnNlbnRlZF9wcm92aWRlcnM6Ty5hZGR0bENvbnNlbnR9KSl9ci51c3BDb25zZW50JiZPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGIsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCksci5yZWZlcmVySW5mbyYmKGIuc2l0ZS5wYWdlPXIucmVmZXJlckluZm8ucmVmZXJlcil9YS5iLmdldENvbmZpZygiY29wcGEiKSYmT2JqZWN0KGkuZGVlcFNldFZhbHVlKShiLCJyZWdzLmNvcHBhIiwxKTt2YXIgeD17fTt4LnM9ZVswXS5wYXJhbXMuc2l0ZUlkLHgudj1vLHguYWM9ImoiLHguc2Q9MSw4LjE9PT1vJiYoeC5uZj0xKTt2YXIgdz1yJiZyLmJpZGRlckNvZGV8fCJpeCIsQT1hLmIuZ2V0Q29uZmlnKHcpLFA9W10sVD0wLEM9T2JqZWN0LmtleXModCksaz0iIi5jb25jYXQocykuY29uY2F0KE9iamVjdChpLnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzKSh5KHkoe30seCkse30se3I6SlNPTi5zdHJpbmdpZnkoYil9KSkpLmxlbmd0aDtpZihrPkkpcmV0dXJuIE9iamVjdChpLmxvZ0Vycm9yKSgiaXggYmlkZGVyOiBCYXNlIHJlcXVlc3Qgc2l6ZSBoYXMgZXhjZWVkZWQgbWF4aW11bSByZXF1ZXN0IHNpemUuIiksUDt2YXIgRT1rLEQ9MCxfPSExO2lmKEEpe2lmKCJvYmplY3QiPT09bShBLmZpcnN0UGFydHlEYXRhKSl7dmFyIEY9QS5maXJzdFBhcnR5RGF0YSxSPSI/Ijtmb3IodmFyIHEgaW4gRilGLmhhc093blByb3BlcnR5KHEpJiYoUis9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChxKSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoRltxXSksIiYiKSk7Uj1SLnNsaWNlKDAsLTEpLChEPWVuY29kZVVSSUNvbXBvbmVudChSKS5sZW5ndGgpPEk/KCJwYWdlImluIGIuc2l0ZT9iLnNpdGUucGFnZSs9UjpiLnNpdGUucGFnZT1SLEUrPUQpOk9iamVjdChpLmxvZ0Vycm9yKSgiaXggYmlkZGVyOiBJWCBjb25maWcgRlBEIHJlcXVlc3Qgc2l6ZSBoYXMgZXhjZWVkZWQgbWF4aW11bSByZXF1ZXN0IHNpemUuIil9Im51bWJlciI9PXR5cGVvZiBBLnRpbWVvdXQmJih4LnQ9QS50aW1lb3V0KSwiYm9vbGVhbiI9PXR5cGVvZiBBLmRldGVjdE1pc3NpbmdTaXplcz9iLmV4dC5peGRpYWcuZG1zPUEuZGV0ZWN0TWlzc2luZ1NpemVzOmIuZXh0Lml4ZGlhZy5kbXM9ITB9Zm9yKHZhciBCPWZ1bmN0aW9uKHIpe2lmKEU+PUl8fFAubGVuZ3RoPj00KXJldHVybiJicmVhayI7Zm9yKHZhciBvPXRbQ1tyXV0sZD1vLm1pc3NpbmdDb3VudCxjPXZvaWQgMD09PWQ/MDpkLHA9by5taXNzaW5nSW1wcyx1PXZvaWQgMD09PXA/W106cCxsPW8uaXhJbXBzLG09ITEsdj1JLUUsZz17aXhJbXBzOnZvaWQgMD09PWw/W106bCxtaXNzaW5nQmFubmVySW1wcmVzc2lvbnM6dX0saD1PYmplY3Qua2V5cyhnKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBnW2VdfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl9KSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBlLmNvbmNhdC5hcHBseShlLGYocikpfSksW10pLE89ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHtpbXByZXNzaW9uT2JqZWN0czpofSkpLmxlbmd0aDtoLmxlbmd0aCYmTz52OyltPSEwLGgucG9wKCksTz1lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoe2ltcHJlc3Npb25PYmplY3RzOmh9KSkubGVuZ3RoO2lmKGgubGVuZ3RoJiZuLmIgaW4gaFswXSl7dmFyIGo9aFswXSx3PWouaWQsQT1qLmJhbm5lci50b3BmcmFtZSx6PWouZXh0LEQ9e2lkOncsYmFubmVyOnt0b3BmcmFtZTpBLGZvcm1hdDpoLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZS5iYW5uZXI7cmV0dXJue3c6ci53LGg6ci5oLGV4dDplLmV4dH19KSl9fTt6LmRmcF9hZF91bml0X2NvZGUmJihELmV4dD17ZGZwX2FkX3VuaXRfY29kZTp6LmRmcF9hZF91bml0X2NvZGV9KSwiYmlkZmxvb3IiaW4gaFswXSYmKEQuYmlkZmxvb3I9aFswXS5iaWRmbG9vciksImJpZGZsb29yY3VyImluIGhbMF0mJihELmJpZGZsb29yY3VyPWhbMF0uYmlkZmxvb3JjdXIpLGIuaW1wLnB1c2goRCksYi5leHQuaXhkaWFnLm1zZCs9YyxiLmV4dC5peGRpYWcubXNpKz11Lmxlbmd0aH1lbHNle3ZhciBGOyhGPWIuaW1wKS5wdXNoLmFwcGx5KEYsZihoKSl9RSs9Tzt2YXIgUj1hLmIuZ2V0Q29uZmlnKCJvcnRiMiIpfHx7fTtpZighT2JqZWN0KGkuaXNFbXB0eSkoUikmJiFfKXtiLmV4dC5peGRpYWcuZnBkPSEwO3ZhciBxPXkoe30sUi5zaXRlfHxSLmNvbnRleHQpO09iamVjdC5rZXlzKHEpLmZvckVhY2goKGZ1bmN0aW9uKGUpey0xPT09Uy5TSVRFLmluZGV4T2YoZSkmJmRlbGV0ZSBxW2VdfSkpO3ZhciBCPXkoe30sUi51c2VyKTtPYmplY3Qua2V5cyhCKS5mb3JFYWNoKChmdW5jdGlvbihlKXstMT09PVMuVVNFUi5pbmRleE9mKGUpJiZkZWxldGUgQltlXX0pKTt2YXIgVT1PYmplY3QoaS5kZWVwQ2xvbmUpKGIpO2lmKFUuc2l0ZT1PYmplY3QoaS5tZXJnZURlZXApKHt9LFUuc2l0ZSxxKSxVLnVzZXI9T2JqZWN0KGkubWVyZ2VEZWVwKSh7fSxVLnVzZXIsQiksIiIuY29uY2F0KHMpLmNvbmNhdChPYmplY3QoaS5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1ldGVycykoeSh5KHt9LHgpLHt9LHtyOkpTT04uc3RyaW5naWZ5KFUpfSkpKS5sZW5ndGg8SSl7Yi5zaXRlPU9iamVjdChpLm1lcmdlRGVlcCkoe30sYi5zaXRlLHEpLGIudXNlcj1PYmplY3QoaS5tZXJnZURlZXApKHt9LGIudXNlcixCKSxfPSEwO3ZhciBOPWVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh5KHkoe30scSksQikpKS5sZW5ndGg7RSs9Tn1lbHNlIE9iamVjdChpLmxvZ0Vycm9yKSgiaXggYmlkZGVyOiBGUEQgcmVxdWVzdCBzaXplIGhhcyBleGNlZWRlZCBtYXhpbXVtIHJlcXVlc3Qgc2l6ZS4iKX12YXIgSj1yPT09Qy5sZW5ndGgtMTtpZihtfHxKKXt2YXIgTT1PYmplY3QoaS5kZWVwQ2xvbmUpKHgpO0omJiFUfHwoYi5leHQuaXhkaWFnLnNuPVQsTS5zbj1UKSxUKyssTS5yPUpTT04uc3RyaW5naWZ5KGIpLFAucHVzaCh7bWV0aG9kOiJHRVQiLHVybDpzLGRhdGE6TSx2YWxpZEJpZFJlcXVlc3RzOmV9KSxFPWssYi5pbXA9W10sYi5leHQuaXhkaWFnLm1zZD0wLGIuZXh0Lml4ZGlhZy5tc2k9MCxfPSExfX0sVT0wO1U8Qy5sZW5ndGg7VSsrKXtpZigiYnJlYWsiPT09QihVKSlicmVha31yZXR1cm4gUH1mdW5jdGlvbiBKKGUpe3ZhciByPWUudXNlcklkfHx7fTtyZXR1cm4gVC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiByW2VdfSkpfWZ1bmN0aW9uIE0oZSxyKXtpZihyKWZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgaT1lW3RdO2lmKHJbMF09PT1pWzBdJiZyWzFdPT09aVsxXSl7ZS5zcGxpY2UodCwxKTticmVha319fWZ1bmN0aW9uIFgoZSxyKXt2YXIgdD1mdW5jdGlvbihlKXt2YXIgcj1FKGUpLHQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpLGE9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvIik7aWYocSh0LGEpLmxlbmd0aClyZXR1cm57fTtmb3IodmFyIG8gaW4gci52aWRlbz1hP09iamVjdChpLmRlZXBDbG9uZSkoZS5wYXJhbXMudmlkZW8pOnt9LHQpLTE9PT1rLmluZGV4T2Yobyl8fHIudmlkZW8uaGFzT3duUHJvcGVydHkobyl8fChyLnZpZGVvW29dPXRbb10pO2lmKHIudmlkZW8ubWluZHVyYXRpb24+ci52aWRlby5tYXhkdXJhdGlvbilyZXR1cm4gT2JqZWN0KGkubG9nRXJyb3IpKCJJWCBCaWQgQWRhcHRlcjogdmlkZW8gbWluZHVyYXRpb24gWyIuY29uY2F0KHIudmlkZW8ubWluZHVyYXRpb24sIl0gY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiB2aWRlbyBtYXhkdXJhdGlvbiBbIikuY29uY2F0KHIudmlkZW8ubWF4ZHVyYXRpb24sIl0iKSkse307dmFyIHM9YSYmYS5jb250ZXh0fHx0JiZ0LmNvbnRleHQ7aWYocyYmIXIudmlkZW8uaGFzT3duUHJvcGVydHkoInBsYWNlbWVudCIpJiYocz09PWMuYT9yLnZpZGVvLnBsYWNlbWVudD0xOnM9PT1jLmI/ci52aWRlby5wbGFjZW1lbnQ9NDpPYmplY3QoaS5sb2dXYXJuKSgiSVggQmlkIEFkYXB0ZXI6IFZpZGVvIGNvbnRleHQgJyIuY29uY2F0KHMsIicgaXMgbm90IHN1cHBvcnRlZCIpKSksIXIudmlkZW8ud3x8IXIudmlkZW8uaCl7dmFyIGQ9QihPYmplY3QoaS5kZWVwQWNjZXNzKShyLCJ2aWRlby5wbGF5ZXJTaXplIikpfHxCKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5zaXplIikpO2lmKCFkKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiSVggQmlkIEFkYXB0ZXI6IFZpZGVvIHNpemUgaXMgbWlzc2luZyBpbiBbbWVkaWFUeXBlcy52aWRlb10gbWlzc2luZyIpLHt9O3IudmlkZW8udz1kWzBdLHIudmlkZW8uaD1kWzFdLE9iamVjdChpLmRlZXBBY2Nlc3MpKHIsImV4dC5zaWQiKXx8KHIuZXh0LnNpZD1PYmplY3QoaS5wYXJzZUdQVFNpbmdsZVNpemVBcnJheSkoZCkpfXJldHVybiBEKGUscixuLmQpLHJ9KGUpOzAhPU9iamVjdC5rZXlzKHQpLmxlbmd0aCYmKHJbZS50cmFuc2FjdGlvbklkXT17fSxyW2UudHJhbnNhY3Rpb25JZF0uaXhJbXBzPVtdLHJbZS50cmFuc2FjdGlvbklkXS5peEltcHMucHVzaCh0KSl9ZnVuY3Rpb24gVihlLHIsdCl7dmFyIG89eSh5KHt9LHtkZXRlY3RNaXNzaW5nU2l6ZXM6ITB9KSxhLmIuZ2V0Q29uZmlnKCJpeCIpKSxzPWZ1bmN0aW9uKGUpe3ZhciByPUUoZSk7ci5iYW5uZXI9e307dmFyIHQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLnNpemUiKTtyZXR1cm4gdCYmKHIuYmFubmVyLnc9dFswXSxyLmJhbm5lci5oPXRbMV0sT2JqZWN0KGkuZGVlcEFjY2VzcykociwiZXh0LnNpZCIpfHwoci5leHQuc2lkPU9iamVjdChpLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5KSh0KSkpLHIuYmFubmVyLnRvcGZyYW1lPU9iamVjdChpLmluSWZyYW1lKSgpPzA6MSxEKGUscixuLmIpLHJ9KGUpO1IoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKSxPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJwYXJhbXMuc2l6ZSIpKSYmKHQuaGFzT3duUHJvcGVydHkoZS50cmFuc2FjdGlvbklkKXx8KHRbZS50cmFuc2FjdGlvbklkXT17fSksdFtlLnRyYW5zYWN0aW9uSWRdLmhhc093blByb3BlcnR5KCJpeEltcHMiKXx8KHRbZS50cmFuc2FjdGlvbklkXS5peEltcHM9W10pLHRbZS50cmFuc2FjdGlvbklkXS5peEltcHMucHVzaChzKSksby5oYXNPd25Qcm9wZXJ0eSgiZGV0ZWN0TWlzc2luZ1NpemVzIikmJm8uZGV0ZWN0TWlzc2luZ1NpemVzJiZmdW5jdGlvbihlLHIsdCl7dmFyIG49ZS50cmFuc2FjdGlvbklkO2lmKHIuaGFzT3duUHJvcGVydHkobikpe3ZhciBhPVtdO3Jbbl0uaGFzT3duUHJvcGVydHkoIm1pc3NpbmdTaXplcyIpJiYoYT1yW25dLm1pc3NpbmdTaXplcyksTShhLGUucGFyYW1zLnNpemUpLHJbbl0ubWlzc2luZ1NpemVzPWF9ZWxzZSBpZihPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpKXt2YXIgbz1PYmplY3QoaS5kZWVwQ2xvbmUpKGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpO00obyxlLnBhcmFtcy5zaXplKTt2YXIgcz17bWlzc2luZ1NpemVzOm8saW1wcmVzc2lvbjp0fTtyW25dPXN9fShlLHIscyl9ZnVuY3Rpb24gVyhlLHIsdCl7dmFyIGE9T2JqZWN0KGkuZGVlcENsb25lKShyKTtyZXR1cm4gYS5leHQuc2lkPU9iamVjdChpLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5KSh0KSxhLmJhbm5lci53PXRbMF0sYS5iYW5uZXIuaD10WzFdLEQoZSxhLG4uYiksYX1mdW5jdGlvbiBHKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt2YXIgcj17d2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsdGltZW91dDozZTN9O3dpbmRvdy5JWE91dHN0cmVhbVBsYXllcihlLnZhc3RVcmwsZS5hZFVuaXRDb2RlLHIpfSkpfWZ1bmN0aW9uIFEoZSl7dmFyIHI9bC5hLmluc3RhbGwoe2lkOmUsdXJsOiJodHRwczovL2pzLXNlYy5pbmRleHd3LmNvbS9odHYvdmlkZW8tcGxheWVyLmpzIixsb2FkZWQ6ITF9KTt0cnl7ci5zZXRSZW5kZXIoRyl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIHJ9dmFyICQ9e2NvZGU6Iml4IixndmxpZDoxMCxhbGlhc2VzOlt7Y29kZTpqLGd2bGlkOjEwLHNraXBQYnNBbGlhc2luZzohMX1dLHN1cHBvcnRlZE1lZGlhVHlwZXM6eCxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgcix0LG49T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvIiksYT1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJwYXJhbXMuc2l6ZSIpLG89T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKSxzPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxkPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpLGM9ZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImJpZEZsb29yIikscD1lLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmlkRmxvb3JDdXIiKTtpZihlLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGUiKSYmIU9iamVjdChpLmNvbnRhaW5zKSh4LGUubWVkaWFUeXBlKSlyZXR1cm4hMTtpZihPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpJiYhbylyZXR1cm4hMTtpZihhKXt2YXIgdT1CKGEpO2lmKCF1KXJldHVybiBPYmplY3QoaS5sb2dFcnJvcikoIml4IGJpZGRlciBwYXJhbXM6IHNpemUgaGFzIGludmFsaWQgZm9ybWF0LiIpLCExO2lmKCFSKGUuc2l6ZXMsdSkmJiFSKGQsdSkmJiFSKG8sdSkpcmV0dXJuIE9iamVjdChpLmxvZ0Vycm9yKSgiaXggYmlkZGVyIHBhcmFtczogYmlkIHNpemUgaXMgbm90IGluY2x1ZGVkIGluIGFkIHVuaXQgc2l6ZXMgb3IgcGxheWVyIHNpemUuIiksITF9aWYoInN0cmluZyIhPXR5cGVvZiBlLnBhcmFtcy5zaXRlSWQmJiJudW1iZXIiIT10eXBlb2YgZS5wYXJhbXMuc2l0ZUlkKXJldHVybiBPYmplY3QoaS5sb2dFcnJvcikoIml4IGJpZGRlciBwYXJhbXM6IHNpdGVJZCBtdXN0IGJlIHN0cmluZyBvciBudW1iZXIgdmFsdWUuIiksITE7aWYoKGN8fHApJiYhKGMmJnAmJihyPWUucGFyYW1zLmJpZEZsb29yLHQ9ZS5wYXJhbXMuYmlkRmxvb3JDdXIsQm9vbGVhbigibnVtYmVyIj09dHlwZW9mIHImJiJzdHJpbmciPT10eXBlb2YgdCYmdC5tYXRjaCgvXltBLVpdezN9JC8pKSkpKXJldHVybiBPYmplY3QoaS5sb2dFcnJvcikoIml4IGJpZGRlciBwYXJhbXM6IGJpZEZsb29yIC8gYmlkRmxvb3JDdXIgcGFyYW1ldGVyIGhhcyBpbnZhbGlkIGZvcm1hdC4iKSwhMTtpZihzJiZuKXt2YXIgbD1xKHMsbik7aWYobC5sZW5ndGgpcmV0dXJuIGwuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0KGkubG9nRXJyb3IpKGUpfSkpLCExfXJldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10sYT17fSxvPXt9LHM9e30sZD17fTtmb3IodmFyIGMgaW4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1PYmplY3Qua2V5cyhPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzIix7fSkpO3N3aXRjaChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvIikmJk9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKT9uLmQ6bi5ifShlKSl7Y2FzZSBuLmI6VihlLGQsYSk7YnJlYWs7Y2FzZSBuLmQ6WChlLG8pfXUoKShyLG4uYikmJnUoKShyLG4uZCkmJihzW2UudHJhbnNhY3Rpb25JZF09ZSl9KSksT2JqZWN0LmtleXMocykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9c1tlXTthW2VdfHxWKHIsZCxhKSxvW2VdfHxYKHIsbyl9KSksZClpZihkLmhhc093blByb3BlcnR5KGMpKXt2YXIgcD1kW2NdLm1pc3NpbmdTaXplczthLmhhc093blByb3BlcnR5KGMpfHwoYVtjXT17fSksYVtjXS5oYXNPd25Qcm9wZXJ0eSgibWlzc2luZ0ltcHMiKXx8KGFbY10ubWlzc2luZ0ltcHM9W10sYVtjXS5taXNzaW5nQ291bnQ9MCk7Zm9yKHZhciBsPWRbY10uaW1wcmVzc2lvbixtPTA7bTxwLmxlbmd0aDttKyspe3ZhciBiPVcoZVswXSxsLHBbbV0pO2FbY10ubWlzc2luZ0ltcHMucHVzaChiKSxhW2NdLm1pc3NpbmdDb3VudCsrfX1yZXR1cm4gT2JqZWN0LmtleXMoYSkubGVuZ3RoPjAmJnQucHVzaC5hcHBseSh0LGYoTihlLHIsYSw3LjIpKSksT2JqZWN0LmtleXMobykubGVuZ3RoPjAmJnQucHVzaC5hcHBseSh0LGYoTihlLHIsbyw4LjEpKSksdH0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxuPW51bGw7aWYoIWUuaGFzT3duUHJvcGVydHkoImJvZHkiKXx8IWUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic2VhdGJpZCIpKXJldHVybiB0O2Zvcih2YXIgYT1lLmJvZHksbz1hLnNlYXRiaWQscz0wO3M8by5sZW5ndGg7cysrKWlmKG9bc10uaGFzT3duUHJvcGVydHkoImJpZCIpKWZvcih2YXIgZD1vW3NdLmJpZCxjPUpTT04ucGFyc2Uoci5kYXRhLnIpLHA9MDtwPGQubGVuZ3RoO3ArKyl7dmFyIHU9VShkW3BdLmltcGlkLGMuaW1wLHIudmFsaWRCaWRSZXF1ZXN0cyk7bj1fKGRbcF0sYS5jdXIsdSksT2JqZWN0KGkuZGVlcEFjY2VzcykobiwibWVkaWFUeXBlcy52aWRlby5yZW5kZXJlciIpfHwib3V0c3RyZWFtIiE9PU9iamVjdChpLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpfHwobi5tZWRpYVR5cGVzLnZpZGVvLnJlbmRlcmVyPVEoZFtwXS5iaWRJZCkpLHQucHVzaChuKX1yZXR1cm4gdH0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUscil7cmV0dXJuIE9iamVjdChpLmNvbnZlcnRUeXBlcykoe3NpdGVJRDoibnVtYmVyIn0sZSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/W3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9qcy1zZWMuaW5kZXh3dy5jb20vdW0vaXhtYXRjaC5odG1sIn1dOltdfX07T2JqZWN0KGQucmVnaXN0ZXJCaWRkZXIpKCQpfX0sWzU1MV0pOwp1cGJqc0NodW5rKFsxOTldLHs2MTk6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDYyMCl9LDYyMDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFV9KSk7dmFyIHI9bigwKSxpPW4oMSksYT1uKDMpLG89bigyKSxjPW4oMTkpLGQ9bigxMyk7ZnVuY3Rpb24gcygpe3JldHVybihzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHU9Im1lZGlhbmV0IixwPSJodHRwczovL3ByZWJpZC5tZWRpYS5uZXQvdmlkZW8vYnVuZGxlLmpzIixsPTAsYj0xLG09MixmPSJjbGllbnRfdGltZW91dCIsZz0iY2xpZW50X2JpZF93b24iLHk9T2JqZWN0KGMuYSkoKSxoPXt9O2Z1bmN0aW9uIHYoKXt0cnl7cmV0dXJuIHdpbmRvdy50b3AuZG9jdW1lbnQucmVmZXJyZXJ9Y2F0Y2goZSl7cmV0dXJuIGRvY3VtZW50LnJlZmVycmVyfX1mdW5jdGlvbiBqKGUpe3JldHVybiBzKHtkb21haW46KGU9ZXx8e30pLmRvbWFpbnx8aC51cmxEYXRhLmRvbWFpbixwYWdlOmUucGFnZXx8aC51cmxEYXRhLnBhZ2UscmVmOmUucmVmfHx2KCksaXNUb3A6ZS5pc1RvcHx8aC51cmxEYXRhLmlzVG9wfSxmdW5jdGlvbigpe2lmKGgucGFnZU1ldGEpcmV0dXJuIGgucGFnZU1ldGE7dmFyIGU9dygnbGlua1tyZWw9ImNhbm9uaWNhbCJdJywiaHJlZiIpLHQ9dygnbWV0YVtwcm9wZXJ0eT0ib2c6dXJsIl0nLCJjb250ZW50Iiksbj13KCdtZXRhW25hbWU9InR3aXR0ZXI6dXJsIl0nLCJjb250ZW50Iik7cmV0dXJuIGgucGFnZU1ldGE9cyh7fSxlJiZ7Y2Fub25pY2FsX3VybDplfSx0JiZ7b2dfdXJsOnR9LG4mJnt0d2l0dGVyX3VybDpufSksaC5wYWdlTWV0YX0oKSl9ZnVuY3Rpb24gdyhlLHQpe3ZhciBuLGksYT1mdW5jdGlvbihlLHQpe3RyeXt2YXIgbj1PYmplY3Qoci5nZXRXaW5kb3dUb3ApKCkuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTtpZihudWxsIT09biYmblt0XSlyZXR1cm4gblt0XX1jYXRjaChlKXt9fShlLHQpO3JldHVybiBhJiYobj1hLChpPU9iamVjdChyLmdldFdpbmRvd1RvcCkoKS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpLmhyZWY9bixpLmhyZWYpfWZ1bmN0aW9uIE8oZSx0KXtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnR5cGU9PT10fSkpfWZ1bmN0aW9uIHgoZSl7cmV0dXJue3c6cGFyc2VJbnQoZVswXSwxMCksaDpwYXJzZUludChlWzFdLDEwKX19ZnVuY3Rpb24gXyhlLHQpe3ZhciBuPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsInBhcmFtcyIpLGk9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwiZ2RwckNvbnNlbnQiKSxvPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsInVzcENvbnNlbnQiKSxjPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsInVzZXJJZCIpLGQ9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwic2NoYWluIil8fHt9LHU9VS5nZXRXaW5kb3dTaXplKCkscD0hKCFpfHwhaS5nZHByQXBwbGllcyksbD0hIW8sYj0hIWEuYi5nZXRDb25maWcoImNvcHBhIik7cmV0dXJuIHMoe30se2N1c3RvbWVyX2lkOm4uY2lkfSx7cHJlYmlkX3ZlcnNpb246dXBianMudmVyc2lvbn0se2dkcHJfYXBwbGllczpwfSxwJiZ7Z2Rwcl9jb25zZW50X3N0cmluZzppLmNvbnNlbnRTdHJpbmd8fCIifSx7dXNwX2FwcGxpZXM6bH0sbCYme3VzcF9jb25zZW50X3N0cmluZzpvfHwiIn0se2NvcHBhX2FwcGxpZXM6Yn0sLTEhPT11LncmJi0xIT09dS5oJiZ7c2NyZWVuOnV9LGMmJnt1c2VyX2lkOmN9LHVwYmpzLm1lZGlhbmV0R2xvYmFscy5hbmFseXRpY3NFbmFibGVkJiZ7YW5hbHl0aWNzOiEwfSwhT2JqZWN0KHIuaXNFbXB0eSkoZCkmJntzY2hhaW46ZH0pfWZ1bmN0aW9uIEEoZSl7dmFyIHQ9e2lkOmUuYmlkSWQsZXh0OntkZnBfaWQ6ZS5hZFVuaXRDb2RlLGRpc3BsYXlfY291bnQ6ZS5iaWRSZXF1ZXN0c0NvdW50fSxhbGw6ZS5wYXJhbXN9O2Uub3J0YjJJbXAmJih0Lm9ydGIySW1wPWUub3J0YjJJbXApO3ZhciBuLGk9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKXx8W10sYT1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIil8fHt9LGM9cyh7fSxPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8iKXx8e30sYSk7aWYoT2JqZWN0KHIuaXNFbXB0eSkoYyl8fCh0LnZpZGVvPWMpLGkubGVuZ3RoPjAmJih0LmJhbm5lcj0obj1pLE9iamVjdChyLmlzQXJyYXkpKG4pJiYyPT09bi5sZW5ndGgmJiFPYmplY3Qoci5pc0FycmF5KShuWzBdKT9beChuKV06bi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB4KGUpfSkpKSksZS5uYXRpdmVQYXJhbXMpdHJ5e3QubmF0aXZlPUpTT04uc3RyaW5naWZ5KGUubmF0aXZlUGFyYW1zKX1jYXRjaChlKXtPYmplY3Qoci5sb2dFcnJvcikoIiIuY29uY2F0KHUsIiA6IEluY29ycmVjdCBKU09OIDogYmlkUmVxdWVzdC5uYXRpdmVQYXJhbXMiKSl9ZS5wYXJhbXMuY3JpZCYmKHQudGFnaWQ9ZS5wYXJhbXMuY3JpZC50b1N0cmluZygpKTt2YXIgZD1wYXJzZUZsb2F0KGUucGFyYW1zLmJpZGZsb29yfHxlLnBhcmFtcy5iaWRGbG9vcik7ZCYmKHQuYmlkZmxvb3I9ZCk7dmFyIHA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYoIXQmJi0xIT09ZS5pbmRleE9mKCIvIikpe3ZhciBuPU9iamVjdChyLmdldEdwdFNsb3RJbmZvRm9yQWRVbml0Q29kZSkoZSkuZGl2SWQ7T2JqZWN0KHIuaXNTdHIpKG4pJiYodD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChuKSl9aWYodCYmdC5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe3ZhciBpPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYT17fTtyZXR1cm4gYS50b3BfbGVmdD17eTppLnRvcCx4OmkubGVmdH0sYS5ib3R0b21fcmlnaHQ9e3k6aS5ib3R0b20seDppLnJpZ2h0fSxhfXJldHVybiBudWxsfShlLmFkVW5pdENvZGUpO2lmKHAmJnQuYmFubmVyJiYwIT09dC5iYW5uZXIubGVuZ3RoKXt2YXIgZj1mdW5jdGlvbihlKXtyZXR1cm57dG9wX2xlZnQ6e3g6ZS50b3BfbGVmdC54K3dpbmRvdy5wYWdlWE9mZnNldCx5OmUudG9wX2xlZnQueSt3aW5kb3cucGFnZVlPZmZzZXR9LGJvdHRvbV9yaWdodDp7eDplLmJvdHRvbV9yaWdodC54K3dpbmRvdy5wYWdlWE9mZnNldCx5OmUuYm90dG9tX3JpZ2h0Lnkrd2luZG93LnBhZ2VZT2Zmc2V0fX19KHApO3QuZXh0LmNvb3JkaW5hdGVzPWYsdC5leHQudmlld2FiaWxpdHk9UyhwLnRvcF9sZWZ0LEkodC5iYW5uZXIpKSxTKGYudG9wX2xlZnQsSSh0LmJhbm5lcikpPi41P3QuZXh0LnZpc2liaWxpdHk9Yjp0LmV4dC52aXNpYmlsaXR5PW19ZWxzZSB0LmV4dC52aXNpYmlsaXR5PWw7dmFyIGc9ZnVuY3Rpb24oZSl7dmFyIHQ9W107ImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3ImJltvLmIsby5kLG8uY10uZm9yRWFjaCgoZnVuY3Rpb24obil7ZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4pJiYobj09by5iP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMuZm9yRWFjaCgoZnVuY3Rpb24ocil7VChlLG4scix0KX0pKTpUKGUsbiwiKiIsdCkpfSkpO3JldHVybiB0fShlKTtyZXR1cm4gZyYmZy5sZW5ndGg+MCYmKHQuYmlkZmxvb3JzPWcpLHR9ZnVuY3Rpb24gVChlLHQsbixyKXt2YXIgaT1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6dCxzaXplOm59KTtuLmxlbmd0aD4xJiYoaS5zaXplPW4pLGkubWVkaWFUeXBlPXQsci5wdXNoKGkpfWZ1bmN0aW9uIEkoZSl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiB0LmgqdC53PGUuaCplLnc/dDplfSkpfWZ1bmN0aW9uIFMoZSx0KXt2YXIgbj10LncqdC5oLHI9VS5nZXRXaW5kb3dTaXplKCksaT17eDplLngrdC53LHk6ZS55K3QuaH07cmV0dXJuIDA9PT1ufHwtMT09PXIud3x8LTE9PT1yLmg/MDpmdW5jdGlvbihlLHQsbixyKXtpZihlLng+ci54fHx0Lng8bi54fHxlLnk+ci55fHx0Lnk8bi55KXJldHVybiAwO3JldHVybihNYXRoLm1pbih0Lngsci54KS1NYXRoLm1heChlLngsbi54KSkqKE1hdGgubWluKHQueSxyLnkpLU1hdGgubWF4KGUueSxuLnkpKX0oZSxpLHt4OjAseTowfSx7eDpyLncseTpyLmh9KS9ufWZ1bmN0aW9uIEUoZSx0KXt0PU9iamVjdChyLmlzQXJyYXkpKHQpJiZ0fHxbXTt2YXIgbj17bG9naWQ6ImtmayIsZXZ0aWQ6InByb2plY3RldmVudHMiLHByb2plY3Q6InByZWJpZCJ9O3JldHVybiBuLmFjaWQ9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwiMC5hdWN0aW9uSWQiKXx8IiIsbi5jaWQ9dXBianMubWVkaWFuZXRHbG9iYWxzLmNpZHx8IiIsbi5jcmlkPXQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoZSwicGFyYW1zLjAuY3JpZCIpfHxlLmFkVW5pdENvZGV9KSkuam9pbigifCIpLG4uYWR1bml0X2NvdW50PXQubGVuZ3RofHwwLG4uZG49aC51cmxEYXRhLmRvbWFpbnx8IiIsbi5yZXF1cmw9aC51cmxEYXRhLnBhZ2V8fCIiLG4uaXN0b3A9aC51cmxEYXRhLmlzVG9wfHwiIixuLmV2ZW50PWUubmFtZXx8IiIsbi52YWx1ZT1lLnZhbHVlfHwiIixuLnJkPWUucmVsYXRlZF9kYXRhfHwiIixufWZ1bmN0aW9uIEMoZSx0KXt2YXIgbj17cHJvdG9jb2w6Imh0dHBzIixob3N0bmFtZToicXNlYXJjaC1hLmFrYW1haWhkLm5ldC9sb2ciLHNlYXJjaDpFKGUsdCl9O09iamVjdChyLnRyaWdnZXJQaXhlbCkoT2JqZWN0KHIuYnVpbGRVcmwpKG4pKX1mdW5jdGlvbiBNKGUpe3ZhciB0LG49T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwiY29udGV4dCIpfHwiIixpPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsInZ0byIpOyJvdXRzdHJlYW0iPT1uJiZpJiYoZS5yZW5kZXJlcj0oKHQ9ZC5hLmluc3RhbGwoe3VybDpwfSkpLnNldFJlbmRlcigoZnVuY3Rpb24oZSl7d2luZG93Lm1uZXQucXVldWUucHVzaCgoZnVuY3Rpb24oKXt2YXIgdD17d2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsdmFzdFRpbWVvdXQ6ZS52dG8sbWF4QWxsb3dlZFZhc3RUYWdSZWRpcmVjdHM6ZS5tYXZ0cixhbGxvd1ZwYWlkOmUuYXZwLGF1dG9QbGF5OmUuYXAscHJlbG9hZDplLnBsLG11dGU6ZS5tdH0sbj1lLmRmcF9pZCxpPU9iamVjdChyLmdldEdwdFNsb3RJbmZvRm9yQWRVbml0Q29kZSkobikuZGl2SWR8fG47d2luZG93Lm1uZXQubWVkaWFOZXRvdXRzdHJlYW1QbGF5ZXIoZSxpLHQpfSkpfSkpLHQpKX13aW5kb3cubW5ldD13aW5kb3cubW5ldHx8e30sd2luZG93Lm1uZXQucXVldWU9d2luZG93Lm1uZXQucXVldWV8fFtdLGgudXJsRGF0YT17ZG9tYWluOk9iamVjdChyLnBhcnNlVXJsKSh5LnJlZmVyZXIpLmhvc3RuYW1lLHBhZ2U6eS5yZWZlcmVyLGlzVG9wOnkucmVhY2hlZFRvcH0sdXBianMubWVkaWFuZXRHbG9iYWxzPXVwYmpzLm1lZGlhbmV0R2xvYmFsc3x8e307dmFyIFU9e2NvZGU6dSxndmxpZDoxNDIsc3VwcG9ydGVkTWVkaWFUeXBlczpbby5iLG8uYyxvLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcz9lLnBhcmFtcy5jaWQmJk9iamVjdChyLmlzU3RyKShlLnBhcmFtcy5jaWQpJiYhT2JqZWN0KHIuaXNFbXB0eVN0cikoZS5wYXJhbXMuY2lkKT8ocyh1cGJqcy5tZWRpYW5ldEdsb2JhbHMsIXVwYmpzLm1lZGlhbmV0R2xvYmFscy5jaWQmJntjaWQ6ZS5wYXJhbXMuY2lkfSksITApOihPYmplY3Qoci5sb2dFcnJvcikoIiIuY29uY2F0KHUsIiA6IGNpZCBzaG91bGQgYmUgYSBzdHJpbmciKSksITEpOihPYmplY3Qoci5sb2dFcnJvcikoIiIuY29uY2F0KHUsIiA6IE1pc3NpbmcgYmlkIHBhcmFtZXRlcnMiKSksITEpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1mdW5jdGlvbihlLHQpe3JldHVybntzaXRlOmooZVswXS5wYXJhbXMuc2l0ZSksZXh0Ol8oZVswXSx0KSxpZDplWzBdLmF1Y3Rpb25JZCxpbXA6ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBBKGUpfSkpLHRtYXg6dC50aW1lb3V0fHxhLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil9fShlLHQpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoobj1yLmV4dC5jdXN0b21lcl9pZCwiaHR0cHM6Ly9wcmViaWQubWVkaWEubmV0L3J0Yi9wcmViaWQ/Y2lkPSIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKSxkYXRhOkpTT04uc3RyaW5naWZ5KHIpfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtpZighZXx8IWUuYm9keSlyZXR1cm4gT2JqZWN0KHIubG9nSW5mbykoIiIuY29uY2F0KHUsIiA6IHJlc3BvbnNlIGlzIGVtcHR5IikpLG47dmFyIGk9ZS5ib2R5LmJpZExpc3Q7cmV0dXJuIE9iamVjdChyLmlzQXJyYXkpKGkpJiYwIT09aS5sZW5ndGg/KChuPWkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1lLm5vX2JpZCYmcGFyc2VGbG9hdChlLmNwbSk+MH0oZSl9KSkpLmZvckVhY2goTSksbik6KE9iamVjdChyLmxvZ0luZm8pKCIiLmNvbmNhdCh1LCIgOiBubyBiaWRzIikpLG4pfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXt2YXIgbixpPShuPXQsIU9iamVjdChyLmlzRW1wdHkpKG4pJiZuWzBdLmJvZHkmJm5bMF0uYm9keS5leHQmJk9iamVjdChyLmlzQXJyYXkpKG5bMF0uYm9keS5leHQuY3NVcmwpP25bMF0uYm9keS5leHQuY3NVcmw6W10pO3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/TyhpLCJpZnJhbWUiKTplLnBpeGVsRW5hYmxlZD9PKGksImltYWdlIik6dm9pZCAwfSxvblRpbWVvdXQ6ZnVuY3Rpb24oZSl7dHJ5e0Moe25hbWU6Zix2YWx1ZTplLmxlbmd0aCxyZWxhdGVkX2RhdGE6ZVswXS50aW1lb3V0fHxhLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil9LGUpfWNhdGNoKGUpe319LG9uQmlkV29uOmZ1bmN0aW9uKGUpe3RyeXtDKHtuYW1lOmcsdmFsdWU6ZS5jcG19LFtlXSl9Y2F0Y2goZSl7fX0sY2xlYXJNbkRhdGE6ZnVuY3Rpb24oKXtoPXt9fSxnZXRXaW5kb3dTaXplOmZ1bmN0aW9uKCl7cmV0dXJue3c6d2luZG93LnNjcmVlbi53aWR0aHx8LTEsaDp3aW5kb3cuc2NyZWVuLmhlaWdodHx8LTF9fX07T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKFUpfX0sWzYxOV0pOwp1cGJqc0NodW5rKFsxODNdLHs2NTE6ZnVuY3Rpb24oZSxuLHQpe2UuZXhwb3J0cz10KDY1Mil9LDY1MjpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQobiwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSk7dmFyIGk9dCgwKSxyPXQoMyksbz10KDEpLGQ9dCgyKSxhPXQoNykscz0ibm9iaWQiLHU9T2JqZWN0KGEuYikoODE2LHMpO2Z1bmN0aW9uIGMoZSxuKXtPYmplY3QoaS5sb2dJbmZvKSgiLU5vQmlkLSAiK2Usbil9ZnVuY3Rpb24gcChlLG4pe2Z1bmN0aW9uIHQoZSxuKXt2YXIgdD1mdW5jdGlvbihlLG4pe2Zvcih2YXIgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKG5bdF0uZD09PWUpcmV0dXJuIG5bdF07cmV0dXJuITF9KGUuZGl2LG4pfHx7fTtyZXR1cm4gZS5hY2NvdW50JiYodC5zPWUuYWNjb3VudCksZS5zaXplcyYmKHQuej1lLnNpemVzKSxlLmRpdiYmKHQuZD1lLmRpdiksZS50YXJnZXRpbmc/dC5nPWUudGFyZ2V0aW5nOnQuZz17fSxlLmRpdiYmZnVuY3Rpb24oZSxuLHQpe2Zvcih2YXIgaT1lLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgcj1lW2ldO3Jbbl0mJnJbbl09PT10JiZlLnNwbGljZShpLDEpfX0obiwiZCIsZS5kaXYpLGUuc2l6ZU1hcHBpbmcmJih0LnNtPWUuc2l6ZU1hcHBpbmcpLGUuc2l0ZUlkJiYodC5zaWQ9ZS5zaXRlSWQpLGUucGxhY2VtZW50SWQmJih0LnBpZD1lLnBsYWNlbWVudElkKSxlLmFkX3R5cGUmJih0LmF0PWUuYWRfdHlwZSksZS5wYXJhbXMmJih0LnBhcmFtcz1lLnBhcmFtcyksbi5wdXNoKHQpLG59aWYodm9pZCAwIT09d2luZG93Lm5vYmlkLnJlZnJlc2hMaW1pdCYmd2luZG93Lm5vYmlkLnJlZnJlc2hMaW1pdDx3aW5kb3cubm9iaWQucmVmcmVzaENvdW50KXJldHVybiExO3ZhciBvLGE9KG89Il91YmxvY2siLHUuZ2V0Q29va2llKG8pKTtpZihhKXJldHVybiBjKCJSZXF1ZXN0IGJsb2NrZWQgZm9yIHVzZXIuIGhvdXJzOiAiLGEpLCExO2Zvcih2YXIgcz1bXSxwPTAsYj1bXSxnPTA7ZzxlLmxlbmd0aDtnKyspe3ZhciBsPWVbZ10sZj1sLmFkVW5pdENvZGU7cy5wdXNoKGYpO3ZhciB2PWwuc2l6ZXM7cD12b2lkIDAhPT1sLnBhcmFtcy5zaXRlSWQmJmwucGFyYW1zLnNpdGVJZD9sLnBhcmFtcy5zaXRlSWQ6cDt2YXIgbT1sLnBhcmFtcy5wbGFjZW1lbnRJZCx3PSJiYW5uZXIiLGg9T2JqZWN0KGkuZGVlcEFjY2VzcykobCwibWVkaWFUeXBlcy52aWRlbyIpLHk9T2JqZWN0KGkuZGVlcEFjY2VzcykobCwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7KGwubWVkaWFUeXBlPT09ZC5kfHxoJiYoImluc3RyZWFtIj09PXl8fCJvdXRzdHJlYW0iPT09eSkpJiYodz0idmlkZW8iKSxwJiZ0KHtkaXY6ZixzaXplczp2LHNpdGVJZDpwLHBsYWNlbWVudElkOm0sYWRfdHlwZTp3LHBhcmFtczpsLnBhcmFtc30sYil9cmV0dXJuISFwJiZmdW5jdGlvbih0LG8sZCl7dmFyIGEscyx1LGMscCxiLGcsbCxmPXt9O2Yuc2lkPW8sZi5sPWZ1bmN0aW9uKGUpe3ZhciBuPSIiO3JldHVybiBuPWUmJmUucmVmZXJlckluZm8mJmUucmVmZXJlckluZm8ucmVmZXJlcj9lLnJlZmVyZXJJbmZvLnJlZmVyZXI6d2luZG93LmNvbnRleHQmJndpbmRvdy5jb250ZXh0LmxvY2F0aW9uJiZ3aW5kb3cuY29udGV4dC5sb2NhdGlvbi5ocmVmP3dpbmRvdy5jb250ZXh0LmxvY2F0aW9uLmhyZWY6ZG9jdW1lbnQubG9jYXRpb24uaHJlZixlbmNvZGVVUklDb21wb25lbnQobi5yZXBsYWNlKC9cJS9nLCIiKSl9KG4pLGYudHQ9ZW5jb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LnRpdGxlKSxmLnR0PWYudHQucmVwbGFjZSgvJ3w7fHF1b3Q7fDM5O3wmYW1wO3wmfCN8XHJcbnxccnxcbnxcdHxcZnxcJTBBfFwifFwlMjJ8XCU1Q3xcJTIzfFwlMjZ8XCUyNnxcJTA5L2dtLCIiKSxmLmE9ZnVuY3Rpb24oZSxuKXt2YXIgdD1bXTtpZihlJiZlLmxlbmd0aCl7aWYobil7dmFyIGk9W107ZSBpbnN0YW5jZW9mIEFycmF5P2k9ZTppLnB1c2goZSk7Zm9yKHZhciByPTAsbz1uLmxlbmd0aDtyPG87cisrKXt2YXIgZD1uW3JdO2QmJmQuZCYmaS5pbmRleE9mKGQuZCk+LTEmJnQucHVzaChkKX19fWVsc2UgdD1uO3JldHVybiB0fSh0LGR8fFtdKSxmLnQ9KGE9bmV3IERhdGUscz1mdW5jdGlvbihlKXtyZXR1cm4gZTw9OT8iMCIrZToiIitlfSx1PWEuZ2V0RGF0ZSgpLGM9YS5nZXRGdWxsWWVhcigpLHA9YS5nZXRNb250aCgpKzEsYj1hLmdldEhvdXJzKCksZz1hLmdldE1pbnV0ZXMoKSxsPWEuZ2V0U2Vjb25kcygpLGMrIi0iK3MocCkrIi0iK3ModSkrIiAiK3MoYikrIjoiK3MoZykrIjoiK3MobCkpLGYudHo9TWF0aC5yb3VuZCgobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCkpLGYucj1mdW5jdGlvbigpe3RyeXt2YXIgZT1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsd2luZG93LmlubmVyV2lkdGh8fDApLG49TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fDApO3JldHVybiIiLmNvbmNhdChlLCJ4IikuY29uY2F0KG4pfWNhdGNoKGUpe09iamVjdChpLmxvZ1dhcm4pKCJDb3VsZCBub3QgcGFyc2Ugc2NyZWVuIGRpbWVuc2lvbnMsIGVycm9yIGRldGFpbHM6IixlKX19KCksZi5sYW5nPW5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fG5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZSxmLnJlZj1kb2N1bWVudC5yZWZlcnJlcixmLmdkcHI9ZnVuY3Rpb24oZSl7dmFyIG49e307cmV0dXJuIGUmJmUuZ2RwckNvbnNlbnQmJihuPXtjb25zZW50U3RyaW5nOmUuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxjb25zZW50UmVxdWlyZWQ6ImJvb2xlYW4iPT10eXBlb2YgZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllc30pLG59KG4pLGYudXNwPWZ1bmN0aW9uKGUpe3ZhciBuPSIiO3JldHVybiBlJiZlLnVzcENvbnNlbnQmJihuPWUudXNwQ29uc2VudCksbn0obiksZi5wamJkcj1uJiZuLmJpZGRlckNvZGU/bi5iaWRkZXJDb2RlOiJub2JpZCI7dmFyIHY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubGVuZ3RoPjA/ZVswXS5zY2hhaW46bnVsbH0oZSk7diYmKGYuc2NoYWluPXYpO3ZhciBtPSEwPT09ci5iLmdldENvbmZpZygiY29wcGEiKT97Y29wcGE6ITB9OmUmJmUubGVuZ3RoPjA/ZVswXS5jb3BwYTpudWxsO20mJihmLmNvcHBhPW0pO3ZhciB3PWZ1bmN0aW9uKGUpe2lmKE9iamVjdChpLmlzQXJyYXkpKGUpJiZlLmxlbmd0aD4wKXt2YXIgbj1bXTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1bXTtlLnVpZHMmJmUudWlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnB1c2goe2lkOmUuaWQrIiJ9KX0pKSxlLnNvdXJjZSYmdC5sZW5ndGg+MCYmbi5wdXNoKHtzb3VyY2U6ZS5zb3VyY2UsdWlkczp0fSl9KSksbn19KE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIjAudXNlcklkQXNFaWRzIikpO3JldHVybiB3JiZ3Lmxlbmd0aD4wJiYoZi5laWRzPXcpLHIuYiYmci5iLmdldENvbmZpZygib3J0YjIiKSYmKGYub3J0YjI9ci5iLmdldENvbmZpZygib3J0YjIiKSksZn0ocyxwLGIpfWZ1bmN0aW9uIGIoZSxuKXt2YXIgdD1mdW5jdGlvbihlLG4pe2Zvcih2YXIgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKG5bdF0uYWRVbml0Q29kZT09ZSlyZXR1cm4gblt0XTtyZXR1cm4hMX07IWZ1bmN0aW9uKGUpe2UmJnZvaWQgMCE9PWUucmxpbWl0JiYod2luZG93Lm5vYmlkLnJlZnJlc2hMaW1pdD1lLnJsaW1pdCl9KGUpLGZ1bmN0aW9uKGUpe2UmJnZvaWQgMCE9PWUudWJsb2NrJiZmdW5jdGlvbihlLG4sdCl7dmFyIGk9bmV3IERhdGU7aS5zZXRUaW1lKGkuZ2V0VGltZSgpKzYwKnQqNjAqMWUzKTt2YXIgcj0iZXhwaXJlcz0iK2kudG9VVENTdHJpbmcoKTt1LnNldENvb2tpZShlLG4scil9KCJfdWJsb2NrIiwiMSIsZS51YmxvY2spfShlKTtmb3IodmFyIGk9W10scj0wO2UuYmlkcyYmcjxlLmJpZHMubGVuZ3RoO3IrKyl7dmFyIG89ZS5iaWRzW3JdO2lmKCEoby5iZHJpZDwxMDApJiZuJiZuLmJpZGRlclJlcXVlc3QmJm4uYmlkZGVyUmVxdWVzdC5iaWRzKXt3aW5kb3cubm9iaWQuYmlkUmVzcG9uc2VzWyIiK28uaWRdPW87dmFyIGE9dChvLmRpdmlkLG4uYmlkZGVyUmVxdWVzdC5iaWRzKTtpZihhKXt2YXIgcz17cmVxdWVzdElkOmEuYmlkSWQsY3BtOjEqKG8ucHJpY2U/by5wcmljZTpvLmJ1Y2tldD9vLmJ1Y2tldDowKSx3aWR0aDpvLnNpemUudyxoZWlnaHQ6by5zaXplLmgsY3JlYXRpdmVJZDpvLmNyZWF0aXZlaWR8fCIiLGRlYWxJZDpvLmRlYWxpZHx8IiIsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6MzAwLGFkOm8uYWRtLG1lZGlhVHlwZTpvLmF0eXBlfHxkLmJ9O28udmFzdFVybCYmKHMudmFzdFVybD1vLnZhc3RVcmwpLG8udmFzdFhtbCYmKHMudmFzdFhtbD1vLnZhc3RYbWwpLG8udmlkZW9DYWNoZUtleSYmKHMudmlkZW9DYWNoZUtleT1vLnZpZGVvQ2FjaGVLZXkpLG8ubWV0YSYmKHMubWV0YT1vLm1ldGEpLGkucHVzaChzKX19fXJldHVybiBpfXdpbmRvdy5ub2JpZFZlcnNpb249IjEuMy4yIix3aW5kb3cubm9iaWQ9d2luZG93Lm5vYmlkfHx7fSx3aW5kb3cubm9iaWQuYmlkUmVzcG9uc2VzPXdpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXN8fHt9LHdpbmRvdy5ub2JpZC50aW1lb3V0VG90YWw9MCx3aW5kb3cubm9iaWQuYmlkV29uVG90YWw9MCx3aW5kb3cubm9iaWQucmVmcmVzaENvdW50PTAsd2luZG93Lm5vYmlkLnJlbmRlclRhZz1mdW5jdGlvbihlLG4sdCl7Yygibm9iaWQucmVuZGVyVGFnKCkiLG4pO3ZhciBpPXdpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXNbIiIrbl07aWYoaSYmaS5hZG0yKXtjKCJub2JpZC5yZW5kZXJUYWcoKSBmb3VuZCB0YWciLG4pO3ZhciByPWkuYWRtMjtyZXR1cm4gZS53cml0ZShyKSx2b2lkIGUuY2xvc2UoKX1jKCJub2JpZC5yZW5kZXJUYWcoKSB0YWcgTk9UIEZPVU5EICpFUlJPUioiLG4pfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKGUpe3ZhciBuPSIiK2VbZS5tZXNzYWdlPyJtZXNzYWdlIjoiZGF0YSJdO2lmKCJuYlRhZ1JlbmRlcmVyLnJlcXVlc3RBZE1hcmt1cHwiPT09bi5zdWJzdHJpbmcoMCwibmJUYWdSZW5kZXJlci5yZXF1ZXN0QWRNYXJrdXB8Ii5sZW5ndGgpKXtjKCJQcmViaWQgcmVjZWl2ZWQgbmJUYWdSZW5kZXJlci5yZXF1ZXN0QWRNYXJrdXAgZXZlbnQiKTt2YXIgdD1uLnN1YnN0cmluZyhuLmluZGV4T2YoInwiKSsxKTtpZih3aW5kb3cubm9iaWQmJndpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXMpe3ZhciBpPXdpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXNbIiIrdF07aWYoaSYmaS5hZG0yKXt2YXIgcj1pLmFkbTI7ciYmZS5zb3VyY2UucG9zdE1lc3NhZ2UoIm5iVGFnUmVuZGVyZXIucmVuZGVyQWRJblNhZmVGcmFtZXwiK3IsIioiKX19fX0pLCExKTt2YXIgZz17Y29kZTpzLGd2bGlkOjgxNixhbGlhc2VzOlt7Y29kZToiZHVyYXRpb24iLGd2bGlkOjY3NH1dLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2QuYixkLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBjKCJpc0JpZFJlcXVlc3RWYWxpZCIsZSksISFlLnBhcmFtcy5zaXRlSWR9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxuKXtpZihjKCJ2YWxpZEJpZFJlcXVlc3RzIixlKSwhZXx8ZS5sZW5ndGg8PTApYygiRW1wdHkgdmFsaWRCaWRSZXF1ZXN0cyIpO2Vsc2V7dmFyIHQ9cChlLG4pO2lmKHQpe3dpbmRvdy5ub2JpZC5yZWZyZXNoQ291bnQrKzt2YXIgcixvLGQ9SlNPTi5zdHJpbmdpZnkodCkucmVwbGFjZSgvJ3wmfCMvZywiIiksYT0ocj0iaHR0cHM6Ly9hZHMuc2VydmVub2JpZC5jb20vIiwobz0iZnVuY3Rpb24iPT10eXBlb2YgaS5nZXRQYXJhbWV0ZXJCeU5hbWUmJk9iamVjdChpLmdldFBhcmFtZXRlckJ5TmFtZSkoIm5vYmlkLWVudiIpKT8iYmV0YSI9PW8/cj0iaHR0cHM6Ly9iZXRhLnNlcnZlbm9iaWQuY29tLyI6ImRldiI9PW8/cj0iLy9sb2NhbGhvc3Q6ODI4Mi8iOiJxYSI9PW8mJihyPSJodHRwczovL3FhLWFkcy5ub2JpZC5jb20vIik6cj0iaHR0cHM6Ly9hZHMuc2VydmVub2JpZC5jb20vIixyKyJhZHJlcT9jYj0iK01hdGguZmxvb3IoMTFlMypNYXRoLnJhbmRvbSgpKSkscz17fTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49ITA7cmV0dXJuIGUmJmUuZ2RwckNvbnNlbnQmJmUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJjI9PT1lLmdkcHJDb25zZW50LmFwaVZlcnNpb24mJihuPSEoITAhPT1PYmplY3QoaS5kZWVwQWNjZXNzKShlLmdkcHJDb25zZW50LCJ2ZW5kb3JEYXRhLnB1cnBvc2UuY29uc2VudHMuMSIpKSksbn0obil8fChzPXt3aXRoQ3JlZGVudGlhbHM6ITF9KSx7bWV0aG9kOiJQT1NUIix1cmw6YSxkYXRhOmQsYmlkZGVyUmVxdWVzdDpuLG9wdGlvbnM6c319fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gYygiaW50ZXJwcmV0UmVzcG9uc2UgLT4gc2VydmVyUmVzcG9uc2UiLGUpLGMoImludGVycHJldFJlc3BvbnNlIC0+IGJpZFJlcXVlc3QiLG4pLGIoZS5ib2R5LG4pfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxuLHQscil7aWYoZS5pZnJhbWVFbmFibGVkKXt2YXIgbz0iIjtyZXR1cm4gdCYmInN0cmluZyI9PXR5cGVvZiB0LmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiB0LmdkcHJBcHBsaWVzP28rPSI/Z2Rwcj0iLmNvbmNhdChOdW1iZXIodC5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KHQuY29uc2VudFN0cmluZyk6bys9Ij9nZHByX2NvbnNlbnQ9Ii5jb25jYXQodC5jb25zZW50U3RyaW5nKSksciYmKG8ubGVuZ3RoPjA/bys9IiYiOm8rPSI/IixvKz0idXNwX2NvbnNlbnQ9IityKSxbe3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL3B1YmxpYy5zZXJ2ZW5vYmlkLmNvbS9zeW5jLmh0bWwiK299XX1pZihlLnBpeGVsRW5hYmxlZCYmbi5sZW5ndGg+MCl7dmFyIGQ9W107cmV0dXJuIG5bMF0uYm9keS5zeW5jcyYmblswXS5ib2R5LnN5bmNzLmxlbmd0aD4wJiZuWzBdLmJvZHkuc3luY3MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZC5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmV9KX0pKSxkfXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiLU5vQmlkLSBQbGVhc2UgZW5hYmxlIGlmcmFtZSBiYXNlZCB1c2VyIHN5bmMuIixlKSxbXX0sb25UaW1lb3V0OmZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cubm9iaWQudGltZW91dFRvdGFsKyssYygiVGltZW91dCB0b3RhbDogIit3aW5kb3cubm9iaWQudGltZW91dFRvdGFsLGUpLHdpbmRvdy5ub2JpZC50aW1lb3V0VG90YWx9LG9uQmlkV29uOmZ1bmN0aW9uKGUpe3JldHVybiB3aW5kb3cubm9iaWQuYmlkV29uVG90YWwrKyxjKCJCaWRXb24gdG90YWw6ICIrd2luZG93Lm5vYmlkLmJpZFdvblRvdGFsLGUpLHdpbmRvdy5ub2JpZC5iaWRXb25Ub3RhbH19O09iamVjdChvLnJlZ2lzdGVyQmlkZGVyKShnKX19LFs2NTFdKTsKdXBianNDaHVuayhbNDFdLHsxNzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKWlmKCJwdWJQcm92aWRlZElkIj09PXIpdD10LmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIG49byhlW3JdLHIpO24mJnQucHVzaChuKX1yZXR1cm4gdH0sdC5hPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmT2JqZWN0KG4uZGVlcEFjY2VzcykoaSxyKyIuc291cmNlIikmJnQucHVzaCh7c291cmNlOmlbcl0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHR9O3ZhciBuPXIoMCksaT17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LG5hdmVnZ0lkOntzb3VyY2U6Im5hdmVnZy5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChuLnBpY2spKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxwdWJsaW5rSWQ6e3NvdXJjZToiZXBzaWxvbi5jb20iLGF0eXBlOjN9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfSxjb25uZWN0SWQ6e3NvdXJjZToieWFob28uY29tIixhdHlwZTozfX07ZnVuY3Rpb24gbyhlLHQpe3ZhciByPWlbdF07aWYociYmZSl7dmFyIG89e307by5zb3VyY2U9ci5zb3VyY2U7dmFyIGE9T2JqZWN0KG4uaXNGbikoci5nZXRWYWx1ZSk/ci5nZXRWYWx1ZShlKTplO2lmKE9iamVjdChuLmlzU3RyKShhKSl7dmFyIGQ9e2lkOmEsYXR5cGU6ci5hdHlwZX07aWYoT2JqZWN0KG4uaXNGbikoci5nZXRVaWRFeHQpKXt2YXIgYz1yLmdldFVpZEV4dChlKTtjJiYoZC5leHQ9Yyl9aWYoby51aWRzPVtkXSxPYmplY3Qobi5pc0ZuKShyLmdldEVpZEV4dCkpe3ZhciBzPXIuZ2V0RWlkRXh0KGUpO3MmJihvLmV4dD1zKX1yZXR1cm4gb319cmV0dXJuIG51bGx9fSw2NTk6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDY2MCl9LDY2MDpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0Lmhhc1R5cGVWaWRlbz1oLHQuaXNWYWxpZD1iLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4geH0pKTt2YXIgbj1yKDIpLGk9cigyMiksbz1yKDEzKSxhPXIoMTEpLGQ9ci5uKGEpLGM9cig3KSxzPXIoMSksdT1yKDE3KSxwPXIoMCk7ZnVuY3Rpb24gbChlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9ZnVuY3Rpb24gZihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9sKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZyhlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6bChPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBnKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgbT0iaHR0cHM6Ly9vbmV0YWctc3lzLmNvbS91c3luYy8iLHk9T2JqZWN0KGMuYikoMjQxKTtmdW5jdGlvbiBoKGUpe3JldHVybiB2b2lkIDAhPT1lLm1lZGlhVHlwZXMmJnZvaWQgMCE9PWUubWVkaWFUeXBlcy52aWRlb31mdW5jdGlvbiBiKGUsdCl7aWYoZT09PW4uYilyZXR1cm4gaih0KS5sZW5ndGg+MDtpZihlPT09bi5kJiZoKHQpKXt2YXIgcj10Lm1lZGlhVHlwZXMudmlkZW8uY29udGV4dDtpZigib3V0c3RyZWFtIj09PXJ8fCJpbnN0cmVhbSI9PT1yKXJldHVybiB3KHQpLmxlbmd0aD4wfXJldHVybiExfWZ1bmN0aW9uIHYoZSl7dHJ5e3JldHVybiB2b2lkIDAhPT1lLmRvY3VtZW50LmhpZGRlbj9lLmRvY3VtZW50LmhpZGRlbjp2b2lkIDAhPT1lLmRvY3VtZW50Lm1zSGlkZGVuP2UuZG9jdW1lbnQubXNIaWRkZW46dm9pZCAwIT09ZS5kb2N1bWVudC53ZWJraXRIaWRkZW4/ZS5kb2N1bWVudC53ZWJraXRIaWRkZW46bnVsbH1jYXRjaChlKXtyZXR1cm4gbnVsbH19ZnVuY3Rpb24gSShlKXt2YXIgdD1lLnBhcmFtczt0aGlzLmFkVW5pdENvZGU9ZS5hZFVuaXRDb2RlLHRoaXMuYmlkSWQ9ZS5iaWRJZCx0aGlzLmJpZGRlclJlcXVlc3RJZD1lLmJpZGRlclJlcXVlc3RJZCx0aGlzLmF1Y3Rpb25JZD1lLmF1Y3Rpb25JZCx0aGlzLnRyYW5zYWN0aW9uSWQ9ZS50cmFuc2FjdGlvbklkLHRoaXMucHViSWQ9dC5wdWJJZCx0aGlzLmV4dD10LmV4dCx0LnB1YkNsaWNrJiYodGhpcy5jbGljaz10LnB1YkNsaWNrKSx0LmRlYWxJZCYmKHRoaXMuZGVhbElkPXQuZGVhbElkKTt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTt0cnl7Zm9yKHZhciByPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLnRvcCxpPXIubGVmdCxvPXIud2lkdGgsYT1yLmhlaWdodCxkPXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyxjPXt0b3A6bitkLnBhZ2VZT2Zmc2V0LGxlZnQ6aStkLnBhZ2VYT2Zmc2V0LHdpZHRoOm8saGVpZ2h0OmF9LHM9ZC5mcmFtZUVsZW1lbnQ7bnVsbCE9czspe3ZhciB1PXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscD11LnRvcCxsPXUubGVmdDtjLnRvcCs9cCtkLnBhZ2VZT2Zmc2V0LGMubGVmdCs9bCtkLnBhZ2VYT2Zmc2V0LHM9KGQ9ZC5wYXJlbnQpLmZyYW1lRWxlbWVudH1yZXR1cm4gY31jYXRjaChlKXtyZXR1cm4gbnVsbH19KGUuYWRVbml0Q29kZSk7ciYmKHRoaXMuY29vcmRzPXIpfWZ1bmN0aW9uIE8oKXt0cnl7aWYobnVsbCE9d2luZG93LnBlcmZvcm1hbmNlJiZudWxsIT13aW5kb3cucGVyZm9ybWFuY2UudGltaW5nKXt2YXIgZT17fSx0PXdpbmRvdy5wZXJmb3JtYW5jZS50aW1pbmc7cmV0dXJuIGUucGFnZUxvYWRUaW1lPXQubG9hZEV2ZW50RW5kLXQubmF2aWdhdGlvblN0YXJ0LGUuY29ubmVjdFRpbWU9dC5yZXNwb25zZUVuZC10LnJlcXVlc3RTdGFydCxlLnJlbmRlclRpbWU9dC5kb21Db21wbGV0ZS10LmRvbUxvYWRpbmcsZX19Y2F0Y2goZSl7cmV0dXJuIG51bGx9cmV0dXJuIG51bGx9ZnVuY3Rpb24gdyhlKXt2YXIgdD1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZTtyZXR1cm4gdm9pZCAwIT09dCYmQXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGg+MD9UKHQpOltdfWZ1bmN0aW9uIGooZSl7cmV0dXJuIHZvaWQgMCE9PWUubWVkaWFUeXBlcyYmdm9pZCAwIT09ZS5tZWRpYVR5cGVzLmJhbm5lciYmdm9pZCAwIT09ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyYmQXJyYXkuaXNBcnJheShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKSYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGg+MD9UKGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpOiFoKGUpJiZlLnNpemVzJiZBcnJheS5pc0FycmF5KGUuc2l6ZXMpP1QoZS5zaXplcyk6W119ZnVuY3Rpb24gVChlKXtmb3IodmFyIHQ9W10scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO3QucHVzaCh7d2lkdGg6blswXSxoZWlnaHQ6blsxXX0pfXJldHVybiB0fXZhciB4PXtjb2RlOiJvbmV0YWciLGd2bGlkOjI0MSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltuLmIsbi5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmdm9pZCAwIT09ZS5wYXJhbXMmJiJzdHJpbmciPT10eXBlb2YgZS5wYXJhbXMucHViSWQmJihiKG4uYixlKXx8YihuLmQsZSkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxvLGEsZCxjLHM9Zih7YmlkczooYT1lLGQ9YS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBoKGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIEkuY2FsbCh0LGUpLHQuY29udGV4dD1lLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCx0LnBsYXllclNpemU9dyhlKSx0Lm1lZGlhVHlwZUluZm89T2JqZWN0KHAuZGVlcENsb25lKShlLm1lZGlhVHlwZXMudmlkZW8pLHQudHlwZT1uLmQsdH0pKSxjPWEuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gYihuLmIsZSl9KSkubWFwKChmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gSS5jYWxsKHQsZSksdC5zaXplcz1qKGUpLHQudHlwZT1uLmIsdC5tZWRpYVR5cGVJbmZvPU9iamVjdChwLmRlZXBDbG9uZSkoZS5tZWRpYVR5cGVzLmJhbm5lciksdH0pKSxkLmNvbmNhdChjKSl9LChyPWZ1bmN0aW9uKCl7dmFyIGU9d2luZG93LHQ9d2luZG93LnBhcmVudCxyPTA7dHJ5e2Zvcig7ZSE9PWUucGFyZW50OykodD1lLnBhcmVudCkubG9jYXRpb24uaHJlZixlPWUucGFyZW50fWNhdGNoKG4pe3I9dD09PWUudG9wPzE6Mn1yZXR1cm57dG9wbW9zdEZyYW1lOmUsY3VycmVudEZyYW1lTmVzdGluZzpyfX0oKSxpPXIudG9wbW9zdEZyYW1lLG89ci5jdXJyZW50RnJhbWVOZXN0aW5nLHtsb2NhdGlvbjppLmxvY2F0aW9uLmhyZWYscmVmZXJyZXI6IiIhPT1pLmRvY3VtZW50LnJlZmVycmVyP2kuZG9jdW1lbnQucmVmZXJyZXI6bnVsbCxhbmNlc3Rvck9yaWdpbjp3aW5kb3cubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zJiZ3aW5kb3cubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zLmxlbmd0aD4wP3dpbmRvdy5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnNbd2luZG93LmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2lucy5sZW5ndGgtMV06bnVsbCxtYXNrZWQ6byx3V2lkdGg6aS5pbm5lcldpZHRoLHdIZWlnaHQ6aS5pbm5lckhlaWdodCxvV2lkdGg6aS5vdXRlcldpZHRoLG9IZWlnaHQ6aS5vdXRlckhlaWdodCxzV2lkdGg6aS5zY3JlZW4ud2lkdGgsc0hlaWdodDppLnNjcmVlbi5oZWlnaHQsYVdpZHRoOmkuc2NyZWVuLmF2YWlsV2lkdGgsYUhlaWdodDppLnNjcmVlbi5hdmFpbEhlaWdodCxzTGVmdDoic2NyZWVuTGVmdCJpbiBpP2kuc2NyZWVuTGVmdDppLnNjcmVlblgsc1RvcDoic2NyZWVuVG9wImluIGk/aS5zY3JlZW5Ub3A6aS5zY3JlZW5ZLHhPZmZzZXQ6aS5wYWdlWE9mZnNldCx5T2Zmc2V0OmkucGFnZVlPZmZzZXQsZG9jSGlkZGVuOnYoaSksZG9jSGVpZ2h0OmkuZG9jdW1lbnQuYm9keT9pLmRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0Om51bGwsaExlbmd0aDpoaXN0b3J5Lmxlbmd0aCx0aW1pbmc6TygpLHZlcnNpb246e3ByZWJpZDoiNS4yMC4yIixhZGFwdGVyOiIxLjEuMCJ9fSkpO3QmJnQuZ2RwckNvbnNlbnQmJihzLmdkcHJDb25zZW50PXtjb25zZW50U3RyaW5nOnQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxjb25zZW50UmVxdWlyZWQ6dC5nZHByQ29uc2VudC5nZHByQXBwbGllc30pLHQmJnQudXNwQ29uc2VudCYmKHMudXNQcml2YWN5PXQudXNwQ29uc2VudCksZSYmMCE9PWUubGVuZ3RoJiZlWzBdLnVzZXJJZCYmKHMudXNlcklkPU9iamVjdCh1LmIpKGVbMF0udXNlcklkKSk7dHJ5e3kuaGFzTG9jYWxTdG9yYWdlKCkmJihzLm9uZXRhZ1NpZD15LmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKCJvbmV0YWdfc2lkIikpfWNhdGNoKGUpe31yZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vb25ldGFnLXN5cy5jb20vcHJlYmlkLXJlcXVlc3QiLGRhdGE6SlNPTi5zdHJpbmdpZnkocyl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPWUuYm9keSxhPVtdLGM9SlNPTi5wYXJzZSh0LmRhdGEpO3JldHVybiFyfHxyLm5vYmlkJiYhMD09PXIubm9iaWQ/YTpyLmJpZHMmJkFycmF5LmlzQXJyYXkoci5iaWRzKSYmMCE9PXIuYmlkcy5sZW5ndGg/KHIuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD17cmVxdWVzdElkOmUucmVxdWVzdElkLGNwbTplLmNwbSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCxjcmVhdGl2ZUlkOmUuY3JlYXRpdmVJZCxkZWFsSWQ6bnVsbD09ZS5kZWFsSWQ/ZS5kZWFsSWQ6IiIsY3VycmVuY3k6ZS5jdXJyZW5jeSxuZXRSZXZlbnVlOmUubmV0UmV2ZW51ZXx8ITEsbWVkaWFUeXBlOmUubWVkaWFUeXBlLG1ldGE6e21lZGlhVHlwZTplLm1lZGlhVHlwZSxhZHZlcnRpc2VyRG9tYWluczplLmFkb21haW59LHR0bDplLnR0bHx8MzAwfTtpZihlLm1lZGlhVHlwZT09PW4uYil0LmFkPWUuYWQ7ZWxzZSBpZihlLm1lZGlhVHlwZT09PW4uZCl7dmFyIHI9ZCgpKGMuYmlkcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYmlkSWQ9PT1lLnJlcXVlc3RJZCYmdC50eXBlPT09bi5kfSkpLHM9ci5jb250ZXh0LHU9ci5hZFVuaXRDb2RlO3M9PT1pLmE/KHQudmFzdFVybD1lLnZhc3RVcmwsdC52aWRlb0NhY2hlS2V5PWUudmlkZW9DYWNoZUtleSk6cz09PWkuYiYmKHQudmFzdFhtbD1lLmFkLHQudmFzdFVybD1lLnZhc3RVcmwsZS5yZW5kZXJlclVybCYmKHQucmVuZGVyZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9by5hLmluc3RhbGwoe2lkOmUucmVxdWVzdElkLHVybDplLnJlbmRlcmVyVXJsLGNvbmZpZzp0LGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlLGxvYWRlZDohMX0pO3RyeXtyLnNldFJlbmRlcigoZnVuY3Rpb24odCl7dmFyIHI9dC5yZW5kZXJlcixuPXQud2lkdGgsaT10LmhlaWdodCxvPXQudmFzdFhtbCxhPXQuYWRVbml0Q29kZTtyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93Lm9uZXRhZy5QbGF5ZXIuaW5pdChmKGYoe30sZSkse30se3dpZHRoOm4saGVpZ2h0OmksdmFzdFhtbDpvLG5vZGVJZDphLGNvbmZpZzpyLmdldENvbmZpZygpfSkpfSkpfSkpfWNhdGNoKGUpe31yZXR1cm4gcn0oZihmKHt9LGUpLHt9LHthZFVuaXRDb2RlOnV9KSkpKX1hLnB1c2godCl9KSksYSk6YX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPVtdLG89IiI7cmV0dXJuIHImJiJzdHJpbmciPT10eXBlb2Ygci5jb25zZW50U3RyaW5nJiYobys9IiZnZHByX2NvbnNlbnQ9IityLmNvbnNlbnRTdHJpbmcsImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQXBwbGllcyYmKG8rPSImZ2Rwcj0iKyhyLmdkcHJBcHBsaWVzPzE6MCkpKSxuJiYic3RyaW5nIj09dHlwZW9mIG4mJihvKz0iJnVzX3ByaXZhY3k9IituKSxlLmlmcmFtZUVuYWJsZWQmJmkucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6bSsiP2NiPSIrKG5ldyBEYXRlKS5nZXRUaW1lKCkrb30pLGUucGl4ZWxFbmFibGVkJiZpLnB1c2goe3R5cGU6ImltYWdlIix1cmw6bSsiP3RhZz1pbWciK299KSxpfX07T2JqZWN0KHMucmVnaXN0ZXJCaWRkZXIpKHgpfX0sWzY1OV0pOwp1cGJqc0NodW5rKFsxNzddLHs2Njk6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDY3MCl9LDY3MDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiVVNFUl9JRF9DT0RFX1RPX1FVRVJZX0FSRyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSksbi5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciByPW4oMCksYT1uKDMpLGk9bigxKSxvPW4oMiksYz1uKDEyKSxkPW4ubihjKTtmdW5jdGlvbiBzKGUpe3JldHVybihzPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gdShlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGEsaT1bXSxvPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKG89KHI9bi5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKHIudmFsdWUpLCF0fHxpLmxlbmd0aCE9PXQpO289ITApO31jYXRjaChlKXtjPSEwLGE9ZX1maW5hbGx5e3RyeXtvfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgYX19cmV0dXJuIGl9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gcChlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gcChlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gcChlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciBtPVtvLmIsby5kXSxsPVsic3RhcnRkZWxheSIsIm1pbWVzIiwibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInN0YXJ0ZGVsYXkiLCJza2lwcGFibGUiLCJwbGF5YmFja21ldGhvZCIsImFwaSIsInByb3RvY29scyIsImJveGluZ2FsbG93ZWQiLCJsaW5lYXJpdHkiLCJkZWxpdmVyeSIsInByb3RvY29sIiwicGxhY2VtZW50IiwibWluYml0cmF0ZSIsIm1heGJpdHJhdGUiXSxiPXticml0ZXBvb2xpZDoiYnJpdGVwb29saWQiLGNyaXRlb0lkOiJjcml0ZW9pZCIsZmFicmlja0lkOiJudWVzdGFyaWQiLGhhbG9JZDoiYXVkaWdlbnRpZCIsaWQ1aWQ6ImlkNWlkIixpZGxfZW52OiJscmUiLElEUDoiemVvdGFwaWQiLGlkeElkOiJpZHhpZCIsaW50ZW50SXFJZDoiaW50ZW50aXFpZCIsbGlwYjoibGlwYmlkIixsb3RhbWVQYW5vcmFtYUlkOiJsb3RhbWVpZCIsbWVya2xlSWQ6Im1lcmtsZWlkIixuZXRJZDoibmV0aWQiLHBhcnJhYmxlSWQ6InBhcnJhYmxlaWQiLHB1YmNpZDoicHViY2lkIixxdWFudGNhc3RJZDoicXVhbnRjYXN0aWQiLHRhcGFkSWQ6InRhcGFkaWQiLHRkaWQ6InR0ZHV1aWQiLHVpZDI6InVpZDIiLGZsb2NJZDoiZmxvYyIsYWRtaXhlcklkOiJhZG1peGVyaWQiLGRlZXBpbnRlbnRJZDoiZGVlcGludGVudGlkIixkbWRJZDoiZG1kaWQiLG5leHRyb2xsSWQ6Im5leHRyb2xsaWQiLG5vdmF0aXE6Im5vdmF0aXFpZCIsbXdPcGVuTGlua0lkOiJtd29wZW5saW5raWQiLGRhcElkOiJkYXBpZCIsYW14SWQ6ImFteGlkIn0sZj17Y29kZToib3BlbngiLGd2bGlkOjY5LHN1cHBvcnRlZE1lZGlhVHlwZXM6bSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmFtcy5kZWxEb21haW58fGUucGFyYW1zLnBsYXRmb3JtO3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpJiZ0PyEhZS5wYXJhbXMudW5pdHx8T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoIik+MDohKCFlLnBhcmFtcy51bml0fHwhdCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuW107dmFyIG49W10saT11KGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gbj10LE9iamVjdChyLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMudmlkZW8iKSYmIU9iamVjdChyLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMuYmFubmVyIil8fG4ubWVkaWFUeXBlPT09by5kP2VbMF0ucHVzaCh0KTplWzFdLnB1c2godCksZX0pLFtbXSxbXV0pfShlKSwyKSxjPWlbMF0scz1pWzFdO3JldHVybiBzLmxlbmd0aD4wJiZuLnB1c2goZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxpPSExLGM9dihlLHQpLGQ9T2JqZWN0KHIuX21hcCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLnVuaXR9KSk7Yy5hdXM9T2JqZWN0KHIuX21hcCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLnBhcnNlU2l6ZXNJbnB1dCkoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcykuam9pbigiLCIpfSkpLmpvaW4oInwiKSxjLmRpdmlkcz1PYmplY3Qoci5fbWFwKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUuYWRVbml0Q29kZSl9KSkuam9pbigiLCIpLGMuYXVjcz1PYmplY3Qoci5fbWFwKShlLChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YS5wYmFkc2xvdCIpO3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodHx8IiIpfSkpLmpvaW4oIiwiKSxkLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpJiYoYy5hdWlkPWQuam9pbigiLCIpKTtlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy5kb05vdFRyYWNrfSkpJiYoYy5ucz0xKTsoITA9PT1hLmIuZ2V0Q29uZmlnKCJjb3BwYSIpfHxlLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy5jb3BwYX0pKSkmJihjLnRmY2Q9MSk7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlLnBhcmFtcy5jdXN0b21QYXJhbXMpe3ZhciB0PU9iamVjdChyLl9tYXApKE9iamVjdC5rZXlzKGUucGFyYW1zLmN1c3RvbVBhcmFtcyksKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPXRbZV07T2JqZWN0KHIuaXNBcnJheSkobikmJihuPW4uam9pbigiLCIpKTtyZXR1cm4oZS50b0xvd2VyQ2FzZSgpKyI9IituLnRvTG93ZXJDYXNlKCkpLnJlcGxhY2UoIisiLCIuIikucmVwbGFjZSgiLyIsIl8iKX0odCxlLnBhcmFtcy5jdXN0b21QYXJhbXMpfSkpLGE9d2luZG93LmJ0b2EodC5qb2luKCImIikpO2k9ITAsbi5wdXNoKGEpfWVsc2Ugbi5wdXNoKCIiKX0pKSxpJiYoYy50cHM9bi5qb2luKCIsIikpO3JldHVybiBnKGMsby5iLGUpLHttZXRob2Q6IkdFVCIsdXJsOmMucGg/Imh0dHBzOi8vdS5vcGVueC5uZXQvdy8xLjAvYXJqIjoiaHR0cHM6Ly8iLmNvbmNhdChlWzBdLnBhcmFtcy5kZWxEb21haW4sIi93LzEuMC9hcmoiKSxkYXRhOmMscGF5bG9hZDp7YmlkczplLHN0YXJ0VGltZTpuZXcgRGF0ZX19fShzLHQpKSxjLmxlbmd0aD4wJiZjLmZvckVhY2goKGZ1bmN0aW9uKGUpe24ucHVzaChmdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7dmFyIG4sYSxpPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxjPXYoW2VdLHQpLHM9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvIil8fHt9LHU9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikscD1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKTtPYmplY3Qoci5pc0FycmF5KShlLnNpemVzKSYmMj09PWUuc2l6ZXMubGVuZ3RoJiYhT2JqZWN0KHIuaXNBcnJheSkoZS5zaXplc1swXSk/KG49cGFyc2VJbnQoZS5zaXplc1swXSwxMCksYT1wYXJzZUludChlLnNpemVzWzFdLDEwKSk6T2JqZWN0KHIuaXNBcnJheSkoZS5zaXplcykmJk9iamVjdChyLmlzQXJyYXkpKGUuc2l6ZXNbMF0pJiYyPT09ZS5zaXplc1swXS5sZW5ndGg/KG49cGFyc2VJbnQoZS5zaXplc1swXVswXSwxMCksYT1wYXJzZUludChlLnNpemVzWzBdWzFdLDEwKSk6T2JqZWN0KHIuaXNBcnJheSkocCkmJjI9PT1wLmxlbmd0aCYmKG49cGFyc2VJbnQocFswXSwxMCksYT1wYXJzZUludChwWzFdLDEwKSk7dmFyIG09e3c6bixoOmF9LGI9ZS5wYXJhbXMudmlkZW98fGUucGFyYW1zLm9wZW5ydGJ8fHt9O2Iub3BlbnJ0YiYmKGI9Yi5vcGVucnRiKTtPYmplY3Qoci5pc0FycmF5KShiLmltcCkmJihiPWIuaW1wWzBdLnZpZGVvKTtPYmplY3Qua2V5cyhiKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBkKCkobCxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gbVtlXT1iW2VdfSkpLE9iamVjdC5rZXlzKGkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGQoKShsLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBtW2VdPWlbZV19KSk7dmFyIGY9e2ltcDpbe3ZpZGVvOm19XX07Yy5vcGVucnRiPUpTT04uc3RyaW5naWZ5KGYpLGMuYXVpZD1lLnBhcmFtcy51bml0LGMudndkPW58fHMudndkLGMudmh0PWF8fHMudmh0LCJvdXRzdHJlYW0iPT09dSYmKGMudm9zPSIxMDEiKTtzLm1pbWVzJiYoYy52bWltZXM9cy5taW1lcyk7ZS5wYXJhbXMudGVzdCYmKGMudnRlc3Q9MSk7dmFyIGg9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKTtoJiYoYy5hdWNzPWVuY29kZVVSSUNvbXBvbmVudChoKSk7cmV0dXJuIGcoYyxvLmQsW2VdKSxjfShlLHQpO3JldHVybnttZXRob2Q6IkdFVCIsdXJsOm4ucGg/Imh0dHBzOi8vdS5vcGVueC5uZXQvdi8xLjAvYXZqcCI6Imh0dHBzOi8vIi5jb25jYXQoZS5wYXJhbXMuZGVsRG9tYWluLCIvdi8xLjAvYXZqcCIpLGRhdGE6bixwYXlsb2FkOntiaWQ6ZSxzdGFydFRpbWU6bmV3IERhdGV9fX0oZSx0KSl9KSksbn0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmJvZHk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybi9hdmpwJC8udGVzdChlLnVybCk/by5kOm8uYn0odCk9PT1vLmQ/ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmJpZCxhPSh0LnN0YXJ0VGltZSxbXSk7aWYodm9pZCAwIT09ZSYmIiIhPT1lLnZhc3RVcmwmJmUucHViX3Jldj4wKXt2YXIgaT1PYmplY3Qoci5wYXJzZVVybCkoZS52YXN0VXJsKS5zZWFyY2h8fHt9LGM9e307Yy5yZXF1ZXN0SWQ9bi5iaWRJZCxlLmRlYWxfaWQmJihjLmRlYWxJZD1lLmRlYWxfaWQpLGMudHRsPTMwMCxjLm5ldFJldmVudWU9ITAsYy5jdXJyZW5jeT1lLmN1cnJlbmN5LGMuY3BtPXBhcnNlSW50KGUucHViX3JldiwxMCkvMWUzLGMud2lkdGg9cGFyc2VJbnQoZS53aWR0aCwxMCksYy5oZWlnaHQ9cGFyc2VJbnQoZS5oZWlnaHQsMTApLGMuY3JlYXRpdmVJZD1lLmFkaWQsYy52YXN0VXJsPWUudmFzdFVybCxjLm1lZGlhVHlwZT1vLmQsZS5waD1pLnBoLGUuY29sbz1pLmNvbG8sZS50cz1pLnRzLGEucHVzaChjKX1yZXR1cm4gYX0obix0LnBheWxvYWQpOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXQuYmlkcyxyPSh0LnN0YXJ0VGltZSxlLmFkcy5hZCksYT1bXSxpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBvPXJbaV0sYz1wYXJzZUludChvLmlkeCwxMCksZD17fTtpZihkLnJlcXVlc3RJZD1uW2NdLmJpZElkLG8ucHViX3Jldil7ZC5jcG09TnVtYmVyKG8ucHViX3JldikvMWUzO3ZhciBzPW8uY3JlYXRpdmVbMF07cyYmKGQud2lkdGg9cy53aWR0aCxkLmhlaWdodD1zLmhlaWdodCksZC5jcmVhdGl2ZUlkPXMuaWQsZC5hZD1vLmh0bWwsby5kZWFsX2lkJiYoZC5kZWFsSWQ9by5kZWFsX2lkKSxkLnR0bD0zMDAsZC5uZXRSZXZlbnVlPSEwLGQuY3VycmVuY3k9by5jdXJyZW5jeSxvLnRiZCYmKGQudGJkPW8udGJkKSxkLnRzPW8udHMsZC5tZXRhPXt9LG8uYnJhbmRfaWQmJihkLm1ldGEuYnJhbmRJZD1vLmJyYW5kX2lkKSxvLmFkb21haW4mJmxlbmd0aChvLmFkb21haW4pPjA/ZC5tZXRhLmFkdmVydGlzZXJEb21haW5zPW8uYWRvbWFpbjpkLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9W10sby5hZHZfaWQmJihkLm1ldGEuZHNwaWQ9by5hZHZfaWQpLGEucHVzaChkKX19cmV0dXJuIGF9KG4sdC5wYXlsb2FkKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxuLGEpe2lmKGUuaWZyYW1lRW5hYmxlZHx8ZS5waXhlbEVuYWJsZWQpcmV0dXJuW3t0eXBlOmUuaWZyYW1lRW5hYmxlZD8iaWZyYW1lIjoiaW1hZ2UiLHVybDpPYmplY3Qoci5kZWVwQWNjZXNzKSh0LCIwLmJvZHkuYWRzLnBpeGVscyIpfHxPYmplY3Qoci5kZWVwQWNjZXNzKSh0LCIwLmJvZHkucGl4ZWxzIil8fGZ1bmN0aW9uKGUsdCl7dmFyIG49Imh0dHBzOi8vdS5vcGVueC5uZXQvdy8xLjAvcGQiLHI9W107ZSYmKHIucHVzaCgiZ2Rwcj0iKyhlLmdkcHJBcHBsaWVzPzE6MCkpLHIucHVzaCgiZ2Rwcl9jb25zZW50PSIrZW5jb2RlVVJJQ29tcG9uZW50KGUuY29uc2VudFN0cmluZ3x8IiIpKSk7dCYmci5wdXNoKCJ1c19wcml2YWN5PSIrZW5jb2RlVVJJQ29tcG9uZW50KHQpKTtyZXR1cm4iIi5jb25jYXQobikuY29uY2F0KHIubGVuZ3RoPjA/Ij8iK3Iuam9pbigiJiIpOiIiKX0obixhKX1dfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KHIuY29udmVydFR5cGVzKSh7dW5pdDoic3RyaW5nIixjdXN0b21GbG9vcjoibnVtYmVyIn0sZSl9fTtmdW5jdGlvbiBoKGUpe3ZhciB0LG4scixhPXdpbmRvdyxpPWRvY3VtZW50LG89aS5kb2N1bWVudEVsZW1lbnQ7aWYoZSl7dHJ5e2E9d2luZG93LnRvcCxpPXdpbmRvdy50b3AuZG9jdW1lbnR9Y2F0Y2goZSl7cmV0dXJufW89aS5kb2N1bWVudEVsZW1lbnQscj1pLmJvZHksdD1hLmlubmVyV2lkdGh8fG8uY2xpZW50V2lkdGh8fHIuY2xpZW50V2lkdGgsbj1hLmlubmVySGVpZ2h0fHxvLmNsaWVudEhlaWdodHx8ci5jbGllbnRIZWlnaHR9ZWxzZSBvPWkuZG9jdW1lbnRFbGVtZW50LHQ9YS5pbm5lcldpZHRofHxvLmNsaWVudFdpZHRoLG49YS5pbm5lckhlaWdodHx8by5jbGllbnRIZWlnaHQ7cmV0dXJuIiIuY29uY2F0KHQsIngiKS5jb25jYXQobil9ZnVuY3Rpb24gdihlLHQpe3ZhciBuLGk9T2JqZWN0KHIuaW5JZnJhbWUpKCk7bj17anU6YS5iLmdldENvbmZpZygicGFnZVVybCIpfHx0LnJlZmVyZXJJbmZvLnJlZmVyZXIsY2g6ZG9jdW1lbnQuY2hhclNldHx8ZG9jdW1lbnQuY2hhcmFjdGVyU2V0LHJlczoiIi5jb25jYXQoc2NyZWVuLndpZHRoLCJ4IikuY29uY2F0KHNjcmVlbi5oZWlnaHQsIngiKS5jb25jYXQoc2NyZWVuLmNvbG9yRGVwdGgpLGlmcjppLHR6OihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKSx0d3M6aChpKSxiZToxLGJjOmVbMF0ucGFyYW1zLmJjfHwiIi5jb25jYXQoImhiX3BiIiwiXyIpLmNvbmNhdCgiMy4wLjMiKSxkZGRpZDpPYmplY3Qoci5fbWFwKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFuc2FjdGlvbklkfSkpLmpvaW4oIiwiKSxub2NhY2hlOihuZXcgRGF0ZSkuZ2V0VGltZSgpfTt2YXIgbz15KCJvcnRiMi51c2VyLmRhdGEiKTtvLmxlbmd0aD4wJiYobi5zbT1vKTt2YXIgYyxkLHMsdSxwLG09eSgib3J0YjIuc2l0ZS5jb250ZW50LmRhdGEiKTtpZihtLmxlbmd0aD4wJiYobi5zY3NtPW0pLGVbMF0ucGFyYW1zLnBsYXRmb3JtJiYobi5waD1lWzBdLnBhcmFtcy5wbGF0Zm9ybSksdC5nZHByQ29uc2VudCl7dmFyIGw9dC5nZHByQ29uc2VudDt2b2lkIDAhPT1sLmNvbnNlbnRTdHJpbmcmJihuLmdkcHJfY29uc2VudD1sLmNvbnNlbnRTdHJpbmcpLHZvaWQgMCE9PWwuZ2RwckFwcGxpZXMmJihuLmdkcHI9bC5nZHByQXBwbGllcz8xOjApLCJpYWIiPT09YS5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQuY21wQXBpIikmJihuLnhfZ2Rwcl9mPTEpfXJldHVybiB0JiZ0LnVzcENvbnNlbnQmJihuLnVzX3ByaXZhY3k9dC51c3BDb25zZW50KSxPYmplY3Qoci5kZWVwQWNjZXNzKShlWzBdLCJjcnVtYnMucHViY2lkIikmJk9iamVjdChyLmRlZXBTZXRWYWx1ZSkoZVswXSwidXNlcklkLnB1YmNpZCIsT2JqZWN0KHIuZGVlcEFjY2VzcykoZVswXSwiY3J1bWJzLnB1YmNpZCIpKSxjPW4sZD1lWzBdLnVzZXJJZCxPYmplY3Qoci5fZWFjaCkoZCwoZnVuY3Rpb24oZSx0KXt2YXIgbj1iW3RdO2lmKGIuaGFzT3duUHJvcGVydHkodCkpc3dpdGNoKHQpe2Nhc2UibWVya2xlSWQiOmNhc2UiZmxvY0lkIjpjYXNlInVpZDIiOmNbbl09ZS5pZDticmVhaztjYXNlImxpcGIiOmlmKGNbbl09ZS5saXBiaWQsQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGg+MCl7dmFyIHI9ImxpdmVpbnRlbnQ6IitlLnNlZ21lbnRzLmpvaW4oInwiKTtjLnNtPSIiLmNvbmNhdChjLnNtP2Muc20rIiwiOiIiKS5jb25jYXQocil9YnJlYWs7Y2FzZSJwYXJyYWJsZUlkIjpjW25dPWUuZWlkO2JyZWFrO2Nhc2UiaWQ1aWQiOmNbbl09ZS51aWQ7YnJlYWs7Y2FzZSJub3ZhdGlxIjpjW25dPWUuc25vd2ZsYWtlO2JyZWFrO2RlZmF1bHQ6Y1tuXT1lfX0pKSxuPWMsZVswXS5zY2hhaW4mJihuLnNjaGFpbj0ocz1lWzBdLnNjaGFpbiwiIi5jb25jYXQocy52ZXIsIiwiKS5jb25jYXQocy5jb21wbGV0ZSwiISIpLmNvbmNhdCgodT1zLm5vZGVzLHA9WyJhc2kiLCJzaWQiLCJocCIsInJpZCIsIm5hbWUiLCJkb21haW4iXSx1Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHAubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XXx8IiJ9KSkuam9pbigiLCIpfSkpLmpvaW4oIiEiKSkpKSksbn1mdW5jdGlvbiB5KGUpe3ZhciB0PWEuYi5nZXRDb25maWcoZSk7aWYoIUFycmF5LmlzQXJyYXkodCl8fCF0Lmxlbmd0aClyZXR1cm4iIjt2YXIgbj10LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZS5zZWdtZW50KSYmZS5zZWdtZW50Lmxlbmd0aD4wJiZ2b2lkIDAhPT1lLm5hbWUmJmUubmFtZS5sZW5ndGg+MH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49Im9iamVjdCI9PT1zKHQuZXh0KSYmdC5leHQuc2VndGF4PyIiLmNvbmNhdCh0Lm5hbWUsIi8iKS5jb25jYXQodC5leHQuc2VndGF4KTp0Lm5hbWU7cmV0dXJuIGVbbl09KGVbbl18fFtdKS5jb25jYXQodC5zZWdtZW50Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSkpLGV9KSx7fSk7cmV0dXJuIE9iamVjdC5rZXlzKG4pLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsiOiIrbltlXS5qb2luKCJ8Iil9KSkuam9pbigiLCIpfWZ1bmN0aW9uIGcoZSx0LG4pe3ZhciByPVtdLGk9ITE7bi5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1mdW5jdGlvbihlLHQpe3ZhciBuPXt9LHI9YS5iLmdldENvbmZpZygiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpfHwiVVNEIjsiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vciYmKG49ZS5nZXRGbG9vcih7Y3VycmVuY3k6cixtZWRpYVR5cGU6dCxzaXplOiIqIn0pKTt2YXIgaT1uLmZsb29yfHxlLnBhcmFtcy5jdXN0b21GbG9vcnx8MDtyZXR1cm4gTWF0aC5yb3VuZCgxZTMqaSl9KGUsdCk7bj8oci5wdXNoKG4pLGk9ITApOnIucHVzaCgwKX0pKSxpJiYoZS5hdW1mcz1yLmpvaW4oIiwiKSl9T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGYpfX0sWzY2OV0pOwp1cGJqc0NodW5rKFszN10sezY5NTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNjk2KX0sNjk2OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQucmVzZXRTeW5jZWRTdGF0dXM9ZnVuY3Rpb24oKXtVPTB9LHQucmVzZXRXdXJsTWFwPWZ1bmN0aW9uKCl7WD17fX0sdC5QcmViaWRTZXJ2ZXI9JDt2YXIgbj1yKDgzKSxpPXIoNDMpLGM9cigwKSxzPXIoNSksbz1yLm4ocyksYT1yKDgpLGQ9cigzKSxwPXIoMiksYj1yKDM4KSx1PXIoMSksbD1yKDEwKSxmPXIubihsKSx2PXIoMTIpLGc9ci5uKHYpLHk9cig2OTcpLG09cig0KSxPPXIoMTEpLGo9ci5uKE8pO2Z1bmN0aW9uIGgoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIEMoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/aChPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe1MoZSx0LHJbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOmgoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gUyhlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9ZnVuY3Rpb24geChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXIpcmV0dXJuO3ZhciBuLGksYz1bXSxzPSEwLG89ITE7dHJ5e2ZvcihyPXIuY2FsbChlKTshKHM9KG49ci5uZXh0KCkpLmRvbmUpJiYoYy5wdXNoKG4udmFsdWUpLCF0fHxjLmxlbmd0aCE9PXQpO3M9ITApO31jYXRjaChlKXtvPSEwLGk9ZX1maW5hbGx5e3RyeXtzfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgaX19cmV0dXJuIGN9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gQShlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1yfHwiU2V0Ij09PXIpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKSlyZXR1cm4gQShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gQShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufWZ1bmN0aW9uIEUoKXtyZXR1cm4oRT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHcoZSl7cmV0dXJuKHc9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgUCxrLF89ZC5iLmdldENvbmZpZyxJPW8uYS5TMlMuU1JDLFU9MCxCPXt0aW1lb3V0OjFlMyxtYXhCaWRzOjEsYWRhcHRlcjoicHJlYmlkU2VydmVyIixhZGFwdGVyT3B0aW9uczp7fSxzeW5jVXJsTW9kaWZpZXI6e30sYmlkZGVyczpbXX07ZnVuY3Rpb24gVChlKXtpZihlKXt2YXIgdD1BcnJheS5pc0FycmF5KGUpP2U6W2VdLHI9W107cmV0dXJuIHQuZXZlcnkoKGZ1bmN0aW9uKHQsbixpKXtpZigoZnVuY3Rpb24oZSl7WyJlbmRwb2ludCIsInN5bmNFbmRwb2ludCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKE9iamVjdChjLmlzU3RyKShlW3RdKSl7dmFyIHI9ZVt0XTtlW3RdPXtwMUNvbnNlbnQ6cixub1AxQ29uc2VudDpyfX0hT2JqZWN0KGMuaXNQbGFpbk9iamVjdCkoZVt0XSl8fGVbdF0ucDFDb25zZW50JiZlW3RdLm5vUDFDb25zZW50fHxbInAxQ29uc2VudCIsIm5vUDFDb25zZW50Il0uZm9yRWFjaCgoZnVuY3Rpb24ocil7ZVt0XVtyXXx8T2JqZWN0KGMubG9nV2FybikoInMyc0NvbmZpZy4iLmNvbmNhdCh0LCIuIikuY29uY2F0KHIsIiBub3QgZGVmaW5lZC4gIFBCUyByZXF1ZXN0IHdpbGwgYmUgc2tpcHBlZCBpbiBzb21lIFAxIHNjZW5hcmlvcy4iKSl9KSl9KSl9KGUpLCExIT09ZnVuY3Rpb24oZSl7aWYoZS5kZWZhdWx0VmVuZG9yKXt2YXIgdD1lLmRlZmF1bHRWZW5kb3Iscj1PYmplY3Qua2V5cyhlKTtpZigheS5hW3RdKXJldHVybiBPYmplY3QoYy5sb2dFcnJvcikoIkluY29ycmVjdCBvciB1bmF2YWlsYWJsZSBwcmViaWQgc2VydmVyIGRlZmF1bHQgdmVuZG9yIG9wdGlvbjogIit0KSwhMTtPYmplY3Qua2V5cyh5LmFbdF0pLmZvckVhY2goKGZ1bmN0aW9uKG4pe0Jbbl0hPT1lW25dJiZnKCkocixuKXx8KGVbbl09eS5hW3RdW25dKX0pKX1yZXR1cm4gZS5lbmFibGVkPSJib29sZWFuIj09dHlwZW9mIGUuZW5hYmxlZCYmZS5lbmFibGVkfSh0KSkmJiExIT09ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aWYoWyJhY2NvdW50SWQiLCJiaWRkZXJzIiwiZW5kcG9pbnQiXS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFnKCkodCxlKSYmKE9iamVjdChjLmxvZ0Vycm9yKShlKyIgbWlzc2luZyBpbiBzZXJ2ZXIgdG8gc2VydmVyIGNvbmZpZyIpLCEwKX0pKS5sZW5ndGg+MClyZXR1cm4hMX0odCkpcmV0dXJuIEFycmF5LmlzQXJyYXkodC5iaWRkZXJzKSYmKGlbbl0uYmlkZGVycz10LmJpZGRlcnMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PXIuaW5kZXhPZihlKSYmKHIucHVzaChlKSwhMCl9KSkpLCEwO3JldHVybiBPYmplY3QoYy5sb2dXYXJuKSgicHJlYmlkU2VydmVyOiBzMnMgY29uZmlnIGlzIGRpc2FibGVkIiksITF9KSk/UD10OnZvaWQgMH19ZnVuY3Rpb24gUihlLHQscixuKXtpZihQLmxlbmd0aCE9PVUpe1UrKzt2YXIgaT17dXVpZDpPYmplY3QoYy5nZW5lcmF0ZVVVSUQpKCksYmlkZGVyczplLGFjY291bnQ6bi5hY2NvdW50SWR9LHM9bi51c2VyU3luY0xpbWl0O09iamVjdChjLmlzTnVtYmVyKShzKSYmcz4wJiYoaS5saW1pdD1zKSx0JiYoaS5nZHByPXQuZ2RwckFwcGxpZXM/MTowLCExIT09dC5nZHByQXBwbGllcyYmKGkuZ2Rwcl9jb25zZW50PXQuY29uc2VudFN0cmluZykpLHImJihpLnVzX3ByaXZhY3k9ciksImJvb2xlYW4iPT10eXBlb2Ygbi5jb29wU3luYyYmKGkuY29vcFN5bmM9bi5jb29wU3luYyk7dmFyIG89SlNPTi5zdHJpbmdpZnkoaSk7T2JqZWN0KG0uYSkoSyhuLnN5bmNFbmRwb2ludCx0KSwoZnVuY3Rpb24oZSl7dHJ5e0QoKGU9SlNPTi5wYXJzZShlKSkuYmlkZGVyX3N0YXR1cyxuKX1jYXRjaChlKXtPYmplY3QoYy5sb2dFcnJvcikoZSl9fSksbyx7Y29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMH0pfX1mdW5jdGlvbiBEKGUsdCl7aWYoMCE9PWUubGVuZ3RoKXt2YXIgcj1lLnNoaWZ0KCk7ci5ub19jb29raWU/ZnVuY3Rpb24oZSx0LHIsbixpKXtpZihpLnN5bmNVcmxNb2RpZmllciYmImZ1bmN0aW9uIj09dHlwZW9mIGkuc3luY1VybE1vZGlmaWVyW3JdKXtxKGUsaS5zeW5jVXJsTW9kaWZpZXJbcl0oZSx0LHIpLHIsbil9ZWxzZSBxKGUsdCxyLG4pfShyLnVzZXJzeW5jLnR5cGUsci51c2Vyc3luYy51cmwsci5iaWRkZXIsYy5iaW5kLmNhbGwoRCxudWxsLGUsdCksdCk6RChlLHQpfX1mdW5jdGlvbiBxKGUsdCxyLG4pe3Q/ImltYWdlIj09PWV8fCJyZWRpcmVjdCI9PT1lPyhPYmplY3QoYy5sb2dNZXNzYWdlKSgnSW52b2tpbmcgaW1hZ2UgcGl4ZWwgdXNlciBzeW5jIGZvciBiaWRkZXI6ICInLmNvbmNhdChyLCciJykpLE9iamVjdChjLnRyaWdnZXJQaXhlbCkodCxuKSk6ImlmcmFtZSI9PWU/KE9iamVjdChjLmxvZ01lc3NhZ2UpKCdJbnZva2luZyBpZnJhbWUgdXNlciBzeW5jIGZvciBiaWRkZXI6ICInLmNvbmNhdChyLCciJykpLE9iamVjdChjLmluc2VydFVzZXJTeW5jSWZyYW1lKSh0LG4pKTooT2JqZWN0KGMubG9nRXJyb3IpKCdVc2VyIHN5bmMgdHlwZSAiJy5jb25jYXQoZSwnIiBub3Qgc3VwcG9ydGVkIGZvciBiaWRkZXI6ICInKS5jb25jYXQociwnIicpKSxuKCkpOihPYmplY3QoYy5sb2dFcnJvcikoJ05vIHN5bmMgdXJsIGZvciBiaWRkZXIgIicuY29uY2F0KHIsJyI6ICcpLmNvbmNhdCh0KSksbigpKX1kLmIuc2V0RGVmYXVsdHMoe3Myc0NvbmZpZzpCfSksXygiczJzQ29uZmlnIiwoZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5zMnNDb25maWcpfSkpO3ZhciBWPXtzcG9uc29yZWRCeToxLGJvZHk6MixyYXRpbmc6MyxsaWtlczo0LGRvd25sb2Fkczo1LHByaWNlOjYsc2FsZVByaWNlOjcscGhvbmU6OCxhZGRyZXNzOjksYm9keTI6MTAsY3RhOjEyfSxOPU9iamVjdC5rZXlzKFYpLHo9e2ljb246MSxpbWFnZTozfSxNPXtpbWc6MSxqczoyfTtbVix6LHtpbXByZXNzaW9uOjEsInZpZXdhYmxlLW1yYzUwIjoyLCJ2aWV3YWJsZS1tcmMxMDAiOjMsInZpZXdhYmxlLXZpZGVvNTAiOjR9LE1dLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbZVt0XV09dH0pKX0pKTt2YXIgVz17fSxKPXt9LFg9e307dmFyIEY9ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgcz1bXSxvPXt9LHA9dFswXSx1PW5ldyBTZXQ7aWYoci5mb3JFYWNoKChmdW5jdGlvbihlKXtmb3IodmFyIHI9ZS5jb2RlLGk9MTt1LmhhcyhyKTspaSsrLHI9IiIuY29uY2F0KGUuY29kZSwiLSIpLmNvbmNhdChpKTt1LmFkZChyKTt2YXIgbCxmPU9iamVjdChiLmgpKE9iamVjdChjLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMubmF0aXZlIikpO2lmKGYpdHJ5e2w9SltyXT1PYmplY3Qua2V5cyhmKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9Zlt0XTtmdW5jdGlvbiBuKGUpe3JldHVybiBFKHtyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MH0sZT9PYmplY3QoYy5jbGVhbk9iaikoZSk6e30pfXN3aXRjaCh0KXtjYXNlImltYWdlIjpjYXNlImljb24iOnZhciBpPXpbdF0scz1PYmplY3QoYy5jbGVhbk9iaikoe3R5cGU6aSx3Ok9iamVjdChjLmRlZXBBY2Nlc3MpKHIsInNpemVzLjAiKSxoOk9iamVjdChjLmRlZXBBY2Nlc3MpKHIsInNpemVzLjEiKSx3bWluOk9iamVjdChjLmRlZXBBY2Nlc3MpKHIsImFzcGVjdF9yYXRpb3MuMC5taW5fd2lkdGgiKSxobWluOk9iamVjdChjLmRlZXBBY2Nlc3MpKHIsImFzcGVjdF9yYXRpb3MuMC5taW5faGVpZ2h0Iil9KTtpZighKHMudyYmcy5ofHxzLmhtaW4mJnMud21pbikpdGhyb3ciaW52YWxpZCBpbWcgc2l6ZXMgKG11c3QgcHJvdmlkZSBzaXplcyBvciBtaW5faGVpZ2h0ICYgbWluX3dpZHRoIGlmIHVzaW5nIGFzcGVjdF9yYXRpb3MpIjtBcnJheS5pc0FycmF5KHIuYXNwZWN0X3JhdGlvcykmJihzLmV4dD17YXNwZWN0cmF0aW9zOnIuYXNwZWN0X3JhdGlvcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChlLnJhdGlvX3dpZHRoLCI6IikuY29uY2F0KGUucmF0aW9faGVpZ2h0KX0pKX0pLGUucHVzaChuKHtpbWc6c30pKTticmVhaztjYXNlInRpdGxlIjppZighci5sZW4pdGhyb3ciaW52YWxpZCB0aXRsZS5sZW4iO2UucHVzaChuKHt0aXRsZTp7bGVuOnIubGVufX0pKTticmVhaztkZWZhdWx0OnZhciBvPVZbdF07byYmZS5wdXNoKG4oe2RhdGE6e3R5cGU6byxsZW46ci5sZW59fSkpfXJldHVybiBlfSksW10pfWNhdGNoKGUpe09iamVjdChjLmxvZ0Vycm9yKSgiZXJyb3IgY3JlYXRpbmcgbmF0aXZlIHJlcXVlc3Q6ICIrU3RyaW5nKGUpKX12YXIgdj1PYmplY3QoYy5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIiksZz1PYmplY3QoYy5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpO2UuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihXWyIiLmNvbmNhdChyKS5jb25jYXQoZS5iaWRkZXIpXT1lLmJpZF9pZCxhLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlLmJpZGRlcl0pe3ZhciB0PWEuZGVmYXVsdC5iaWRkZXJSZWdpc3RyeVtlLmJpZGRlcl07dCYmIXQuZ2V0U3BlYygpLnNraXBQYnNBbGlhc2luZyYmKG9bZS5iaWRkZXJdPWEuZGVmYXVsdC5hbGlhc1JlZ2lzdHJ5W2UuYmlkZGVyXSl9fSkpO3ZhciB5PXt9O2lmKGcmJmcuc2l6ZXMpe3ZhciBtPU9iamVjdChjLnBhcnNlU2l6ZXNJbnB1dCkoZy5zaXplcykubWFwKChmdW5jdGlvbihlKXt2YXIgdD14KGUuc3BsaXQoIngiKSwyKSxyPXRbMF0sbj10WzFdO3JldHVybnt3OnBhcnNlSW50KHIsMTApLGg6cGFyc2VJbnQobiwxMCl9fSkpO3kuYmFubmVyPXtmb3JtYXQ6bX0sZy5wb3MmJih5LmJhbm5lci5wb3M9Zy5wb3MpfWlmKE9iamVjdChjLmlzRW1wdHkpKHYpfHwoIm91dHN0cmVhbSIhPT12LmNvbnRleHR8fHYucmVuZGVyZXJ8fGUucmVuZGVyZXI/KCJpbnN0cmVhbSIhPT12LmNvbnRleHR8fHYuaGFzT3duUHJvcGVydHkoInBsYWNlbWVudCIpfHwodi5wbGFjZW1lbnQ9MSkseS52aWRlbz1PYmplY3Qua2V5cyh2KS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJjb250ZXh0IiE9PWV9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiJwbGF5ZXJTaXplIj09PXQ/KGUudz1PYmplY3QoYy5kZWVwQWNjZXNzKSh2LCIiLmNvbmNhdCh0LCIuMC4wIikpLGUuaD1PYmplY3QoYy5kZWVwQWNjZXNzKSh2LCIiLmNvbmNhdCh0LCIuMC4xIikpKTplW3RdPXZbdF0sZX0pLHt9KSk6T2JqZWN0KGMubG9nRXJyb3IpKCJPdXRzdHJlYW0gYmlkIHdpdGhvdXQgcmVuZGVyZXIgY2Fubm90IGJlIHNlbnQgdG8gUHJlYmlkIFNlcnZlci4iKSksbCl0cnl7eS5uYXRpdmU9e3JlcXVlc3Q6SlNPTi5zdHJpbmdpZnkoe2NvbnRleHQ6MSxwbGNtdHR5cGU6MSxldmVudHRyYWNrZXJzOlt7ZXZlbnQ6MSxtZXRob2RzOlsxXX1dLGFzc2V0czpsfSksdmVyOiIxLjIifX1jYXRjaChlKXtPYmplY3QoYy5sb2dFcnJvcikoImVycm9yIGNyZWF0aW5nIG5hdGl2ZSByZXF1ZXN0OiAiK1N0cmluZyhlKSl9dmFyIE89ZS5iaWRzLnJlZHVjZSgoZnVuY3Rpb24ocixpKXt2YXIgYz1hLmRlZmF1bHQuYmlkZGVyUmVnaXN0cnlbaS5iaWRkZXJdO3JldHVybiBjJiZjLmdldFNwZWMoKS50cmFuc2Zvcm1CaWRQYXJhbXMmJihpLnBhcmFtcz1jLmdldFNwZWMoKS50cmFuc2Zvcm1CaWRQYXJhbXMoaS5wYXJhbXMsITAsZSx0KSkscltpLmJpZGRlcl09bi5hZGFwdGVyT3B0aW9ucyYmbi5hZGFwdGVyT3B0aW9uc1tpLmJpZGRlcl0/RSh7fSxpLnBhcmFtcyxuLmFkYXB0ZXJPcHRpb25zW2kuYmlkZGVyXSk6aS5wYXJhbXMscn0pLEMoe30sT2JqZWN0KGMuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0IikpKSxoPXtpZDpyLGV4dDpPLHNlY3VyZTpuLnNlY3VyZX0sUz1DKHt9LE9iamVjdChjLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5kYXRhIikpO09iamVjdC5rZXlzKFMpLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJwYmFkc2xvdCI9PT1lPyJzdHJpbmciPT10eXBlb2YgU1tlXSYmU1tlXT9PYmplY3QoYy5kZWVwU2V0VmFsdWUpKGgsImV4dC5kYXRhLnBiYWRzbG90IixTW2VdKTpkZWxldGUgaC5leHQuZGF0YS5wYmFkc2xvdDoiYWRzZXJ2ZXIiPT09ZT9bIm5hbWUiLCJhZHNsb3QiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoYy5kZWVwQWNjZXNzKShTLCJhZHNlcnZlci4iLmNvbmNhdChlKSk7InN0cmluZyI9PXR5cGVvZiB0JiZ0JiZPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGgsImV4dC5kYXRhLmFkc2VydmVyLiIuY29uY2F0KGUudG9Mb3dlckNhc2UoKSksdCl9KSk6T2JqZWN0KGMuZGVlcFNldFZhbHVlKShoLCJleHQuZGF0YS4iLmNvbmNhdChlKSxTW2VdKX0pKSxFKGgseSk7dmFyIEE9aigpKHAuYmlkcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWUuY29kZSYmdC5zdG9yZWRBdWN0aW9uUmVzcG9uc2V9KSk7QSYmT2JqZWN0KGMuZGVlcFNldFZhbHVlKShoLCJleHQucHJlYmlkLnN0b3JlZGF1Y3Rpb25yZXNwb25zZS5pZCIsQS5zdG9yZWRBdWN0aW9uUmVzcG9uc2UudG9TdHJpbmcoKSk7dmFyIHc9aigpKHAuYmlkcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWUuY29kZSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuZ2V0Rmxvb3J9KSk7aWYodyl7dmFyIFA7dHJ5e1A9dy5nZXRGbG9vcih7Y3VycmVuY3k6ZC5iLmdldENvbmZpZygiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpfHwiVVNEIn0pfWNhdGNoKGUpe09iamVjdChjLmxvZ0Vycm9yKSgiUEJTOiBnZXRGbG9vciB0aHJldyBhbiBlcnJvcjogIixlKX1QJiZQLmN1cnJlbmN5JiYhaXNOYU4ocGFyc2VGbG9hdChQLmZsb29yKSkmJihoLmJpZGZsb29yPXBhcnNlRmxvYXQoUC5mbG9vciksaC5iaWRmbG9vcmN1cj1QLmN1cnJlbmN5KX0oaC5iYW5uZXJ8fGgudmlkZW98fGgubmF0aXZlKSYmcy5wdXNoKGgpfSkpLHMubGVuZ3RoKXt2YXIgbD17aWQ6ZS50aWQsc291cmNlOnt0aWQ6ZS50aWR9LHRtYXg6bi50aW1lb3V0LGltcDpzLHRlc3Q6bi50ZXN0fHwwLGV4dDp7cHJlYmlkOnthdWN0aW9udGltZXN0YW1wOnAuYXVjdGlvblN0YXJ0LHRhcmdldGluZzp7aW5jbHVkZXdpbm5lcnM6ITAsaW5jbHVkZWJpZGRlcmtleXM6ITF9fX19O2wuZXh0LnByZWJpZD1FKGwuZXh0LnByZWJpZCx7Y2hhbm5lbDp7bmFtZToicGJqcyIsdmVyc2lvbjp1cGJqcy52ZXJzaW9ufX0pLF8oImRlYnVnIikmJihsLmV4dC5wcmViaWQ9RShsLmV4dC5wcmViaWQse2RlYnVnOiEwfSkpLG4uZXh0UHJlYmlkJiYib2JqZWN0Ij09PXcobi5leHRQcmViaWQpJiYobC5leHQucHJlYmlkPUUobC5leHQucHJlYmlkLG4uZXh0UHJlYmlkKSk7dmFyIGY9ZC5iLmdldENvbmZpZygiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpO2YmJiJzdHJpbmciPT10eXBlb2YgZj9sLmN1cj1bZl06QXJyYXkuaXNBcnJheShmKSYmZi5sZW5ndGgmJihsLmN1cj1bZlswXV0pLGZ1bmN0aW9uKGUsdCxyKXtlJiYoIm9iamVjdCI9PT13KGQuYi5nZXRDb25maWcoImFwcCIpKT8oZS5hcHA9ZC5iLmdldENvbmZpZygiYXBwIiksZS5hcHAucHVibGlzaGVyPXtpZDpyfSk6KGUuc2l0ZT17fSxPYmplY3QoYy5pc1BsYWluT2JqZWN0KShkLmIuZ2V0Q29uZmlnKCJzaXRlIikpJiYoZS5zaXRlPWQuYi5nZXRDb25maWcoInNpdGUiKSksT2JqZWN0KGMuZGVlcEFjY2VzcykoZS5zaXRlLCJwdWJsaXNoZXIuaWQiKXx8T2JqZWN0KGMuZGVlcFNldFZhbHVlKShlLnNpdGUsInB1Ymxpc2hlci5pZCIsciksZS5zaXRlLnBhZ2V8fChlLnNpdGUucGFnZT10KSksIm9iamVjdCI9PT13KGQuYi5nZXRDb25maWcoImRldmljZSIpKSYmKGUuZGV2aWNlPWQuYi5nZXRDb25maWcoImRldmljZSIpKSxlLmRldmljZXx8KGUuZGV2aWNlPXt9KSxlLmRldmljZS53fHwoZS5kZXZpY2Uudz13aW5kb3cuaW5uZXJXaWR0aCksZS5kZXZpY2UuaHx8KGUuZGV2aWNlLmg9d2luZG93LmlubmVySGVpZ2h0KSl9KGwsdFswXS5yZWZlcmVySW5mby5yZWZlcmVyLG4uYWNjb3VudElkKTt2YXIgdj1PYmplY3QoYy5kZWVwQWNjZXNzKSh0LCIwLmJpZHMuMC5zY2hhaW4iKTt2JiYobC5zb3VyY2UuZXh0PXtzY2hhaW46dn0pLE9iamVjdChjLmlzRW1wdHkpKG8pfHwobC5leHQucHJlYmlkLmFsaWFzZXM9QyhDKHt9LGwuZXh0LnByZWJpZC5hbGlhc2VzKSxvKSk7dmFyIHk9T2JqZWN0KGMuZGVlcEFjY2VzcykodCwiMC5iaWRzLjAudXNlcklkQXNFaWRzIik7T2JqZWN0KGMuaXNBcnJheSkoeSkmJnkubGVuZ3RoPjAmJk9iamVjdChjLmRlZXBTZXRWYWx1ZSkobCwidXNlci5leHQuZWlkcyIseSksT2JqZWN0KGMuaXNBcnJheSkoaykmJmsubGVuZ3RoPjAmJihpJiZPYmplY3QoYy5pc0FycmF5KShpKSYmay5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZGRlcnMmJihlLmJpZGRlcnM9ZS5iaWRkZXJzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGcoKShpLGUpfSkpKX0pKSxPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGwsImV4dC5wcmViaWQuZGF0YS5laWRwZXJtaXNzaW9ucyIsaykpO3ZhciBtPWQuYi5nZXRDb25maWcoIm11bHRpYmlkIik7aWYobSYmT2JqZWN0KGMuZGVlcFNldFZhbHVlKShsLCJleHQucHJlYmlkLm11bHRpYmlkIixtLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cltlLnRvTG93ZXJDYXNlKCldPXRbZV19KSksZS5wdXNoKHIpLGV9KSxbXSkpLHQpe3ZhciBPO2lmKHAuZ2RwckNvbnNlbnQpImJvb2xlYW4iPT10eXBlb2YgcC5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKE89cC5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjApLE9iamVjdChjLmRlZXBTZXRWYWx1ZSkobCwicmVncy5leHQuZ2RwciIsTyksT2JqZWN0KGMuZGVlcFNldFZhbHVlKShsLCJ1c2VyLmV4dC5jb25zZW50IixwLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLHAuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50JiYic3RyaW5nIj09dHlwZW9mIHAuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50JiZPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGwsInVzZXIuZXh0LkNvbnNlbnRlZFByb3ZpZGVyc1NldHRpbmdzLmNvbnNlbnRlZF9wcm92aWRlcnMiLHAuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50KTtwLnVzcENvbnNlbnQmJk9iamVjdChjLmRlZXBTZXRWYWx1ZSkobCwicmVncy5leHQudXNfcHJpdmFjeSIscC51c3BDb25zZW50KX0hMD09PV8oImNvcHBhIikmJk9iamVjdChjLmRlZXBTZXRWYWx1ZSkobCwicmVncy5jb3BwYSIsMSk7dmFyIGg9Xygib3J0YjIiKXx8e307cmV0dXJuIE9iamVjdChjLm1lcmdlRGVlcCkobCxoKSxmdW5jdGlvbihlKXt2YXIgdD1kLmIuZ2V0QmlkZGVyQ29uZmlnKCkscj1PYmplY3Qua2V5cyh0KS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7dmFyIG49dFtyXTtpZihuLm9ydGIyKXt2YXIgaT1PYmplY3QoYy5tZXJnZURlZXApKHt9LG4ub3J0YjIpO2UucHVzaCh7YmlkZGVyczpbcl0sY29uZmlnOntvcnRiMjppfX0pfXJldHVybiBlfSksW10pO3IubGVuZ3RoJiZPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGUsImV4dC5wcmViaWQuYmlkZGVyY29uZmlnIixyKX0obCksbH1PYmplY3QoYy5sb2dFcnJvcikoIlJlcXVlc3QgdG8gUHJlYmlkIFNlcnZlciByZWplY3RlZCBkdWUgdG8gaW52YWxpZCBtZWRpYSB0eXBlKHMpIGluIGFkVW5pdC4iKX0sSD1mdW5jdGlvbihlLHQscil7dmFyIG49W10scz1PYmplY3QoYy5kZWVwQWNjZXNzKShlLCJleHQucmVzcG9uc2V0aW1lbWlsbGlzIiksYT10LmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT1lLmJpZGRlckNvZGV9KSk7cmV0dXJuIGEmJnMmJk9iamVjdC5rZXlzKHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdChjLmRlZXBDbG9uZSkoYSk7ci5pc0R5bmFtaWM9ITAsci5iaWRkZXJDb2RlPWUsci5iaWRkZXJSZXF1ZXN0SWQ9T2JqZWN0KGMuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxyLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5iaWRkZXI9ZSx0LmJpZGRlclJlcXVlc3RJZD1yLmJpZGRlclJlcXVlc3RJZCx0LmJpZF9pZD1PYmplY3QoYy5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLHQuYmlkSWQ9dC5iaWRfaWQsV1siIi5jb25jYXQodC5hZFVuaXRDb2RlKS5jb25jYXQoZSldPXQuYmlkX2lkfSkpLHQucHVzaChyKX0pKSxbWyJlcnJvcnMiLCJzZXJ2ZXJFcnJvcnMiXSxbInJlc3BvbnNldGltZW1pbGxpcyIsInNlcnZlclJlc3BvbnNlVGltZU1zIl1dLmZvckVhY2goKGZ1bmN0aW9uKHIpe3JldHVybiBmdW5jdGlvbihlLHQscixuKXt2YXIgaT1PYmplY3QoYy5kZWVwQWNjZXNzKSh0LCJleHQuIi5jb25jYXQocikpO2kmJk9iamVjdC5rZXlzKGkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPWooKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJDb2RlPT09dH0pKTtyJiYocltuXT1pW3RdKX0pKX0odCxlLHJbMF0sclsxXSl9KSksZS5zZWF0YmlkJiZlLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24ocyl7KHMuYmlkfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24oYSl7dmFyIGQsYj0iIi5jb25jYXQoYS5pbXBpZCkuY29uY2F0KHMuc2VhdCk7V1tiXSYmKGQ9T2JqZWN0KGMuZ2V0QmlkUmVxdWVzdCkoV1tiXSx0KSk7dmFyIHU9YS5wcmljZSxsPTAhPT11P28uYS5TVEFUVVMuR09PRDpvLmEuU1RBVFVTLk5PX0JJRCxmPU9iamVjdChpLmEpKGwsZHx8e2JpZGRlcjpzLnNlYXQsc3JjOkl9KTtmLmNwbT11O3ZhciB2PU9iamVjdChjLmRlZXBBY2Nlc3MpKGUsWyJleHQiLCJyZXNwb25zZXRpbWVtaWxsaXMiLHMuc2VhdF0uam9pbigiLiIpKTtkJiZ2JiYoZC5zZXJ2ZXJSZXNwb25zZVRpbWVNcz12KTt2YXIgZyx5LG0sTz1PYmplY3QoYy5kZWVwQWNjZXNzKShhLCJleHQucHJlYmlkLmJpZGlkIik7T2JqZWN0KGMuaXNTdHIpKE8pJiYoZi5wYnNCaWRJZD1PKSxPYmplY3QoYy5pc1N0cikoT2JqZWN0KGMuZGVlcEFjY2VzcykoYSwiZXh0LnByZWJpZC5ldmVudHMud2luIikpJiYoZz1kLmF1Y3Rpb25JZCx5PWYuYWRJZCxtPU9iamVjdChjLmRlZXBBY2Nlc3MpKGEsImV4dC5wcmViaWQuZXZlbnRzLndpbiIpLFtnLHldLmV2ZXJ5KGMuaXNTdHIpJiYoWFsiIi5jb25jYXQoZykuY29uY2F0KHkpXT1tKSk7dmFyIGo9T2JqZWN0KGMuZGVlcEFjY2VzcykoYSwiZXh0LnByZWJpZC50YXJnZXRpbmciKTtpZihPYmplY3QoYy5pc1BsYWluT2JqZWN0KShqKSYmKE9iamVjdChjLmlzU3RyKShPYmplY3QoYy5kZWVwQWNjZXNzKShhLCJleHQucHJlYmlkLmV2ZW50cy53aW4iKSkmJihqPU9iamVjdChjLmdldERlZmluZWRQYXJhbXMpKGosT2JqZWN0LmtleXMoaikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PWUuaW5kZXhPZigiaGJfd2ludXJsIikmJi0xPT09ZS5pbmRleE9mKCJoYl9iaWRpZCIpfSkpKSksZi5hZHNlcnZlclRhcmdldGluZz1qKSxmLnNlYXRCaWRJZD1hLmlkLE9iamVjdChjLmRlZXBBY2Nlc3MpKGEsImV4dC5wcmViaWQudHlwZSIpPT09cC5kKXtmLm1lZGlhVHlwZT1wLmQ7dmFyIGg9ZC5zaXplcyYmZC5zaXplc1swXTtmLnBsYXllcldpZHRoPWhbMF0sZi5wbGF5ZXJIZWlnaHQ9aFsxXSxhLmV4dC5wcmViaWQuY2FjaGUmJiJvYmplY3QiPT09dyhhLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbCkmJmEuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLmNhY2hlSWQmJmEuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLnVybD8oZi52aWRlb0NhY2hlS2V5PWEuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLmNhY2hlSWQsZi52YXN0VXJsPWEuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLnVybCk6aiYmai5oYl91dWlkJiZqLmhiX2NhY2hlX2hvc3QmJmouaGJfY2FjaGVfcGF0aCYmKGYudmlkZW9DYWNoZUtleT1qLmhiX3V1aWQsZi52YXN0VXJsPSJodHRwczovLyIuY29uY2F0KGouaGJfY2FjaGVfaG9zdCkuY29uY2F0KGouaGJfY2FjaGVfcGF0aCwiP3V1aWQ9IikuY29uY2F0KGouaGJfdXVpZCkpLGEuYWRtJiYoZi52YXN0WG1sPWEuYWRtKSwhZi52YXN0VXJsJiZhLm51cmwmJihmLnZhc3RVcmw9YS5udXJsKX1lbHNlIGlmKE9iamVjdChjLmRlZXBBY2Nlc3MpKGEsImV4dC5wcmViaWQudHlwZSIpPT09cC5jKXt2YXIgQyx4O2YubWVkaWFUeXBlPXAuYyx4PSJzdHJpbmciPT10eXBlb2YgYS5hZG0/Zi5hZG09SlNPTi5wYXJzZShhLmFkbSk6Zi5hZG09YS5hZG07dmFyIEE9KFMoQz17fSxNLmltZyx4LmltcHRyYWNrZXJzfHxbXSksUyhDLE0uanMseC5qc3RyYWNrZXI/W3guanN0cmFja2VyXTpbXSksQyk7aWYoeC5ldmVudHRyYWNrZXJzJiZ4LmV2ZW50dHJhY2tlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7c3dpdGNoKGUubWV0aG9kKXtjYXNlIE0uaW1nOkFbTS5pbWddLnB1c2goZS51cmwpO2JyZWFrO2Nhc2UgTS5qczpBW00uanNdLnB1c2goZS51cmwpfX0pKSxPYmplY3QoYy5pc1BsYWluT2JqZWN0KSh4KSYmQXJyYXkuaXNBcnJheSh4LmFzc2V0cykpe3ZhciBFPUpbYS5pbXBpZF07Zi5uYXRpdmU9T2JqZWN0KGMuY2xlYW5PYmopKHguYXNzZXRzLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgcj1FW3QuaWRdO3JldHVybiBPYmplY3QoYy5pc1BsYWluT2JqZWN0KSh0LmltZyk/ZVtyLmltZy50eXBlP3pbci5pbWcudHlwZV06ImltYWdlIl09T2JqZWN0KGMucGljaykodC5pbWcsWyJ1cmwiLCJ3IGFzIHdpZHRoIiwiaCBhcyBoZWlnaHQiXSk6T2JqZWN0KGMuaXNQbGFpbk9iamVjdCkodC50aXRsZSk/ZS50aXRsZT10LnRpdGxlLnRleHQ6T2JqZWN0KGMuaXNQbGFpbk9iamVjdCkodC5kYXRhKSYmTi5mb3JFYWNoKChmdW5jdGlvbihuKXtWW25dPT09ci5kYXRhLnR5cGUmJihlW25dPXQuZGF0YS52YWx1ZSl9KSksZX0pLE9iamVjdChjLmNsZWFuT2JqKSh7Y2xpY2tVcmw6eC5saW5rLGNsaWNrVHJhY2tlcnM6T2JqZWN0KGMuZGVlcEFjY2VzcykoeCwibGluay5jbGlja3RyYWNrZXJzIiksaW1wcmVzc2lvblRyYWNrZXJzOkFbTS5pbWddLGphdmFzY3JpcHRUcmFja2VyczpBW00uanNdfSkpKX1lbHNlIE9iamVjdChjLmxvZ0Vycm9yKSgicHJlYmlkIHNlcnZlciBuYXRpdmUgcmVzcG9uc2UgY29udGFpbmVkIG5vIGFzc2V0cyIpfWVsc2UgYS5hZG0mJmEubnVybD8oZi5hZD1hLmFkbSxmLmFkKz1PYmplY3QoYy5jcmVhdGVUcmFja1BpeGVsSHRtbCkoZGVjb2RlVVJJQ29tcG9uZW50KGEubnVybCkpKTphLmFkbT9mLmFkPWEuYWRtOmEubnVybCYmKGYuYWRVcmw9YS5udXJsKTtmLndpZHRoPWEudyxmLmhlaWdodD1hLmgsYS5kZWFsaWQmJihmLmRlYWxJZD1hLmRlYWxpZCksZi5yZXF1ZXN0SWQ9ZC5iaWRJZHx8ZC5iaWRfSWQsZi5jcmVhdGl2ZV9pZD1hLmNyaWQsZi5jcmVhdGl2ZUlkPWEuY3JpZCxhLmJ1cmwmJihmLmJ1cmw9YS5idXJsKSxmLmN1cnJlbmN5PWUuY3VyP2UuY3VyOiJVU0QiLGYubWV0YT17fTt2YXIgUD1PYmplY3QoYy5kZWVwQWNjZXNzKShhLCJleHQucHJlYmlkLm1ldGEiKTtQJiZPYmplY3QoYy5pc1BsYWluT2JqZWN0KShQKSYmKGYubWV0YT1PYmplY3QoYy5kZWVwQ2xvbmUpKFApKSxhLmFkb21haW4mJihmLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9YS5hZG9tYWluKTt2YXIgaz1yLmRlZmF1bHRUdGx8fDYwO2YudHRsPWEuZXhwP2EuZXhwOmssZi5uZXRSZXZlbnVlPSFhLm5ldFJldmVudWV8fGEubmV0UmV2ZW51ZSxuLnB1c2goe2FkVW5pdDpkLmFkVW5pdENvZGUsYmlkOmZ9KX0pKX0pKSxufTtmdW5jdGlvbiBMKGUpe3ZhciB0LHIsbj1mdW5jdGlvbihlLHQpe2lmKFtlLHRdLmV2ZXJ5KGMuaXNTdHIpKXJldHVybiBYWyIiLmNvbmNhdChlKS5jb25jYXQodCldfShlLmF1Y3Rpb25JZCxlLmFkSWQpO09iamVjdChjLmlzU3RyKShuKSYmKE9iamVjdChjLmxvZ01lc3NhZ2UpKCdJbnZva2luZyBpbWFnZSBwaXhlbCBmb3Igd3VybCBvbiBCSURfV0lOOiAiJy5jb25jYXQobiwnIicpKSxPYmplY3QoYy50cmlnZ2VyUGl4ZWwpKG4pLHQ9ZS5hdWN0aW9uSWQscj1lLmFkSWQsW3Qscl0uZXZlcnkoYy5pc1N0cikmJihYWyIiLmNvbmNhdCh0KS5jb25jYXQocildPXZvaWQgMCkpfWZ1bmN0aW9uIEsoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ITA7cmV0dXJuIGUmJmUuZ2RwckFwcGxpZXMmJjI9PT1lLmFwaVZlcnNpb24mJih0PSEoITAhPT1PYmplY3QoYy5kZWVwQWNjZXNzKShlLCJ2ZW5kb3JEYXRhLnB1cnBvc2UuY29uc2VudHMuMSIpKSksdH0odCk/ZS5wMUNvbnNlbnQ6ZS5ub1AxQ29uc2VudH1mdW5jdGlvbiBHKGUpe3ZhciB0LHI7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoPjAmJih0PWVbMF0uZ2RwckNvbnNlbnQscj1lWzBdLnVzcENvbnNlbnQpLHtnZHByQ29uc2VudDp0LHVzcENvbnNlbnQ6cn19ZnVuY3Rpb24gJCgpe3ZhciBlPW5ldyBuLmEoInByZWJpZFNlcnZlciIpO3JldHVybiBlLmNhbGxCaWRzPWZ1bmN0aW9uKGUsdCxyLG4saSl7dmFyIHM9T2JqZWN0KGMuZGVlcENsb25lKShlLmFkX3VuaXRzKSxwPUcodCksYj1wLmdkcHJDb25zZW50LGw9cC51c3BDb25zZW50LHY9cy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1lZGlhVHlwZXMmJihlLm1lZGlhVHlwZXMubmF0aXZlfHxlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfHxlLm1lZGlhVHlwZXMudmlkZW8mJmUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplKX0pKSx5PXYubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpLmZpbHRlcihjLnVuaXF1ZXMpfSkpLnJlZHVjZShjLmZsYXR0ZW4pLmZpbHRlcihjLnVuaXF1ZXMpO2lmKEFycmF5LmlzQXJyYXkoUCkpe2lmKCF0LmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT1lLmJpZGRlckNvZGV9KSkmJmUuczJzQ29uZmlnJiZlLnMyc0NvbmZpZy5zeW5jRW5kcG9pbnQmJksoZS5zMnNDb25maWcuc3luY0VuZHBvaW50LGIpKVIoZS5zMnNDb25maWcuYmlkZGVycy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlXXx8ZX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gci5pbmRleE9mKGUpPT09dH0pKSxiLGwsZS5zMnNDb25maWcpO3ZhciBtPUYoZSx0LHYsZS5zMnNDb25maWcseSksTz1tJiZKU09OLnN0cmluZ2lmeShtKTtPYmplY3QoYy5sb2dJbmZvKSgiQmlkUmVxdWVzdDogIitPKTt2YXIgaj1LKGUuczJzQ29uZmlnLmVuZHBvaW50LGIpO20mJk8mJmo/aShqLHtzdWNjZXNzOmZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbihlLHQscixuLGkscyl7dmFyIHAsYj1bXSxsPUcociksdj1sLmdkcHJDb25zZW50LHk9bC51c3BDb25zZW50O3RyeXtpZihwPUpTT04ucGFyc2UoZSksYj1IKHAscixzKSx0PXQuY29uY2F0KHIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJDb2RlfSkpKS5maWx0ZXIoYy51bmlxdWVzKSxyLmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT1lLmJpZGRlckNvZGV9KSkpaWYocyYmcy5zeW5jRW5kcG9pbnQmJksocy5zeW5jRW5kcG9pbnQsdikpUihyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGEuZGVmYXVsdC5hbGlhc1JlZ2lzdHJ5W2UuYmlkZGVyQ29kZV18fGUuYmlkZGVyQ29kZX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gci5pbmRleE9mKGUpPT09dH0pKSx2LHkscyk7ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRHluYW1pY30pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuKG51bGwse2JpZGRlckNvZGU6ZS5iaWRkZXJDb2RlLGFkZFJlcXVlc3RPbmx5OiEwfSl9KSksYi5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lLmFkVW5pdCxpPWUuYmlkO09iamVjdCh1LmlzVmFsaWQpKHQsaSxyKSYmbih0LGkpfSkpLHIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iczJzQmlkZGVyUGxhY2Vob2xkZXIiIT09ZS5iaWRkZXJDb2RlfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBmLmEuZW1pdChvLmEuRVZFTlRTLkJJRERFUl9ET05FLGUpfSkpfWNhdGNoKGUpe09iamVjdChjLmxvZ0Vycm9yKShlKX0oIXB8fHAuc3RhdHVzJiZnKCkocC5zdGF0dXMsIkVycm9yIikpJiZPYmplY3QoYy5sb2dFcnJvcikoImVycm9yIHBhcnNpbmcgcmVzcG9uc2U6ICIscC5zdGF0dXMpO2koKSxmdW5jdGlvbihlLHQscil7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1hLmRlZmF1bHQuZ2V0QmlkQWRhcHRlcihlKTtuJiZuLnJlZ2lzdGVyU3luY3MmJmQuYi5ydW5XaXRoQmlkZGVyKGUsYy5iaW5kLmNhbGwobi5yZWdpc3RlclN5bmNzLG4sW10sdCxyKSl9KSl9KHQsdix5KX0oaSx5LHQscixuLGUuczJzQ29uZmlnKX0sZXJyb3I6bn0sTyx7Y29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMH0pOk9iamVjdChjLmxvZ0Vycm9yKSgiUEJTIHJlcXVlc3Qgbm90IG1hZGUuICBDaGVjayBlbmRwb2ludHMuIil9fSxmLmEub24oby5hLkVWRU5UUy5CSURfV09OLEwpLEUodGhpcyx7Y2FsbEJpZHM6ZS5jYWxsQmlkcyxzZXRCaWRkZXJDb2RlOmUuc2V0QmlkZGVyQ29kZSx0eXBlOkl9KX1PYmplY3QoYy5nZXRQcmViaWRJbnRlcm5hbCkoKS5zZXRFaWRQZXJtaXNzaW9ucz1mdW5jdGlvbihlKXtrPWV9LGEuZGVmYXVsdC5yZWdpc3RlckJpZEFkYXB0ZXIobmV3ICQsInByZWJpZFNlcnZlciIpfSw2OTc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSk7dmFyIG49e2FwcG5leHVzOnthZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGVuYWJsZWQ6ITAsZW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQuYWRueHMuY29tL3Bicy92MS9vcGVucnRiMi9hdWN0aW9uIixub1AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQuYWRueHMtc2ltcGxlLmNvbS9wYnMvdjEvb3BlbnJ0YjIvYXVjdGlvbiJ9LHN5bmNFbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL3ByZWJpZC5hZG54cy5jb20vcGJzL3YxL2Nvb2tpZV9zeW5jIixub1AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQuYWRueHMtc2ltcGxlLmNvbS9wYnMvdjEvY29va2llX3N5bmMifSx0aW1lb3V0OjFlM30sYXBwbmV4dXNwc3A6e2FkYXB0ZXI6InByZWJpZFNlcnZlciIsZW5hYmxlZDohMCxlbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL2liLmFkbnhzLmNvbS9vcGVucnRiMi9wcmViaWQiLG5vUDFDb25zZW50OiJodHRwczovL2liLmFkbnhzLXNpbXBsZS5jb20vb3BlbnJ0YjIvcHJlYmlkIn0sdGltZW91dDoxZTN9LHJ1Ymljb246e2FkYXB0ZXI6InByZWJpZFNlcnZlciIsZW5hYmxlZDohMCxlbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL3ByZWJpZC1zZXJ2ZXIucnViaWNvbnByb2plY3QuY29tL29wZW5ydGIyL2F1Y3Rpb24iLG5vUDFDb25zZW50OiJodHRwczovL3ByZWJpZC1zZXJ2ZXIucnViaWNvbnByb2plY3QuY29tL29wZW5ydGIyL2F1Y3Rpb24ifSxzeW5jRW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQtc2VydmVyLnJ1Ymljb25wcm9qZWN0LmNvbS9jb29raWVfc3luYyIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLXNlcnZlci5ydWJpY29ucHJvamVjdC5jb20vY29va2llX3N5bmMifSx0aW1lb3V0OjUwMH0sb3Blbng6e2FkYXB0ZXI6InByZWJpZFNlcnZlciIsZW5hYmxlZDohMCxlbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL3ByZWJpZC5vcGVueC5uZXQvb3BlbnJ0YjIvYXVjdGlvbiIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLm9wZW54Lm5ldC9vcGVucnRiMi9hdWN0aW9uIn0sc3luY0VuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLm9wZW54Lm5ldC9jb29raWVfc3luYyIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLm9wZW54Lm5ldC9jb29raWVfc3luYyJ9LHRpbWVvdXQ6MWUzfSxzbmlnZWw6e2FkYXB0ZXI6InByZWJpZFNlcnZlciIsZW5hYmxlZDohMCxlbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL2Fkc2Vydi5zbmlnZWx3ZWIuY29tL2JwL3YxL29wZW5ydGIyL2F1Y3Rpb24iLG5vUDFDb25zZW50OiJodHRwczovL2Fkc2Vydi5zbmlnZWx3ZWIuY29tL2JwL3YxL29wZW5ydGIyL2F1Y3Rpb24ifSxzeW5jRW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9hZHNlcnYuc25pZ2Vsd2ViLmNvbS9icC92MS9jb29raWVfc3luYyIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vYWRzZXJ2LnNuaWdlbHdlYi5jb20vYnAvdjEvY29va2llX3N5bmMifSx0aW1lb3V0OjQwMH19fX0sWzY5NV0pOwp1cGJqc0NodW5rKFsxNjJdLHs3MDY6ZnVuY3Rpb24oZSxkLG4pe2UuZXhwb3J0cz1uKDcwNyl9LDcwNzpmdW5jdGlvbihlLGQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQoZCwicHViUHJvdmlkZWRJZFN1Ym1vZHVsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIG89big5KSx0PW4oMCksdT17bmFtZToicHViUHJvdmlkZWRJZCIsZGVjb2RlOmZ1bmN0aW9uKGUpe3ZhciBkPWU/e3B1YlByb3ZpZGVkSWQ6ZX06dm9pZCAwO3JldHVybiBPYmplY3QodC5sb2dJbmZvKSgiUHViUHJvdmlkZWRJZDogRGVjb2RlZCB2YWx1ZSAiK0pTT04uc3RyaW5naWZ5KGQpKSxkfSxnZXRJZDpmdW5jdGlvbihlKXt2YXIgZD1lJiZlLnBhcmFtc3x8e30sbj1bXTtyZXR1cm4gT2JqZWN0KHQuaXNBcnJheSkoZC5laWRzKSYmKG49bi5jb25jYXQoZC5laWRzKSksImZ1bmN0aW9uIj09dHlwZW9mIGQuZWlkc0Z1bmN0aW9uJiYobj1uLmNvbmNhdChkLmVpZHNGdW5jdGlvbigpKSkse2lkOm59fX07T2JqZWN0KG8uZSkoInVzZXJJZCIsdSl9fSxbNzA2XSk7CnVwYmpzQ2h1bmsoWzE1OV0sezcxNDpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNzE1KX0sNzE1OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuY2hlY2tWaWRlb1BsYWNlbWVudD1fLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gWH0pKTt2YXIgYT10KDApLGk9dCgxKSxuPXQoMikscz10KDMpLG89dCgxMyk7ZnVuY3Rpb24gZCgpe3JldHVybihkPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIGEgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxhKSYmKGVbYV09dFthXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYyhlLHIpe3ZhciB0PU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7ciYmKGE9YS5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikuZW51bWVyYWJsZX0pKSksdC5wdXNoLmFwcGx5KHQsYSl9cmV0dXJuIHR9ZnVuY3Rpb24gcChlLHIsdCl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT10LGV9ZnVuY3Rpb24gdShlKXtyZXR1cm4odT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBsPSJwdWJtYXRpYyIsbT0iUHViTWF0aWM6ICIsYj0iVVNEIixnPXZvaWQgMCxmPSJodHRwczovL3B1Ym1hdGljLmJidm1zLmNvbS9yLyIuY29uY2F0KCIkUkVOREVSRVIiLCIuanMiKSxoPXtrYWRwYWdldXJsOiIiLGdlbmRlcjoiIix5b2I6IiIsbGF0OiIiLGxvbjoiIix3aWlkOiIiLHByb2ZJZDoiIix2ZXJJZDoiIn0seT0ibnVtYmVyIix2PSJzdHJpbmciLE89ImJvb2xlYW4iLEU9ImFycmF5IixJPXttaW1lczpFLG1pbmR1cmF0aW9uOnksbWF4ZHVyYXRpb246eSxzdGFydGRlbGF5OnkscGxheWJhY2ttZXRob2Q6RSxhcGk6RSxwcm90b2NvbHM6RSx3OnksaDp5LGJhdHRyOkUsbGluZWFyaXR5OnkscGxhY2VtZW50OnksbWluYml0cmF0ZTp5LG1heGJpdHJhdGU6eSxza2lwOnl9LHc9e1RJVExFOntJRDoxLEtFWToidGl0bGUiLFRZUEU6MH0sSU1BR0U6e0lEOjIsS0VZOiJpbWFnZSIsVFlQRTowfSxJQ09OOntJRDozLEtFWToiaWNvbiIsVFlQRTowfSxTUE9OU09SRURCWTp7SUQ6NCxLRVk6InNwb25zb3JlZEJ5IixUWVBFOjF9LEJPRFk6e0lEOjUsS0VZOiJib2R5IixUWVBFOjJ9LENMSUNLVVJMOntJRDo2LEtFWToiY2xpY2tVcmwiLFRZUEU6MH0sVklERU86e0lEOjcsS0VZOiJ2aWRlbyIsVFlQRTowfSxFWFQ6e0lEOjgsS0VZOiJleHQiLFRZUEU6MH0sREFUQTp7SUQ6OSxLRVk6ImRhdGEiLFRZUEU6MH0sTE9HTzp7SUQ6MTAsS0VZOiJsb2dvIixUWVBFOjB9LFNQT05TT1JFRDp7SUQ6MTEsS0VZOiJzcG9uc29yZWQiLFRZUEU6MX0sREVTQzp7SUQ6MTIsS0VZOiJkYXRhIixUWVBFOjJ9LFJBVElORzp7SUQ6MTMsS0VZOiJyYXRpbmciLFRZUEU6M30sTElLRVM6e0lEOjE0LEtFWToibGlrZXMiLFRZUEU6NH0sRE9XTkxPQURTOntJRDoxNSxLRVk6ImRvd25sb2FkcyIsVFlQRTo1fSxQUklDRTp7SUQ6MTYsS0VZOiJwcmljZSIsVFlQRTo2fSxTQUxFUFJJQ0U6e0lEOjE3LEtFWToic2FsZXByaWNlIixUWVBFOjd9LFBIT05FOntJRDoxOCxLRVk6InBob25lIixUWVBFOjh9LEFERFJFU1M6e0lEOjE5LEtFWToiYWRkcmVzcyIsVFlQRTo5fSxERVNDMjp7SUQ6MjAsS0VZOiJkZXNjMiIsVFlQRToxMH0sRElTUExBWVVSTDp7SUQ6MjEsS0VZOiJkaXNwbGF5dXJsIixUWVBFOjExfSxDVEE6e0lEOjIyLEtFWToiY3RhIixUWVBFOjEyfX0saj0xLFA9MixUPTMsUz1be2lkOncuU1BPTlNPUkVEQlkuSUQscmVxdWlyZWQ6ITAsZGF0YTp7dHlwZToxfX0se2lkOncuVElUTEUuSUQscmVxdWlyZWQ6ITB9LHtpZDp3LklNQUdFLklELHJlcXVpcmVkOiEwfV0sRD17MToiUE1QIiw1OiJQUkVGIiw2OiJQTVBHIn0seD0xLFk9MixrPXtib290c3RyYXBQbGF5ZXI6ZnVuY3Rpb24oZSl7dmFyIHI9e2NvZGU6ZS5hZFVuaXRDb2RlfTtpZihlLnZhc3RYbWw/ci52YXN0WG1sPWUudmFzdFhtbDplLnZhc3RVcmwmJihyLnZhc3RVcmw9ZS52YXN0VXJsKSxlLnZhc3RYbWx8fGUudmFzdFVybCl7Zm9yKHZhciB0LGk9ay5nZXRSZW5kZXJlcklkKCJwdWJtYXRpYyIsZS5yZW5kZXJlckNvZGUpLG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS5hZFVuaXRDb2RlKSxzPTA7czx3aW5kb3cuYmx1ZWJpbGx5d2lnLnJlbmRlcmVycy5sZW5ndGg7cysrKWlmKHdpbmRvdy5ibHVlYmlsbHl3aWcucmVuZGVyZXJzW3NdLl9pZD09PWkpe3Q9d2luZG93LmJsdWViaWxseXdpZy5yZW5kZXJlcnNbc107YnJlYWt9dD90LmJvb3RzdHJhcChyLG4pOk9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChtLCI6IENvdWxkbid0IGZpbmQgYSByZW5kZXJlciB3aXRoICIpLmNvbmNhdChpKSl9ZWxzZSBPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQobSwiOiBObyB2YXN0WG1sIG9yIHZhc3RVcmwgb24gYmlkLCBiYWlsaW5nLi4uIikpfSxuZXdSZW5kZXJlcjpmdW5jdGlvbihlLHIpe3ZhciB0PWYucmVwbGFjZSgiJFJFTkRFUkVSIixlKSxpPW8uYS5pbnN0YWxsKHt1cmw6dCxsb2FkZWQ6ITEsYWRVbml0Q29kZTpyfSk7dHJ5e2kuc2V0UmVuZGVyKGsub3V0c3RyZWFtUmVuZGVyKX1jYXRjaChlKXtPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQobSwiOiBFcnJvciB0eWluZyB0byBzZXRSZW5kZXIgb24gcmVuZGVyZXIiKSxlKX1yZXR1cm4gaX0sb3V0c3RyZWFtUmVuZGVyOmZ1bmN0aW9uKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXtrLmJvb3RzdHJhcFBsYXllcihlKX0pKX0sZ2V0UmVuZGVyZXJJZDpmdW5jdGlvbihlLHIpe3JldHVybiIiLmNvbmNhdChlLCItIikuY29uY2F0KHIpfX0sUj1bbi5iLG4uZCxuLmNdLEE9MCxDPSExLHo9e30sSz17fTtmdW5jdGlvbiBOKGUscil7aWYoIU9iamVjdChhLmlzU3RyKShyKSlyZXR1cm4gciYmT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBJZ25vcmluZyBwYXJhbSBrZXk6ICIrZSsiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgIit1KHIpKSxnO3N3aXRjaChlKXtjYXNlInBtem9uZWlkIjpyZXR1cm4gci5zcGxpdCgiLCIpLnNsaWNlKDAsNTApLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkpLmpvaW4oKTtjYXNlImthZGZsb29yIjpjYXNlImxhdCI6Y2FzZSJsb24iOnJldHVybiBwYXJzZUZsb2F0KHIpfHxnO2Nhc2UieW9iIjpyZXR1cm4gcGFyc2VJbnQocil8fGc7ZGVmYXVsdDpyZXR1cm4gcn19ZnVuY3Rpb24gVShlKXt2YXIgcjtlLnBhcmFtcy5hZFVuaXQ9IiIsZS5wYXJhbXMuYWRVbml0SW5kZXg9IjAiLGUucGFyYW1zLndpZHRoPTAsZS5wYXJhbXMuaGVpZ2h0PTAsZS5wYXJhbXMuYWRTbG90PShyPWUucGFyYW1zLmFkU2xvdCxPYmplY3QoYS5pc1N0cikocik/ci5yZXBsYWNlKC9eXHMrL2csIiIpLnJlcGxhY2UoL1xzKyQvZywiIik6KHImJk9iamVjdChhLmxvZ1dhcm4pKCJwdWJtYXRpYzogYWRTbG90IG11c3QgYmUgYSBzdHJpbmcuIElnbm9yaW5nIGFkU2xvdCIpLCIiKSk7dmFyIHQ9ZS5wYXJhbXMuYWRTbG90LGk9dC5zcGxpdCgiOiIpO2lmKHQ9aVswXSwyPT1pLmxlbmd0aCYmKGUucGFyYW1zLmFkVW5pdEluZGV4PWlbMV0pLGk9dC5zcGxpdCgiQCIpLGUucGFyYW1zLmFkVW5pdD1pWzBdLGkubGVuZ3RoPjEpe2lmKDIhPShpPWlbMV0uc3BsaXQoIngiKSkubGVuZ3RoKXJldHVybiB2b2lkIE9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogQWRTbG90IEVycm9yOiBhZFNsb3Qgbm90IGluIHJlcXVpcmVkIGZvcm1hdCIpO2UucGFyYW1zLndpZHRoPXBhcnNlSW50KGlbMF0sMTApLGUucGFyYW1zLmhlaWdodD1wYXJzZUludChpWzFdLDEwKX1lbHNlIGlmKGUuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZXMiKSYmZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uYikmJmUubWVkaWFUeXBlcy5iYW5uZXIuaGFzT3duUHJvcGVydHkoInNpemVzIikpe2Zvcih2YXIgcz0wLG89W107czxlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmxlbmd0aDtzKyspMj09PWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXNbc10ubGVuZ3RoJiZvLnB1c2goZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1tzXSk7ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz1vLGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoPj0xJiYoZS5wYXJhbXMud2lkdGg9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1swXVswXSxlLnBhcmFtcy5oZWlnaHQ9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1swXVsxXSxlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMuc3BsaWNlKDEsZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGgtMSkpfX1mdW5jdGlvbiBNKGUscix0KXt2YXIgaSxuPSJJZ25vcmluZyBwYXJhbSBrZXk6ICIrZSsiLCBleHBlY3RzICIrdCsiLCBmb3VuZCAiK3Uocik7c3dpdGNoKHQpe2Nhc2UgTzppPWEuaXNCb29sZWFuO2JyZWFrO2Nhc2UgeTppPWEuaXNOdW1iZXI7YnJlYWs7Y2FzZSB2Omk9YS5pc1N0cjticmVhaztjYXNlIEU6aT1hLmlzQXJyYXl9cmV0dXJuIGkocik/cjooT2JqZWN0KGEubG9nV2FybikobStuKSxnKX1mdW5jdGlvbiBxKGUscil7dmFyIHQ9ZS5LRVk7cmV0dXJue2lkOmUuSUQscmVxdWlyZWQ6clt0XS5yZXF1aXJlZD8xOjAsZGF0YTp7dHlwZTplLlRZUEUsbGVuOnJbdF0ubGVuLGV4dDpyW3RdLmV4dH19fWZ1bmN0aW9uIEwoZSl7dmFyIHI9e2Fzc2V0czpbXX07Zm9yKHZhciB0IGluIGUpe2lmKGUuaGFzT3duUHJvcGVydHkodCkpe3ZhciBpPXt9O2lmKCEoci5hc3NldHMmJnIuYXNzZXRzLmxlbmd0aD4wJiZyLmFzc2V0cy5oYXNPd25Qcm9wZXJ0eSh0KSkpc3dpdGNoKHQpe2Nhc2Ugdy5USVRMRS5LRVk6ZVt0XS5sZW58fGVbdF0ubGVuZ3RoP2k9e2lkOncuVElUTEUuSUQscmVxdWlyZWQ6ZVt0XS5yZXF1aXJlZD8xOjAsdGl0bGU6e2xlbjplW3RdLmxlbnx8ZVt0XS5sZW5ndGgsZXh0OmVbdF0uZXh0fX06T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogVGl0bGUgTGVuZ3RoIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2Ugdy5JTUFHRS5LRVk6ZVt0XS5zaXplcyYmZVt0XS5zaXplcy5sZW5ndGg+MD9pPXtpZDp3LklNQUdFLklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpULHc6ZVt0XS53fHxlW3RdLndpZHRofHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzBdOmcpLGg6ZVt0XS5ofHxlW3RdLmhlaWdodHx8KGVbdF0uc2l6ZXM/ZVt0XS5zaXplc1sxXTpnKSx3bWluOmVbdF0ud21pbnx8ZVt0XS5taW5pbXVtV2lkdGh8fChlW3RdLm1pbnNpemVzP2VbdF0ubWluc2l6ZXNbMF06ZyksaG1pbjplW3RdLmhtaW58fGVbdF0ubWluaW11bUhlaWdodHx8KGVbdF0ubWluc2l6ZXM/ZVt0XS5taW5zaXplc1sxXTpnKSxtaW1lczplW3RdLm1pbWVzLGV4dDplW3RdLmV4dH19Ok9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogRXJyb3I6IEltYWdlIHNpemVzIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2Ugdy5JQ09OLktFWTplW3RdLnNpemVzJiZlW3RdLnNpemVzLmxlbmd0aD4wP2k9e2lkOncuSUNPTi5JRCxyZXF1aXJlZDplW3RdLnJlcXVpcmVkPzE6MCxpbWc6e3R5cGU6aix3OmVbdF0ud3x8ZVt0XS53aWR0aHx8KGVbdF0uc2l6ZXM/ZVt0XS5zaXplc1swXTpnKSxoOmVbdF0uaHx8ZVt0XS5oZWlnaHR8fChlW3RdLnNpemVzP2VbdF0uc2l6ZXNbMV06Zyl9fTpPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBJY29uIHNpemVzIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2Ugdy5WSURFTy5LRVk6aT17aWQ6dy5WSURFTy5JRCxyZXF1aXJlZDplW3RdLnJlcXVpcmVkPzE6MCx2aWRlbzp7bWluZHVyYXRpb246ZVt0XS5taW5kdXJhdGlvbixtYXhkdXJhdGlvbjplW3RdLm1heGR1cmF0aW9uLHByb3RvY29sczplW3RdLnByb3RvY29scyxtaW1lczplW3RdLm1pbWVzLGV4dDplW3RdLmV4dH19O2JyZWFrO2Nhc2Ugdy5FWFQuS0VZOmk9e2lkOncuRVhULklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowfTticmVhaztjYXNlIHcuTE9HTy5LRVk6aT17aWQ6dy5MT0dPLklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpQLHc6ZVt0XS53fHxlW3RdLndpZHRofHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzBdOmcpLGg6ZVt0XS5ofHxlW3RdLmhlaWdodHx8KGVbdF0uc2l6ZXM/ZVt0XS5zaXplc1sxXTpnKX19O2JyZWFrO2Nhc2Ugdy5TUE9OU09SRURCWS5LRVk6Y2FzZSB3LkJPRFkuS0VZOmNhc2Ugdy5SQVRJTkcuS0VZOmNhc2Ugdy5MSUtFUy5LRVk6Y2FzZSB3LkRPV05MT0FEUy5LRVk6Y2FzZSB3LlBSSUNFLktFWTpjYXNlIHcuU0FMRVBSSUNFLktFWTpjYXNlIHcuUEhPTkUuS0VZOmNhc2Ugdy5BRERSRVNTLktFWTpjYXNlIHcuREVTQzIuS0VZOmNhc2Ugdy5ESVNQTEFZVVJMLktFWTpjYXNlIHcuQ1RBLktFWTppPXEoS1t0XSxlKX19aSYmaS5pZCYmKHIuYXNzZXRzW3IuYXNzZXRzLmxlbmd0aF09aSl9dmFyIG49Uy5sZW5ndGgscz0wO3JldHVybiBTLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1yLmFzc2V0cy5sZW5ndGgsYT0wO2E8dDthKyspaWYoZS5pZD09ci5hc3NldHNbYV0uaWQpe3MrKzticmVha319KSksQz1uIT1zLHJ9ZnVuY3Rpb24gVyhlKXt2YXIgcix0PWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMsaT1bXTtpZih0IT09ZyYmT2JqZWN0KGEuaXNBcnJheSkodCkpe2lmKHI9e30sZS5wYXJhbXMud2lkdGh8fGUucGFyYW1zLmhlaWdodClyLnc9ZS5wYXJhbXMud2lkdGgsci5oPWUucGFyYW1zLmhlaWdodDtlbHNle2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gcj1nLE9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogRXJyb3I6IG1lZGlhVHlwZXMuYmFubmVyLnNpemUgbWlzc2luZyBmb3IgYWR1bml0OiAiK2UucGFyYW1zLmFkVW5pdCsiLiBJZ25vcmluZyB0aGUgYmFubmVyIGltcHJlc3Npb24gaW4gdGhlIGFkdW5pdC4iKSxyO3Iudz1wYXJzZUludCh0WzBdWzBdLDEwKSxyLmg9cGFyc2VJbnQodFswXVsxXSwxMCksdD10LnNwbGljZSgxLHQubGVuZ3RoLTEpfXQubGVuZ3RoPjAmJihpPVtdLHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5sZW5ndGg+MSYmaS5wdXNoKHt3OmVbMF0saDplWzFdfSl9KSksaS5sZW5ndGg+MCYmKHIuZm9ybWF0PWkpKSxyLnBvcz0wLHIudG9wZnJhbWU9T2JqZWN0KGEuaW5JZnJhbWUpKCk/MDoxfWVsc2UgT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogbWVkaWFUeXBlcy5iYW5uZXIuc2l6ZSBtaXNzaW5nIGZvciBhZHVuaXQ6ICIrZS5wYXJhbXMuYWRVbml0KyIuIElnbm9yaW5nIHRoZSBiYW5uZXIgaW1wcmVzc2lvbiBpbiB0aGUgYWR1bml0LiIpLHI9ZztyZXR1cm4gcn1mdW5jdGlvbiBfKGUscil7T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwicGxhY2VtZW50Iil8fE9iamVjdChhLmxvZ1dhcm4pKCJWaWRlby5QbGFjZW1lbnQgcGFyYW0gbWlzc2luZyBmb3IgIityKX1mdW5jdGlvbiBWKGUpe3ZhciByLHQ9T2JqZWN0KGEubWVyZ2VEZWVwKShPYmplY3QoYS5kZWVwQWNjZXNzKShlLm1lZGlhVHlwZXMsInZpZGVvIiksZS5wYXJhbXMudmlkZW8pO2lmKHQhPT1nKXtmb3IodmFyIGkgaW4gcj17fSxfKHQsZS5hZFVuaXRDb2RlKSxJKXQuaGFzT3duUHJvcGVydHkoaSkmJihyW2ldPU0oaSx0W2ldLElbaV0pKTtPYmplY3QoYS5pc0FycmF5KShlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSk/KHIudz1wYXJzZUludChlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVswXSwxMCksci5oPXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzFdLDEwKSk6T2JqZWN0KGEuaXNOdW1iZXIpKGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKSYmKHIudz1wYXJzZUludChlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSwxMCksci5oPXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzFdLDEwKSl9ZWxzZSByPWcsT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogVmlkZW8gY29uZmlnIHBhcmFtcyBtaXNzaW5nIGZvciBhZHVuaXQ6ICIrZS5wYXJhbXMuYWRVbml0KyIgd2l0aCBtZWRpYVR5cGUgc2V0IGFzIHZpZGVvLiBJZ25vcmluZyB2aWRlbyBpbXByZXNzaW9uIGluIHRoZSBhZHVuaXQuIik7cmV0dXJuIHJ9ZnVuY3Rpb24gQihlLHIsdCl7dmFyIGE9ci5ydGQmJnIucnRkLmp3cGxheWVyJiZyLnJ0ZC5qd3BsYXllci50YXJnZXRpbmd8fHZvaWQgMCxpPSIiO2lmKHZvaWQgMCE9PWEmJiIiIT09YSYmYS5oYXNPd25Qcm9wZXJ0eSgic2VnbWVudHMiKSl7dmFyIG4scz1hLnNlZ21lbnRzLmxlbmd0aDtpKz0ianctaWQ9IithLmNvbnRlbnQuaWQ7Zm9yKHZhciBvPTA7bzxzO28rKylpKz0ifGp3LSIrYS5zZWdtZW50c1tvXSsiPTEiO3Q/dm9pZCAwPT09ZS5kY3RyfHwwPT1lLmRjdHIubGVuZ3RoP2UuZGN0cj1pOmUuZGN0cis9InwiK2k6KG49ZS5leHQpJiZ2b2lkIDA9PT1uLmtleV92YWw/bi5rZXlfdmFsPWk6bi5rZXlfdmFsKz0ifCIraX19ZnVuY3Rpb24gRyhlLHIpe3ZhciB0LGksbz17fSxkPXt9LGw9ZS5oYXNPd25Qcm9wZXJ0eSgic2l6ZXMiKT9lLnNpemVzOltdLGY9IiIsaD1bXTtpZihmdW5jdGlvbihlLHIpe3IucGFyYW1zLmRlYWxzJiYoT2JqZWN0KGEuaXNBcnJheSkoci5wYXJhbXMuZGVhbHMpP3IucGFyYW1zLmRlYWxzLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdChhLmlzU3RyKShyKSYmci5sZW5ndGg+Mz8oZS5wbXB8fChlLnBtcD17cHJpdmF0ZV9hdWN0aW9uOjAsZGVhbHM6W119KSxlLnBtcC5kZWFscy5wdXNoKHtpZDpyfSkpOk9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogRXJyb3I6IGRlYWwtaWQgcHJlc2VudCBpbiBhcnJheSBiaWQucGFyYW1zLmRlYWxzIHNob3VsZCBiZSBhIHN0cmluZ3Mgd2l0aCBtb3JlIHRoYW4gMyBjaGFyYXRlcnMgbGVuZ3RoLCBkZWFsLWlkIGlnbm9yZWQ6ICIrcil9KSk6T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogYmlkLnBhcmFtcy5kZWFscyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4iKSl9KG89e2lkOmUuYmlkSWQsdGFnaWQ6ZS5wYXJhbXMuYWRVbml0fHx2b2lkIDAsYmlkZmxvb3I6Tigia2FkZmxvb3IiLGUucGFyYW1zLmthZGZsb29yKSxzZWN1cmU6MSxleHQ6e3BtWm9uZUlkOk4oInBtem9uZWlkIixlLnBhcmFtcy5wbXpvbmVpZCl9LGJpZGZsb29yY3VyOmUucGFyYW1zLmN1cnJlbmN5P04oImN1cnJlbmN5IixlLnBhcmFtcy5jdXJyZW5jeSk6Yn0sZSksZnVuY3Rpb24oZSxyKXt2YXIgdCxpPSIiO2lmKHIucGFyYW1zLmRjdHIpaWYoaT1yLnBhcmFtcy5kY3RyLE9iamVjdChhLmlzU3RyKShpKSYmaS5sZW5ndGg+MCl7dmFyIG49aS5zcGxpdCgifCIpO2k9IiIsbi5mb3JFYWNoKChmdW5jdGlvbihlKXtpKz1lLmxlbmd0aD4wP2UudHJpbSgpKyJ8IjoiIn0pKSx0PWkubGVuZ3RoLCJ8Ij09PWkuc3Vic3RyaW5nKHQsdC0xKSYmKGk9aS5zdWJzdHJpbmcoMCx0LTEpKSxlLmV4dC5rZXlfdmFsPWkudHJpbSgpfWVsc2UgT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBJZ25vcmluZyBwYXJhbSA6IGRjdHIgd2l0aCB2YWx1ZSA6ICIraSsiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgZW1wdHkgb3Igbm9uLXN0cmluZyB2YWx1ZSIpfShvLGUpLEIobyxlKSxlLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGVzIikpZm9yKGYgaW4gZS5tZWRpYVR5cGVzKXN3aXRjaChmKXtjYXNlIG4uYjoodD1XKGUpKSE9PWcmJihvLmJhbm5lcj10KTticmVhaztjYXNlIG4uYzpkLnJlcXVlc3Q9SlNPTi5zdHJpbmdpZnkoTChlLm5hdGl2ZVBhcmFtcykpLEM/T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogRXJyb3IgaW4gTmF0aXZlIGFkdW5pdCAiK2UucGFyYW1zLmFkVW5pdCsiLiBJZ25vcmluZyB0aGUgYWR1bml0LiBSZWZlciB0byBodHRwOi8vcHJlYmlkLm9yZy9kZXYtZG9jcy9zaG93LW5hdGl2ZS1hZHMuaHRtbCBmb3IgbW9yZSBkZXRhaWxzLiIpOm8ubmF0aXZlPWQ7YnJlYWs7Y2FzZSBuLmQ6KGk9VihlKSkhPT1nJiYoby52aWRlbz1pKX1lbHNlIHQ9e3BvczowLHc6ZS5wYXJhbXMud2lkdGgsaDplLnBhcmFtcy5oZWlnaHQsdG9wZnJhbWU6T2JqZWN0KGEuaW5JZnJhbWUpKCk/MDoxfSxPYmplY3QoYS5pc0FycmF5KShsKSYmbC5sZW5ndGg+MSYmKChsPWwuc3BsaWNlKDEsbC5sZW5ndGgtMSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2gucHVzaCh7dzplWzBdLGg6ZVsxXX0pfSkpLHQuZm9ybWF0PWgpLG8uYmFubmVyPXQ7cmV0dXJuIGZ1bmN0aW9uKGUscil7dmFyIHQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/YyhPYmplY3QodCksITApLmZvckVhY2goKGZ1bmN0aW9uKHIpe3AoZSxyLHRbcl0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpOmMoT2JqZWN0KHQpKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKSl9KSl9cmV0dXJuIGV9KHt9LE9iamVjdChhLmRlZXBBY2Nlc3MpKHIsIm9ydGIySW1wLmV4dC5kYXRhIikpO09iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKHIpeyJwYmFkc2xvdCI9PT1yPyJzdHJpbmciPT10eXBlb2YgdFtyXSYmdFtyXSYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShlLCJleHQuZGF0YS5wYmFkc2xvdCIsdFtyXSk6ImFkc2VydmVyIj09PXI/WyJuYW1lIiwiYWRzbG90Il0uZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGk9T2JqZWN0KGEuZGVlcEFjY2VzcykodCwiYWRzZXJ2ZXIuIi5jb25jYXQocikpOyJzdHJpbmciPT10eXBlb2YgaSYmaSYmKE9iamVjdChhLmRlZXBTZXRWYWx1ZSkoZSwiZXh0LmRhdGEuYWRzZXJ2ZXIuIi5jb25jYXQoci50b0xvd2VyQ2FzZSgpKSxpKSwiYWRzbG90Ij09PXImJk9iamVjdChhLmRlZXBTZXRWYWx1ZSkoZSwiZXh0LmRmcF9hZF91bml0X2NvZGUiLGkpKX0pKTpPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGUsImV4dC5kYXRhLiIuY29uY2F0KHIpLHRbcl0pfSkpfShvLGUpLGZ1bmN0aW9uKGUscil7dmFyIHQ9LTE7ImZ1bmN0aW9uIiE9dHlwZW9mIHIuZ2V0Rmxvb3J8fHMuYi5nZXRDb25maWcoInB1Ym1hdGljLmRpc2FibGVGbG9vcnMiKXx8W24uYixuLmQsbi5jXS5mb3JFYWNoKChmdW5jdGlvbihpKXtpZihlLmhhc093blByb3BlcnR5KGkpKXt2YXIgbj1bXTsiYmFubmVyIj09PWkmJihlW2ldLncmJmVbaV0uaCYmbi5wdXNoKFtlW2ldLncsZVtpXS5oXSksT2JqZWN0KGEuaXNBcnJheSkoZVtpXS5mb3JtYXQpJiZlW2ldLmZvcm1hdC5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gbi5wdXNoKFtlLncsZS5oXSl9KSkpLDA9PT1uLmxlbmd0aCYmbi5wdXNoKCIqIiksbi5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcz1yLmdldEZsb29yKHtjdXJyZW5jeTplLmJpZGZsb29yY3VyLG1lZGlhVHlwZTppLHNpemU6bn0pO2lmKE9iamVjdChhLmxvZ0luZm8pKG0sImZsb29yIGZyb20gZmxvb3IgbW9kdWxlIHJldHVybmVkIGZvciBtZWRpYXR5cGU6IixpLCIgYW5kIHNpemU6IixuLCIgaXM6IGN1cnJlbmN5IixzLmN1cnJlbmN5LCJmbG9vciIscy5mbG9vciksIm9iamVjdCI9PT11KHMpJiZzLmN1cnJlbmN5PT09ZS5iaWRmbG9vcmN1ciYmIWlzTmFOKHBhcnNlSW50KHMuZmxvb3IpKSl7dmFyIG89cGFyc2VGbG9hdChzLmZsb29yKTtPYmplY3QoYS5sb2dJbmZvKShtLCJmbG9vciBmcm9tIGZsb29yIG1vZHVsZToiLG8sInByZXZpb3VzIGZsb29yIHZhbHVlIix0LCJNaW46IixNYXRoLm1pbihvLHQpKSx0PS0xPT09dD9vOk1hdGgubWluKG8sdCksT2JqZWN0KGEubG9nSW5mbykobSwibmV3IGZsb29yIHZhbHVlOiIsdCl9fSkpfX0pKTtlLmJpZGZsb29yJiYoT2JqZWN0KGEubG9nSW5mbykobSwiZmxvb3IgZnJvbSBmbG9vciBtb2R1bGU6Iix0LCJpbXBPYmouYmlkZmxvb3IiLGUuYmlkZmxvb3IsIk1heDoiLE1hdGgubWF4KHQsZS5iaWRmbG9vcikpLHQ9TWF0aC5tYXgodCxlLmJpZGZsb29yKSk7ZS5iaWRmbG9vcj0haXNOYU4odCkmJnQ+MD90OmcsT2JqZWN0KGEubG9nSW5mbykobSwibmV3IGltcE9iai5iaWRmbG9vciB2YWx1ZToiLGUuYmlkZmxvb3IpfShvLGUpLG8uaGFzT3duUHJvcGVydHkobi5iKXx8by5oYXNPd25Qcm9wZXJ0eShuLmMpfHxvLmhhc093blByb3BlcnR5KG4uZCk/bzpnfWZ1bmN0aW9uIEYoZSxyKXt2YXIgdD1udWxsLGk9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwiMC51c2VySWQuZmxvY0lkIik7aWYoaSYmaS5pZClzd2l0Y2gocil7Y2FzZSBZOnQ9e2lkOiJGTE9DIixuYW1lOiJGTE9DIixleHQ6e3ZlcjppLnZlcnNpb259LHNlZ21lbnQ6W3tpZDppLmlkLG5hbWU6ImNocm9tZS5jb20iLHZhbHVlOmkuaWQudG9TdHJpbmcoKX1dfTticmVhaztjYXNlIHg6ZGVmYXVsdDp0PXtzb3VyY2U6ImNocm9tZS5jb20iLHVpZHM6W3thdHlwZToxLGlkOmkuaWQsZXh0Ont2ZXI6aS52ZXJzaW9ufX1dfX1yZXR1cm4gdH1mdW5jdGlvbiBKKGUpe3JldHVybiEwPT09T2JqZWN0KGEuaXNBcnJheSkoZSkmJmUubGVuZ3RoPjB9T2JqZWN0KGEuX2VhY2gpKHcsKGZ1bmN0aW9uKGUpe3pbZS5JRF09ZS5LRVl9KSksT2JqZWN0KGEuX2VhY2gpKHcsKGZ1bmN0aW9uKGUpe0tbZS5LRVldPWV9KSk7dmFyIFg9e2NvZGU6bCxndmxpZDo3NixzdXBwb3J0ZWRNZWRpYVR5cGVzOltuLmIsbi5kLG4uY10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoZSYmZS5wYXJhbXMpe2lmKCFPYmplY3QoYS5pc1N0cikoZS5wYXJhbXMucHVibGlzaGVySWQpKXJldHVybiBPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBwdWJsaXNoZXJJZCBpcyBtYW5kYXRvcnkgYW5kIGNhbm5vdCBiZSBudW1lcmljICh3cmFwIGl0IGluIHF1b3RlcyBpbiB5b3VyIGNvbmZpZykuIENhbGwgdG8gT3BlbkJpZCB3aWxsIG5vdCBiZSBzZW50IGZvciBhZCB1bml0OiAiK0pTT04uc3RyaW5naWZ5KGUpKSwhMTtpZihlLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGVzIikmJmUubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShuLmQpKXt2YXIgcj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLm1lZGlhVHlwZXMsInZpZGVvLm1pbWVzIiksdD1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8ubWltZXMiKTtpZighMT09PUoocikmJiExPT09Sih0KSlyZXR1cm4gT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogRm9yIHZpZGVvIGFkcywgYmlkLm1lZGlhVHlwZXMudmlkZW8ubWltZXMgT1IgYmlkLnBhcmFtcy52aWRlby5taW1lcyBzaG91bGQgYmUgcHJlc2VudCBhbmQgbXVzdCBiZSBhIG5vbi1lbXB0eSBhcnJheS4gQ2FsbCB0byBPcGVuQmlkIHdpbGwgbm90IGJlIHNlbnQgZm9yIGFkIHVuaXQ6IitKU09OLnN0cmluZ2lmeShlKSksITE7aWYoIWUubWVkaWFUeXBlc1tuLmRdLmhhc093blByb3BlcnR5KCJjb250ZXh0IikpcmV0dXJuIE9iamVjdChhLmxvZ0Vycm9yKSgiIi5jb25jYXQobSwiOiBubyBjb250ZXh0IHNwZWNpZmllZCBpbiBiaWQuIFJlamVjdGluZyBiaWQ6ICIpLGUpLCExO2lmKCJvdXRzdHJlYW0iPT09ZS5tZWRpYVR5cGVzW24uZF0uY29udGV4dCYmIU9iamVjdChhLmlzU3RyKShlLnBhcmFtcy5vdXRzdHJlYW1BVSkmJiFlLmhhc093blByb3BlcnR5KCJyZW5kZXJlciIpJiYhZS5tZWRpYVR5cGVzW24uZF0uaGFzT3duUHJvcGVydHkoInJlbmRlcmVyIikpcmV0dXJuIGUubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShuLmIpfHxlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobi5jKT8oZGVsZXRlIGUubWVkaWFUeXBlc1tuLmRdLE9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChtLCc6IGZvciAib3V0c3RyZWFtIiBiaWRzIGVpdGhlciBvdXRzdHJlYW1BVSBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBvciBhZCB1bml0IHN1cHBsaWVkIHJlbmRlcmVyIGlzIHJlcXVpcmVkLiBSZWplY3RpbmcgbWVkaWF0eXBlIFZpZGVvIG9mIGJpZDogJyksZSksITApOihPYmplY3QoYS5sb2dFcnJvcikoIiIuY29uY2F0KG0sJzogZm9yICJvdXRzdHJlYW0iIGJpZHMgZWl0aGVyIG91dHN0cmVhbUFVIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIG9yIGFkIHVuaXQgc3VwcGxpZWQgcmVuZGVyZXIgaXMgcmVxdWlyZWQuIFJlamVjdGluZyBiaWQ6ICcpLGUpLCExKX1yZXR1cm4hMH1yZXR1cm4hMX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0O3ImJnIucmVmZXJlckluZm8mJih0PXIucmVmZXJlckluZm8pO3ZhciBpLG89ZnVuY3Rpb24oZSl7cmV0dXJue3BhZ2VVUkw6ZSYmZS5yZWZlcmVyP2UucmVmZXJlcjp3aW5kb3cubG9jYXRpb24uaHJlZixyZWZVUkw6d2luZG93LmRvY3VtZW50LnJlZmVycmVyfX0odCksYz1mdW5jdGlvbihlKXtyZXR1cm57aWQ6IiIrKG5ldyBEYXRlKS5nZXRUaW1lKCksYXQ6MSxjdXI6W2JdLGltcDpbXSxzaXRlOntwYWdlOmUucGFnZVVSTCxyZWY6ZS5yZWZVUkwscHVibGlzaGVyOnt9fSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsanM6MSxkbnQ6InllcyI9PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PW5hdmlnYXRvci5tc0RvTm90VHJhY2s/MTowLGg6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2V9LHVzZXI6e30sZXh0Ont9fX0obykscD0iIixsPVtdLG09W107aWYoZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZigoaT1PYmplY3QoYS5kZWVwQ2xvbmUpKGUpKS5wYXJhbXMuYWRTbG90PWkucGFyYW1zLmFkU2xvdHx8IiIsVShpKSxpLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSk7ZWxzZSBpZighKGkuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZXMiKSYmaS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uYyl8fDAhPT1pLnBhcmFtcy53aWR0aHx8MCE9PWkucGFyYW1zLmhlaWdodCkpcmV0dXJuIHZvaWQgT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBTa2lwcGluZyB0aGUgbm9uLXN0YW5kYXJkIGFkc2xvdDogIixpLnBhcmFtcy5hZFNsb3QsSlNPTi5zdHJpbmdpZnkoaSkpO28ucHViSWQ9by5wdWJJZHx8aS5wYXJhbXMucHVibGlzaGVySWQsKG89ZnVuY3Rpb24oZSxyKXt2YXIgdCxpLG47Zm9yKHQgaW4gci5rYWRwYWdldXJsfHwoci5rYWRwYWdldXJsPXIucGFnZVVSTCksaCloLmhhc093blByb3BlcnR5KHQpJiYoaT1lW3RdKSYmKCJvYmplY3QiPT09dShuPWhbdF0pJiYoaT1uLmYoaSxyKSksT2JqZWN0KGEuaXNTdHIpKGkpP3JbdF09aTpPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IElnbm9yaW5nIHBhcmFtIDogIit0KyIgd2l0aCB2YWx1ZSA6ICIraFt0XSsiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgIit1KGkpKSk7cmV0dXJuIHJ9KGkucGFyYW1zLG8pKS50cmFuc2FjdGlvbklkPWkudHJhbnNhY3Rpb25JZCwiIj09PXA/cD1pLnBhcmFtcy5jdXJyZW5jeXx8ZzppLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiY3VycmVuY3kiKSYmcCE9PWkucGFyYW1zLmN1cnJlbmN5JiZPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEN1cnJlbmN5IHNwZWNpZmllciBpZ25vcmVkLiBPbmx5IG9uZSBjdXJyZW5jeSBwZXJtaXR0ZWQuIiksaS5wYXJhbXMuY3VycmVuY3k9cCxpLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiZGN0ciIpJiZPYmplY3QoYS5pc1N0cikoaS5wYXJhbXMuZGN0cikmJmwucHVzaChpLnBhcmFtcy5kY3RyKSxpLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmNhdCIpJiZPYmplY3QoYS5pc0FycmF5KShpLnBhcmFtcy5iY2F0KSYmKG09bS5jb25jYXQoaS5wYXJhbXMuYmNhdCkpO3ZhciByPUcoaSk7ciYmYy5pbXAucHVzaChyKX0pKSwwIT1jLmltcC5sZW5ndGgpe3ZhciBmLHk7Yy5zaXRlLnB1Ymxpc2hlci5pZD1vLnB1YklkLnRyaW0oKSxBPW8ucHViSWQudHJpbSgpLGMuZXh0LndyYXBwZXI9e30sYy5leHQud3JhcHBlci5wcm9maWxlPXBhcnNlSW50KG8ucHJvZklkKXx8ZyxjLmV4dC53cmFwcGVyLnZlcnNpb249cGFyc2VJbnQoby52ZXJJZCl8fGcsYy5leHQud3JhcHBlci53aWlkPW8ud2lpZHx8ci5hdWN0aW9uSWQsYy5leHQud3JhcHBlci53dj0icHJlYmlkX3ByZWJpZF81LjIwLjIiLGMuZXh0LndyYXBwZXIudHJhbnNhY3Rpb25JZD1vLnRyYW5zYWN0aW9uSWQsYy5leHQud3JhcHBlci53cD0icGJqcyIsYy51c2VyLmdlbmRlcj1vLmdlbmRlcj9vLmdlbmRlci50cmltKCk6ZyxjLnVzZXIuZ2VvPXt9LGMudXNlci5nZW8ubGF0PU4oImxhdCIsby5sYXQpLGMudXNlci5nZW8ubG9uPU4oImxvbiIsby5sb24pLGMudXNlci55b2I9TigieW9iIixvLnlvYiksYy5kZXZpY2UuZ2VvPWMudXNlci5nZW8sYy5zaXRlLnBhZ2U9by5rYWRwYWdldXJsLnRyaW0oKXx8Yy5zaXRlLnBhZ2UudHJpbSgpLGMuc2l0ZS5kb21haW49KGY9Yy5zaXRlLnBhZ2UsKHk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKS5ocmVmPWYseS5ob3N0bmFtZSksIm9iamVjdCI9PT11KHMuYi5nZXRDb25maWcoImNvbnRlbnQiKSkmJihjLnNpdGUuY29udGVudD1zLmIuZ2V0Q29uZmlnKCJjb250ZW50IikpLCJvYmplY3QiPT09dShzLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSkmJihjLmRldmljZT1kKGMuZGV2aWNlLHMuYi5nZXRDb25maWcoImRldmljZSIpKSksT2JqZWN0KGEuZGVlcFNldFZhbHVlKShjLCJzb3VyY2UudGlkIixvLnRyYW5zYWN0aW9uSWQpLC0xIT09d2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigicHVibWF0aWNUZXN0PXRydWUiKSYmKGMudGVzdD0xKSxlWzBdLnNjaGFpbiYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShjLCJzb3VyY2UuZXh0LnNjaGFpbiIsZVswXS5zY2hhaW4pLHImJnIuZ2RwckNvbnNlbnQmJihPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGMsInVzZXIuZXh0LmNvbnNlbnQiLHIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksT2JqZWN0KGEuZGVlcFNldFZhbHVlKShjLCJyZWdzLmV4dC5nZHByIixyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCkpLHImJnIudXNwQ29uc2VudCYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShjLCJyZWdzLmV4dC51c19wcml2YWN5IixyLnVzcENvbnNlbnQpLCEwPT09cy5iLmdldENvbmZpZygiY29wcGEiKSYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShjLCJyZWdzLmNvcHBhIiwxKSxmdW5jdGlvbihlLHIpe3ZhciB0PU9iamVjdChhLmRlZXBBY2Nlc3MpKHIsIjAudXNlcklkQXNFaWRzIiksaT1GKHIseCk7aSYmKHR8fCh0PVtdKSx0LnB1c2goaSkpLE9iamVjdChhLmlzQXJyYXkpKHQpJiZ0Lmxlbmd0aD4wJiZPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGUsInVzZXIuZWlkcyIsdCl9KGMsZSksZnVuY3Rpb24oZSxyKXsocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfHwoT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBiY2F0OiBFYWNoIGNhdGVnb3J5IHNob3VsZCBiZSBhIHN0cmluZywgaWdub3JpbmcgY2F0ZWdvcnk6ICIrZSksITEpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSxyLHQpe2lmKGUubGVuZ3RoPjMpcmV0dXJuIHQuaW5kZXhPZihlKT09PXI7T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBiY2F0OiBFYWNoIGNhdGVnb3J5IHNob3VsZCBoYXZlIGEgdmFsdWUgb2YgYSBsZW5ndGggb2YgbW9yZSB0aGFuIDMgY2hhcmFjdGVycywgaWdub3JpbmcgY2F0ZWdvcnk6ICIrZSl9KSkpLmxlbmd0aD4wJiYoT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBiY2F0OiBTZWxlY3RlZDogIixyKSxlLmJjYXQ9cil9KGMsbSksZnVuY3Rpb24oZSxyKXt2YXIgdD1GKHIsWSk7dCYmKGUudXNlcnx8KGUudXNlcj17fSksZS51c2VyLmRhdGF8fChlLnVzZXIuZGF0YT1bXSksZS51c2VyLmRhdGEucHVzaCh0KSl9KGMsZSk7dmFyIHY9cy5iLmdldENvbmZpZygib3J0YjIiKXx8e307cmV0dXJuIHYuc2l0ZSYmT2JqZWN0KGEubWVyZ2VEZWVwKShjLHtzaXRlOnYuc2l0ZX0pLHYudXNlciYmT2JqZWN0KGEubWVyZ2VEZWVwKShjLHt1c2VyOnYudXNlcn0pLCJvYmplY3QiPT09dShzLmIuZ2V0Q29uZmlnKCJhcHAiKSkmJihjLmFwcD1zLmIuZ2V0Q29uZmlnKCJhcHAiKSxjLmFwcC5wdWJsaXNoZXI9Yy5zaXRlLnB1Ymxpc2hlcixjLmFwcC5leHQ9Yy5zaXRlLmV4dHx8Zywib2JqZWN0IiE9PXUoYy5hcHAuY29udGVudCkmJihjLmFwcC5jb250ZW50PWMuc2l0ZS5jb250ZW50fHxnKSxkZWxldGUgYy5zaXRlKSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vaGJvcGVuYmlkLnB1Ym1hdGljLmNvbS90cmFuc2xhdG9yP3NvdXJjZT1wcmViaWQtY2xpZW50IixkYXRhOkpTT04uc3RyaW5naWZ5KGMpLGJpZGRlclJlcXVlc3Q6cn19fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGk9YixzPUpTT04ucGFyc2Uoci5kYXRhKSxvPXMuc2l0ZSYmcy5zaXRlLnJlZj9zLnNpdGUucmVmOiIiO3RyeXtlLmJvZHkmJmUuYm9keS5zZWF0YmlkJiZPYmplY3QoYS5pc0FycmF5KShlLmJvZHkuc2VhdGJpZCkmJihpPWUuYm9keS5jdXJ8fGksZS5ib2R5LnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5iaWQmJk9iamVjdChhLmlzQXJyYXkpKGUuYmlkKSYmZS5iaWQuZm9yRWFjaCgoZnVuY3Rpb24oZCl7dmFyIGM9e3JlcXVlc3RJZDpkLmltcGlkLGNwbToocGFyc2VGbG9hdChkLnByaWNlKXx8MCkudG9GaXhlZCgyKSx3aWR0aDpkLncsaGVpZ2h0OmQuaCxjcmVhdGl2ZUlkOmQuY3JpZHx8ZC5pZCxkZWFsSWQ6ZC5kZWFsaWQsY3VycmVuY3k6aSxuZXRSZXZlbnVlOnRydWUsdHRsOjMwMCxyZWZlcnJlcjpvLGFkOmQuYWRtLHBtX3NlYXQ6ZS5zZWF0fHxudWxsLHBtX2RzcGlkOmQuZXh0JiZkLmV4dC5kc3BpZD9kLmV4dC5kc3BpZDpudWxsLHBhcnRuZXJJbXBJZDpkLmlkfHwiIn07cy5pbXAmJnMuaW1wLmxlbmd0aD4wJiZzLmltcC5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihkLmltcGlkPT09ZS5pZClzd2l0Y2goZnVuY3Rpb24oZSxyKXtpZihlLmV4dCYmbnVsbCE9ZS5leHQuQmlkVHlwZSlyLm1lZGlhVHlwZT1SW2UuZXh0LkJpZFR5cGVdO2Vsc2V7T2JqZWN0KGEubG9nSW5mbykoIlB1Yk1hdGljOiBiaWQuZXh0LkJpZFR5cGUgZG9lcyBub3QgZXhpc3QsIGNoZWNraW5nIGFsdGVybmF0aXZlbHkgZm9yIG1lZGlhVHlwZSIpO3ZhciB0PWUuYWRtLGk9IiIscz1uZXcgUmVnRXhwKC9WQVNUXHMrdmVyc2lvbi8pO2lmKHQuaW5kZXhPZignc3BhbiBjbGFzcz0iUHViQVBJQWQiJyk+PTApci5tZWRpYVR5cGU9bi5iO2Vsc2UgaWYocy50ZXN0KHQpKXIubWVkaWFUeXBlPW4uZDtlbHNlIHRyeXsoaT1KU09OLnBhcnNlKHQucmVwbGFjZSgvXFwvZywiIikpKSYmaS5uYXRpdmUmJihyLm1lZGlhVHlwZT1uLmMpfWNhdGNoKGUpe09iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogRXJyb3I6IENhbm5vdCBwYXJzZSBuYXRpdmUgcmVwb25zZSBmb3IgYWQgcmVzcG9uc2U6ICIrdCl9fX0oZCxjKSxjLm1lZGlhVHlwZSl7Y2FzZSBuLmI6YnJlYWs7Y2FzZSBuLmQ6Yy53aWR0aD1kLmhhc093blByb3BlcnR5KCJ3Iik/ZC53OmUudmlkZW8udyxjLmhlaWdodD1kLmhhc093blByb3BlcnR5KCJoIik/ZC5oOmUudmlkZW8uaCxjLnZhc3RYbWw9ZC5hZG0sZnVuY3Rpb24oZSxyKXt2YXIgdCxhLGk7aWYoci5iaWRkZXJSZXF1ZXN0JiZyLmJpZGRlclJlcXVlc3QuYmlkcyl7Zm9yKHZhciBzPTA7czxyLmJpZGRlclJlcXVlc3QuYmlkcy5sZW5ndGg7cysrKXIuYmlkZGVyUmVxdWVzdC5iaWRzW3NdLmJpZElkPT09ZS5yZXF1ZXN0SWQmJih0PXIuYmlkZGVyUmVxdWVzdC5iaWRzW3NdLnBhcmFtcyxhPXIuYmlkZGVyUmVxdWVzdC5iaWRzW3NdLm1lZGlhVHlwZXNbbi5kXS5jb250ZXh0LGk9ci5iaWRkZXJSZXF1ZXN0LmJpZHNbc10uYWRVbml0Q29kZSk7YSYmIm91dHN0cmVhbSI9PT1hJiZ0JiZ0Lm91dHN0cmVhbUFVJiZpJiYoZS5yZW5kZXJlckNvZGU9dC5vdXRzdHJlYW1BVSxlLnJlbmRlcmVyPWsubmV3UmVuZGVyZXIoZS5yZW5kZXJlckNvZGUsaSkpfX0oYyxyKTticmVhaztjYXNlIG4uYzohZnVuY3Rpb24oZSxyKXtpZihyLm5hdGl2ZT17fSxlLmhhc093blByb3BlcnR5KCJhZG0iKSl7dmFyIHQ9IiI7dHJ5e3Q9SlNPTi5wYXJzZShlLmFkbS5yZXBsYWNlKC9cXC9nLCIiKSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogQ2Fubm90IHBhcnNlIG5hdGl2ZSByZXBvbnNlIGZvciBhZCByZXNwb25zZTogIityLmFkbSl9aWYodCYmdC5uYXRpdmUmJnQubmF0aXZlLmFzc2V0cyYmdC5uYXRpdmUuYXNzZXRzLmxlbmd0aD4wKXtyLm1lZGlhVHlwZT1uLmM7Zm9yKHZhciBpPTAscz10Lm5hdGl2ZS5hc3NldHMubGVuZ3RoO2k8cztpKyspc3dpdGNoKHQubmF0aXZlLmFzc2V0c1tpXS5pZCl7Y2FzZSB3LlRJVExFLklEOnIubmF0aXZlLnRpdGxlPXQubmF0aXZlLmFzc2V0c1tpXS50aXRsZSYmdC5uYXRpdmUuYXNzZXRzW2ldLnRpdGxlLnRleHQ7YnJlYWs7Y2FzZSB3LklNQUdFLklEOnIubmF0aXZlLmltYWdlPXt1cmw6dC5uYXRpdmUuYXNzZXRzW2ldLmltZyYmdC5uYXRpdmUuYXNzZXRzW2ldLmltZy51cmwsaGVpZ2h0OnQubmF0aXZlLmFzc2V0c1tpXS5pbWcmJnQubmF0aXZlLmFzc2V0c1tpXS5pbWcuaCx3aWR0aDp0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZ0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nLnd9O2JyZWFrO2Nhc2Ugdy5JQ09OLklEOnIubmF0aXZlLmljb249e3VybDp0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZ0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nLnVybCxoZWlnaHQ6dC5uYXRpdmUuYXNzZXRzW2ldLmltZyYmdC5uYXRpdmUuYXNzZXRzW2ldLmltZy5oLHdpZHRoOnQubmF0aXZlLmFzc2V0c1tpXS5pbWcmJnQubmF0aXZlLmFzc2V0c1tpXS5pbWcud307YnJlYWs7Y2FzZSB3LlNQT05TT1JFREJZLklEOmNhc2Ugdy5CT0RZLklEOmNhc2Ugdy5MSUtFUy5JRDpjYXNlIHcuRE9XTkxPQURTLklEOmNhc2Ugdy5QUklDRTpjYXNlIHcuU0FMRVBSSUNFLklEOmNhc2Ugdy5QSE9ORS5JRDpjYXNlIHcuQUREUkVTUy5JRDpjYXNlIHcuREVTQzIuSUQ6Y2FzZSB3LkNUQS5JRDpjYXNlIHcuUkFUSU5HLklEOmNhc2Ugdy5ESVNQTEFZVVJMLklEOnIubmF0aXZlW3pbdC5uYXRpdmUuYXNzZXRzW2ldLmlkXV09dC5uYXRpdmUuYXNzZXRzW2ldLmRhdGEmJnQubmF0aXZlLmFzc2V0c1tpXS5kYXRhLnZhbHVlfXIubmF0aXZlLmNsaWNrVXJsPXQubmF0aXZlLmxpbmsmJnQubmF0aXZlLmxpbmsudXJsLHIubmF0aXZlLmNsaWNrVHJhY2tlcnM9dC5uYXRpdmUubGluayYmdC5uYXRpdmUubGluay5jbGlja3RyYWNrZXJzfHxbXSxyLm5hdGl2ZS5pbXByZXNzaW9uVHJhY2tlcnM9dC5uYXRpdmUuaW1wdHJhY2tlcnN8fFtdLHIubmF0aXZlLmpzdHJhY2tlcj10Lm5hdGl2ZS5qc3RyYWNrZXJ8fFtdLHIud2lkdGh8fChyLndpZHRoPTApLHIuaGVpZ2h0fHwoci5oZWlnaHQ9MCl9fX0oZCxjKX19KSksZC5leHQmJmQuZXh0LmRlYWxfY2hhbm5lbCYmKGMuZGVhbENoYW5uZWw9RFtkLmV4dC5kZWFsX2NoYW5uZWxdfHxudWxsKSxjLm1ldGE9e30sZC5leHQmJmQuZXh0LmRzcGlkJiYoYy5tZXRhLm5ldHdvcmtJZD1kLmV4dC5kc3BpZCksZC5leHQmJmQuZXh0LmFkdmlkJiYoYy5tZXRhLmJ1eWVySWQ9ZC5leHQuYWR2aWQpLGQuYWRvbWFpbiYmZC5hZG9tYWluLmxlbmd0aD4wJiYoYy5tZXRhLmFkdmVydGlzZXJEb21haW5zPWQuYWRvbWFpbixjLm1ldGEuY2xpY2tVcmw9ZC5hZG9tYWluWzBdKSxlLmV4dCYmZS5leHQuYnV5aWQmJihjLmFkc2VydmVyVGFyZ2V0aW5nPXtoYl9idXlpZF9wdWJtYXRpYzplLmV4dC5idXlpZH0pLHQucHVzaChjKX0pKX0pKSl9Y2F0Y2goZSl7T2JqZWN0KGEubG9nRXJyb3IpKGUpfXJldHVybiB0fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQsYSl7dmFyIGk9IiIrQTtyZXR1cm4gdCYmKGkrPSImZ2Rwcj0iKyh0LmdkcHJBcHBsaWVzPzE6MCksaSs9IiZnZHByX2NvbnNlbnQ9IitlbmNvZGVVUklDb21wb25lbnQodC5jb25zZW50U3RyaW5nfHwiIikpLGEmJihpKz0iJnVzX3ByaXZhY3k9IitlbmNvZGVVUklDb21wb25lbnQoYSkpLCEwPT09cy5iLmdldENvbmZpZygiY29wcGEiKSYmKGkrPSImY29wcGE9MSIpLGUuaWZyYW1lRW5hYmxlZD9be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2Fkcy5wdWJtYXRpYy5jb20vQWRTZXJ2ZXIvanMvdXNlcl9zeW5jLmh0bWw/a2RudHVpZD0xJnA9IitpfV06W3t0eXBlOiJpbWFnZSIsdXJsOiJodHRwczovL2ltYWdlOC5wdWJtYXRpYy5jb20vQWRTZXJ2ZXIvSW1nU3luYz9wPSIraX1dfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyLHQsaSl7cmV0dXJuIEIoZSx0LmJpZHNbMF0sITApLE9iamVjdChhLmNvbnZlcnRUeXBlcykoe3B1Ymxpc2hlcklkOiJzdHJpbmciLGFkU2xvdDoic3RyaW5nIn0sZSl9fTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikoWCl9fSxbNzE0XSk7CnVwYmpzQ2h1bmsoWzMzXSx7NjpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO24uYT1mdW5jdGlvbihlKXt2YXIgbix0PWUudXJsLHI9ZS5hbmFseXRpY3NUeXBlLHU9ZS5nbG9iYWwsbD1lLmhhbmRsZXIsUz1bXSxqPTAsbT0hMDsoZnVuY3Rpb24oKXtpZihtKXtmb3IodmFyIGU9MDtlPFMubGVuZ3RoO2UrKylTW2VdKCk7Uy5wdXNoPWZ1bmN0aW9uKGUpe2UoKX0sbT0hMX1PYmplY3Qoby5sb2dNZXNzYWdlKSgiZXZlbnQgY291bnQgc2VudCB0byAiLmNvbmNhdCh1LCI6ICIpLmNvbmNhdChqKSl9KSgpO3JldHVybnt0cmFjazpmdW5jdGlvbihlKXt2YXIgbj1lLmV2ZW50VHlwZSx0PWUuYXJnczt0aGlzLmdldEFkYXB0ZXJUeXBlKCk9PT1OJiZ3aW5kb3dbdV0obCxuLHQpO3RoaXMuZ2V0QWRhcHRlclR5cGUoKT09PXEmJlUuYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9LGVucXVldWU6QixlbmFibGVBbmFseXRpY3M6UixkaXNhYmxlQW5hbHl0aWNzOmZ1bmN0aW9uKCl7T2JqZWN0KG8uX2VhY2gpKG4sKGZ1bmN0aW9uKGUsbil7cy5vZmYobixlKX0pKSx0aGlzLmVuYWJsZUFuYWx5dGljcz10aGlzLl9vbGRFbmFibGU/dGhpcy5fb2xkRW5hYmxlOlJ9LGdldEFkYXB0ZXJUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuIHJ9LGdldEdsb2JhbDpmdW5jdGlvbigpe3JldHVybiB1fSxnZXRIYW5kbGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGx9LGdldFVybDpmdW5jdGlvbigpe3JldHVybiB0fX07ZnVuY3Rpb24gVShlKXt2YXIgbj1lLmV2ZW50VHlwZSxyPWUuYXJncyx1PWUuY2FsbGJhY2s7T2JqZWN0KGEuYSkodCx1LEpTT04uc3RyaW5naWZ5KHtldmVudFR5cGU6bixhcmdzOnJ9KSl9ZnVuY3Rpb24gQihlKXt2YXIgbj1lLmV2ZW50VHlwZSx0PWUuYXJncyxyPXRoaXM7dSYmd2luZG93W3VdJiZuJiZ0P3RoaXMudHJhY2soe2V2ZW50VHlwZTpuLGFyZ3M6dH0pOlMucHVzaCgoZnVuY3Rpb24oKXtqKyssci50cmFjayh7ZXZlbnRUeXBlOm4sYXJnczp0fSl9KSl9ZnVuY3Rpb24gUihlKXt2YXIgdCxyPXRoaXMsYT10aGlzOyJvYmplY3QiIT09aShlKXx8Im9iamVjdCIhPT1pKGUub3B0aW9ucyl8fCh2b2lkIDA9PT1lLm9wdGlvbnMuc2FtcGxpbmd8fE1hdGgucmFuZG9tKCk8cGFyc2VGbG9hdChlLm9wdGlvbnMuc2FtcGxpbmcpKT8ocy5nZXRFdmVudHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlKXt2YXIgbj1lLmV2ZW50VHlwZSx0PWUuYXJncztuIT09YiYmQi5jYWxsKGEse2V2ZW50VHlwZTpuLGFyZ3M6dH0pfX0pKSxjKHQ9e30seSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOnksYXJnczplfSl9KSksYyh0LGcsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpnLGFyZ3M6ZX0pfSkpLGModCxULChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6VCxhcmdzOmV9KX0pKSxjKHQsdiwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOnYsYXJnczplfSl9KSksYyh0LGIsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpiLGFyZ3M6ZX0pfSkpLGModCxkLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6ZCxhcmdzOmV9KX0pKSxjKHQsRSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOkUsYXJnczplfSl9KSksYyh0LF8sKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpfLGFyZ3M6ZX0pfSkpLGModCxBLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6QSxhcmdzOmV9KX0pKSxjKHQscCwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOnAsYXJnczplfSl9KSksYyh0LEQsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpELGFyZ3M6ZX0pfSkpLGModCxoLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6aCxhcmdzOmV9KX0pKSxjKHQsTywoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOk8sYXJnczplfSl9KSksYyh0LEksKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpJLGFyZ3M6ZX0pfSkpLGModCxmLChmdW5jdGlvbihuKXtuLmNvbmZpZz0ib2JqZWN0Ij09PWkoZSkmJmUub3B0aW9uc3x8e30sci5lbnF1ZXVlKHtldmVudFR5cGU6ZixhcmdzOm59KX0pKSxuPXQsT2JqZWN0KG8uX2VhY2gpKG4sKGZ1bmN0aW9uKGUsbil7cy5vbihuLGUpfSkpKTpPYmplY3Qoby5sb2dNZXNzYWdlKSgnQW5hbHl0aWNzIGFkYXB0ZXIgZm9yICInLmNvbmNhdCh1LCciIGRpc2FibGVkIGJ5IHNhbXBsaW5nJykpO3RoaXMuX29sZEVuYWJsZT10aGlzLmVuYWJsZUFuYWx5dGljcyx0aGlzLmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbigpe3JldHVybiBPYmplY3Qoby5sb2dNZXNzYWdlKSgnQW5hbHl0aWNzIGFkYXB0ZXIgZm9yICInLmNvbmNhdCh1LCciIGFscmVhZHkgZW5hYmxlZCwgdW5uZWNlc3NhcnkgY2FsbCB0byBgZW5hYmxlQW5hbHl0aWNzYC4nKSl9fX07dmFyIHI9dCg1KSx1PXQubihyKSxhPXQoNCksbz10KDApO2Z1bmN0aW9uIGMoZSxuLHQpe3JldHVybiBuIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7dmFsdWU6dCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbbl09dCxlfWZ1bmN0aW9uIGkoZSl7cmV0dXJuKGk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgcz10KDEwKSxsPXUuYS5FVkVOVFMsZj1sLkFVQ1RJT05fSU5JVCxwPWwuQVVDVElPTl9FTkQseT1sLlJFUVVFU1RfQklEUyxnPWwuQklEX1JFUVVFU1RFRCxiPWwuQklEX1RJTUVPVVQsVD1sLkJJRF9SRVNQT05TRSx2PWwuTk9fQklELGQ9bC5CSURfV09OLEU9bC5CSURfQURKVVNUTUVOVCxfPWwuQklEREVSX0RPTkUsQT1sLlNFVF9UQVJHRVRJTkcsRD1sLkFEX1JFTkRFUl9GQUlMRUQsaD1sLkFEX1JFTkRFUl9TVUNDRUVERUQsTz1sLkFVQ1RJT05fREVCVUcsST1sLkFERF9BRF9VTklUUyxxPSJlbmRwb2ludCIsTj0iYnVuZGxlIn0sNzE4OmZ1bmN0aW9uKGUsbix0KXtlLmV4cG9ydHM9dCg3MTkpfSw3MTk6ZnVuY3Rpb24oZSxuLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9dCg2KSx1PXQoOCksYT1PYmplY3Qoci5hKSh7Z2xvYmFsOiJQdWJzdGFja0FuYWx5dGljcyIsaGFuZGxlcjoib24iLGFuYWx5dGljc1R5cGU6ImJ1bmRsZSJ9KTt1LmRlZmF1bHQucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyKHthZGFwdGVyOmEsY29kZToicHVic3RhY2sifSksbi5kZWZhdWx0PWF9fSxbNzE4XSk7CnVwYmpzQ2h1bmsoWzE1Nl0sezczMDpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNzMxKX0sNzMxOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKTt2YXIgbj10KDApLGk9dCgxKSxhPXQoMTMpO2Z1bmN0aW9uIGQoKXtyZXR1cm4oZD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBzPTEwMCx1PTIwMCxvPTUwLGM9MTUwLHA9NTAsbD0iVVNEIixtPVsiY3AiLCJjdCIsImNmIiwidmlkZW8iLCJiYXR0ciIsImJjYXQiLCJiYWR2IiwiYmlkZmxvb3IiXSxmPXtjb2RlOiJwdWxzZXBvaW50IixndmxpZDo4MSxhbGlhc2VzOlsicHVsc2VMaXRlIiwicHVsc2Vwb2ludExpdGUiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOlsiYmFubmVyIiwibmF0aXZlIiwidmlkZW8iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLnBhcmFtcyYmZS5wYXJhbXMuY3AmJmUucGFyYW1zLmN0KX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9iaWQuY29udGV4dHdlYi5jb20vaGVhZGVyL29ydGI/c3JjPXByZWJpZCIsZGF0YTp7aWQ6ZVswXS5iaWRkZXJSZXF1ZXN0SWQsaW1wOmUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJue2lkOmUuYmlkSWQsYmFubmVyOmIoZSksbmF0aXZlOmgoZSksdGFnaWQ6ZS5wYXJhbXMuY3QudG9TdHJpbmcoKSx2aWRlbzp2KGUpLGJpZGZsb29yOlIoZSksZXh0OmcoZSl9fShlKX0pKSxzaXRlOmooZSxyKSxhcHA6dyhlKSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsbGFuZ3VhZ2U6bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfHxuYXZpZ2F0b3Iuc3lzdGVtTGFuZ3VhZ2V9LGJjYXQ6ZVswXS5wYXJhbXMuYmNhdCxiYWR2OmVbMF0ucGFyYW1zLmJhZHYsdXNlcjprKGVbMF0scikscmVnczp4KHIpLHNvdXJjZTpQKGVbMF0uc2NoYWluKX0sYmlkZGVyUmVxdWVzdDpyfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZnVuY3Rpb24oZSxyKXt2YXIgdD17fSxpPXt9LGQ9e30scz1yLmJvZHk7ZS5kYXRhLmltcC5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2UuaWRdPWV9KSkscyYmcy5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtpW2UuaW1waWRdPWV9KSl9KSk7ZS5iaWRkZXJSZXF1ZXN0JiZlLmJpZGRlclJlcXVlc3QuYmlkcyYmZS5iaWRkZXJSZXF1ZXN0LmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZFtlLmJpZElkXT1lfSkpO3ZhciB1PVtdO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihpW2VdKXt2YXIgcj17cmVxdWVzdElkOmUsY3BtOmlbZV0ucHJpY2UsY3JlYXRpdmVfaWQ6aVtlXS5jcmlkLGNyZWF0aXZlSWQ6aVtlXS5jcmlkLGFkSWQ6ZSx0dGw6aVtlXS5leHB8fDIwLG5ldFJldmVudWU6dHJ1ZSxjdXJyZW5jeTpzLmN1cnx8bCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczppW2VdLmFkb21haW58fFtdfX07dFtlXS52aWRlbz8oZFtlXSYmIm91dHN0cmVhbSI9PT1PYmplY3Qobi5kZWVwQWNjZXNzKShkW2VdLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmKHIucmVuZGVyZXI9KG89T2JqZWN0KG4uZGVlcEFjY2VzcykoZFtlXSwicmVuZGVyZXIub3B0aW9ucyIpLGM9T2JqZWN0KG4uZGVlcEFjY2VzcykoaVtlXSwiZXh0Lm91dHN0cmVhbSIpLChwPWEuYS5pbnN0YWxsKHt1cmw6Yy5yZW5kZXJlclVybCxjb25maWc6e2RlZmF1bHRPcHRpb25zOmMuY29uZmlnLHJlbmRlcmVyT3B0aW9uczpvLHR5cGU6Yy50eXBlfSxsb2FkZWQ6ITF9KSkuc2V0UmVuZGVyKChmdW5jdGlvbihlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7dmFyIHI9ZS5yZW5kZXJlci5nZXRDb25maWcoKTsobmV3IHdpbmRvdy5QdWxzZVBvaW50T3V0c3RyZWFtUmVuZGVyZXIpLnJlbmRlcih7YWRVbml0Q29kZTplLmFkVW5pdENvZGUsdmFzdFhtbDplLnZhc3RYbWwsdHlwZTpyLnR5cGUsZGVmYXVsdE9wdGlvbnM6ci5kZWZhdWx0T3B0aW9ucyxyZW5kZXJlck9wdGlvbnM6b30pfSkpfSkpLHApKSxyLnZhc3RYbWw9aVtlXS5hZG0sci5tZWRpYVR5cGU9InZpZGVvIixyLndpZHRoPWlbZV0udyxyLmhlaWdodD1pW2VdLmgpOnRbZV0uYmFubmVyPyhyLmFkPWlbZV0uYWRtLHIud2lkdGg9aVtlXS53fHx0W2VdLmJhbm5lci53LHIuaGVpZ2h0PWlbZV0uaHx8dFtlXS5iYW5uZXIuaCk6dFtlXS5uYXRpdmUmJihyLm5hdGl2ZT1mdW5jdGlvbihlLHIpe2lmKGUubmF0aXZlKXt2YXIgdD1mdW5jdGlvbihlKXt0cnl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaChlKXtPYmplY3Qobi5sb2dFcnJvcikoInB1bHNlcG9pbnRMaXRlLnNhZmVQYXJzZSIsIkVSUk9SIixlKX1yZXR1cm4gbnVsbH0oci5hZG0pLGk9e307aWYodCYmdC5uYXRpdmUmJnQubmF0aXZlLmFzc2V0cylyZXR1cm4gdC5uYXRpdmUuYXNzZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kudGl0bGU9ZS50aXRsZT9lLnRpdGxlLnRleHQ6aS50aXRsZSxpLmJvZHk9ZS5kYXRhJiYyPT09ZS5kYXRhLnR5cGU/ZS5kYXRhLnZhbHVlOmkuYm9keSxpLnNwb25zb3JlZEJ5PWUuZGF0YSYmMT09PWUuZGF0YS50eXBlP2UuZGF0YS52YWx1ZTppLnNwb25zb3JlZEJ5LGkuaW1hZ2U9ZS5pbWcmJjM9PT1lLmltZy50eXBlP2UuaW1nLnVybDppLmltYWdlLGkuaWNvbj1lLmltZyYmMT09PWUuaW1nLnR5cGU/ZS5pbWcudXJsOmkuaWNvbn0pKSx0Lm5hdGl2ZS5saW5rJiYoaS5jbGlja1VybD1lbmNvZGVVUklDb21wb25lbnQodC5uYXRpdmUubGluay51cmwpKSxpLmltcHJlc3Npb25UcmFja2Vycz10Lm5hdGl2ZS5pbXB0cmFja2VycyxpfXJldHVybiBudWxsfSh0W2VdLGlbZV0pLHIubWVkaWFUeXBlPSJuYXRpdmUiKSx1LnB1c2gocil9dmFyIG8sYyxwfSkpLHV9KHIsZSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vYmguY29udGV4dHdlYi5jb20vdmlzaXRvcm1hdGNoIn1dOmUucGl4ZWxFbmFibGVkP1t7dHlwZToiaW1hZ2UiLHVybDoiaHR0cHM6Ly9iaC5jb250ZXh0d2ViLmNvbS92aXNpdG9ybWF0Y2gvcHJlYmlkIn1dOnZvaWQgMH0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUscil7cmV0dXJuIE9iamVjdChuLmNvbnZlcnRUeXBlcykoe2NmOiJzdHJpbmciLGNwOiJudW1iZXIiLGN0OiJudW1iZXIifSxlKX19O2Z1bmN0aW9uIGIoZSl7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKTtpZihyJiZPYmplY3Qobi5pc0FycmF5KShyKSlyZXR1cm4gci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qobi5pc0FycmF5KShlKSYmMj09PWUubGVuZ3RofSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpO3JldHVybiBudWxsfShlKSx0PWZ1bmN0aW9uKGUscil7aWYoZS5wYXJhbXMuY2Ype3ZhciB0PWUucGFyYW1zLmNmLnRvVXBwZXJDYXNlKCkuc3BsaXQoIlgiKTtyZXR1cm5bcGFyc2VJbnQoZS5wYXJhbXMuY3d8fHRbMF0sMTApLHBhcnNlSW50KGUucGFyYW1zLmNofHx0WzFdLDEwKV19aWYociYmci5sZW5ndGg+MClyZXR1cm5bclswXS53LHJbMF0uaF07cmV0dXJuWzEsMV19KGUscik7cmV0dXJuIGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lcj97dzp0WzBdLGg6dFsxXSxiYXR0cjplLnBhcmFtcy5iYXR0cixmb3JtYXQ6cn06bnVsbH1mdW5jdGlvbiB2KGUpe3JldHVybiBlLnBhcmFtcy52aWRlbz9kKHt9LGUucGFyYW1zLnZpZGVvLGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvP2UubWVkaWFUeXBlcy52aWRlbzp7fSx7YmF0dHI6ZS5wYXJhbXMuYmF0dHJ9KTpudWxsfWZ1bmN0aW9uIGcoZSl7dmFyIHI9e30sdD17fTtyZXR1cm4gbS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXT0xfSkpLE9iamVjdC5rZXlzKGUucGFyYW1zKS5mb3JFYWNoKChmdW5jdGlvbihuKXt0W25dfHwocltuXT1lLnBhcmFtc1tuXSl9KSksT2JqZWN0LmtleXMocikubGVuZ3RoPjA/e3ByZWJpZDpyfTpudWxsfWZ1bmN0aW9uIGgoZSl7aWYoZS5uYXRpdmVQYXJhbXMpe3ZhciByPVtdO3JldHVybiB5KHIsZnVuY3Rpb24oZSxyLHQpe2lmKHIpcmV0dXJue2lkOmUscmVxdWlyZWQ6ci5yZXF1aXJlZD8xOjAsdGl0bGU6e2xlbjpyLmxlbnx8dH19O3JldHVybiBudWxsfShyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLnRpdGxlLHMpKSx5KHIsTyhyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmJvZHksMix1KSkseShyLE8oci5sZW5ndGgrMSxlLm5hdGl2ZVBhcmFtcy5zcG9uc29yZWRCeSwxLG8pKSx5KHIsSShyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmljb24sMSxwLHApKSx5KHIsSShyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmltYWdlLDMsYyxjKSkse3JlcXVlc3Q6SlNPTi5zdHJpbmdpZnkoe2Fzc2V0czpyfSksdmVyOiIxLjEiLGJhdHRyOmUucGFyYW1zLmJhdHRyfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB5KGUscil7ciYmZS5wdXNoKHIpfWZ1bmN0aW9uIEkoZSxyLHQsbixpKXtyZXR1cm4gcj97aWQ6ZSxyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MCxpbWc6e3R5cGU6dCx3bWluOnIud21pbnx8bixobWluOnIuaG1pbnx8aX19Om51bGx9ZnVuY3Rpb24gTyhlLHIsdCxuKXtyZXR1cm4gcj97aWQ6ZSxyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MCxkYXRhOnt0eXBlOnQsbGVuOnIubGVufHxufX06bnVsbH1mdW5jdGlvbiBqKGUscil7dmFyIHQ9ZSYmZS5sZW5ndGg+MD9lWzBdLnBhcmFtcy5jcDoiMCI7cmV0dXJuIGVbMF0ucGFyYW1zLmFwcD9udWxsOntwdWJsaXNoZXI6e2lkOnQudG9TdHJpbmcoKX0scmVmOlQoKSxwYWdlOnImJnIucmVmZXJlckluZm8/ci5yZWZlcmVySW5mby5yZWZlcmVyOiIifX1mdW5jdGlvbiB3KGUpe3ZhciByPWUmJmUubGVuZ3RoPjA/ZVswXS5wYXJhbXMuY3A6IjAiLHQ9ZVswXS5wYXJhbXMuYXBwO3JldHVybiB0P3twdWJsaXNoZXI6e2lkOnIudG9TdHJpbmcoKX0sYnVuZGxlOnQuYnVuZGxlLHN0b3JldXJsOnQuc3RvcmVVcmwsZG9tYWluOnQuZG9tYWlufTpudWxsfWZ1bmN0aW9uIFQoKXt0cnl7cmV0dXJuIHdpbmRvdy50b3AuZG9jdW1lbnQucmVmZXJyZXJ9Y2F0Y2goZSl7cmV0dXJuIGRvY3VtZW50LnJlZmVycmVyfX1mdW5jdGlvbiBrKGUscil7dmFyIHQ9e307aWYociYmci5nZHByQ29uc2VudCYmKHQuY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLGUmJmUudXNlcklkKXt0LmVpZHM9W10scSh0LmVpZHMsZS51c2VySWQucHViY2lkLCJwdWJjaWQub3JnIikscSh0LmVpZHMsZS51c2VySWQuYnJpdGVwb29saWQsImJyaXRlcG9vbC5jb20iKSxxKHQuZWlkcyxlLnVzZXJJZC5jcml0ZW9JZCwiY3JpdGVvLmNvbSIpLHEodC5laWRzLGUudXNlcklkLmlkbF9lbnYsImxpdmVyYW1wLmNvbSIpLHEodC5laWRzLE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInVzZXJJZC5pZDVpZC51aWQiKSwiaWQ1LXN5bmMuY29tIixPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJ1c2VySWQuaWQ1aWQuZXh0IikpLHEodC5laWRzLE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInVzZXJJZC5wYXJyYWJsZUlkLmVpZCIpLCJwYXJyYWJsZS5jb20iKSxxKHQuZWlkcyxlLnVzZXJJZC5mYWJyaWNrSWQsIm5ldXN0YXIuYml6IikscSh0LmVpZHMsT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwidXNlcklkLmhhbG9JZC5oYWxvSWQiKSwiYXVkaWdlbnQuY29tIikscSh0LmVpZHMsZS51c2VySWQubWVya2xlSWQsIm1lcmtsZWluYy5jb20iKSxxKHQuZWlkcyxlLnVzZXJJZC5sb3RhbWVQYW5vcmFtYUlkLCJjcndkY250cmwubmV0IikscSh0LmVpZHMsZS51c2VySWQuY29ubmVjdGlkLCJ2ZXJpem9ubWVkaWEuY29tIikscSh0LmVpZHMsT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwidXNlcklkLnVpZDIuaWQiKSwidWlkYXBpLmNvbSIpLGUudXNlcklkLmxpcGImJmUudXNlcklkLmxpcGIubGlwYmlkJiZxKHQuZWlkcyxlLnVzZXJJZC5saXBiLmxpcGJpZCwibGl2ZWludGVudC5jb20iKSxxKHQuZWlkcyxlLnVzZXJJZC50ZGlkLCJhZHNlcnZlci5vcmciLHtydGlQYXJ0bmVyOiJURElEIn0pO3ZhciBpPWUudXNlcklkLmRpZ2l0cnVzdGlkO2lmKGkmJmkuZGF0YSl7dmFyIGE9e307aS5kYXRhLmlkJiYoYS5pZD1pLmRhdGEuaWQpLGkuZGF0YS5rZXl2JiYoYS5rZXl2PWkuZGF0YS5rZXl2KSx0LmRpZ2l0cnVzdD1hfX1yZXR1cm57ZXh0OnR9fWZ1bmN0aW9uIHEoZSxyLHQsbil7aWYocil7dmFyIGk9e2lkOnJ9O24mJihpLmV4dD1uKSxlLnB1c2goe3NvdXJjZTp0LHVpZHM6W2ldfSl9fWZ1bmN0aW9uIHgoZSl7aWYoZS5nZHByQ29uc2VudHx8ZS51c3BDb25zZW50KXt2YXIgcj17fTtyZXR1cm4gZS5nZHByQ29uc2VudCYmKHIuZ2Rwcj1lLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCksZS51c3BDb25zZW50JiYoci51c19wcml2YWN5PWUudXNwQ29uc2VudCkse2V4dDpyfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBQKGUpe3JldHVybiBlP3tleHQ6e3NjaGFpbjplfX06bnVsbH1mdW5jdGlvbiBSKGUpe3ZhciByPWUucGFyYW1zLmJpZGZsb29yO2lmKE9iamVjdChuLmlzRm4pKGUuZ2V0Rmxvb3IpKXt2YXIgdD1lLmdldEZsb29yKHttZWRpYVR5cGU6ZS5tZWRpYVR5cGVzLmJhbm5lcj8iYmFubmVyIjplLm1lZGlhVHlwZXMudmlkZW8/InZpZGVvIjoiTmF0aXZlIixzaXplOiIqIixjdXJyZW5jeTpsfSk7dCYmdC5mbG9vciYmKHI9dC5mbG9vcil9cmV0dXJuIHJ9T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGYpfX0sWzczMF0pOwp1cGJqc0NodW5rKFsxNDZdLHs3NTI6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDc1Myl9LDc1MzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSk7dmFyIG49cigwKSxhPXIoMykscz1yKDEpO2Z1bmN0aW9uIGkoKXtyZXR1cm4oaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgbixhLHM9W10saT0hMCxvPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShpPShuPXIubmV4dCgpKS5kb25lKSYmKHMucHVzaChuLnZhbHVlKSwhdHx8cy5sZW5ndGghPT10KTtpPSEwKTt9Y2F0Y2goZSl7bz0hMCxhPWV9ZmluYWxseXt0cnl7aXx8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IGF9fXJldHVybiBzfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHUoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIHUoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn12YXIgYz0iaHR0cHM6Ly8iLmNvbmNhdCgiZS5yZWxheS5iaWQiLCIvcC9vcGVucnRiMiIpLGQ9ZnVuY3Rpb24oZSl7cmV0dXJue2ZkOjEsdGlkOmUudHJhbnNhY3Rpb25JZCxleHQ6e3NjaGFpbjplLnNjaGFpbn19fSxsPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYmlkSWQscj1lLnBhcmFtcyxhPWUubWVkaWFUeXBlcyxzPWUuYWRVbml0Q29kZTtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJtYWtlSW1wIixiaWRJZDp0LHBhcmFtczpyfSk7dmFyIGk9W107Zm9yKHZhciB1IGluIGEpe3ZhciBjPXtpZDp0LHRhZ2lkOnMsZXh0OnthMHg6e2JpZGRlcnM6cn19fSxkPWFbdV0uc2l6ZXMubWFwKChmdW5jdGlvbihlKXt2YXIgdD1vKGUsMik7cmV0dXJue3c6dFswXSxoOnRbMV19fSkpO2NbdV09e2Zvcm1hdDpkfSxpLnB1c2goYyl9cmV0dXJuIGl9LGc9ZnVuY3Rpb24oZSx0KXtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJtYWtlVXNlciIsdmFsaWRCaWRSZXF1ZXN0OmV9KTt2YXIgcj17ZXh0Ontjb25zZW50Oih0LmdkcHJDb25zZW50fHx7fSkuY29uc2VudFN0cmluZ3x8IiJ9fTtyZXR1cm4gZS51c2VySWRBc0VpZHMmJihyLmV4dC5laWRzPWUudXNlcklkQXNFaWRzKSxyfSxwPWZ1bmN0aW9uKGUpe3JldHVybntjb3BwYTphLmIuZ2V0Q29uZmlnKCJjb3BwYSIpfHwhMT8xOjAsZXh0OntnZHByOihlLmdkcHJDb25zZW50fHx7fSkuZ2RwckFwcGxpZXN8fCExPzE6MH19fSxmPXtjb2RlOiJyZWxheSIsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7bi5sb2dNZXNzYWdlKHt0cmFjZToiaXNCaWRSZXF1ZXN0VmFsaWQiLGJpZDplfSk7dHJ5e3JldHVybiBlLnBhcmFtcyYmZS5zaXplcy5sZW5ndGg+MH1jYXRjaChlKXtyZXR1cm4gbi5sb2dNZXNzYWdlKHt0cmFjZToiaXNCaWRSZXF1ZXN0VmFsaWQ6OmV4Y2VwdGlvbiIsZXhjZXB0aW9uOmV9KSwhMX19LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj1hLmIuZ2V0Q29uZmlnKCJyZWxheUFjY291bnRJZCIpO3JldHVybiByfHxuLmxvZ1dhcm4oe3RyYWNlOiJidWlsZFJlcXVlc3RzIixtZXNzYWdlOiJGYWlsZWQgdG8gYnVpbGQgcmVxdWVzdDogeW91ciBhY2NvdW50SWQgaXMgbm90IHNldC4gUGxlYXNlIHNldCBwYmpzLnNldENvbmZpZyh7YWNjb3VudElkOiBBQ0NPVU5UX0lELCAuLi59KS4ifSksbi5sb2dNZXNzYWdlKHt0cmFjZToiYnVpbGRSZXF1ZXN0cyIsdmFsaWRCaWRSZXF1ZXN0czplLGJpZGRlclJlcXVlc3Q6dCxhY2NvdW50SWQ6cn0pLGUubWFwKChmdW5jdGlvbihlKXtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJidWlsZFJlcXVlc3RzOjptYXAifSk7dmFyIHM9ZnVuY3Rpb24oZSx0KXtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJtYWtlUmVsYXlSZXF1ZXN0Iix2YWxpZEJpZFJlcXVlc3Q6ZX0pO3ZhciByLHMsbyx1LGMsZixiLG0seT17aWQ6ZS5hdWN0aW9uSWQsc291cmNlOmQoZSksaW1wOmwoZSksYmFkdjpbXSxkZXZpY2U6KGM9KHdpbmRvd3x8e30pLm5hdmlnYXRvcnx8e30sZj1jLnBsYXRmb3JtfHwiIixiPWMudXNlckFnZW50fHwiIixzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaW5kZXhPZih0KT4tMX0sbz1mLnRvTG93ZXJDYXNlKCksdT1zKG8sIndpbiIpfHxzKG8sIm1hYyIpfHxzKG8sIngxMSIpfHxzKG8sImxpbnV4IiksbT17bW9iaWxlOjEscGM6MixwaG9uZTo0fVsocyhvLCJpcGhvbmUiKXx8cyhvLCJhbmRyb2lkIik/InBob25lIjp1JiYicGMiKXx8Im1vYmlsZSJdLHt1YTpiLGxhbmd1YWdlOihjLmxhbmd1YWdlc1sxXXx8IiIpLnRvVXBwZXJDYXNlKCksZGV2aWNldHlwZTptLGpzOjF9KSxzaXRlOihyPW5ldyBVUkwoYS5iLmdldENvbmZpZygicHVibGlzaGVyRG9tYWluIil8fCIiKSx7aWQ6IjAiLHBhZ2U6cixkb21haW46KHJ8fHt9KS5ob3N0fSksdXNlcjpnKGUsdCkscmVnczpwKHQpLGF0OjEsZXh0Ontzc2w6MX19O3JldHVybiBpKHksYS5iLmdldENvbmZpZygib3J0YjIiKXx8e30sZS5vcnRiMkltcHx8e30pfShlLHQpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoiIi5jb25jYXQoYywiP2E9IikuY29uY2F0KHIpLGRhdGE6c319KSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7aWYobi5sb2dNZXNzYWdlKHt0cmFjZToiaW50ZXJwcmV0UmVzcG9uc2UiLHNlcnZlclJlc3BvbnNlOmUscmVxdWVzdDp0fSksIWUpcmV0dXJuW107dmFyIHI9KChlfHx7fSkuYm9keXx8e30pLnNlYXRiaWR8fFtdO3JldHVybiBuLmxvZ01lc3NhZ2Uoe3NlYXRCaWRzOnJ9KSxyLmxlbmd0aD9yLmZsYXRNYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZC5tYXAoKGZ1bmN0aW9uKGUpe24ubG9nTWVzc2FnZSh7dHJhY2U6ImludGVycHJldFJlc3BvbnNlOjpzZWF0LmJpZDo6bWFwIixiaWQ6ZX0pO3ZhciB0PWZ1bmN0aW9uKGUpe3JldHVybiBuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJuZXdCaWRSZXNwb25zZSIsYmlkOmV9KSx7cmVxdWVzdElkOmUuaW1waWQsY3BtOmUucHJpY2UsY3VycmVuY3k6ZS5jdXJyZW5jeXx8IlVTRCIsd2lkdGg6ZS53fHwzNTAsaGVpZ2h0OmUuaHx8MjAwLGFkOmUuYWRtLHR0bDplLnR0bHx8MzYwLGNyZWF0aXZlSWQ6ZS5jcmlkLG5ldFJldmVudWU6ITB9fShlKTtyZXR1cm4gbi5sb2dNZXNzYWdlKHtiaWRSZXNwb25zZTp0fSksdH0pKX0pKTpbXX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLGEpe24ubG9nTWVzc2FnZSh7dHJhY2U6ImdldFVzZXJTeW5jcyIsc2VydmVyUmVzcG9uc2VzOnR9KTt2YXIgcz0oKCh0WzBdfHx7fSkuYm9keXx8e30pLmV4dHx8e30pLnVzZXJfc3luY3N8fFtdO3JldHVybiBlLnBpeGVsRW5hYmxlZCYmcz8obi5sb2dNZXNzYWdlKHt0cmFjZToiZ2V0VXNlclN5bmNzOjpzeW5jc0ZvdW5kIixzeW5jczpzfSkscyk6W119LG9uVGltZW91dDpmdW5jdGlvbihlKXtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJvblRpbWVvdXQiLHN0YXR1czoiTm90IGltcGxlbWVudGVkLiIsdGltZW91dERhdGE6ZX0pfSxvbkJpZFdvbjpmdW5jdGlvbihlKXtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJvbkJpZFdvbiIsc3RhdHVzOiJOb3QgaW1wbGVtZW50ZWQuIn0pfSxvblNldFRhcmdldGluZzpmdW5jdGlvbihlKXtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJvblNldFRhcmdldGluZyIsc3RhdHVzOiJOb3QgaW1wbGVtZW50ZWQuIn0pfX07T2JqZWN0KHMucmVnaXN0ZXJCaWRkZXIpKGYpfX0sWzc1Ml0pOwp1cGJqc0NodW5rKFsxNDNdLHs3NjA6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDc2MSl9LDc2MTpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSk7dmFyIGE9dCgwKSxpPXQoMSkscz10KDIpO3ZhciBuPW5ldyBmdW5jdGlvbigpe3RoaXMuY29kZT0icmh5dGhtb25lIix0aGlzLnN1cHBvcnRlZE1lZGlhVHlwZXM9W3MuZCxzLmJdO3ZhciBlPVsyLDMsNSw2XSxyPVsidmlkZW8vbXA0Il0sdD1bMSwyLDMsNF0saT1bMV0sbj1bMSwyLDVdLGQ9e30scD10aGlzO2Z1bmN0aW9uIGMoZSxyKXt2YXIgdCxpPVtdLHM9MDtpZihyJiZyLnJlZmVyZXJJbmZvJiZyLnJlZmVyZXJJbmZvLnN0YWNrLmxlbmd0aCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO24uaHJlZj1yLnJlZmVyZXJJbmZvLnN0YWNrWzBdLHM9Imh0dHBzOiI9PW4ucHJvdG9jb2w/MTowfWZvcih2YXIgcD0wO3A8ZS5sZW5ndGg7cCsrKXtkW2VbcF0uYWRVbml0Q29kZV09ZVtwXTt2YXIgYz17fTtpZihjLmlkPWVbcF0uYWRVbml0Q29kZSxjLmJpZGZsb29yPTAsYy5zZWN1cmU9cyxPYmplY3QoYS5kZWVwQWNjZXNzKShlW3BdLCJtZWRpYVR5cGVzLmJhbm5lciIpfHwiYmFubmVyIj09PU9iamVjdChhLmRlZXBBY2Nlc3MpKGVbcF0sIm1lZGlhVHlwZSIpKXt2YXIgbz12KGVbcF0pO28mJihjLmJhbm5lcj1vKX0oT2JqZWN0KGEuZGVlcEFjY2VzcykoZVtwXSwibWVkaWFUeXBlcy52aWRlbyIpfHwidmlkZW8iPT09T2JqZWN0KGEuZGVlcEFjY2VzcykoZVtwXSwibWVkaWFUeXBlIikpJiYoYy52aWRlbz11KGVbcF0pKSwoYy5iYW5uZXJ8fGMudmlkZW8pJiYoYy5leHQ9e2JpZGRlcjp7cGxhY2VtZW50SWQ6KHQ9ZVtwXSkucGFyYW1zLnBsYWNlbWVudElkLHpvbmU6dC5wYXJhbXMmJnQucGFyYW1zLnpvbmU/dC5wYXJhbXMuem9uZToiMXIiLHBhdGg6dC5wYXJhbXMmJnQucGFyYW1zLnBhdGg/dC5wYXJhbXMucGF0aDoibXZvIn19LGkucHVzaChjKSl9cmV0dXJuIGl9ZnVuY3Rpb24gbyhlKXt2YXIgcj17ZG9tYWluOiIiLHBhZ2U6IiIscmVmOiIifTtpZihlJiZlLnJlZmVyZXJJbmZvKXt2YXIgdD1lLnJlZmVyZXJJbmZvO2lmKHIucmVmPXQucmVmZXJlcix0LnN0YWNrLmxlbmd0aCl7ci5wYWdlPXQuc3RhY2tbdC5zdGFjay5sZW5ndGgtMV07dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2EuaHJlZj10LnN0YWNrWzBdLHIuZG9tYWluPWEuaG9zdG5hbWV9fXJldHVybiByfWZ1bmN0aW9uIG0oZSl7dmFyIHI9cGFyc2VJbnQoZVswXSksdD1wYXJzZUludChlWzFdKTtyZXR1cm4gcj09ciYmdD09dCYmW3IsdF19ZnVuY3Rpb24gdihlKXt2YXIgcj1lLnNpemVzO2UubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmKHI9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyk7dmFyIHQ9T2JqZWN0KGEucGFyc2VTaXplc0lucHV0KShyKSxpPVtdO3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUpe3ZhciByPW0oZS5zcGxpdCgieCIpKTtyJiZpLnB1c2goe3c6clswXSxoOnJbMV19KX19KSksISFpLmxlbmd0aCYme2Zvcm1hdDppfX1mdW5jdGlvbiB1KHMpe3ZhciBkPVtdO2lmKE9iamVjdChhLmRlZXBBY2Nlc3MpKHMsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpKXt2YXIgcD1zLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZTtPYmplY3QoYS5pc0FycmF5KShzLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSkmJihwPXMubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKTt2YXIgYz1tKHApO2MmJihkPWMpfXJldHVybnttaW1lczpPYmplY3QoYS5kZWVwQWNjZXNzKShzLCJtZWRpYVR5cGVzLnZpZGVvLm1pbWVzIil8fHIscHJvdG9jb2xzOk9iamVjdChhLmRlZXBBY2Nlc3MpKHMsIm1lZGlhVHlwZXMudmlkZW8ucHJvdG9jb2xzIil8fGUsdzpkWzBdLGg6ZFsxXSxzdGFydGRlbGF5Ok9iamVjdChhLmRlZXBBY2Nlc3MpKHMsIm1lZGlhVHlwZXMudmlkZW8uc3RhcnRkZWxheSIpfHwwLHNraXA6T2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5za2lwIil8fDAscGxheWJhY2ttZXRob2Q6T2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5wbGF5YmFja21ldGhvZCIpfHx0LGRlbGl2ZXJ5Ok9iamVjdChhLmRlZXBBY2Nlc3MpKHMsIm1lZGlhVHlwZXMudmlkZW8uZGVsaXZlcnkiKXx8aSxhcGk6T2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5hcGkiKXx8bn19ZnVuY3Rpb24gbChlLHIpe2Zvcih2YXIgdD0wO3Q8ci5sZW5ndGg7dCsrKWlmKHJbdF0ucGFyYW1zJiZyW3RdLnBhcmFtc1tlXSlyZXR1cm4gclt0XS5wYXJhbXNbZV19dGhpcy5pc0JpZFJlcXVlc3RWYWxpZD1mdW5jdGlvbihlKXtyZXR1cm4hKCFlLnBhcmFtc3x8IWUucGFyYW1zLnBsYWNlbWVudElkKX0sdGhpcy5nZXRVc2VyU3luY3M9ZnVuY3Rpb24oZSxyLHQpe3JldHVybltdfSx0aGlzLmJ1aWxkUmVxdWVzdHM9ZnVuY3Rpb24oZSxyKXt2YXIgdD1sKCJwbGFjZW1lbnRJZCIsZSk7aWYodm9pZCAwPT09dHx8ZS5sZW5ndGg8MSlyZXR1cm5bXTt2YXIgaT1sKCJlbmRwb2ludCIsZSl8fCJodHRwczovL3RhZy4xcnguaW8vcm1wL3twbGFjZW1lbnRJZH0vMC97cGF0aH0/ej17em9uZX0iLHM9bCgiem9uZSIsZSl8fCIxciIsbj1sKCJwYXRoIixlKXx8Im12byI7aT0oaT0oaT1pLnJlcGxhY2UoL1x7cGxhY2VtZW50SWRcfS9pLHQpKS5yZXBsYWNlKC9ce3pvbmVcfS9pLHMpKS5yZXBsYWNlKC9ce3BhdGhcfS9pLG4pO3ZhciBkPS8oXnZ8KFwuMCkrJCkvZ2k7aSs9IiZoYnY9IisiNS4yMC4yIi5yZXBsYWNlKGQsIiIpKyIsIisiMi4xIi5yZXBsYWNlKGQsIiIpO3ZhciBwPWZ1bmN0aW9uKGUscil7dmFyIHQ9e2lkOmVbMF0uYmlkZGVyUmVxdWVzdElkLGltcDpjKGUsciksc2l0ZTpvKHIpLGRldmljZTp7dWE6bmF2aWdhdG9yLnVzZXJBZ2VudCxpcDoiIixkbnQ6T2JqZWN0KGEuZ2V0RE5UKSgpPzE6MH0sdXNlcjp7ZXh0Ontjb25zZW50Ok9iamVjdChhLmRlZXBBY2Nlc3MpKHIsImdkcHJDb25zZW50LmdkcHJBcHBsaWVzIik/ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nOiIifX0sYXQ6MSx0bWF4OjFlMyxyZWdzOntleHQ6e2dkcHI6ISFPYmplY3QoYS5kZWVwQWNjZXNzKShyLCJnZHByQ29uc2VudC5nZHByQXBwbGllcyIpJiZCb29sZWFuKDEmci5nZHByQ29uc2VudC5nZHByQXBwbGllcyl9fX07cmV0dXJuIGVbMF0uc2NoYWluJiYodC5zb3VyY2U9e2V4dDp7c2NoYWluOmVbMF0uc2NoYWlufX0pLHR9KGUscik7cmV0dXJuIHAuaW1wLmxlbmd0aD97bWV0aG9kOiJQT1NUIix1cmw6aSxkYXRhOkpTT04uc3RyaW5naWZ5KHApfTp7fX0sdGhpcy5pbnRlcnByZXRSZXNwb25zZT1mdW5jdGlvbihlKXt2YXIgcj1lLmJvZHl8fFtdLHQ9W10sYT0wO2lmKHIuc2VhdGJpZCl7dmFyIGk9W107Zm9yKGE9MDthPHIuc2VhdGJpZC5sZW5ndGg7YSsrKWZvcih2YXIgcz0wO3M8ci5zZWF0YmlkW2FdLmJpZC5sZW5ndGg7cysrKWkucHVzaChyLnNlYXRiaWRbYV0uYmlkW3NdKTtyPWl9Zm9yKGE9MDthPHIubGVuZ3RoO2ErKyl7dmFyIG49clthXSxjPWRbbi5pbXBpZF0sbz17cmVxdWVzdElkOmMuYmlkSWQsYmlkZGVyQ29kZTpwLmNvZGUsY3BtOnBhcnNlRmxvYXQobi5wcmljZSksd2lkdGg6bi53LGhlaWdodDpuLmgsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6bi5hZG9tYWlufSxjcmVhdGl2ZUlkOm4uY3JpZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDozNTB9O2MubWVkaWFUeXBlcyYmYy5tZWRpYVR5cGVzLnZpZGVvPyhvLnZhc3RVcmw9bi5udXJsLG8ubWVkaWFUeXBlPSJ2aWRlbyIsby50dGw9NjAwKTpvLmFkPW4uYWRtLHQucHVzaChvKX1yZXR1cm4gdH19O09iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShuKX19LFs3NjBdKTsKdXBianNDaHVuayhbMTM3XSx7Nzc4OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig3NzkpfSw3Nzk6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBqfSkpLHQuaGFzVmlkZW9NZWRpYVR5cGU9SSxyLmQodCwicmVzZXRSdWJpQ29uZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGt9KSksdC5tYXNTaXplT3JkZXJpbmc9Uix0LmRldGVybWluZVJ1Ymljb25WaWRlb1NpemVJZD16LHQuZ2V0UHJpY2VHcmFudWxhcml0eT1ULHQuaGFzVmFsaWRWaWRlb1BhcmFtcz1FLHQuaGFzVmFsaWRTdXBwbHlDaGFpblBhcmFtcz1VLHQuZW5jb2RlUGFyYW09UCx0LnJlc2V0VXNlclN5bmM9ZnVuY3Rpb24oKXtOPSExfTt2YXIgbj1yKDApLGk9cigxKSxvPXIoMyksYT1yKDIpLGM9cigxMSkscz1yLm4oYyksZD1yKDEzKSx1PXIoMTQpO2Z1bmN0aW9uIHAoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIGwoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/cChPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2coZSx0LHJbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOnAoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gYigpe3JldHVybihiPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXIpcmV0dXJuO3ZhciBuLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihyPXIuY2FsbChlKTshKGE9KG49ci5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKG4udmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbShlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1yfHwiU2V0Ij09PXIpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKSlyZXR1cm4gbShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gbShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufWZ1bmN0aW9uIGcoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfWZ1bmN0aW9uIHYoZSl7cmV0dXJuKHY9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgeT0iaHR0cHM6Ly92aWRlby1vdXRzdHJlYW0ucnViaWNvbnByb2plY3QuY29tL2FwZXgtMi4wLjAuanMiLHg9e307by5iLmdldENvbmZpZygicnViaWNvbiIsKGZ1bmN0aW9uKGUpe09iamVjdChuLm1lcmdlRGVlcCkoeCxlLnJ1Ymljb24pfSkpO3ZhciBoPXsxOiI0Njh4NjAiLDI6IjcyOHg5MCIsNToiMTIweDkwIiw3OiIxMjV4MTI1Iiw4OiIxMjB4NjAwIiw5OiIxNjB4NjAwIiwxMDoiMzAweDYwMCIsMTM6IjIwMHgyMDAiLDE0OiIyNTB4MjUwIiwxNToiMzAweDI1MCIsMTY6IjMzNngyODAiLDE3OiIyNDB4NDAwIiwxOToiMzAweDEwMCIsMzE6Ijk4MHgxMjAiLDMyOiIyNTB4MzYwIiwzMzoiMTgweDUwMCIsMzU6Ijk4MHgxNTAiLDM3OiI0Njh4NDAwIiwzODoiOTMweDE4MCIsMzk6Ijc1MHgxMDAiLDQwOiI3NTB4MjAwIiw0MToiNzUweDMwMCIsNDI6IjJ4NCIsNDM6IjMyMHg1MCIsNDQ6IjMwMHg1MCIsNDg6IjMwMHgzMDAiLDUzOiIxMDI0eDc2OCIsNTQ6IjMwMHgxMDUwIiw1NToiOTcweDkwIiw1NzoiOTcweDI1MCIsNTg6IjEwMDB4OTAiLDU5OiIzMjB4ODAiLDYwOiIzMjB4MTUwIiw2MToiMTAwMHgxMDAwIiw2NDoiNTgweDUwMCIsNjU6IjY0MHg0ODAiLDY2OiI5MzB4NjAwIiw2NzoiMzIweDQ4MCIsNjg6IjE4MDB4MTAwMCIsNzI6IjMyMHgzMjAiLDczOiIzMjB4MTYwIiw3ODoiOTgweDI0MCIsNzk6Ijk4MHgzMDAiLDgwOiI5ODB4NDAwIiw4MzoiNDgweDMwMCIsODU6IjMwMHgxMjAiLDkwOiI1NDh4MTUwIiw5NDoiOTcweDMxMCIsOTU6Ijk3MHgxMDAiLDk2OiI5NzB4MjEwIiwxMDE6IjQ4MHgzMjAiLDEwMjoiNzY4eDEwMjQiLDEwMzoiNDgweDI4MCIsMTA1OiIyNTB4ODAwIiwxMDg6IjMyMHgyNDAiLDExMzoiMTAwMHgzMDAiLDExNzoiMzIweDEwMCIsMTI1OiI4MDB4MjUwIiwxMjY6IjIwMHg2MDAiLDE0NDoiOTgweDYwMCIsMTQ1OiI5ODB4MTUwIiwxNTI6IjEwMDB4MjUwIiwxNTY6IjY0MHgzMjAiLDE1OToiMzIweDI1MCIsMTc5OiIyNTB4NjAwIiwxOTU6IjYwMHgzMDAiLDE5ODoiNjQweDM2MCIsMTk5OiI2NDB4MjAwIiwyMTM6IjEwMzB4NTkwIiwyMTQ6Ijk4MHgzNjAiLDIyMToiMXgxIiwyMjk6IjMyMHgxODAiLDIzMDoiMjAwMHgxNDAwIiwyMzI6IjU4MHg0MDAiLDIzNDoiNng2IiwyNTE6IjJ4MiIsMjU2OiI0ODB4ODIwIiwyNTc6IjQwMHg2MDAiLDI1ODoiNTAweDIwMCIsMjU5OiI5OTh4MjAwIiwyNjQ6Ijk3MHgxMDAwIiwyNjU6IjE5MjB4MTA4MCIsMjc0OiIxODAweDIwMCIsMjc4OiIzMjB4NTAwIiwyODI6IjMyMHg0MDAiLDI4ODoiNjQweDM4MCIsNTQ4OiI1MDB4MTAwMCIsNTUwOiI5ODB4NDgwIiw1NTI6IjMwMHgyMDAiLDU1ODoiNjQweDY0MCIsNTYyOiIzMDB4NDMxIiw1NjQ6IjMyMHg0MzEiLDU2NjoiMzIweDMwMCIsNTY4OiIzMDB4MTUwIiw1NzA6IjMwMHgxMjUiLDU3MjoiMjUweDM1MCIsNTc0OiI2MjB4ODkxIiw1NzY6IjYxMHg4NzciLDU3ODoiOTgweDU1MiIsNTgwOiI1MDV4NjU2In07T2JqZWN0KG4uX2VhY2gpKGgsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGhbZV09dH0pKTt2YXIgaj17Y29kZToicnViaWNvbiIsZ3ZsaWQ6NTIsc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iLGEuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIm9iamVjdCIhPT12KGUucGFyYW1zKSlyZXR1cm4hMTtmb3IodmFyIHQ9MCxyPVsiYWNjb3VudElkIiwic2l0ZUlkIiwiem9uZUlkIl07dDxyLmxlbmd0aDt0KyspaWYoZS5wYXJhbXNbclt0XV09cGFyc2VJbnQoZS5wYXJhbXNbclt0XV0pLGlzTmFOKGUucGFyYW1zW3JbdF1dKSlyZXR1cm4gT2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiB3cm9uZyBmb3JtYXQgb2YgYWNjb3VudElkIG9yIHNpdGVJZCBvciB6b25lSWQuIiksITE7dmFyIGk9dyhlLCEwKTtyZXR1cm4hIWkmJigidmlkZW8iIT09aXx8RShlKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXSxpPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4idmlkZW8iPT09dyhlKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe2Uuc3RhcnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3ZhciByPXtpZDplLnRyYW5zYWN0aW9uSWQsdGVzdDpvLmIuZ2V0Q29uZmlnKCJkZWJ1ZyIpPzE6MCxjdXI6WyJVU0QiXSxzb3VyY2U6e3RpZDplLnRyYW5zYWN0aW9uSWR9LHRtYXg6dC50aW1lb3V0LGltcDpbe2V4cDpvLmIuZ2V0Q29uZmlnKCJzMnNDb25maWcuZGVmYXVsdFR0bCIpLGlkOmUuYWRVbml0Q29kZSxzZWN1cmU6MSxleHQ6Zyh7fSxlLmJpZGRlcixlLnBhcmFtcyksdmlkZW86T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpfHx7fX1dLGV4dDp7cHJlYmlkOntjaGFubmVsOntuYW1lOiJwYmpzIix2ZXJzaW9uOnVwYmpzLnZlcnNpb259LGNhY2hlOnt2YXN0eG1sOntyZXR1cm5DcmVhdGl2ZTohMD09PXgucmV0dXJuVmFzdH19LHRhcmdldGluZzp7aW5jbHVkZXdpbm5lcnM6ITAsaW5jbHVkZWJpZGRlcmtleXM6ITEscHJpY2VncmFudWxhcml0eTpUKG8uYil9LGJpZGRlcnM6e3J1Ymljb246e2ludGVncmF0aW9uOnguaW50X3R5cGV8fCJwYmpzIn19fX19OyJydWJpY29uIiE9PWUuYmlkZGVyJiYoci5leHQucHJlYmlkLmFsaWFzZXM9Zyh7fSxlLmJpZGRlciwicnViaWNvbiIpKTt2YXIgaSxjLHM9T2JqZWN0KHUuYSkoKS5pbnN0YWxsZWRNb2R1bGVzO2lmKCFzfHxzLmxlbmd0aCYmLTE9PT1zLmluZGV4T2YoInJ1Ymljb25BbmFseXRpY3NBZGFwdGVyIil8fE9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwiZXh0LnByZWJpZC5hbmFseXRpY3MiLHtydWJpY29uOnsiY2xpZW50LWFuYWx5dGljcyI6ITB9fSksImZ1bmN0aW9uIiE9dHlwZW9mIGUuZ2V0Rmxvb3J8fHguZGlzYWJsZUZsb29ycylpPXBhcnNlRmxvYXQoT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwicGFyYW1zLmZsb29yIikpO2Vsc2V7dmFyIGQ7dHJ5e2Q9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiJ2aWRlbyIsc2l6ZTpBKGUsInZpZGVvIil9KX1jYXRjaChlKXtPYmplY3Qobi5sb2dFcnJvcikoIlJ1Ymljb246IGdldEZsb29yIHRocmV3IGFuIGVycm9yOiAiLGUpfWk9Im9iamVjdCIhPT12KGQpfHwiVVNEIiE9PWQuY3VycmVuY3l8fGlzTmFOKHBhcnNlSW50KGQuZmxvb3IpKT92b2lkIDA6cGFyc2VGbG9hdChkLmZsb29yKX0oaXNOYU4oaSl8fChyLmltcFswXS5iaWRmbG9vcj1pKSxyLmltcFswXS5leHRbZS5iaWRkZXJdLnZpZGVvLnNpemVfaWQ9eihlKSxmdW5jdGlvbihlLHQscil7aWYoIWUpcmV0dXJuOyJvYmplY3QiPT09dihvLmIuZ2V0Q29uZmlnKCJhcHAiKSk/ZS5hcHA9by5iLmdldENvbmZpZygiYXBwIik6ZS5zaXRlPXtwYWdlOk8odCxyKX07Im9iamVjdCI9PT12KG8uYi5nZXRDb25maWcoImRldmljZSIpKSYmKGUuZGV2aWNlPW8uYi5nZXRDb25maWcoImRldmljZSIpKTt0LnBhcmFtcy52aWRlby5sYW5ndWFnZSYmWyJzaXRlIiwiZGV2aWNlIl0uZm9yRWFjaCgoZnVuY3Rpb24ocil7ZVtyXSYmKCJzaXRlIj09PXI/ZVtyXS5jb250ZW50PWIoe2xhbmd1YWdlOnQucGFyYW1zLnZpZGVvLmxhbmd1YWdlfSxlW3JdLmNvbnRlbnQpOmVbcl09Yih7bGFuZ3VhZ2U6dC5wYXJhbXMudmlkZW8ubGFuZ3VhZ2V9LGVbcl0pKX0pKX0ocixlLHQpLGZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PT12KGUuaW1wWzBdLnZpZGVvKSYmdm9pZCAwPT09ZS5pbXBbMF0udmlkZW8uc2tpcCYmKGUuaW1wWzBdLnZpZGVvLnNraXA9dC5wYXJhbXMudmlkZW8uc2tpcCk7Im9iamVjdCI9PT12KGUuaW1wWzBdLnZpZGVvKSYmdm9pZCAwPT09ZS5pbXBbMF0udmlkZW8uc2tpcGFmdGVyJiYoZS5pbXBbMF0udmlkZW8uc2tpcGFmdGVyPXQucGFyYW1zLnZpZGVvLnNraXBkZWxheSk7Im9iamVjdCI9PT12KGUuaW1wWzBdLnZpZGVvKSYmdm9pZCAwPT09ZS5pbXBbMF0udmlkZW8ucG9zJiYoImF0ZiI9PT10LnBhcmFtcy5wb3NpdGlvbj9lLmltcFswXS52aWRlby5wb3M9MToiYnRmIj09PXQucGFyYW1zLnBvc2l0aW9uJiYoZS5pbXBbMF0udmlkZW8ucG9zPTMpKTt2YXIgcj1BKHQsInZpZGVvIik7ZS5pbXBbMF0udmlkZW8udz1yWzBdLGUuaW1wWzBdLnZpZGVvLmg9clsxXX0ocixlKSx0LmdkcHJDb25zZW50KSYmKCJib29sZWFuIj09dHlwZW9mIHQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihjPXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSxPYmplY3Qobi5kZWVwU2V0VmFsdWUpKHIsInJlZ3MuZXh0LmdkcHIiLGMpLE9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwidXNlci5leHQuY29uc2VudCIsdC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSk7dC51c3BDb25zZW50JiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKHIsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHQudXNwQ29uc2VudCk7dmFyIHA9T2JqZWN0KG4uZGVlcEFjY2VzcykodCwiYmlkcy4wLnVzZXJJZEFzRWlkcyIpO3AmJnAubGVuZ3RoJiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKHIsInVzZXIuZXh0LmVpZHMiLHApO3ZhciBsPW8uYi5nZXRDb25maWcoInVzZXIuaWQiKTtsJiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKHIsInVzZXIuaWQiLGwpLCEwPT09by5iLmdldENvbmZpZygiY29wcGEiKSYmT2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLCJyZWdzLmNvcHBhIiwxKSxlLnNjaGFpbiYmVShlLnNjaGFpbikmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwic291cmNlLmV4dC5zY2hhaW4iLGUuc2NoYWluKTt2YXIgZj1vLmIuZ2V0Q29uZmlnKCJtdWx0aWJpZCIpO3JldHVybiBmJiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKHIsImV4dC5wcmViaWQubXVsdGliaWQiLGYucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciByPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtyW2UudG9Mb3dlckNhc2UoKV09dFtlXX0pKSxlLnB1c2gociksZX0pLFtdKSksUyhlLGEuZCxyKSxlLnN0b3JlZEF1Y3Rpb25SZXNwb25zZSYmT2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLmltcFswXSwiZXh0LnByZWJpZC5zdG9yZWRhdWN0aW9ucmVzcG9uc2UuaWQiLGUuc3RvcmVkQXVjdGlvblJlc3BvbnNlLnRvU3RyaW5nKCkpLE9iamVjdChuLmRlZXBTZXRWYWx1ZSkoci5pbXBbMF0sImV4dC5wcmViaWQuYXVjdGlvbnRpbWVzdGFtcCIsdC5hdWN0aW9uU3RhcnQpLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly8iLmNvbmNhdCh4LnZpZGVvSG9zdHx8InByZWJpZC1zZXJ2ZXIiLCIucnViaWNvbnByb2plY3QuY29tL29wZW5ydGIyL2F1Y3Rpb24iKSxkYXRhOnIsYmlkUmVxdWVzdDplfX0pKTtpZighMCE9PXguc2luZ2xlUmVxdWVzdClyPWkuY29uY2F0KGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIj09PXcoZSl9KSkubWFwKChmdW5jdGlvbihlKXt2YXIgcj1qLmNyZWF0ZVNsb3RQYXJhbXMoZSx0KTtyZXR1cm57bWV0aG9kOiJHRVQiLHVybDoiaHR0cHM6Ly8iLmNvbmNhdCh4LmJhbm5lckhvc3R8fCJmYXN0bGFuZSIsIi5ydWJpY29ucHJvamVjdC5jb20vYS9hcGkvZmFzdGxhbmUuanNvbiIpLGRhdGE6ai5nZXRPcmRlcmVkUGFyYW1zKHIpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgaT1yW3RdO3JldHVybiBPYmplY3Qobi5pc1N0cikoaSkmJiIiIT09aXx8T2JqZWN0KG4uaXNOdW1iZXIpKGkpPyIiLmNvbmNhdChlKS5jb25jYXQoUCh0LGkpLCImIik6ZX0pLCIiKSsic2xvdHM9MSZyYW5kPSIuY29uY2F0KE1hdGgucmFuZG9tKCkpLGJpZFJlcXVlc3Q6ZX19KSkpO2Vsc2V7dmFyIGM9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJiYW5uZXIiPT09dyhlKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuKGVbdC5wYXJhbXMuc2l0ZUlkXT1lW3QucGFyYW1zLnNpdGVJZF18fFtdKS5wdXNoKHQpLGV9KSx7fSk7cj1pLmNvbmNhdChPYmplY3Qua2V5cyhjKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7dmFyIGksbztyZXR1cm4oaT1jW3JdLG89MTAsaS5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlbz09MD9pLnNsaWNlKHQsdCtvKTpudWxsfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBpPWouY29tYmluZVNsb3RVcmxQYXJhbXMoci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBqLmNyZWF0ZVNsb3RQYXJhbXMoZSx0KX0pKSk7ZS5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOiJodHRwczovLyIuY29uY2F0KHguYmFubmVySG9zdHx8ImZhc3RsYW5lIiwiLnJ1Ymljb25wcm9qZWN0LmNvbS9hL2FwaS9mYXN0bGFuZS5qc29uIiksZGF0YTpqLmdldE9yZGVyZWRQYXJhbXMoaSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciByPWlbdF07cmV0dXJuIE9iamVjdChuLmlzU3RyKShyKSYmIiIhPT1yfHxPYmplY3Qobi5pc051bWJlcikocik/IiIuY29uY2F0KGUpLmNvbmNhdChQKHQsciksIiYiKTplfSksIiIpKyJzbG90cz0iLmNvbmNhdChyLmxlbmd0aCwiJnJhbmQ9IikuY29uY2F0KE1hdGgucmFuZG9tKCkpLGJpZFJlcXVlc3Q6cn0pfSkpLGV9KSxbXSkpfXJldHVybiByfSxnZXRPcmRlcmVkUGFyYW1zOmZ1bmN0aW9uKGUpe3ZhciB0PS9edGdfdi8scj0vXnRnX2kvLG49L15laWRffF50cGlkXy8saT1bImFjY291bnRfaWQiLCJzaXRlX2lkIiwiem9uZV9pZCIsInNpemVfaWQiLCJhbHRfc2l6ZV9pZHMiLCJwX3BvcyIsImdkcHIiLCJnZHByX2NvbnNlbnQiLCJ1c19wcml2YWN5IiwicnBfc2NoYWluIl0uY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG4udGVzdChlKX0pKSkuY29uY2F0KFsieF9saXZlcmFtcGlkbCIsInBwdWlkIiwicmYiLCJwX2dlby5sYXRpdHVkZSIsInBfZ2VvLmxvbmdpdHVkZSIsImt3Il0pLmNvbmNhdChPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnRlc3QoZSl9KSkpLmNvbmNhdChPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiByLnRlc3QoZSl9KSkpLmNvbmNhdChbInRrX2ZsaW50IiwieF9zb3VyY2UudGlkIiwieF9zb3VyY2UucGNoYWluIiwicF9zY3JlZW5fcmVzIiwicnBfZmxvb3IiLCJycF9zZWN1cmUiLCJ0a191c2VyX2tleSJdKTtyZXR1cm4gaS5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PWkuaW5kZXhPZihlKX0pKSl9LGNvbWJpbmVTbG90VXJsUGFyYW1zOmZ1bmN0aW9uKGUpe2lmKDE9PT1lLmxlbmd0aClyZXR1cm4gZVswXTt2YXIgdD1lLnJlZHVjZSgoZnVuY3Rpb24odCxyLG4pe3JldHVybiBPYmplY3Qua2V5cyhyKS5mb3JFYWNoKChmdW5jdGlvbihpKXt0Lmhhc093blByb3BlcnR5KGkpfHwodFtpXT1uZXcgQXJyYXkoZS5sZW5ndGgpKSx0W2ldLnNwbGljZShuLDEscltpXSl9KSksdH0pLHt9KSxyPW5ldyBSZWdFeHAoIl4oW147XSopKDtcXDEpKyQiKTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49dFtlXS5qb2luKCI7IiksaT1uLm1hdGNoKHIpO3RbZV09aT9pWzFdOm59KSksdH0sY3JlYXRlU2xvdFBhcmFtczpmdW5jdGlvbihlLHQpe2Uuc3RhcnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3ZhciByPWUucGFyYW1zLGk9QShlLCJiYW5uZXIiKSxjPWYoci5sYXRMb25nfHxbXSwyKSxkPWNbMF0sdT1jWzFdLHA9e2FjY291bnRfaWQ6ci5hY2NvdW50SWQsc2l0ZV9pZDpyLnNpdGVJZCx6b25lX2lkOnIuem9uZUlkLHNpemVfaWQ6aVswXSxhbHRfc2l6ZV9pZHM6aS5zbGljZSgxKS5qb2luKCIsIil8fHZvaWQgMCxycF9mbG9vcjooci5mbG9vcj1wYXJzZUZsb2F0KHIuZmxvb3IpKT49LjAxP3IuZmxvb3I6dm9pZCAwLHJwX3NlY3VyZToiMSIsdGtfZmxpbnQ6IiIuY29uY2F0KHguaW50X3R5cGV8fCJwYmpzX2xpdGUiLCJfdjUuMjAuMiIpLCJ4X3NvdXJjZS50aWQiOmUudHJhbnNhY3Rpb25JZCwieF9zb3VyY2UucGNoYWluIjpyLnBjaGFpbixwX3NjcmVlbl9yZXM6W3dpbmRvdy5zY3JlZW4ud2lkdGgsd2luZG93LnNjcmVlbi5oZWlnaHRdLmpvaW4oIngiKSx0a191c2VyX2tleTpyLnVzZXJJZCwicF9nZW8ubGF0aXR1ZGUiOmlzTmFOKHBhcnNlRmxvYXQoZCkpP3ZvaWQgMDpwYXJzZUZsb2F0KGQpLnRvRml4ZWQoNCksInBfZ2VvLmxvbmdpdHVkZSI6aXNOYU4ocGFyc2VGbG9hdCh1KSk/dm9pZCAwOnBhcnNlRmxvYXQodSkudG9GaXhlZCg0KSwidGdfZmwuZWlkIjplLmNvZGUscmY6TyhlLHQpfTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vciYmIXguZGlzYWJsZUZsb29ycyl7dmFyIGw7dHJ5e2w9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiJiYW5uZXIiLHNpemU6IioifSl9Y2F0Y2goZSl7T2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBnZXRGbG9vciB0aHJldyBhbiBlcnJvcjogIixlKX1wLnJwX2hhcmRfZmxvb3I9Im9iamVjdCIhPT12KGwpfHwiVVNEIiE9PWwuY3VycmVuY3l8fGlzTmFOKHBhcnNlSW50KGwuZmxvb3IpKT92b2lkIDA6bC5mbG9vcn12YXIgYj17MToiYXRmIiwzOiJidGYifVtPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5wb3MiKV18fCIiO3AucF9wb3M9ImF0ZiI9PT1yLnBvc2l0aW9ufHwiYnRmIj09PXIucG9zaXRpb24/ci5wb3NpdGlvbjpiO3ZhciBtPW8uYi5nZXRDb25maWcoInVzZXIuaWQiKTtyZXR1cm4gbSYmKHAucHB1aWQ9bSksZS51c2VySWRBc0VpZHMmJmUudXNlcklkQXNFaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RyeXtpZigiYWRzZXJ2ZXIub3JnIj09PWUuc291cmNlPyhwLnRwaWRfdGRpZD1lLnVpZHNbMF0uaWQscFsiZWlkX2Fkc2VydmVyLm9yZyJdPWUudWlkc1swXS5pZCk6ImxpdmVpbnRlbnQuY29tIj09PWUuc291cmNlPyhwWyJ0cGlkX2xpdmVpbnRlbnQuY29tIl09ZS51aWRzWzBdLmlkLHBbImVpZF9saXZlaW50ZW50LmNvbSJdPWUudWlkc1swXS5pZCxlLmV4dCYmQXJyYXkuaXNBcnJheShlLmV4dC5zZWdtZW50cykmJmUuZXh0LnNlZ21lbnRzLmxlbmd0aCYmKHBbInRnX3YuTElzZWciXT1lLmV4dC5zZWdtZW50cy5qb2luKCIsIikpKToibGl2ZXJhbXAuY29tIj09PWUuc291cmNlP3AueF9saXZlcmFtcGlkbD1lLnVpZHNbMF0uaWQ6ImlkNS1zeW5jLmNvbSI9PT1lLnNvdXJjZT9wWyJlaWRfaWQ1LXN5bmMuY29tIl09IiIuY29uY2F0KGUudWlkc1swXS5pZCwiXiIpLmNvbmNhdChlLnVpZHNbMF0uYXR5cGUsIl4iKS5jb25jYXQoZS51aWRzWzBdLmV4dCYmZS51aWRzWzBdLmV4dC5saW5rVHlwZXx8IiIpOnBbImVpZF8iLmNvbmNhdChlLnNvdXJjZSldPSIiLmNvbmNhdChlLnVpZHNbMF0uaWQsIl4iKS5jb25jYXQoZS51aWRzWzBdLmF0eXBlfHwiIiksIXAucHB1aWQpe3ZhciB0PXMoKShlLnVpZHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmV4dCYmInBwdWlkIj09PWUuZXh0LnN0eXBlfSkpO3QmJnQuaWQmJihwLnBwdWlkPXQuaWQpfX1jYXRjaCh0KXtPYmplY3Qobi5sb2dXYXJuKSgiUnViaWNvbjogZXJyb3IgcmVhZGluZyBlaWQ6IixlLHQpfX0pKSx0LmdkcHJDb25zZW50JiYoImJvb2xlYW4iPT10eXBlb2YgdC5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHAuZ2Rwcj1OdW1iZXIodC5nZHByQ29uc2VudC5nZHByQXBwbGllcykpLHAuZ2Rwcl9jb25zZW50PXQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksdC51c3BDb25zZW50JiYocC51c19wcml2YWN5PWVuY29kZVVSSUNvbXBvbmVudCh0LnVzcENvbnNlbnQpKSxwLnJwX21heGJpZHM9dC5iaWRMaW1pdHx8MSxTKGUsYS5iLHApLCEwPT09by5iLmdldENvbmZpZygiY29wcGEiKSYmKHAuY29wcGE9MSksZS5zY2hhaW4mJlUoZS5zY2hhaW4pJiYocC5ycF9zY2hhaW49ai5zZXJpYWxpemVTdXBwbHlDaGFpbihlLnNjaGFpbikpLHB9LHNlcmlhbGl6ZVN1cHBseUNoYWluOmZ1bmN0aW9uKGUpe2lmKCFVKGUpKXJldHVybiIiO3ZhciB0PWUudmVyLHI9ZS5jb21wbGV0ZSxuPWUubm9kZXM7cmV0dXJuIiIuY29uY2F0KHQsIiwiKS5jb25jYXQociwiISIpLmNvbmNhdChqLnNlcmlhbGl6ZVN1cHBseUNoYWluTm9kZXMobikpfSxzZXJpYWxpemVTdXBwbHlDaGFpbk5vZGVzOmZ1bmN0aW9uKGUpe3ZhciB0PVsiYXNpIiwic2lkIiwiaHAiLCJyaWQiLCJuYW1lIiwiZG9tYWluIl07cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZVt0XXx8IiIpfSkpLmpvaW4oIiwiKX0pKS5qb2luKCIhIil9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5iaWRSZXF1ZXN0O2lmKCEoZT1lLmJvZHkpfHwib2JqZWN0IiE9PXYoZSkpcmV0dXJuW107aWYoZS5zZWF0YmlkKXt2YXIgaT1PYmplY3Qobi5kZWVwQWNjZXNzKShlLCJleHQuZXJyb3JzLnJ1Ymljb24iKTtBcnJheS5pc0FycmF5KGkpJiZpLmxlbmd0aD4wJiZPYmplY3Qobi5sb2dXYXJuKSgiUnViaWNvbjogRXJyb3IgaW4gdmlkZW8gcmVzcG9uc2UiKTt2YXIgbz1bXTtyZXR1cm4gZS5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKHQpeyh0LmJpZHx8W10pLmZvckVhY2goKGZ1bmN0aW9uKGkpe3ZhciBjPXtyZXF1ZXN0SWQ6ci5iaWRJZCxjdXJyZW5jeTplLmN1cnx8IlVTRCIsY3JlYXRpdmVJZDppLmNyaWQsY3BtOmkucHJpY2V8fDAsYmlkZGVyQ29kZTp0LnNlYXQsdHRsOjMwMCxuZXRSZXZlbnVlOiExIT09eC5uZXRSZXZlbnVlLHdpZHRoOmkud3x8T2JqZWN0KG4uZGVlcEFjY2VzcykociwibWVkaWFUeXBlcy52aWRlby53Iil8fE9iamVjdChuLmRlZXBBY2Nlc3MpKHIsInBhcmFtcy52aWRlby5wbGF5ZXJXaWR0aCIpLGhlaWdodDppLmh8fE9iamVjdChuLmRlZXBBY2Nlc3MpKHIsIm1lZGlhVHlwZXMudmlkZW8uaCIpfHxPYmplY3Qobi5kZWVwQWNjZXNzKShyLCJwYXJhbXMudmlkZW8ucGxheWVySGVpZ2h0Iil9O2kuaWQmJihjLnNlYXRCaWRJZD1pLmlkKSxpLmRlYWxpZCYmKGMuZGVhbElkPWkuZGVhbGlkKSxpLmFkb21haW4mJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkoYywibWV0YS5hZHZlcnRpc2VyRG9tYWlucyIsQXJyYXkuaXNBcnJheShpLmFkb21haW4pP2kuYWRvbWFpbjpbaS5hZG9tYWluXSksT2JqZWN0KG4uZGVlcEFjY2VzcykoaSwiZXh0LmJpZGRlci5ycC5hZHZpZCIpJiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKGMsIm1ldGEuYWR2ZXJ0aXNlcklkIixpLmV4dC5iaWRkZXIucnAuYWR2aWQpO3ZhciBzPU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsImV4dC5yZXNwb25zZXRpbWVtaWxsaXMucnViaWNvbiIpO2lmKHImJnMmJihyLnNlcnZlclJlc3BvbnNlVGltZU1zPXMpLE9iamVjdChuLmRlZXBBY2Nlc3MpKGksImV4dC5wcmViaWQudHlwZSIpPT09YS5kKXtjLm1lZGlhVHlwZT1hLmQsT2JqZWN0KG4uZGVlcFNldFZhbHVlKShjLCJtZXRhLm1lZGlhVHlwZSIsYS5kKTt2YXIgdT1PYmplY3Qobi5kZWVwQWNjZXNzKShpLCJleHQucHJlYmlkLnRhcmdldGluZyIpO3UmJiJvYmplY3QiPT09dih1KSYmKGMuYWRzZXJ2ZXJUYXJnZXRpbmc9dSksaS5leHQucHJlYmlkLmNhY2hlJiYib2JqZWN0Ij09PXYoaS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwpJiZpLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC5jYWNoZUlkJiZpLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC51cmw/KGMudmlkZW9DYWNoZUtleT1pLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC5jYWNoZUlkLGMudmFzdFVybD1pLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC51cmwpOnUmJnUuaGJfdXVpZCYmdS5oYl9jYWNoZV9ob3N0JiZ1LmhiX2NhY2hlX3BhdGgmJihjLnZpZGVvQ2FjaGVLZXk9dS5oYl91dWlkLGMudmFzdFVybD0iaHR0cHM6Ly8iLmNvbmNhdCh1LmhiX2NhY2hlX2hvc3QpLmNvbmNhdCh1LmhiX2NhY2hlX3BhdGgsIj91dWlkPSIpLmNvbmNhdCh1LmhiX3V1aWQpKSxpLmFkbSYmKGMudmFzdFhtbD1pLmFkbSksaS5udXJsJiYoYy52YXN0VXJsPWkubnVybCksIWMudmFzdFVybCYmaS5udXJsJiYoYy52YXN0VXJsPWkubnVybCksIm91dHN0cmVhbSI9PT1PYmplY3Qobi5kZWVwQWNjZXNzKShyLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKS50b0xvd2VyQ2FzZSgpJiYoYy5yZW5kZXJlcj1mdW5jdGlvbihlKXt2YXIgdD1kLmEuaW5zdGFsbCh7aWQ6ZS5hZElkLHVybDp4LnJlbmRlcmVyVXJsfHx5LGNvbmZpZzp4LnJlbmRlcmVyQ29uZmlnfHx7fSxsb2FkZWQ6ITEsYWRVbml0Q29kZTplLmFkVW5pdENvZGV9KTt0cnl7dC5zZXRSZW5kZXIoXyl9Y2F0Y2goZSl7T2JqZWN0KG4ubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIHR9KGMpKX1lbHNlIE9iamVjdChuLmxvZ1dhcm4pKCJSdWJpY29uOiB2aWRlbyByZXNwb25zZSByZWNlaXZlZCBub24tdmlkZW8gbWVkaWEgdHlwZSIpO28ucHVzaChjKX0pKX0pKSxvfXZhciBjLHM9ZS5hZHMsdT0wO3JldHVybiJvYmplY3QiIT09dihyKXx8QXJyYXkuaXNBcnJheShyKXx8InZpZGVvIiE9PXcocil8fCJvYmplY3QiIT09dihzKXx8KHM9c1tyLmFkVW5pdENvZGVdKSwhQXJyYXkuaXNBcnJheShzKXx8cy5sZW5ndGg8MT9bXTpzLnJlZHVjZSgoZnVuY3Rpb24odCxpLG8pe2lmKGkuaW1wcmVzc2lvbl9pZCYmYz09PWkuaW1wcmVzc2lvbl9pZD91Kys6Yz1pLmltcHJlc3Npb25faWQsIm9rIiE9PWkuc3RhdHVzKXJldHVybiB0O3ZhciBzLGQscD1BcnJheS5pc0FycmF5KHIpP3Jbby11XTpyO2lmKHAmJiJvYmplY3QiPT09dihwKSl7dmFyIGw9e3JlcXVlc3RJZDpwLmJpZElkLGN1cnJlbmN5OiJVU0QiLGNyZWF0aXZlSWQ6aS5jcmVhdGl2ZV9pZHx8IiIuY29uY2F0KGkubmV0d29ya3x8IiIsIi0iKS5jb25jYXQoaS5hZHZlcnRpc2VyfHwiIiksY3BtOmkuY3BtfHwwLGRlYWxJZDppLmRlYWwsdHRsOjMwMCxuZXRSZXZlbnVlOiExIT09eC5uZXRSZXZlbnVlLHJ1Ymljb246e2FkdmVydGlzZXJJZDppLmFkdmVydGlzZXIsbmV0d29ya0lkOmkubmV0d29ya30sbWV0YTp7YWR2ZXJ0aXNlcklkOmkuYWR2ZXJ0aXNlcixuZXR3b3JrSWQ6aS5uZXR3b3JrLG1lZGlhVHlwZTphLmJ9fTtpZihpLmNyZWF0aXZlX3R5cGUmJihsLm1lZGlhVHlwZT1pLmNyZWF0aXZlX3R5cGUpLGkuYWRvbWFpbiYmKGwubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1BcnJheS5pc0FycmF5KGkuYWRvbWFpbik/aS5hZG9tYWluOltpLmFkb21haW5dKSxpLmNyZWF0aXZlX3R5cGU9PT1hLmQpbC53aWR0aD1wLnBhcmFtcy52aWRlby5wbGF5ZXJXaWR0aCxsLmhlaWdodD1wLnBhcmFtcy52aWRlby5wbGF5ZXJIZWlnaHQsbC52YXN0VXJsPWkuY3JlYXRpdmVfZGVwb3RfdXJsLGwuaW1wcmVzc2lvbl9pZD1pLmltcHJlc3Npb25faWQsbC52aWRlb0NhY2hlS2V5PWkuaW1wcmVzc2lvbl9pZDtlbHNle2wuYWQ9KHM9aS5zY3JpcHQsZD1pLmltcHJlc3Npb25faWQsIjxodG1sPlxuPGhlYWQ+PHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPmluRGFwSUY9dHJ1ZTs8XC9zY3JpcHQ+PC9oZWFkPlxuPGJvZHkgc3R5bGU9J21hcmdpbiA6IDA7IHBhZGRpbmc6IDA7Jz5cblx4M2MhLS0gUnViaWNvbiBQcm9qZWN0IEFkIFRhZyAtLVx4M2VcbjxkaXYgZGF0YS1ycC1pbXByZXNzaW9uLWlkPSciLmNvbmNhdChkLCInPlxuPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPiIpLmNvbmNhdChzLCI8XC9zY3JpcHQ+XG48L2Rpdj5cbjwvYm9keT5cbjwvaHRtbD4iKSk7dmFyIGI9ZihoW2kuc2l6ZV9pZF0uc3BsaXQoIngiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoZSl9KSksMik7bC53aWR0aD1iWzBdLGwuaGVpZ2h0PWJbMV19bC5ydWJpY29uVGFyZ2V0aW5nPShBcnJheS5pc0FycmF5KGkudGFyZ2V0aW5nKT9pLnRhcmdldGluZzpbXSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlW3Qua2V5XT10LnZhbHVlc1swXSxlfSkse3JwZmxfZWxlbWlkOnAuYWRVbml0Q29kZX0pLHQucHVzaChsKX1lbHNlIE9iamVjdChuLmxvZ0Vycm9yKSgiUnViaWNvbjogYmlkUmVxdWVzdCB1bmRlZmluZWQgYXQgaW5kZXggcG9zaXRpb246Ii5jb25jYXQobykscixlKTtyZXR1cm4gdH0pLFtdKS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybih0LmNwbXx8MCktKGUuY3BtfHwwKX0pKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe2lmKCFOJiZlLmlmcmFtZUVuYWJsZWQpe3ZhciBpPSIiO3JldHVybiByJiYic3RyaW5nIj09dHlwZW9mIHIuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIHIuZ2RwckFwcGxpZXM/aSs9Ij9nZHByPSIuY29uY2F0KE51bWJlcihyLmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQoci5jb25zZW50U3RyaW5nKTppKz0iP2dkcHJfY29uc2VudD0iLmNvbmNhdChyLmNvbnNlbnRTdHJpbmcpKSxuJiYoaSs9IiIuY29uY2F0KGk/IiYiOiI/IiwidXNfcHJpdmFjeT0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KG4pKSksTj0hMCx7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vIi5jb25jYXQoeC5zeW5jSG9zdHx8ImV1cyIsIi5ydWJpY29ucHJvamVjdC5jb20vdXN5bmMuaHRtbCIpK2l9fX0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChuLmNvbnZlcnRUeXBlcykoe2FjY291bnRJZDoibnVtYmVyIixzaXRlSWQ6Im51bWJlciIsem9uZUlkOiJudW1iZXIifSxlKX19O2Z1bmN0aW9uIE8oZSx0KXt2YXIgcj1vLmIuZ2V0Q29uZmlnKCJwYWdlVXJsIik7cmV0dXJuIGUucGFyYW1zLnJlZmVycmVyP3I9ZS5wYXJhbXMucmVmZXJyZXI6cnx8KHI9dC5yZWZlcmVySW5mby5yZWZlcmVyKSxlLnBhcmFtcy5zZWN1cmU/ci5yZXBsYWNlKC9eaHR0cDovaSwiaHR0cHM6Iik6cn1mdW5jdGlvbiBfKGUpe3ZhciB0LHI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS5hZFVuaXRDb2RlKTsodD1yLnF1ZXJ5U2VsZWN0b3IoImRpdltpZF49J2dvb2dsZV9hZHMnXSIpKSYmdC5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlzcGxheSIsIm5vbmUiKSxmdW5jdGlvbihlKXt2YXIgdD1lLnF1ZXJ5U2VsZWN0b3IoInNjcmlwdFtpZF49J3Nhc19zY3JpcHQnXSIpLHI9dCYmdC5uZXh0U2libGluZztyJiYiaWZyYW1lIj09PXIubG9jYWxOYW1lJiZyLnN0eWxlLnNldFByb3BlcnR5KCJkaXNwbGF5Iiwibm9uZSIpfShyKTt2YXIgbj1lLnJlbmRlcmVyLmdldENvbmZpZygpO2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cuTWFnbml0ZUFwZXgucmVuZGVyQWQoe3dpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LHZhc3RVcmw6ZS52YXN0VXJsLHBsYWNlbWVudDp7YXR0YWNoVG86IiMiLmNvbmNhdChlLmFkVW5pdENvZGUpLGFsaWduOm4uYWxpZ258fCJjZW50ZXIiLHBvc2l0aW9uOm4ucG9zaXRpb258fCJhcHBlbmQifSxjbG9zZUJ1dHRvbjpuLmNsb3NlQnV0dG9ufHwhMSxsYWJlbDpuLmxhYmVsfHx2b2lkIDAsY29sbGFwc2U6bi5jb2xsYXBzZXx8ITB9KX0pKX1mdW5jdGlvbiBBKGUsdCl7dmFyIHI9ZS5wYXJhbXM7aWYoInZpZGVvIj09PXQpe3ZhciBpPVtdO3JldHVybiByLnZpZGVvJiZyLnZpZGVvLnBsYXllcldpZHRoJiZyLnZpZGVvLnBsYXllckhlaWdodD9pPVtyLnZpZGVvLnBsYXllcldpZHRoLHIudmlkZW8ucGxheWVySGVpZ2h0XTpBcnJheS5pc0FycmF5KE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpKSYmMT09PWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplLmxlbmd0aD9pPWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdOkFycmF5LmlzQXJyYXkoZS5zaXplcykmJmUuc2l6ZXMubGVuZ3RoPjAmJkFycmF5LmlzQXJyYXkoZS5zaXplc1swXSkmJmUuc2l6ZXNbMF0ubGVuZ3RoPjEmJihpPWUuc2l6ZXNbMF0pLGl9dmFyIG89W107cmV0dXJuIEFycmF5LmlzQXJyYXkoci5zaXplcyk/bz1yLnNpemVzOnZvaWQgMCE9PU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIik/bz1DKGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpOkFycmF5LmlzQXJyYXkoZS5zaXplcykmJmUuc2l6ZXMubGVuZ3RoPjA/bz1DKGUuc2l6ZXMpOk9iamVjdChuLmxvZ1dhcm4pKCJSdWJpY29uOiBubyBzaXplcyBhcmUgc2V0dXAgb3IgZm91bmQiKSxSKG8pfWZ1bmN0aW9uIFMoZSx0LHIpe3ZhciBpPXt1c2VyOntleHQ6e2RhdGE6bCh7fSxlLnBhcmFtcy52aXNpdG9yKX19LHNpdGU6e2V4dDp7ZGF0YTpsKHt9LGUucGFyYW1zLmludmVudG9yeSl9fX07ZS5wYXJhbXMua2V5d29yZHMmJihpLnNpdGUua2V5d29yZHM9T2JqZWN0KG4uaXNBcnJheSkoZS5wYXJhbXMua2V5d29yZHMpP2UucGFyYW1zLmtleXdvcmRzLmpvaW4oIiwiKTplLnBhcmFtcy5rZXl3b3Jkcyk7dmFyIGM9T2JqZWN0KG4ubWVyZ2VEZWVwKSh7fSxvLmIuZ2V0Q29uZmlnKCJvcnRiMiIpfHx7fSxpKSxzPU9iamVjdChuLmRlZXBBY2Nlc3MpKGUub3J0YjJJbXAsImV4dC5kYXRhIil8fHt9LGQ9e3VzZXI6WzRdLHNpdGU6WzEsMiw1LDZdfSx1PXt1c2VyOiJ0Z192LiIsc2l0ZToidGdfaS4iLGFkc2VydmVyOiJ0Z19pLmRmcF9hZF91bml0X2NvZGUiLHBiYWRzbG90OiJ0Z19pLnBiYWRzbG90IixrZXl3b3Jkczoia3cifSxwPWZ1bmN0aW9uKGUsdCxyKXtpZigiZGF0YSI9PT10JiZBcnJheS5pc0FycmF5KGUpKXJldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2VnbWVudCYmT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwiZXh0LnNlZ3RheCIpJiZkW3JdJiYtMSE9PWRbcl0uaW5kZXhPZihPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJleHQuc2VndGF4IikpfSkpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZWdtZW50LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLnB1c2godC5pZCksZX0pLFtdKTtpZih0Lmxlbmd0aD4wKXJldHVybiB0LnRvU3RyaW5nKCl9KSkudG9TdHJpbmcoKTtpZigib2JqZWN0IiE9PXYoZSl8fEFycmF5LmlzQXJyYXkoZSkpe2lmKHZvaWQgMCE9PWUpcmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiIT09dihlKSYmdm9pZCAwIT09ZSlyZXR1cm4gZS50b1N0cmluZygpO09iamVjdChuLmxvZ1dhcm4pKCJSdWJpY29uOiBGaWx0ZXJlZCB2YWx1ZTogIixlLCJmb3Iga2V5Iix0LCI6IEV4cGVjdGVkIHZhbHVlIHRvIGJlIHN0cmluZywgaW50ZWdlciwgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncy9pbnRzIil9KSkudG9TdHJpbmcoKTplLnRvU3RyaW5nKCl9ZWxzZSBPYmplY3Qobi5sb2dXYXJuKSgiUnViaWNvbjogRmlsdGVyZWQgRlBEIGtleTogIix0LCI6IEV4cGVjdGVkIHZhbHVlIHRvIGJlIHN0cmluZywgaW50ZWdlciwgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncy9pbnRzIil9LGI9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPSEoYXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10pfHxhcmd1bWVudHNbM10sbz1wKGUsbix0KSxhPXVbbl0mJmk/IiIuY29uY2F0KHVbbl0pOiJkYXRhIj09PW4/IiIuY29uY2F0KHVbdF0sImlhYiIpOiIiLmNvbmNhdCh1W3RdKS5jb25jYXQobik7clthXT1yW2FdP3JbYV0uY29uY2F0KCIsIixvKTpvfTtPYmplY3Qua2V5cyhzKS5mb3JFYWNoKChmdW5jdGlvbihlKXsiYWRzZXJ2ZXIiPT09ZT9bIm5hbWUiLCJhZHNsb3QiXS5mb3JFYWNoKChmdW5jdGlvbih0KXtzW2VdW3RdJiYoc1tlXVt0XT1zW2VdW3RdLnRvU3RyaW5nKCkucmVwbGFjZSgvXlwvKy8sIiIpKX0pKToicGJhZHNsb3QiPT09ZSYmKHNbZV09c1tlXS50b1N0cmluZygpLnJlcGxhY2UoL15cLysvLCIiKSl9KSksdD09PWEuYj8oWyJzaXRlIiwidXNlciJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGNbZV0pLmZvckVhY2goKGZ1bmN0aW9uKHQpeyJzaXRlIj09PWUmJiJjb250ZW50Ij09PXQmJmNbZV1bdF0uZGF0YT9iKGNbZV1bdF0uZGF0YSxlLCJkYXRhIik6ImV4dCIhPT10P2IoY1tlXVt0XSxlLHQpOmNbZV1bdF0uZGF0YSYmT2JqZWN0LmtleXMoY1tlXS5leHQuZGF0YSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7YihjW2VdLmV4dC5kYXRhW3RdLGUsdCwhMSl9KSl9KSl9KSksT2JqZWN0LmtleXMocykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ImFkc2VydmVyIj09PWU/YihzW2VdLmFkc2xvdCxuYW1lLGUpOmIoc1tlXSwic2l0ZSIsZSl9KSkpOihPYmplY3Qua2V5cyhzKS5sZW5ndGgmJk9iamVjdChuLm1lcmdlRGVlcCkoci5pbXBbMF0uZXh0LHtkYXRhOnN9KSxPYmplY3Qobi5tZXJnZURlZXApKHIsYykpfWZ1bmN0aW9uIEMoZSl7cmV0dXJuIE9iamVjdChuLnBhcnNlU2l6ZXNJbnB1dCkoZSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciByPXBhcnNlSW50KGhbdF0sMTApO3JldHVybiByJiZlLnB1c2gociksZX0pLFtdKX1mdW5jdGlvbiBJKGUpe3JldHVybiJvYmplY3QiPT09dihPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8iKSkmJnZvaWQgMCE9PU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoYS5kKSl9ZnVuY3Rpb24gdyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3JldHVybiBJKGUpPy0xPT09WyJvdXRzdHJlYW0iLCJpbnN0cmVhbSJdLmluZGV4T2YoT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChhLmQsIi5jb250ZXh0IikpKT92b2lkKHQmJk9iamVjdChuLmxvZ0Vycm9yKSgiUnViaWNvbjogbWVkaWFUeXBlcy52aWRlby5jb250ZXh0IG11c3QgYmUgb3V0c3RyZWFtIG9yIGluc3RyZWFtIikpOkEoZSwidmlkZW8iKS5sZW5ndGg8Mj92b2lkKHQmJk9iamVjdChuLmxvZ0Vycm9yKSgiUnViaWNvbjogY291bGQgbm90IGRldGVybWluZSB0aGUgcGxheWVyU2l6ZSBvZiB0aGUgdmlkZW8iKSk6KHQmJk9iamVjdChuLmxvZ01lc3NhZ2UpKCJSdWJpY29uOiBtYWtpbmcgdmlkZW8gcmVxdWVzdCBmb3IgYWRVbml0IixlLmFkVW5pdENvZGUpLCJ2aWRlbyIpOjA9PT1BKGUsImJhbm5lciIpLmxlbmd0aD92b2lkKHQmJk9iamVjdChuLmxvZ0Vycm9yKSgiUnViaWNvbjogY291bGQgbm90IGRldGVybWluZSB0aGUgc2l6ZXMgZm9yIGJhbm5lciByZXF1ZXN0IikpOih0JiZPYmplY3Qobi5sb2dNZXNzYWdlKSgiUnViaWNvbjogbWFraW5nIGJhbm5lciByZXF1ZXN0IGZvciBhZFVuaXQiLGUuYWRVbml0Q29kZSksImJhbm5lciIpfXZhciBrPWZ1bmN0aW9uKCl7cmV0dXJuIHg9e319O2Z1bmN0aW9uIFIoZSl7dmFyIHQ9WzE1LDIsOV07cmV0dXJuIGUuc29ydCgoZnVuY3Rpb24oZSxyKXt2YXIgbj10LmluZGV4T2YoZSksaT10LmluZGV4T2Yocik7cmV0dXJuIG4+LTF8fGk+LTE/LTE9PT1uPzE6LTE9PT1pPy0xOm4taTplLXJ9KSl9ZnVuY3Rpb24geihlKXt2YXIgdD1wYXJzZUludChPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8uc2l6ZV9pZCIpKTtyZXR1cm4gaXNOYU4odCk/Im91dHN0cmVhbSI9PT1PYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KGEuZCwiLmNvbnRleHQiKSk/MjAzOjIwMTp0fWZ1bmN0aW9uIFQoZSl7cmV0dXJue3Jhbmdlczp7bG93Olt7bWF4OjUsaW5jcmVtZW50Oi41fV0sbWVkaXVtOlt7bWF4OjIwLGluY3JlbWVudDouMX1dLGhpZ2g6W3ttYXg6MjAsaW5jcmVtZW50Oi4wMX1dLGF1dG86W3ttYXg6NSxpbmNyZW1lbnQ6LjA1fSx7bWluOjUsbWF4OjEwLGluY3JlbWVudDouMX0se21pbjoxMCxtYXg6MjAsaW5jcmVtZW50Oi41fV0sZGVuc2U6W3ttYXg6MyxpbmNyZW1lbnQ6LjAxfSx7bWluOjMsbWF4OjgsaW5jcmVtZW50Oi4wNX0se21pbjo4LG1heDoyMCxpbmNyZW1lbnQ6LjV9XSxjdXN0b206ZS5nZXRDb25maWcoImN1c3RvbVByaWNlQnVja2V0IikmJmUuZ2V0Q29uZmlnKCJjdXN0b21QcmljZUJ1Y2tldCIpLmJ1Y2tldHN9W2UuZ2V0Q29uZmlnKCJwcmljZUdyYW51bGFyaXR5IildfX1mdW5jdGlvbiBFKGUpe3ZhciB0PSEwLHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFtdKSxpPXttaW1lczpyLHByb3RvY29sczpyLGxpbmVhcml0eTpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoMCksYXBpOnJ9O3JldHVybiBPYmplY3Qua2V5cyhpKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby4iK3IpKSE9PWlbcl0mJih0PSExLE9iamVjdChuLmxvZ0Vycm9yKSgiUnViaWNvbjogbWVkaWFUeXBlcy52aWRlby4iK3IrIiBpcyByZXF1aXJlZCBhbmQgbXVzdCBiZSBvZiB0eXBlOiAiK2lbcl0pKX0pKSx0fWZ1bmN0aW9uIFUoZSl7dmFyIHQ9ITEscj1bImFzaSIsInNpZCIsImhwIl07cmV0dXJuIGUubm9kZXM/KCh0PWUubm9kZXMucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlP3IuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KGUpfSkpOmV9KSwhMCkpfHxPYmplY3Qobi5sb2dFcnJvcikoIlJ1Ymljb246IHJlcXVpcmVkIHNjaGFpbiBwYXJhbXMgbWlzc2luZyIpLHQpOnR9ZnVuY3Rpb24gUChlLHQpe3JldHVybiJycF9zY2hhaW4iPT09ZT8icnBfc2NoYWluPSIuY29uY2F0KHQpOiIiLmNvbmNhdChlLCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0KSl9dmFyIE49ITE7T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGopfX0sWzc3OF0pOwp1cGJqc0NodW5rKFsxMzVdLHs3ODQ6ZnVuY3Rpb24obixpLGUpe24uZXhwb3J0cz1lKDc4NSl9LDc4NTpmdW5jdGlvbihuLGksZSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxpLmlzU2NoYWluT2JqZWN0VmFsaWQ9aCxpLmlzVmFsaWRTY2hhaW5Db25maWc9dSxpLm1ha2VCaWRSZXF1ZXN0c0hvb2s9TyxpLmluaXQ9bDt2YXIgdD1lKDMpLGM9ZSg4KSxvPWUoMCksYT0iSW52YWxpZCBzY2hhaW4gb2JqZWN0IGZvdW5kOiAiLHM9IiBzaG91bGQgYmUgYSBzdHJpbmciLHI9IiBzaG91bGQgYmUgYW4gSW50ZWdlciIsZj0iIHNob3VsZCBiZSBhbiBvYmplY3QiLGQ9e1NUUklDVDoic3RyaWN0IixSRUxBWEVEOiJyZWxheGVkIixPRkY6Im9mZiJ9LGI9W107ZnVuY3Rpb24gaChuLGkpe3ZhciBlPSJEZXRlY3RlZCBzb21ldGhpbmcgd3Jvbmcgd2l0aGluIGFuIHNjaGFpbiBjb25maWc6Iix0PSIiO2Z1bmN0aW9uIGMobil7dCs9IlxuIitufWZ1bmN0aW9uIGEoKXshMD09PWk/T2JqZWN0KG8ubG9nRXJyb3IpKGUsbix0KTpPYmplY3Qoby5sb2dXYXJuKShlLG4sdCl9aWYoIU9iamVjdChvLmlzUGxhaW5PYmplY3QpKG4pJiYoYygic2NoYWluLmNvbmZpZyIrZiksYSgpLGkpKXJldHVybiExO2lmKE9iamVjdChvLmlzTnVtYmVyKShuLmNvbXBsZXRlKSYmT2JqZWN0KG8uaXNJbnRlZ2VyKShuLmNvbXBsZXRlKXx8Yygic2NoYWluLmNvbmZpZy5jb21wbGV0ZSIrciksT2JqZWN0KG8uaXNTdHIpKG4udmVyKXx8Yygic2NoYWluLmNvbmZpZy52ZXIiK3MpLE9iamVjdChvLmhhc093bikobiwiZXh0IikmJihPYmplY3Qoby5pc1BsYWluT2JqZWN0KShuLmV4dCl8fGMoInNjaGFpbi5jb25maWcuZXh0IitmKSksT2JqZWN0KG8uaXNBcnJheSkobi5ub2Rlcykpbi5ub2Rlcy5mb3JFYWNoKChmdW5jdGlvbihuLGkpe09iamVjdChvLmlzU3RyKShuLmFzaSl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5hc2kiKStzKSxPYmplY3Qoby5pc1N0cikobi5zaWQpfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0uc2lkIikrcyksT2JqZWN0KG8uaXNOdW1iZXIpKG4uaHApJiZPYmplY3Qoby5pc0ludGVnZXIpKG4uaHApfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0uaHAiKStyKSxPYmplY3Qoby5oYXNPd24pKG4sInJpZCIpJiYoT2JqZWN0KG8uaXNTdHIpKG4ucmlkKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLnJpZCIpK3MpKSxPYmplY3Qoby5oYXNPd24pKG4sIm5hbWUiKSYmKE9iamVjdChvLmlzU3RyKShuLm5hbWUpfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0ubmFtZSIpK3MpKSxPYmplY3Qoby5oYXNPd24pKG4sImRvbWFpbiIpJiYoT2JqZWN0KG8uaXNTdHIpKG4uZG9tYWluKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLmRvbWFpbiIpK3MpKSxPYmplY3Qoby5oYXNPd24pKG4sImV4dCIpJiYoT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobi5leHQpfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0uZXh0IikrZikpfSkpO2Vsc2UgaWYoYygic2NoYWluLmNvbmZpZy5ub2RlcyBzaG91bGQgYmUgYW4gQXJyYXkiKSxhKCksaSlyZXR1cm4hMTtyZXR1cm4hKHQubGVuZ3RoPjAmJihhKCksaSkpfWZ1bmN0aW9uIHUobil7cmV0dXJuIHZvaWQgMCE9PW4mJighIU9iamVjdChvLmlzUGxhaW5PYmplY3QpKG4pfHwoT2JqZWN0KG8ubG9nRXJyb3IpKGErInRoZSBmb2xsb3dpbmcgc2NoYWluIGNvbmZpZyB3aWxsIG5vdCBiZSB1c2VkIGFzIHNjaGFpbiBpcyBub3QgYW4gb2JqZWN0LiIsbiksITEpKX1mdW5jdGlvbiBPKG4saSl7dmFyIGU9dC5iLmdldENvbmZpZygic2NoYWluIiksYz10LmIuZ2V0QmlkZGVyQ29uZmlnKCk7aS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgaT1uLmJpZGRlckNvZGUsdD1mdW5jdGlvbihuKXtyZXR1cm4gY1tuXSYmY1tuXS5zY2hhaW58fGV9KGkpO24uYmlkcy5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgZT1mdW5jdGlvbihuLGkpe3ZhciBlPWQuU1RSSUNUO2lmKHUobikpe2lmKE9iamVjdChvLmlzU3RyKShuLnZhbGlkYXRpb24pJiYtMSE9Yi5pbmRleE9mKG4udmFsaWRhdGlvbikmJihlPW4udmFsaWRhdGlvbiksZT09PWQuT0ZGKXJldHVybiBuLmNvbmZpZztpZihoKG4uY29uZmlnLCEoZSE9PWQuU1RSSUNUKSkpcmV0dXJuIG4uY29uZmlnO09iamVjdChvLmxvZ0Vycm9yKShhKyJkdWUgdG8gdGhlICdzdHJpY3QnIHZhbGlkYXRpb24gc2V0dGluZywgdGhpcyBzY2hhaW4gY29uZmlnIHdpbGwgbm90IGJlIHBhc3NlZCB0byBiaWRkZXIgJyIuY29uY2F0KGksIicuICBTZWUgYWJvdmUgZXJyb3IgZm9yIGRldGFpbHMuIikpfXJldHVybiBudWxsfSh0LGkpO2UmJihuLnNjaGFpbj1lKX0pKX0pKSxuKGkpfWZ1bmN0aW9uIGwoKXtjLmRlZmF1bHQubWFrZUJpZFJlcXVlc3RzLmFmdGVyKE8pfU9iamVjdChvLl9lYWNoKShkLChmdW5jdGlvbihuKXtyZXR1cm4gYi5wdXNoKG4pfSkpLGwoKX19LFs3ODRdKTsKdXBianNDaHVuayhbMjJdLHsxNzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKWlmKCJwdWJQcm92aWRlZElkIj09PXIpdD10LmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIG49aShlW3JdLHIpO24mJnQucHVzaChuKX1yZXR1cm4gdH0sdC5hPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmT2JqZWN0KG4uZGVlcEFjY2VzcykobyxyKyIuc291cmNlIikmJnQucHVzaCh7c291cmNlOm9bcl0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHR9O3ZhciBuPXIoMCksbz17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LG5hdmVnZ0lkOntzb3VyY2U6Im5hdmVnZy5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChuLnBpY2spKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxwdWJsaW5rSWQ6e3NvdXJjZToiZXBzaWxvbi5jb20iLGF0eXBlOjN9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfSxjb25uZWN0SWQ6e3NvdXJjZToieWFob28uY29tIixhdHlwZTozfX07ZnVuY3Rpb24gaShlLHQpe3ZhciByPW9bdF07aWYociYmZSl7dmFyIGk9e307aS5zb3VyY2U9ci5zb3VyY2U7dmFyIGE9T2JqZWN0KG4uaXNGbikoci5nZXRWYWx1ZSk/ci5nZXRWYWx1ZShlKTplO2lmKE9iamVjdChuLmlzU3RyKShhKSl7dmFyIGM9e2lkOmEsYXR5cGU6ci5hdHlwZX07aWYoT2JqZWN0KG4uaXNGbikoci5nZXRVaWRFeHQpKXt2YXIgdT1yLmdldFVpZEV4dChlKTt1JiYoYy5leHQ9dSl9aWYoaS51aWRzPVtjXSxPYmplY3Qobi5pc0ZuKShyLmdldEVpZEV4dCkpe3ZhciBkPXIuZ2V0RWlkRXh0KGUpO2QmJihpLmV4dD1kKX1yZXR1cm4gaX19cmV0dXJuIG51bGx9fSw3OTQ6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDc5NSl9LDc5NTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic2hhcmV0aHJvdWdoSW50ZXJuYWwiLChmdW5jdGlvbigpe3JldHVybiBifSkpLHIuZCh0LCJzaGFyZXRocm91Z2hBZGFwdGVyU3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSk7dmFyIG49cigwKSxvPXIoMSksaT1yKDMpLGE9cigyKSxjPXIoMTcpO2Z1bmN0aW9uIHUoZSl7cmV0dXJuKHU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBkKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBzKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2QoT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtwKGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpkKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHAoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfWZ1bmN0aW9uIGwoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgbixvLGk9W10sYT0hMCxjPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShhPShuPXIubmV4dCgpKS5kb25lKSYmKGkucHVzaChuLnZhbHVlKSwhdHx8aS5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7Yz0hMCxvPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IG99fXJldHVybiBpfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHkoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIHkoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHkoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn12YXIgZj0ic2hhcmV0aHJvdWdoIixtPSJodHRwczovL2J0bHIuc2hhcmV0aHJvdWdoLmNvbS91bml2ZXJzYWwvdjE/c3VwcGx5X2lkPSIuY29uY2F0KCJXWXUyQlh2MSIpLGI9e2dldFByb3RvY29sOmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbH19LGc9e2NvZGU6ZixzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmQsYS5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyYW1zLnBrZXkmJmUuYmlkZGVyPT09Zn0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPWkuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKSxvPWIuZ2V0UHJvdG9jb2woKS5pbmRleE9mKCJodHRwIik8MHx8Yi5nZXRQcm90b2NvbCgpLmluZGV4T2YoImh0dHBzIik+LTEsYT17aWQ6T2JqZWN0KG4uZ2VuZXJhdGVVVUlEKSgpLGF0OjEsY3VyOlsiVVNEIl0sdG1heDpyLHNpdGU6e2RvbWFpbjp3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUscGFnZTp3aW5kb3cubG9jYXRpb24uaHJlZixyZWY6dC5yZWZlcmVySW5mbyYmdC5yZWZlcmVySW5mby5yZWZlcmVyfHxudWxsfSx1c2VyOntleHQ6e2VpZHM6SShlWzBdKX19LGRldmljZTp7dWE6bmF2aWdhdG9yLnVzZXJBZ2VudCxsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2UsanM6MSxkbnQ6IjEiPT09bmF2aWdhdG9yLmRvTm90VHJhY2s/MTowLGg6d2luZG93LnNjcmVlbi5oZWlnaHQsdzp3aW5kb3cuc2NyZWVuLndpZHRofSxyZWdzOntjb3BwYTohMD09PWkuYi5nZXRDb25maWcoImNvcHBhIik/MTowLGV4dDp7fX0sc291cmNlOntleHQ6e3ZlcnNpb246IjUuMjAuMiIsc3RyOiI0LjAuMSIsc2NoYWluOmVbMF0uc2NoYWlufX0sYmNhdDplWzBdLnBhcmFtcy5iY2F0fHxbXSxiYWR2OmVbMF0ucGFyYW1zLmJhZHZ8fFtdLHRlc3Q6MH07aWYodC5nZHByQ29uc2VudCl7dmFyIGM9ITA9PT10LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzO2EucmVncy5leHQuZ2Rwcj1jPzE6MCxjJiYoYS51c2VyLmV4dC5jb25zZW50PXQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyl9cmV0dXJuIHQudXNwQ29uc2VudCYmKGEucmVncy5leHQudXNfcHJpdmFjeT10LnVzcENvbnNlbnQpLGUubWFwKChmdW5jdGlvbihlKXt2YXIgdD17fSxyPU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5kYXRhLnBiYWRzbG90Iik7aWYociYmKHQuZXh0PXtncGlkOnJ9KSxlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbyYmIm91dHN0cmVhbSI9PT1lLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dClyZXR1cm4gbnVsbDtpZihlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbyl7dmFyIGk9ZS5tZWRpYVR5cGVzLnZpZGVvLGE9NjQwLGM9MzYwO2lmKGkucGxheWVyU2l6ZSYmaS5wbGF5ZXJTaXplWzBdJiZpLnBsYXllclNpemVbMV0pe3ZhciB1PWwoaS5wbGF5ZXJTaXplLDIpO2E9dVswXSxjPXVbMV19dC52aWRlbz17cG9zOmooaS5wb3MsMCksdG9wZnJhbWU6T2JqZWN0KG4uaW5JZnJhbWUpKCk/MDoxLHNraXA6aihpLnNraXAsMCksbGluZWFyaXR5OmooaS5saW5lYXJpdHksMSksbWluZHVyYXRpb246aihpLm1pbmR1cmF0aW9uLDUpLG1heGR1cmF0aW9uOmooaS5tYXhkdXJhdGlvbiw2MCkscGxheWJhY2ttZXRob2Q6aS5wbGF5YmFja21ldGhvZHx8WzJdLGFwaTp2KGkpLG1pbWVzOmkubWltZXN8fFsidmlkZW8vbXA0Il0scHJvdG9jb2xzOmgoaSksdzphLGg6YyxzdGFydGRlbGF5OmooaS5zdGFydGRlbGF5LDApLHNraXBtaW46aihpLnNraXBtaW4sMCksc2tpcGFmdGVyOmooaS5za2lwYWZ0ZXIsMCl9LGkucGxhY2VtZW50JiYodC52aWRlby5wbGFjZW1lbnQ9aS5wbGFjZW1lbnQpLGkuZGVsaXZlcnkmJih0LnZpZGVvLmRlbGl2ZXJ5PWkuZGVsaXZlcnkpLGkuY29tcGFuaW9udHlwZSYmKHQudmlkZW8uY29tcGFuaW9udHlwZT1pLmNvbXBhbmlvbnR5cGUpLGkuY29tcGFuaW9uYWQmJih0LnZpZGVvLmNvbXBhbmlvbmFkPWkuY29tcGFuaW9uYWQpfWVsc2UgdC5iYW5uZXI9e3BvczpPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5wb3MiLDApLHRvcGZyYW1lOk9iamVjdChuLmluSWZyYW1lKSgpPzA6MSxmb3JtYXQ6ZS5zaXplcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OitlWzBdLGg6K2VbMV19fSkpfTtyZXR1cm4gcyh7aWQ6ZS5iaWRJZCx0YWdpZDpTdHJpbmcoZS5wYXJhbXMucGtleSksc2VjdXJlOm8/MTowLGJpZGZsb29yOk8oZSl9LHQpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuISFlfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOm0sZGF0YTpzKHMoe30sYSkse30se2ltcDpbZV19KX19KSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ib2R5O3JldHVybiByJiZyLnNlYXRiaWQmJjAhPT1yLnNlYXRiaWQubGVuZ3RoJiZyLnNlYXRiaWRbMF0uYmlkJiYwIT09ci5zZWF0YmlkWzBdLmJpZC5sZW5ndGg/ci5zZWF0YmlkWzBdLmJpZC5tYXAoKGZ1bmN0aW9uKGUpe3ZhciBuPXtyZXF1ZXN0SWQ6ZS5pbXBpZCx3aWR0aDorZS53LGhlaWdodDorZS5oLGNwbTorZS5wcmljZSxjcmVhdGl2ZUlkOmUuY3JpZCxkZWFsSWQ6ZS5kZWFsaWR8fG51bGwsbWVkaWFUeXBlOnQuZGF0YS5pbXBbMF0udmlkZW8/YS5kOmEuYixjdXJyZW5jeTpyLmN1cnx8IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6MzYwLGFkOmUuYWRtLG51cmw6ZS5udXJsLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmUuYWRvbWFpbnx8W119fTtyZXR1cm4gbi5tZWRpYVR5cGU9PT1hLmQmJihuLnR0bD0zNjAwLG4udmFzdFhtbD1lLmFkbSksbn0pKTpbXX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPW4/IiZ1c19wcml2YWN5PSIuY29uY2F0KG4pOiIiLGk9W107cmV0dXJuIGUucGl4ZWxFbmFibGVkJiZ0Lmxlbmd0aD4wJiZ0WzBdLmJvZHkmJnRbMF0uYm9keS5jb29raWVTeW5jVXJscyYmdFswXS5ib2R5LmNvb2tpZVN5bmNVcmxzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kucHVzaCh7dHlwZToiaW1hZ2UiLHVybDplK299KX0pKSxpfSxvblRpbWVvdXQ6ZnVuY3Rpb24oZSl7fSxvbkJpZFdvbjpmdW5jdGlvbihlKXt9LG9uU2V0VGFyZ2V0aW5nOmZ1bmN0aW9uKGUpe319O2Z1bmN0aW9uIHYoZSl7dmFyIHQ9ZS5hcGk7cmV0dXJuIHQmJkFycmF5LmlzQXJyYXkodCkmJnQubGVuZ3RoPjA/dDpbMl19ZnVuY3Rpb24gaChlKXt2YXIgdD1lLnByb3RvY29scztyZXR1cm4gdCYmQXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGg+MD90OlsyLDMsNSw2LDcsOF19ZnVuY3Rpb24gTyhlKXt2YXIgdD1udWxsO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yKXt2YXIgcj1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8/InZpZGVvIjoiYmFubmVyIixzaXplOmUuc2l6ZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSl9KTsib2JqZWN0IiE9PXUocil8fCJVU0QiIT09ci5jdXJyZW5jeXx8aXNOYU4ocGFyc2VGbG9hdChyLmZsb29yKSl8fCh0PXBhcnNlRmxvYXQoci5mbG9vcikpfXJldHVybiBudWxsIT09dD90OmUucGFyYW1zLmZsb29yfWZ1bmN0aW9uIEkoZSl7dmFyIHQ9T2JqZWN0KGMuYikoT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwidXNlcklkIikpfHxbXSxyPU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInVzZXJJZC5mbG9jSWQiKTtyZXR1cm4gciYmci5pZCYmci52ZXJzaW9uJiZ0LnB1c2goe3NvdXJjZToiY2hyb21lLmNvbSIsdWlkczpbe2lkOnIuaWQsYXR5cGU6MSxleHQ6e3ZlcjpyLnZlcnNpb259fV19KSx0fWZ1bmN0aW9uIGooZSx0KXtyZXR1cm4gbnVsbD09ZT90OmV9T2JqZWN0KG8ucmVnaXN0ZXJCaWRkZXIpKGcpfX0sWzc5NF0pOwp1cGJqc0NodW5rKFsyMF0sezE3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpaWYoInB1YlByb3ZpZGVkSWQiPT09cil0PXQuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgYT1vKGVbcl0scik7YSYmdC5wdXNoKGEpfXJldHVybiB0fSx0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNQbGFpbk9iamVjdCkoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QoYS5kZWVwQWNjZXNzKShlLCJjb25maWcuYmlkZGVycyIpJiZBcnJheS5pc0FycmF5KGUuY29uZmlnLmJpZGRlcnMpJiZPYmplY3QoYS5kZWVwQWNjZXNzKShpLHIrIi5zb3VyY2UiKSYmdC5wdXNoKHtzb3VyY2U6aVtyXS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSksdH07dmFyIGE9cigwKSxpPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0sbmF2ZWdnSWQ6e3NvdXJjZToibmF2ZWdnLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGEucGljaykoZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiB0fX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LHB1YmxpbmtJZDp7c291cmNlOiJlcHNpbG9uLmNvbSIsYXR5cGU6M30sa3B1aWQ6e3NvdXJjZToia3B1aWQuY29tIixhdHlwZTozfSxpbXVpZDp7c291cmNlOiJpbnRpbWF0ZW1lcmdlci5jb20iLGF0eXBlOjF9LGNvbm5lY3RJZDp7c291cmNlOiJ5YWhvby5jb20iLGF0eXBlOjN9fTtmdW5jdGlvbiBvKGUsdCl7dmFyIHI9aVt0XTtpZihyJiZlKXt2YXIgbz17fTtvLnNvdXJjZT1yLnNvdXJjZTt2YXIgbj1PYmplY3QoYS5pc0ZuKShyLmdldFZhbHVlKT9yLmdldFZhbHVlKGUpOmU7aWYoT2JqZWN0KGEuaXNTdHIpKG4pKXt2YXIgZD17aWQ6bixhdHlwZTpyLmF0eXBlfTtpZihPYmplY3QoYS5pc0ZuKShyLmdldFVpZEV4dCkpe3ZhciBzPXIuZ2V0VWlkRXh0KGUpO3MmJihkLmV4dD1zKX1pZihvLnVpZHM9W2RdLE9iamVjdChhLmlzRm4pKHIuZ2V0RWlkRXh0KSl7dmFyIGM9ci5nZXRFaWRFeHQoZSk7YyYmKG8uZXh0PWMpfXJldHVybiBvfX1yZXR1cm4gbnVsbH19LDgwODpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoODA5KX0sODA5OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTt2YXIgYT1yKDApLGk9cigyKSxvPXIoMyksbj1yKDE3KSxkPXIoMSkscz17Y29kZToic21hcnRhZHNlcnZlciIsZ3ZsaWQ6NDUsYWxpYXNlczpbInNtYXJ0Il0sc3VwcG9ydGVkTWVkaWFUeXBlczpbaS5iLGkuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5wYXJhbXMmJmUucGFyYW1zLnNpdGVJZCYmZS5wYXJhbXMucGFnZUlkJiZlLnBhcmFtcy5mb3JtYXRJZCl9LHNlcmlhbGl6ZVN1cHBseUNoYWluOmZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5ub2RlcylyZXR1cm4gbnVsbDt2YXIgdD1bImFzaSIsInNpZCIsImhwIiwicmlkIiwibmFtZSIsImRvbWFpbiJdO3JldHVybiIiLmNvbmNhdChlLnZlciwiLCIpLmNvbmNhdChlLmNvbXBsZXRlLCIhIikrZS5ub2Rlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF0/ZW5jb2RlVVJJQ29tcG9uZW50KGVbdF0pOiIifSkpLmpvaW4oIiwiKX0pKS5qb2luKCIhIil9LGFkYXB0QmFubmVyU2l6ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSl9LGZpbGxQYXlsb2FkRm9yVmlkZW9CaWRSZXF1ZXN0OmZ1bmN0aW9uKGUsdCxyKXt2YXIgYT10LnBsYXllclNpemVbMF07ZS5pc1ZpZGVvPSJpbnN0cmVhbSI9PT10LmNvbnRleHQsZS5tZWRpYVR5cGU9aS5kLGUudmlkZW9EYXRhPXt2aWRlb1Byb3RvY29sOnRoaXMuZ2V0UHJvdG9jb2xGb3JWaWRlb0JpZFJlcXVlc3QodCxyKSxwbGF5ZXJXaWR0aDphWzBdLHBsYXllckhlaWdodDphWzFdLGFkQnJlYWs6dGhpcy5nZXRTdGFydERlbGF5Rm9yVmlkZW9CaWRSZXF1ZXN0KHQscil9fSxnZXRQcm90b2NvbEZvclZpZGVvQmlkUmVxdWVzdDpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDAhPT10JiZ0LnByb3RvY29sP3QucHJvdG9jb2w6dm9pZCAwIT09ZSYmQXJyYXkuaXNBcnJheShlLnByb3RvY29scyk/TWF0aC5tYXguYXBwbHkoTWF0aCxlLnByb3RvY29scyk6bnVsbH0sZ2V0U3RhcnREZWxheUZvclZpZGVvQmlkUmVxdWVzdDpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PXQmJnQuc3RhcnREZWxheSlyZXR1cm4gdC5zdGFydERlbGF5O2lmKHZvaWQgMCE9PWUpe2lmKDA9PWUuc3RhcnRkZWxheSlyZXR1cm4gMTtpZigtMT09ZS5zdGFydGRlbGF5KXJldHVybiAyO2lmKC0yPT1lLnN0YXJ0ZGVsYXkpcmV0dXJuIDN9cmV0dXJuIDJ9LGNyZWF0ZVNlcnZlclJlcXVlc3Q6ZnVuY3Rpb24oZSx0KXtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6KHZvaWQgMCE9PXQ/dDoiaHR0cHM6Ly9wcmcuc21hcnRhZHNlcnZlci5jb20iKSsiL3ByZWJpZC92MSIsZGF0YTpKU09OLnN0cmluZ2lmeShlKX19LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj1vLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5Iik7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLGkpe3ZhciBkPXtzaXRlaWQ6aS5wYXJhbXMuc2l0ZUlkLHBhZ2VpZDppLnBhcmFtcy5wYWdlSWQsZm9ybWF0aWQ6aS5wYXJhbXMuZm9ybWF0SWQsY3VycmVuY3lDb2RlOnIsYmlkZmxvb3I6aS5wYXJhbXMuYmlkZmxvb3J8fHMuZ2V0QmlkRmxvb3IoaSxyKSx0YXJnZXRpbmc6aS5wYXJhbXMudGFyZ2V0JiYiIiE9PWkucGFyYW1zLnRhcmdldD9pLnBhcmFtcy50YXJnZXQ6dm9pZCAwLGJ1aWQ6aS5wYXJhbXMuYnVJZCYmIiIhPT1pLnBhcmFtcy5idUlkP2kucGFyYW1zLmJ1SWQ6dm9pZCAwLGFwcG5hbWU6aS5wYXJhbXMuYXBwTmFtZSYmIiIhPT1pLnBhcmFtcy5hcHBOYW1lP2kucGFyYW1zLmFwcE5hbWU6dm9pZCAwLGNraWQ6aS5wYXJhbXMuY2tJZHx8MCx0YWdJZDppLmFkVW5pdENvZGUscGFnZURvbWFpbjp0JiZ0LnJlZmVyZXJJbmZvJiZ0LnJlZmVyZXJJbmZvLnJlZmVyZXI/dC5yZWZlcmVySW5mby5yZWZlcmVyOnZvaWQgMCx0cmFuc2FjdGlvbklkOmkudHJhbnNhY3Rpb25JZCx0aW1lb3V0Om8uYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKSxiaWRJZDppLmJpZElkLHByZWJpZFZlcnNpb246IjUuMjAuMiIsc2NoYWluOnMuc2VyaWFsaXplU3VwcGx5Q2hhaW4oaS5zY2hhaW4pfTt0JiZ0LmdkcHJDb25zZW50JiYoZC5hZGR0bF9jb25zZW50PXQuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50LGQuZ2Rwcl9jb25zZW50PXQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxkLmdkcHI9dC5nZHByQ29uc2VudC5nZHByQXBwbGllcyksaSYmaS51c2VySWQmJihkLmVpZHM9T2JqZWN0KG4uYikoaS51c2VySWQpKSx0JiZ0LnVzcENvbnNlbnQmJihkLnVzX3ByaXZhY3k9dC51c3BDb25zZW50KTt2YXIgYz1PYmplY3QoYS5kZWVwQWNjZXNzKShpLCJtZWRpYVR5cGVzLnZpZGVvIiksdT1PYmplY3QoYS5kZWVwQWNjZXNzKShpLCJtZWRpYVR5cGVzLmJhbm5lciIpLHA9YyYmKCJpbnN0cmVhbSI9PT1jLmNvbnRleHR8fCJvdXRzdHJlYW0iPT09Yy5jb250ZXh0KTtpZighcCYmdSlkLnNpemVzPXMuYWRhcHRCYW5uZXJTaXplcyh1LnNpemVzKSxlLnB1c2gocy5jcmVhdGVTZXJ2ZXJSZXF1ZXN0KGQsaS5wYXJhbXMuZG9tYWluKSk7ZWxzZSBpZihwJiYhdSlzLmZpbGxQYXlsb2FkRm9yVmlkZW9CaWRSZXF1ZXN0KGQsYyxpLnBhcmFtcy52aWRlbyksZS5wdXNoKHMuY3JlYXRlU2VydmVyUmVxdWVzdChkLGkucGFyYW1zLmRvbWFpbikpO2Vsc2UgaWYocCYmdSl7dmFyIGw9T2JqZWN0KGEuZGVlcENsb25lKShkKTtzLmZpbGxQYXlsb2FkRm9yVmlkZW9CaWRSZXF1ZXN0KGwsYyxpLnBhcmFtcy52aWRlbyksZS5wdXNoKHMuY3JlYXRlU2VydmVyUmVxdWVzdChsLGkucGFyYW1zLmRvbWFpbikpLGQuc2l6ZXM9cy5hZGFwdEJhbm5lclNpemVzKHUuc2l6ZXMpLGUucHVzaChzLmNyZWF0ZVNlcnZlclJlcXVlc3QoZCxpLnBhcmFtcy5kb21haW4pKX1lbHNlIGUucHVzaCh7fSk7cmV0dXJuIGV9KSxbXSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W10sbz1lLmJvZHk7dHJ5e2lmKG8mJiFvLmlzTm9BZCl7dmFyIG49SlNPTi5wYXJzZSh0LmRhdGEpLGQ9e3JlcXVlc3RJZDpuLmJpZElkLGNwbTpvLmNwbSx3aWR0aDpvLndpZHRoLGhlaWdodDpvLmhlaWdodCxjcmVhdGl2ZUlkOm8uY3JlYXRpdmVJZCxkZWFsSWQ6by5kZWFsSWQsY3VycmVuY3k6by5jdXJyZW5jeSxuZXRSZXZlbnVlOm8uaXNOZXRDcG0sdHRsOm8udHRsLGRzcFBpeGVsczpvLmRzcFBpeGVscyxtZXRhOnthZHZlcnRpc2VyRG9tYWluczpvLmFkb21haW4/by5hZG9tYWluOltdfX07bi5tZWRpYVR5cGU9PT1pLmQ/KGQubWVkaWFUeXBlPWkuZCxkLnZhc3RVcmw9by5hZFVybCxkLnZhc3RYbWw9by5hZCxkLmNvbnRlbnQ9by5hZCk6KGQuYWRVcmw9by5hZFVybCxkLmFkPW8uYWQpLHIucHVzaChkKX19Y2F0Y2goZSl7T2JqZWN0KGEubG9nRXJyb3IpKCJFcnJvciB3aGlsZSBwYXJzaW5nIHNtYXJ0IHNlcnZlciByZXNwb25zZSIsZSl9cmV0dXJuIHJ9LGdldEJpZEZsb29yOmZ1bmN0aW9uKGUsdCl7aWYoIU9iamVjdChhLmlzRm4pKGUuZ2V0Rmxvb3IpKXJldHVybiAwO3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OnR8fCJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtyZXR1cm4gT2JqZWN0KGEuaXNQbGFpbk9iamVjdCkocikmJiFpc05hTihyLmZsb29yKT9yLmZsb29yOjB9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3ZhciByPVtdO3JldHVybiBlLmlmcmFtZUVuYWJsZWQmJnQubGVuZ3RoPjAmJm51bGwhPXRbMF0uYm9keS5jU3luY1VybD9yLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOnRbMF0uYm9keS5jU3luY1VybH0pOmUucGl4ZWxFbmFibGVkJiZ0Lmxlbmd0aD4wJiZ2b2lkIDAhPT10WzBdLmJvZHkuZHNwUGl4ZWxzJiZ0WzBdLmJvZHkuZHNwUGl4ZWxzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3IucHVzaCh7dHlwZToiaW1hZ2UiLHVybDplfSl9KSkscn19O09iamVjdChkLnJlZ2lzdGVyQmlkZGVyKShzKX19LFs4MDhdKTsKdXBianNDaHVuayhbMTIyXSx7ODIwOmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig4MjEpfSw4MjE6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLHIuZCh0LCJfaXNJbmJvdW5kcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSksdC5fZ2V0UGxhdGZvcm09Xzt2YXIgbj1yKDEpLGk9cigwKSxzPXIoMiksYT1yKDMpLG89cigxMyksYz1yKDYxKTtmdW5jdGlvbiBkKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09cilyZXR1cm47dmFyIG4saSxzPVtdLGE9ITAsbz0hMTt0cnl7Zm9yKHI9ci5jYWxsKGUpOyEoYT0obj1yLm5leHQoKSkuZG9uZSkmJihzLnB1c2gobi52YWx1ZSksIXR8fHMubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe289ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBpfX1yZXR1cm4gc30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiB1KGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXJ8fCJTZXQiPT09cilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpKXJldHVybiB1KGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB1KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkodCk7cjx0O3IrKyluW3JdPWVbcl07cmV0dXJuIG59ZnVuY3Rpb24gcCgpe3JldHVybihwPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbChlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9dmFyIGI9InNvbm9iaSIsZj1PYmplY3QoaS5nZW5lcmF0ZVVVSUQpKCksbT0iaHR0cHM6Ly9tdHJ4LmdvLnNvbm9iaS5jb20vc2JpX291dHN0cmVhbV9yZW5kZXJlci5qcyIsdj17Y29kZTpiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W3MuYixzLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCFlLnBhcmFtcylyZXR1cm4hMTtpZighZS5wYXJhbXMuYWRfdW5pdCYmIWUucGFyYW1zLnBsYWNlbWVudF9pZClyZXR1cm4hMTtpZighT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSYmIU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSlyZXR1cm4hMTtpZihPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpKXtpZighT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKSYmIWUucGFyYW1zLnNpemVzKXJldHVybiExfWVsc2UgaWYoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpKXtpZigib3V0c3RyZWFtIj09PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpJiYhZS5wYXJhbXMuc2l6ZXMpcmV0dXJuITE7aWYoImluc3RyZWFtIj09PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpJiYhT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikpcmV0dXJuITF9cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoZS5wYXJhbXMuYWRfdW5pdClyZXR1cm4gZS5wYXJhbXMuYWRfdW5pdDtyZXR1cm4gZS5wYXJhbXMucGxhY2VtZW50X2lkfShlKTtyZXR1cm4vXltcL10/W1xkXStbW1wvXS4rW1wvXT9dPyQvLnRlc3QodCk/KHQ9Ii8iPT09dC5jaGFyQXQoMCk/dDoiLyIrdCxsKHt9LCIiLmNvbmNhdCh0LCJ8IikuY29uY2F0KGUuYmlkSWQpLCIiLmNvbmNhdChnKGUpKS5jb25jYXQoeShlKSkuY29uY2F0KGgoZSkpKSk6L15bMC05YS1mQS1GXXsyMH0kLy50ZXN0KHQpJiYyMD09PXQubGVuZ3RoP2woe30sZS5iaWRJZCwiIi5jb25jYXQodCwifCIpLmNvbmNhdChnKGUpKS5jb25jYXQoeShlKSkuY29uY2F0KGgoZSkpKTp2b2lkIE9iamVjdChpLmxvZ0Vycm9yKSgiVGhlIGFkIHVuaXQgY29kZSBvciBTb25vYmkgUGxhY2VtZW50IGlkIGZvciBzbG90ICIuY29uY2F0KGUuYmlkSWQsIiBpcyBpbnZhbGlkIikpfSkpLG49e307ci5mb3JFYWNoKChmdW5jdGlvbihlKXtwKG4sZSl9KSk7dmFyIHM9e2tleV9tYWtlcjpKU09OLnN0cmluZ2lmeShuKSxyZWY6dC5yZWZlcmVySW5mby5yZWZlcmVyLHM6T2JqZWN0KGkuZ2VuZXJhdGVVVUlEKSgpLHB2OmYsdnA6XygpLGxpYl9uYW1lOiJwcmViaWQiLGxpYl92OiI1LjIwLjIiLHVzOjB9LG89YS5iLmdldENvbmZpZygib3J0YjIiKTtpZihvJiYocy5mcGQ9SlNPTi5zdHJpbmdpZnkobykpLGEuYi5nZXRDb25maWcoInVzZXJTeW5jIikmJmEuYi5nZXRDb25maWcoInVzZXJTeW5jIikuc3luY3NQZXJCaWRkZXImJihzLnVzPWEuYi5nZXRDb25maWcoInVzZXJTeW5jIikuc3luY3NQZXJCaWRkZXIpLGMuYS5jYW5CaWRkZXJSZWdpc3RlclN5bmMoImlmcmFtZSIsYik/cy5pdXM9MTpzLml1cz0wLE9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy5oZmEiKSYmKHMuaGZhPU9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy5oZmEiKSksZVswXS5wYXJhbXMucmVmZXJyZXImJihzLnJlZj1lWzBdLnBhcmFtcy5yZWZlcnJlciksdCYmdC5nZHByQ29uc2VudCYmKHMuZ2Rwcj10LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPyJ0cnVlIjoiZmFsc2UiLHQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKHMuY29uc2VudF9zdHJpbmc9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksZVswXS5zY2hhaW4mJihzLnNjaGFpbj1KU09OLnN0cmluZ2lmeShlWzBdLnNjaGFpbikpLE9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZCIpJiZPYmplY3Qua2V5cyhlWzBdLnVzZXJJZCkubGVuZ3RoPjApe3ZhciBkPU9iamVjdChpLmRlZXBDbG9uZSkoZVswXS51c2VySWQpO2QuaWQ1aWQmJihkLmlkNWlkPU9iamVjdChpLmRlZXBBY2Nlc3MpKGQsImlkNWlkLnVpZCIpKSxzLnVzZXJpZD1KU09OLnN0cmluZ2lmeShkKX12YXIgdT1PYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWRBc0VpZHMiKTtBcnJheS5pc0FycmF5KHUpJiZ1Lmxlbmd0aD4wJiYocy5laWRzPUpTT04uc3RyaW5naWZ5KHUpKTt2YXIgbT1lWzBdLnBhcmFtcy5rZXl3b3JkcztpZihtJiYocy5rdz1tKSx0JiZ0LnVzcENvbnNlbnQmJihzLnVzX3ByaXZhY3k9dC51c3BDb25zZW50KSwhMD09PWEuYi5nZXRDb25maWcoImNvcHBhIik/cy5jb3BwYT0xOnMuY29wcGE9MCxPYmplY3QoaS5pc0VtcHR5KShuKSlyZXR1cm4gbnVsbDt2YXIgdj0iaHR0cHM6Ly9hcGV4LmdvLnNvbm9iaS5jb20vdHJpbml0eS5qc29uIjtyZXR1cm4gT2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLmJpZF9yZXF1ZXN0X3VybCIpJiYodj1PYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuYmlkX3JlcXVlc3RfdXJsIikpLHttZXRob2Q6IkdFVCIsdXJsOnYsd2l0aENyZWRlbnRpYWxzOiEwLGRhdGE6cyxiaWRkZXJSZXF1ZXN0czplfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmJvZHksbj1bXSxzPXQuZGF0YS5yZWY7cmV0dXJuIDA9PT1PYmplY3Qua2V5cyhyLnNsb3RzKS5sZW5ndGh8fE9iamVjdC5rZXlzKHIuc2xvdHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBhPXIuc2xvdHNbZV0sYz1lLnNwbGl0KCJ8Iikuc2xpY2UoLTEpWzBdLHU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdLmJpZElkPT09dClyZXR1cm4gZVtyXX0odC5iaWRkZXJSZXF1ZXN0cyxjKSxwPW51bGw7InZpZGVvIj09PWEuc2JpX2N0JiYocD0idmlkZW8iLCJvdXRzdHJlYW0iPT09T2JqZWN0KGkuZGVlcEFjY2VzcykodSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJihwPSJvdXRzdHJlYW0iKSk7dmFyIGw9aihwLHMpO2lmKGEuc2JpX2FpZCYmYS5zYmlfbW91c2UmJmEuc2JpX3NpemUpe3ZhciBiPWQoYS5zYmlfc2l6ZS5zcGxpdCgieCIpLDIpLGY9YlswXSx2PXZvaWQgMD09PWY/MTpmLGc9YlsxXSx5PXZvaWQgMD09PWc/MTpnLGg9W107YS5zYmlfYWRvbWFpbiYmKGg9W2Euc2JpX2Fkb21haW5dKTt2YXIgTz17cmVxdWVzdElkOmMsY3BtOk51bWJlcihhLnNiaV9tb3VzZSksd2lkdGg6TnVtYmVyKHYpLGhlaWdodDpOdW1iZXIoeSksYWQ6bChyLnNiaV9kYyxhLnNiaV9haWQpLHR0bDo1MDAsY3JlYXRpdmVJZDphLnNiaV9jcmlkfHxhLnNiaV9haWQsYWlkOmEuc2JpX2FpZCxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OiJVU0QiLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmh9fTtpZihhLnNiaV9kb3plciYmKE8uZGVhbElkPWEuc2JpX2RvemVyKSwidmlkZW8iPT09cClPLm1lZGlhVHlwZT0idmlkZW8iLE8udmFzdFVybD1sKHIuc2JpX2RjLGEuc2JpX2FpZCksZGVsZXRlIE8uYWQsZGVsZXRlIE8ud2lkdGgsZGVsZXRlIE8uaGVpZ2h0O2Vsc2UgaWYoIm91dHN0cmVhbSI9PT1wJiZ1KXtkZWxldGUgTy5hZCxPLm1lZGlhVHlwZT0idmlkZW8iLE8udmFzdFVybD1sKHIuc2JpX2RjLGEuc2JpX2FpZCksTy5yZW5kZXJlcj1mdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxuPW8uYS5pbnN0YWxsKHtpZDp0LmFpZCx1cmw6bSxjb25maWc6cixsb2FkZWQ6ITEsYWRVbml0Q29kZTplfSk7dHJ5e24uc2V0UmVuZGVyKEEpfWNhdGNoKGUpe09iamVjdChpLmxvZ1dhcm4pKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiBuLnNldEV2ZW50SGFuZGxlcnMoe2ltcHJlc3Npb246ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkubG9nTWVzc2FnZSkoIlNvbm9iaSBvdXRzdHJlYW0gdmlkZW8gaW1wcmVzc2lvbiBldmVudCIpfSxsb2FkZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkubG9nTWVzc2FnZSkoIlNvbm9iaSBvdXRzdHJlYW0gdmlkZW8gbG9hZGVkIGV2ZW50Iil9LGVuZGVkOmZ1bmN0aW9uKCl7T2JqZWN0KGkubG9nTWVzc2FnZSkoIlNvbm9iaSBvdXRzdHJlYW0gcmVuZGVyZXIgdmlkZW8gZXZlbnQiKX19KSxufSh1LmFkVW5pdENvZGUsTyxPYmplY3QoaS5kZWVwQWNjZXNzKSh1LCJyZW5kZXJlci5vcHRpb25zIikpO3ZhciBfPU9iamVjdChpLmRlZXBBY2Nlc3MpKHUsInBhcmFtcy5zaXplcyIpO0FycmF5LmlzQXJyYXkoXykmJkFycmF5LmlzQXJyYXkoX1swXSkmJihfPV9bMF0pLF8mJihPLndpZHRoPV9bMF0sTy5oZWlnaHQ9X1sxXSl9bi5wdXNoKE8pfX0pKSxufSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9W107dHJ5e2UucGl4ZWxFbmFibGVkJiZ0WzBdLmJvZHkuc2JpX3B4LmZvckVhY2goKGZ1bmN0aW9uKGUpe2kucHVzaCh7dHlwZTplLnR5cGUsdXJsOmUudXJsfSl9KSl9Y2F0Y2goZSl7fXJldHVybiBpfX07ZnVuY3Rpb24gZyhlKXtyZXR1cm4gT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpPyIiOmUucGFyYW1zLnNpemVzP09iamVjdChpLnBhcnNlU2l6ZXNJbnB1dCkoZS5wYXJhbXMuc2l6ZXMpLmpvaW4oIiwiKTpPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpP09iamVjdChpLnBhcnNlU2l6ZXNJbnB1dCkoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKSkuam9pbigiLCIpOmUuc2l6ZXM/T2JqZWN0KGkucGFyc2VTaXplc0lucHV0KShlLnNpemVzKS5qb2luKCIsIik6dm9pZCAwfWZ1bmN0aW9uIHkoZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoIU9iamVjdChpLmlzRm4pKGUuZ2V0Rmxvb3IpKXJldHVybiBlLnBhcmFtcy5mbG9vcj9lLnBhcmFtcy5mbG9vcjpudWxsO3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtpZihPYmplY3QoaS5pc1BsYWluT2JqZWN0KSh0KSYmIWlzTmFOKHQuZmxvb3IpJiYiVVNEIj09PXQuY3VycmVuY3kpcmV0dXJuIHQuZmxvb3I7cmV0dXJuIiJ9KGUpO3JldHVybiB0PyJ8Zj0iLmNvbmNhdCh0KToiIn1mdW5jdGlvbiBoKGUpe3ZhciB0PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5kYXRhLnBiYWRzbG90Iil8fE9iamVjdChpLmRlZXBBY2Nlc3MpKE9iamVjdChpLmdldEdwdFNsb3RJbmZvRm9yQWRVbml0Q29kZSkoZS5hZFVuaXRDb2RlKSwiZ3B0U2xvdCIpfHxlLnBhcmFtcy5hZF91bml0O3JldHVybiB0PyJ8Z3BpZD0iLmNvbmNhdCh0KToiIn12YXIgaj1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiJ2aWRlbyI9PT1lfHwib3V0c3RyZWFtIj09PWU/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiJodHRwczovLyIuY29uY2F0KGUsImFwZXguZ28uc29ub2JpLmNvbS92YXN0LnhtbD92aWQ9IikuY29uY2F0KHQsIiZyZWY9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChyKSl9KHIsbix0KTonPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iJysiaHR0cHM6Ly8iLmNvbmNhdChyLCJhcGV4LmdvLnNvbm9iaS5jb20vc2JpLmpzP2FpZD0iKS5jb25jYXQobiwiJmFzPW51bGwmcmVmPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodCkpKyciPjxcL3NjcmlwdD4nfX07dmFyIE89ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06d2luZG93O3JldHVybiBmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSO3JldHVybiBlLmlubmVyV2lkdGg+PXQmJmUuaW5uZXJXaWR0aDxyfX07ZnVuY3Rpb24gXygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp3aW5kb3csdD1PKGUpLHI9e2x0Ojc2OH0sbj17bHQ6OTkyLGdlOjc2OH07cmV0dXJuIHQoMCxyLmx0KT8ibW9iaWxlIjp0KG4uZ2Usbi5sdCk/InRhYmxldCI6ImRlc2t0b3AifWZ1bmN0aW9uIEEoZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3ZhciB0PWQoZS5nZXRTaXplKCkuc3BsaXQoIngiKSwyKSxyPXRbMF0sbj10WzFdLGk9bmV3IHdpbmRvdy5TYmlPdXRzdHJlYW1SZW5kZXJlcjtpLmluaXQoe3Zhc3RVcmw6ZS52YXN0VXJsLGhlaWdodDpuLHdpZHRoOnJ9KSxpLnNldFJvb3RFbGVtZW50KGUuYWRVbml0Q29kZSl9KSl9T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHYpfX0sWzgyMF0pOwp1cGJqc0NodW5rKFsxN10sezE3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpaWYoInB1YlByb3ZpZGVkSWQiPT09cil0PXQuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgYT1pKGVbcl0scik7YSYmdC5wdXNoKGEpfXJldHVybiB0fSx0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNQbGFpbk9iamVjdCkoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QoYS5kZWVwQWNjZXNzKShlLCJjb25maWcuYmlkZGVycyIpJiZBcnJheS5pc0FycmF5KGUuY29uZmlnLmJpZGRlcnMpJiZPYmplY3QoYS5kZWVwQWNjZXNzKShuLHIrIi5zb3VyY2UiKSYmdC5wdXNoKHtzb3VyY2U6bltyXS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSksdH07dmFyIGE9cigwKSxuPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0sbmF2ZWdnSWQ6e3NvdXJjZToibmF2ZWdnLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGEucGljaykoZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiB0fX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LHB1YmxpbmtJZDp7c291cmNlOiJlcHNpbG9uLmNvbSIsYXR5cGU6M30sa3B1aWQ6e3NvdXJjZToia3B1aWQuY29tIixhdHlwZTozfSxpbXVpZDp7c291cmNlOiJpbnRpbWF0ZW1lcmdlci5jb20iLGF0eXBlOjF9LGNvbm5lY3RJZDp7c291cmNlOiJ5YWhvby5jb20iLGF0eXBlOjN9fTtmdW5jdGlvbiBpKGUsdCl7dmFyIHI9blt0XTtpZihyJiZlKXt2YXIgaT17fTtpLnNvdXJjZT1yLnNvdXJjZTt2YXIgYz1PYmplY3QoYS5pc0ZuKShyLmdldFZhbHVlKT9yLmdldFZhbHVlKGUpOmU7aWYoT2JqZWN0KGEuaXNTdHIpKGMpKXt2YXIgbz17aWQ6YyxhdHlwZTpyLmF0eXBlfTtpZihPYmplY3QoYS5pc0ZuKShyLmdldFVpZEV4dCkpe3ZhciBzPXIuZ2V0VWlkRXh0KGUpO3MmJihvLmV4dD1zKX1pZihpLnVpZHM9W29dLE9iamVjdChhLmlzRm4pKHIuZ2V0RWlkRXh0KSl7dmFyIGQ9ci5nZXRFaWRFeHQoZSk7ZCYmKGkuZXh0PWQpfXJldHVybiBpfX1yZXR1cm4gbnVsbH19LDgyNDpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoODI1KX0sODI1OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKTt2YXIgYT1yKDApLG49cigxKSxpPXIoMyksYz1yKDIpLG89cigxNyk7ZnVuY3Rpb24gcyhlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXIpcmV0dXJuO3ZhciBhLG4saT1bXSxjPSEwLG89ITE7dHJ5e2ZvcihyPXIuY2FsbChlKTshKGM9KGE9ci5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKGEudmFsdWUpLCF0fHxpLmxlbmd0aCE9PXQpO2M9ITApO31jYXRjaChlKXtvPSEwLG49ZX1maW5hbGx5e3RyeXtjfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgbn19cmV0dXJuIGl9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZChlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1yfHwiU2V0Ij09PXIpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKSlyZXR1cm4gZChlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gZChlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLGE9bmV3IEFycmF5KHQpO3I8dDtyKyspYVtyXT1lW3JdO3JldHVybiBhfXZhciB1PSJzb3J0YWJsZSIscD0iaHR0cHM6Ly9jLmRlcGxveWFkcy5jb20iO2Z1bmN0aW9uIGwoZSx0KXtyZXR1cm4gZS5yZXF1aXJlZCYmKHQucmVxdWlyZWQ9MSksdH1mdW5jdGlvbiBtKGUpe3JldHVybiBlLnd8fGUuaD97dXJsOmUudXJsLHdpZHRoOmUudyxoZWlnaHQ6ZS5ofTplLnVybH1mdW5jdGlvbiBiKGUsdCxyKXtPYmplY3QoYS5fZWFjaCkoZSwoZnVuY3Rpb24oZSl7ZS5ib2R5JiZlLmJvZHkuZXh0JiZlLmJvZHkuZXh0LnN5bmNfZHNwcyYmZS5ib2R5LmV4dC5zeW5jX2RzcHMubGVuZ3RoJiZPYmplY3QoYS5fZWFjaCkoZS5ib2R5LmV4dC5zeW5jX2RzcHMsKGZ1bmN0aW9uKGUpe2VbMF09PT10JiZlWzFdJiZyLnB1c2goe3R5cGU6dCx1cmw6ZVsxXX0pfSkpfSkpfWZ1bmN0aW9uIHkoZSl7aWYoIU9iamVjdChhLmlzRm4pKGUuZ2V0Rmxvb3IpKXJldHVybiBlLnBhcmFtcy5mbG9vcj9lLnBhcmFtcy5mbG9vcjpudWxsO3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtyZXR1cm4gT2JqZWN0KGEuaXNQbGFpbk9iamVjdCkodCkmJiFpc05hTih0LmZsb29yKSYmIlVTRCI9PT10LmN1cnJlbmN5P3QuZmxvb3I6bnVsbH12YXIgZj17Y29kZTp1LHN1cHBvcnRlZE1lZGlhVHlwZXM6W2MuYixjLmMsYy5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgdD1pLmIuZ2V0Q29uZmlnKCJzb3J0YWJsZSIpLHI9dCYmISF0LnNpdGVJZHx8ZS5wYXJhbXMuc2l0ZUlkLG49eShlKSxvPSFufHxPYmplY3QoYS5pc051bWJlcikobikscz0hZS5wYXJhbXMua2V5d29yZHN8fE9iamVjdChhLmlzUGxhaW5PYmplY3QpKGUucGFyYW1zLmtleXdvcmRzKSYmT2JqZWN0LmtleXMoZS5wYXJhbXMua2V5d29yZHMpLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGEuaXNTdHIpKHQpJiZPYmplY3QoYS5pc1N0cikoZS5wYXJhbXMua2V5d29yZHNbdF0pfSkpLGQ9IWUubWVkaWFUeXBlc3x8ZS5tZWRpYVR5cGVzW2MuYl18fCEoZS5tZWRpYVR5cGVzW2MuY118fGUubWVkaWFUeXBlc1tjLmRdKSx1PWQ/T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlLiIuY29uY2F0KGMuYiwiLnNpemVzIikpfHxlLnNpemVzOm51bGw7cmV0dXJuISEoZS5wYXJhbXMudGFnSWQmJnImJm8mJnMmJighZHx8dSYmdS5sZW5ndGg+MCYmdS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIDI9PWUubGVuZ3RoJiZlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNOdW1iZXIpKGUpfSkpfSkpKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj0oaS5iLmdldENvbmZpZygic29ydGFibGUiKXx8e30pLnNpdGVJZCxuPU9iamVjdChhLnBhcnNlVXJsKSh0LnJlZmVyZXJJbmZvLnJlZmVyZXIpLGQ9T2JqZWN0KGEuX21hcCkoZSwoZnVuY3Rpb24oZSl7dmFyIHQ9e2lkOmUuYmlkSWQsdGFnaWQ6ZS5wYXJhbXMudGFnSWQsZXh0Ont9fSxyPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoYy5iKSksbj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KGMuYykpLGk9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChjLmQpKTtpZihyfHwhbiYmIWkpe3ZhciBvPXImJnIuc2l6ZXN8fGUuc2l6ZXM7dC5iYW5uZXI9e2Zvcm1hdDpPYmplY3QoYS5fbWFwKShvLChmdW5jdGlvbihlKXt2YXIgdD1zKGUsMik7cmV0dXJue3c6dFswXSxoOnRbMV19fSkpfX1pZihuJiYodC5uYXRpdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9W10scj1lLnRpdGxlO3ImJnQucHVzaChsKHIse3RpdGxlOntsZW46ci5sZW59fSkpO3ZhciBuPWUuaW1hZ2U7biYmdC5wdXNoKGwobix7aW1nOnt0eXBlOjMsd21pbjoxLGhtaW46MX19KSk7dmFyIGk9ZS5pY29uO2kmJnQucHVzaChsKGkse2ltZzp7dHlwZToxLHdtaW46MSxobWluOjF9fSkpO3ZhciBjPWUuYm9keTtjJiZ0LnB1c2gobChjLHtkYXRhOnt0eXBlOjJ9fSkpO3ZhciBvPWUuY3RhO28mJnQucHVzaChsKG8se2RhdGE6e3R5cGU6MTJ9fSkpO3ZhciBzPWUuc3BvbnNvcmVkQnk7cmV0dXJuIHMmJnQucHVzaChsKHMse2RhdGE6e3R5cGU6MX19KSksT2JqZWN0KGEuX2VhY2gpKHQsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaWQ9dH0pKSx7dmVyOiIxIixyZXF1ZXN0OkpTT04uc3RyaW5naWZ5KHt2ZXI6IjEiLGFzc2V0czp0fSl9fShuKSksaSYmImluc3RyZWFtIj09PWkuY29udGV4dCl7dmFyIGQ9e3BsYWNlbWVudDoxfTtkLm1pbWVzPWkubWltZXN8fFtdLGQubWluZHVyYXRpb249T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvLm1pbmR1cmF0aW9uIil8fDEwLGQubWF4ZHVyYXRpb249T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvLm1heGR1cmF0aW9uIil8fDYwO3ZhciB1PU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlby5zdGFydGRlbGF5Iik7aWYobnVsbCE9dSYmKGQuc3RhcnRkZWxheT11KSxpLnBsYXllclNpemUmJmkucGxheWVyU2l6ZS5sZW5ndGgpe3ZhciBwPWkucGxheWVyU2l6ZVswXTtkLnc9cFswXSxkLmg9cFsxXX1pLmFwaSYmKGQuYXBpPWkuYXBpKSxpLnByb3RvY29scyYmKGQucHJvdG9jb2xzPWkucHJvdG9jb2xzKSxpLnBsYXliYWNrbWV0aG9kJiYoZC5wbGF5YmFja21ldGhvZD1pLnBsYXliYWNrbWV0aG9kKSx0LnZpZGVvPWR9dmFyIG09eShlKTtyZXR1cm4gbSYmKHQuZmxvb3I9bSksZS5wYXJhbXMua2V5d29yZHMmJih0LmV4dC5rZXl3b3Jkcz1lLnBhcmFtcy5rZXl3b3JkcyksZS5wYXJhbXMuYmlkZGVyUGFyYW1zJiZPYmplY3QoYS5fZWFjaCkoZS5wYXJhbXMuYmlkZGVyUGFyYW1zLChmdW5jdGlvbihlLHIpe3QuZXh0W3JdPWV9KSksdC5leHQuZ3BpZD1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YS5wYmFkc2xvdCIpLHR9KSksdT10JiZ0LmdkcHJDb25zZW50LG09ZVswXS51c2VySWQsYj1PYmplY3Qoby5iKShtKSxmPXtpZDpPYmplY3QoYS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLGltcDpkLHNvdXJjZTp7ZXh0OntzY2hhaW46ZVswXS5zY2hhaW59fSxyZWdzOntleHQ6e319LHNpdGU6e2RvbWFpbjpuLmhvc3RuYW1lLHBhZ2U6bi5ocmVmLHJlZjpuLmhyZWYscHVibGlzaGVyOntpZDpyfHxlWzBdLnBhcmFtcy5zaXRlSWR9LGRldmljZTp7dzpzY3JlZW4ud2lkdGgsaDpzY3JlZW4uaGVpZ2h0fX0sdXNlcjp7ZXh0Ont9fX07cmV0dXJuIHQmJnQudGltZW91dD4wJiYoZi50bWF4PXQudGltZW91dCksdSYmKGYudXNlcj17ZXh0Ontjb25zZW50OnUuY29uc2VudFN0cmluZ319LCJib29sZWFuIj09dHlwZW9mIHUuZ2RwckFwcGxpZXMmJihmLnJlZ3MuZXh0LmdkcHI9dS5nZHByQXBwbGllcz8xOjApKSxiLmxlbmd0aCYmKGYudXNlci5leHQuZWlkcz1iKSx0LnVzcENvbnNlbnQmJihmLnJlZ3MuZXh0LnVzX3ByaXZhY3k9dC51c3BDb25zZW50KSx7bWV0aG9kOiJQT1NUIix1cmw6IiIuY29uY2F0KHAsIi9vcGVucnRiMi9hdWN0aW9uP3NyYz1wcmViaWRfcHJlYmlkXzUuMjAuMiZob3N0PSIpLmNvbmNhdChuLmhvc3RuYW1lKSxkYXRhOkpTT04uc3RyaW5naWZ5KGYpLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIn19fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkscj10LmlkLG49dC5zZWF0YmlkLGk9W107cmV0dXJuIHImJm4mJk9iamVjdChhLl9lYWNoKShuLChmdW5jdGlvbihlKXtPYmplY3QoYS5fZWFjaCkoZS5iaWQsKGZ1bmN0aW9uKGUpe3ZhciB0PXtyZXF1ZXN0SWQ6ZS5pbXBpZCxjcG06cGFyc2VGbG9hdChlLnByaWNlKSx3aWR0aDpwYXJzZUludChlLncpLGhlaWdodDpwYXJzZUludChlLmgpLGNyZWF0aXZlSWQ6ZS5jcmlkfHxlLmlkLGRlYWxJZDplLmRlYWxpZHx8bnVsbCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLG1lZGlhVHlwZTpjLmIsdHRsOjYwLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmUuYWRvbWFpbnx8W119fTtpZihlLmFkbSl7dmFyIHI9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwiZXh0LmFkX2Zvcm1hdCIpO2lmKCJuYXRpdmUiPT09cil7dmFyIG49ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDt0cnl7dD1KU09OLnBhcnNlKGUpfWNhdGNoKGUpe09iamVjdChhLmxvZ0Vycm9yKSgiU29ydGFibGUgYmlkIGFkYXB0ZXIgdW5hYmxlIHRvIHBhcnNlIG5hdGl2ZSBiaWQgcmVzcG9uc2U6XG5cbiIrZSl9cmV0dXJuIHQmJnQubmF0aXZlfShlLmFkbSk7aWYoIW4pcmV0dXJuO3QubWVkaWFUeXBlPWMuYyx0Lm5hdGl2ZT1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZS5saW5rJiYodC5jbGlja1VybD1lLmxpbmsudXJsKSxPYmplY3QoYS5fZWFjaCkoZS5hc3NldHMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmlkKXtjYXNlIDE6dC50aXRsZT1lLnRpdGxlLnRleHQ7YnJlYWs7Y2FzZSAyOnQuaW1hZ2U9bShlLmltZyk7YnJlYWs7Y2FzZSAzOnQuaWNvbj1tKGUuaW1nKTticmVhaztjYXNlIDQ6dC5ib2R5PWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDU6dC5jdGE9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNjp0LnNwb25zb3JlZEJ5PWUuZGF0YS52YWx1ZX19KSksdH0obil9ZWxzZSJpbnN0cmVhbSI9PT1yPyh0Lm1lZGlhVHlwZT1jLmQsdC52YXN0WG1sPWUuYWRtKToodC5tZWRpYVR5cGU9Yy5iLHQuYWQ9ZS5hZG0sZS5udXJsJiYodC5hZCs9T2JqZWN0KGEuY3JlYXRlVHJhY2tQaXhlbEh0bWwpKGRlY29kZVVSSUNvbXBvbmVudChlLm51cmwpKSkpfWVsc2UgZS5udXJsJiYodC5hZFVybD1lLm51cmwpO2UuZXh0JiYodC5zb3J0YWJsZT1lLmV4dCksaS5wdXNoKHQpfSkpfSkpLGl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3ZhciByPVtdO3JldHVybiBlLmlmcmFtZUVuYWJsZWQmJmIodCwiaWZyYW1lIixyKSxlLnBpeGVsRW5hYmxlZCYmYih0LCJpbWFnZSIscikscn0sb25UaW1lb3V0OmZ1bmN0aW9uKGUpe2ZldGNoKCIiLmNvbmNhdChwLCIvcHJlYmlkL3RpbWVvdXQiKSx7bWV0aG9kOiJQT1NUIixib2R5OkpTT04uc3RyaW5naWZ5KGUpLG1vZGU6Im5vLWNvcnMiLGhlYWRlcnM6bmV3IEhlYWRlcnMoeyJDb250ZW50LVR5cGUiOiJ0ZXh0L3BsYWluIn0pfSl9fTtPYmplY3Qobi5yZWdpc3RlckJpZGRlcikoZil9fSxbODI0XSk7CnVwYmpzQ2h1bmsoWzE1XSx7MTc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSlpZigicHViUHJvdmlkZWRJZCI9PT1yKXQ9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBpPWEoZVtyXSxyKTtpJiZ0LnB1c2goaSl9cmV0dXJuIHR9LHQuYT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdChpLmRlZXBBY2Nlc3MpKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJk9iamVjdChpLmRlZXBBY2Nlc3MpKG4scisiLnNvdXJjZSIpJiZ0LnB1c2goe3NvdXJjZTpuW3JdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSx0fTt2YXIgaT1yKDApLG49e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxuYXZlZ2dJZDp7c291cmNlOiJuYXZlZ2cuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoaS5waWNrKShlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHR9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0scHVibGlua0lkOntzb3VyY2U6ImVwc2lsb24uY29tIixhdHlwZTozfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX0sY29ubmVjdElkOntzb3VyY2U6InlhaG9vLmNvbSIsYXR5cGU6M319O2Z1bmN0aW9uIGEoZSx0KXt2YXIgcj1uW3RdO2lmKHImJmUpe3ZhciBhPXt9O2Euc291cmNlPXIuc291cmNlO3ZhciBjPU9iamVjdChpLmlzRm4pKHIuZ2V0VmFsdWUpP3IuZ2V0VmFsdWUoZSk6ZTtpZihPYmplY3QoaS5pc1N0cikoYykpe3ZhciBvPXtpZDpjLGF0eXBlOnIuYXR5cGV9O2lmKE9iamVjdChpLmlzRm4pKHIuZ2V0VWlkRXh0KSl7dmFyIGQ9ci5nZXRVaWRFeHQoZSk7ZCYmKG8uZXh0PWQpfWlmKGEudWlkcz1bb10sT2JqZWN0KGkuaXNGbikoci5nZXRFaWRFeHQpKXt2YXIgdT1yLmdldEVpZEV4dChlKTt1JiYoYS5leHQ9dSl9cmV0dXJuIGF9fXJldHVybiBudWxsfX0sODI4OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig4MjkpfSw4Mjk6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBkfSkpO3ZhciBpPXIoMCksbj1yKDEpLGE9cigyKSxjPXIoMTcpLG89cigzKSxkPXtjb2RlOiJzb3ZybiIsc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iXSxndmxpZDoxMyxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hKCFlLnBhcmFtcy50YWdpZHx8aXNOYU4ocGFyc2VGbG9hdChlLnBhcmFtcy50YWdpZCkpfHwhaXNGaW5pdGUoZS5wYXJhbXMudGFnaWQpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3RyeXt2YXIgcixuLGEsZCx1PVtdLHM9W107T2JqZWN0KGkuX2VhY2gpKGUsKGZ1bmN0aW9uKGUpeyFhJiZlLnVzZXJJZCYmKGE9T2JqZWN0KGMuYikoZS51c2VySWQpKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnVpZHMmJmUudWlkc1swXSYmKCJjcml0ZW8uY29tIj09PWUuc291cmNlJiYoZD1lLnVpZHNbMF0uaWQpLHMucHVzaCh7c291cmNlOmUuc291cmNlLHVpZDplLnVpZHNbMF0uaWR9KSl9KSksZS5zY2hhaW4mJihuPW58fGUuc2NoYWluKSxyPXJ8fE9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgiaXYiLGUucGFyYW1zKTt2YXIgdD1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN8fGUuc2l6ZXMsbz0odD0odD1PYmplY3QoaS5pc0FycmF5KSh0KSYmT2JqZWN0KGkuaXNBcnJheSkodFswXSk/dDpbdF0pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmlzQXJyYXkpKGUpfSkpKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OnBhcnNlSW50KGVbMF0sMTApLGg6cGFyc2VJbnQoZVsxXSwxMCl9fSkpLHA9ZS5nZXRGbG9vciYmImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3I/ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiJiYW5uZXIiLHNpemU6IioifSk6e307cC5mbG9vcj1wLmZsb29yfHxPYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoImJpZGZsb29yIixlLnBhcmFtcyk7dmFyIGw9e2FkdW5pdGNvZGU6ZS5hZFVuaXRDb2RlLGlkOmUuYmlkSWQsYmFubmVyOntmb3JtYXQ6byx3OjEsaDoxfSx0YWdpZDpTdHJpbmcoT2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJ0YWdpZCIsZS5wYXJhbXMpKSxiaWRmbG9vcjpwLmZsb29yfTtsLmV4dD1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoImV4dCIsZS5vcnRiMkltcCl8fHZvaWQgMDt2YXIgYj1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoInNlZ21lbnRzIixlLnBhcmFtcyk7YiYmKGwuZXh0PWwuZXh0fHx7fSxsLmV4dC5kZWFscz1iLnNwbGl0KCIsIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KSkpLHUucHVzaChsKX0pKTt2YXIgcD1PYmplY3QoaS5kZWVwQ2xvbmUpKG8uYi5nZXRDb25maWcoIm9ydGIyIikpLGw9cC5zaXRlfHx7fTtsLnBhZ2U9dC5yZWZlcmVySW5mby5yZWZlcmVyLGwuZG9tYWluPU9iamVjdChpLnBhcnNlVXJsKShsLnBhZ2UpLmhvc3RuYW1lO3ZhciBiPXtpZDpPYmplY3QoaS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLGltcDp1LHNpdGU6bCx1c2VyOnAudXNlcnx8e319O24mJihiLnNvdXJjZT17ZXh0OntzY2hhaW46bn19KSx0LmdkcHJDb25zZW50JiYoT2JqZWN0KGkuZGVlcFNldFZhbHVlKShiLCJyZWdzLmV4dC5nZHByIiwrdC5nZHByQ29uc2VudC5nZHByQXBwbGllcyksT2JqZWN0KGkuZGVlcFNldFZhbHVlKShiLCJ1c2VyLmV4dC5jb25zZW50Iix0LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSx0LnVzcENvbnNlbnQmJk9iamVjdChpLmRlZXBTZXRWYWx1ZSkoYiwicmVncy5leHQudXNfcHJpdmFjeSIsdC51c3BDb25zZW50KSxhJiYoT2JqZWN0KGkuZGVlcFNldFZhbHVlKShiLCJ1c2VyLmV4dC5laWRzIixhKSxPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGIsInVzZXIuZXh0LnRwaWQiLHMpLGQmJk9iamVjdChpLmRlZXBTZXRWYWx1ZSkoYiwidXNlci5leHQucHJlYmlkX2NyaXRlb2lkIixkKSk7dmFyIG09Imh0dHBzOi8vYXAubGlqaXQuY29tL3J0Yi9iaWQ/c3JjPXByZWJpZF9wcmViaWRfNS4yMC4yIjtyZXR1cm4gciYmKG0rPSImaXY9Ii5jb25jYXQocikpLHttZXRob2Q6IlBPU1QiLHVybDptLGRhdGE6SlNPTi5zdHJpbmdpZnkoYiksb3B0aW9uczp7Y29udGVudFR5cGU6InRleHQvcGxhaW4ifX19Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJDb3VsZCBub3QgYnVpbGQgYmlkcmVxdWVzdCwgZXJyb3IgZGVhdGlsczoiLGUpfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5LHI9dC5pZCxuPXQuc2VhdGJpZDt0cnl7dmFyIGM9W107cmV0dXJuIHImJm4mJm4ubGVuZ3RoPjAmJm5bMF0uYmlkJiZuWzBdLmJpZC5sZW5ndGg+MCYmblswXS5iaWQubWFwKChmdW5jdGlvbihlKXtjLnB1c2goe3JlcXVlc3RJZDplLmltcGlkLGNwbTpwYXJzZUZsb2F0KGUucHJpY2UpLHdpZHRoOnBhcnNlSW50KGUudyksaGVpZ2h0OnBhcnNlSW50KGUuaCksY3JlYXRpdmVJZDplLmNyaWR8fGUuaWQsZGVhbElkOmUuZGVhbGlkfHxudWxsLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsbWVkaWFUeXBlOmEuYixhZDpkZWNvZGVVUklDb21wb25lbnQoIiIuY29uY2F0KGUuYWRtLCc8aW1nIHNyYz0iJykuY29uY2F0KGUubnVybCwnIj4nKSksdHRsOmUuZXh0JiZlLmV4dC50dGx8fDkwLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmUmJmUuYWRvbWFpbj9lLmFkb21haW46W119fSl9KSksY31jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoIkNvdWxkIG5vdCBpbnRyZXByZXQgYmlkcmVzcG9uc2UsIGVycm9yIGRlYXRpbHM6IixlKX19LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXt0cnl7dmFyIGE9W107aWYodCYmMCE9PXQubGVuZ3RoKXtpZihlLmlmcmFtZUVuYWJsZWQpe3ZhciBjPXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiYm9keS5leHQuaWlkIil9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5ib2R5LmV4dC5paWR9KSksbz1bXTtyJiZyLmdkcHJBcHBsaWVzJiYic3RyaW5nIj09dHlwZW9mIHIuY29uc2VudFN0cmluZyYmby5wdXNoKFsiZ2Rwcl9jb25zZW50IixyLmNvbnNlbnRTdHJpbmddKSxuJiZvLnB1c2goWyJ1c19wcml2YWN5IixuXSksY1swXSYmKG8ucHVzaChbImluZm9ybWVyIixjWzBdXSksYS5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9hcC5saWppdC5jb20vYmVhY29uPyIrby5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmpvaW4oIj0iKX0pKS5qb2luKCImIil9KSl9ZS5waXhlbEVuYWJsZWQmJnQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiYm9keS5leHQuc3luYy5waXhlbHMiKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQuYm9keS5leHQuc3luYy5waXhlbHMpfSksW10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudXJsfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBhLnB1c2goe3R5cGU6ImltYWdlIix1cmw6ZX0pfSkpfXJldHVybiBhfWNhdGNoKGUpe3JldHVybltdfX19O09iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShkKX19LFs4MjhdKTsKdXBianNDaHVuayhbMTA2XSx7ODY0OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig4NjUpfSw4NjU6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInRyaXBsZWxpZnRBZGFwdGVyU3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSk7dmFyIG49cigwKSxpPXIoMiksbz1yKDEpLHU9cigzKTtmdW5jdGlvbiBjKCl7cmV0dXJuKGM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBhKGUpe3JldHVybihhPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gcChlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9ZnVuY3Rpb24gZChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9wKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cyhlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6cChPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBzKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiBmKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBsKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBsKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXJ8fCJTZXQiPT09cilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpKXJldHVybiBsKGUsdCl9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGwoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn12YXIgeT0hMCxiPW51bGwsbT17Z3ZsaWQ6MjgsY29kZToidHJpcGxlbGlmdCIsc3VwcG9ydGVkTWVkaWFUeXBlczpbaS5iLGkuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUucGFyYW1zLmludmVudG9yeUNvZGV9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj0iaHR0cHM6Ly90bHguM2xpZnQuY29tL2hlYWRlci9hdWN0aW9uPyIsaT1mdW5jdGlvbihlKXt2YXIgdD17fSxyPWVbMF0uc2NoYWluLGk9ZnVuY3Rpb24oKXt2YXIgZT17fSx0PXt9LHI9e30saT11LmIuZ2V0TGVnYWN5RnBkKHUuYi5nZXRDb25maWcoIm9ydGIyIikpfHx7fSxvPWMoe30saS5jb250ZXh0KSxhPWMoe30saS51c2VyKTtPKHQsbyksTyhyLGEpLE9iamVjdChuLmlzRW1wdHkpKHQpfHwoZS5jb250ZXh0PXQpO09iamVjdChuLmlzRW1wdHkpKHIpfHwoZS51c2VyPXIpO3JldHVybiBlfSgpO3QuaW1wPWUubWFwKChmdW5jdGlvbihlLHQpe3ZhciByPXtpZDp0LHRhZ2lkOmUucGFyYW1zLmludmVudG9yeUNvZGUsZmxvb3I6dihlKX07cmV0dXJuIGcoZSk/ci52aWRlbz1mdW5jdGlvbihlKXt2YXIgdD1kKGQoe30sZS5wYXJhbXMudmlkZW8pLGUubWVkaWFUeXBlcy52aWRlbyk7dC53fHwodC53PXQucGxheWVyU2l6ZVswXVswXSk7dC5ofHwodC5oPXQucGxheWVyU2l6ZVswXVsxXSk7Imluc3RyZWFtIj09PXQuY29udGV4dCYmKHQucGxhY2VtZW50PTEpO3JldHVybiBkZWxldGUgdC5wbGF5ZXJTaXplLHR9KGUpOmUubWVkaWFUeXBlcy5iYW5uZXImJihyLmJhbm5lcj17Zm9ybWF0OmgoZS5zaXplcyl9KSxPYmplY3Qobi5pc0VtcHR5KShlLm9ydGIySW1wKXx8KHIuZnBkPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9e307TyhyLGUuZXh0KSxPYmplY3Qobi5pc0VtcHR5KShyKXx8KHQuY29udGV4dD1yKTtyZXR1cm4gdH0oZS5vcnRiMkltcCkpLHJ9KSk7dmFyIG89W10uY29uY2F0KGYoKGE9W2VbMF1dLGooYSwidGRpZCIsImFkc2VydmVyLm9yZyIsIlRESUQiKSkpLGYoZnVuY3Rpb24oZSl7cmV0dXJuIGooZSwiaWRsX2VudiIsImxpdmVyYW1wLmNvbSIsImlkbCIpfShbZVswXV0pKSxmKGZ1bmN0aW9uKGUpe3JldHVybiBqKGUsImNyaXRlb0lkIiwiY3JpdGVvLmNvbSIsImNyaXRlb0lkIil9KFtlWzBdXSkpLGYoZnVuY3Rpb24oZSl7cmV0dXJuIGooZSwicHViY2lkIiwicHViY2lkLm9yZyIsInB1YmNpZCIpfShbZVswXV0pKSk7dmFyIGE7by5sZW5ndGg+MCYmKHQudXNlcj17ZXh0OntlaWRzOm99fSk7dmFyIHA9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtPYmplY3Qobi5pc0VtcHR5KShlKXx8KHIuc2NoYWluPWQoe30sZSkpO09iamVjdChuLmlzRW1wdHkpKHQpfHwoci5mcGQ9ZCh7fSx0KSk7cmV0dXJuIHJ9KHIsaSk7T2JqZWN0KG4uaXNFbXB0eSkocCl8fCh0LmV4dD1wKTtyZXR1cm4gdH0oZSk7aWYocj1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykociwibGliIiwicHJlYmlkIikscj1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykociwidiIsIjUuMjAuMiIpLHQmJnQucmVmZXJlckluZm8pe3ZhciBvPXQucmVmZXJlckluZm8ucmVmZXJlcjtyPU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKShyLCJyZWZlcnJlciIsbyl9cmV0dXJuIHQmJnQudGltZW91dCYmKHI9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHIsInRtYXgiLHQudGltZW91dCkpLHQmJnQuZ2RwckNvbnNlbnQmJih2b2lkIDAhPT10LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYoeT10LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzLHI9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHIsImdkcHIiLHkudG9TdHJpbmcoKSkpLHZvaWQgMCE9PXQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKGI9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLHI9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHIsImNtcF9jcyIsYikpKSx0JiZ0LnVzcENvbnNlbnQmJihyPU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKShyLCJ1c19wcml2YWN5Iix0LnVzcENvbnNlbnQpKSwhMD09PXUuYi5nZXRDb25maWcoImNvcHBhIikmJihyPU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKShyLCJjb3BwYSIsITApKSxyLmxhc3RJbmRleE9mKCImIik9PT1yLmxlbmd0aC0xJiYocj1yLnN1YnN0cmluZygwLHIubGVuZ3RoLTEpKSxPYmplY3Qobi5sb2dNZXNzYWdlKSgidGxDYWxsIHJlcXVlc3QgYnVpbHQ6ICIrcikse21ldGhvZDoiUE9TVCIsdXJsOnIsZGF0YTppLGJpZGRlclJlcXVlc3Q6dH19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5iaWRkZXJSZXF1ZXN0O3JldHVybihlLmJvZHkuYmlkc3x8W10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIHI9e30sbj10LndpZHRofHwxLGk9dC5oZWlnaHR8fDEsbz10LmRlYWxfaWR8fCIiLHU9dC5jcmlkfHwiIixjPWUuYmlkc1t0LmltcF9pZF07MCE9dC5jcG0mJnQuYWQmJihyPXtyZXF1ZXN0SWQ6Yy5iaWRJZCxjcG06dC5jcG0sd2lkdGg6bixoZWlnaHQ6aSxuZXRSZXZlbnVlOiEwLGFkOnQuYWQsY3JlYXRpdmVJZDp1LGRlYWxJZDpvLGN1cnJlbmN5OiJVU0QiLHR0bDozMDAsdGxfc291cmNlOnQudGxfc291cmNlLG1ldGE6e319LGcoYykmJihyLnZhc3RYbWw9dC5hZCxyLm1lZGlhVHlwZT0idmlkZW8iLHIudHRsPTM2MDApLHQuYWR2ZXJ0aXNlcl9uYW1lJiYoci5tZXRhLmFkdmVydGlzZXJOYW1lPXQuYWR2ZXJ0aXNlcl9uYW1lKSx0LmFkb21haW4mJnQuYWRvbWFpbi5sZW5ndGgmJihyLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9dC5hZG9tYWluKSx0LnRsX3NvdXJjZSYmImhkeCI9PXQudGxfc291cmNlJiYoci5tZXRhLm1lZGlhVHlwZT0iYmFubmVyIiksdC50bF9zb3VyY2UmJiJ0bHgiPT10LnRsX3NvdXJjZSYmKHIubWV0YS5tZWRpYVR5cGU9Im5hdGl2ZSIpKTtyZXR1cm4gcn0ocixlKX0pKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBvPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybjtpZihlLmlmcmFtZUVuYWJsZWQpcmV0dXJuImlmcmFtZSI7aWYoZS5waXhlbEVuYWJsZWQpcmV0dXJuImltYWdlIn0oZSk7aWYobyl7dmFyIHU9Imh0dHBzOi8vZWIyLjNsaWZ0LmNvbS9zeW5jPyI7cmV0dXJuImltYWdlIj09PW8mJih1PU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKSh1LCJweCIsMSksdT1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykodSwic3JjIiwicHJlYmlkIikpLG51bGwhPT1iJiYodT1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykodSwiZ2RwciIseSksdT1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykodSwiY21wX2NzIixiKSksaSYmKHU9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHUsInVzX3ByaXZhY3kiLGkpKSxbe3R5cGU6byx1cmw6dX1dfX19O2Z1bmN0aW9uIGcoZSl7cmV0dXJuISFlLm1lZGlhVHlwZXMudmlkZW8mJighIWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0JiYiaW5zdHJlYW0iPT09ZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQudG9Mb3dlckNhc2UoKSl9ZnVuY3Rpb24gdihlKXt2YXIgdD1udWxsO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yKXt2YXIgcj1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ZyhlKT8idmlkZW8iOiJiYW5uZXIiLHNpemU6IioifSk7Im9iamVjdCIhPT1hKHIpfHwiVVNEIiE9PXIuY3VycmVuY3l8fGlzTmFOKHBhcnNlRmxvYXQoci5mbG9vcikpfHwodD1wYXJzZUZsb2F0KHIuZmxvb3IpKX1yZXR1cm4gbnVsbCE9PXQ/dDplLnBhcmFtcy5mbG9vcn1mdW5jdGlvbiBPKGUsdCl7T2JqZWN0KG4uaXNFbXB0eSkodCl8fE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKHIpe251bGwhPXRbcl0mJihlW3JdPXRbcl0pfSkpfWZ1bmN0aW9uIGooZSx0LHIsbil7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC51c2VySWQmJnQudXNlcklkW2VdfX0odCkpLmZpbHRlcihTKHQpKS5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJue3NvdXJjZTplLHVpZHM6W3tpZDpyLmlkP3IuaWQ6cixleHQ6e3J0aVBhcnRuZXI6dH19XX19fShyLG4pKX12YXIgUz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLGkpe3ZhciBvPSEhdCYmKE9iamVjdChuLmlzU3RyKSh0KT8hIXQ6T2JqZWN0KG4uaXNQbGFpbk9iamVjdCkodCkmJiFPYmplY3Qobi5pc0FycmF5KSh0KSYmIU9iamVjdChuLmlzRW1wdHkpKHQpJiZ0LmlkJiZPYmplY3Qobi5pc1N0cikodC5pZCkmJiEhdC5pZCk7cmV0dXJuIG98fHZvaWQgMD09PWlbMF18fE9iamVjdChuLmxvZ1dhcm4pKCJUcmlwbGVsaWZ0OiBpbnZhbGlkICIuY29uY2F0KGUsIiB1c2VySWQgZm9ybWF0IikpLG99fTtmdW5jdGlvbiBoKGUpe3JldHVybiBlLmZpbHRlcihBKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKX1mdW5jdGlvbiBBKGUpe3JldHVybiAyPT09ZS5sZW5ndGgmJiJudW1iZXIiPT10eXBlb2YgZVswXSYmIm51bWJlciI9PXR5cGVvZiBlWzFdfU9iamVjdChvLnJlZ2lzdGVyQmlkZGVyKShtKX19LFs4NjRdKTsKdXBianNDaHVuayhbMTA0XSx7ODY4OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig4NjkpfSw4Njk6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBTfSkpO3ZhciBuPXIoMCksaT1yKDEpLG89cigxMyksYT1yKDIpLHM9cigzKTtmdW5jdGlvbiB1KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09cilyZXR1cm47dmFyIG4saSxvPVtdLGE9ITAscz0hMTt0cnl7Zm9yKHI9ci5jYWxsKGUpOyEoYT0obj1yLm5leHQoKSkuZG9uZSkmJihvLnB1c2gobi52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe3M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8bChlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gZChlKXtyZXR1cm4oZD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHAoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxsKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGwoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHAoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09cnx8IlNldCI9PT1yP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKT9wKGUsdCk6dm9pZCAwfX1mdW5jdGlvbiBwKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkodCk7cjx0O3IrKyluW3JdPWVbcl07cmV0dXJuIG59dmFyIGY9IkJpZCBmcm9tIHJlc3BvbnNlIGhhcyBubyBhdWlkIHBhcmFtZXRlciAtICIsbT0iQmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGFkbSBwYXJhbWV0ZXIgLSAiLHk9IkFycmF5IG9mIGJpZCBvYmplY3RzIGlzIGVtcHR5IixnPSJTZWF0YmlkIGFycmF5IGZyb20gcmVzcG9uc2UgaGFzIGVtcHR5IGl0ZW0iLGI9IlJlc3BvbnNlIGlzIGVtcHR5IixoPSJSZXNwb25zZSBoYXMgZW1wdHkgc2VhdGJpZCBhcnJheSIsdj0iU2VhdGJpZCBmcm9tIHJlc3BvbnNlIGhhcyBubyBhcnJheSBvZiBiaWQgb2JqZWN0cyAtICIsUz17Y29kZToidHJ1c3R4IixzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmIsYS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyYW1zLnVpZH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe2lmKCFlLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgcj1udWxsLGk9bnVsbCxvPW51bGwsbD1udWxsLHA9bnVsbCxmPW51bGwsbT1udWxsLHk9bnVsbCxnPW51bGwsYj10fHx7fSxoPWIuYmlkZGVyUmVxdWVzdElkLHY9Yi5hdWN0aW9uSWQsUz1iLmdkcHJDb25zZW50LGo9Yi51c3BDb25zZW50LHc9Yi50aW1lb3V0LE89Yi5yZWZlcmVySW5mbyx4PU8/ZW5jb2RlVVJJQ29tcG9uZW50KE8ucmVmZXJlcik6IiIsST1bXSxFPXt9O2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aHx8KGg9ZS5iaWRkZXJSZXF1ZXN0SWQpLHZ8fCh2PWUuYXVjdGlvbklkKSxwfHwocD1lLnNjaGFpbiksZnx8KGY9ZS51c2VySWQpLG18fChtPWUudXNlcklkQXNFaWRzKTt2YXIgdD1lLnBhcmFtcyxzPXQudWlkLGM9dC5rZXl3b3Jkcyx5PWUubWVkaWFUeXBlcyxnPWUuYmlkSWQsYj1lLmFkVW5pdENvZGUsUz1lLnJ0ZDtFW2ddPWU7dmFyIGo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnZpZGVvPyJ2aWRlbyI6ImJhbm5lciIsbj10LnBhcmFtcy5iaWRGbG9vcnx8MDtpZigiZnVuY3Rpb24iPT10eXBlb2YgdC5nZXRGbG9vcil7dmFyIGk9dC5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOnIsc2l6ZTp0LnNpemVzLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9dShlLDIpO3JldHVybnt3OnRbMF0saDp0WzFdfX0pKX0pOyJvYmplY3QiIT09ZChpKXx8IlVTRCIhPT1pLmN1cnJlbmN5fHxpc05hTihwYXJzZUZsb2F0KGkuZmxvb3IpKXx8KG49TWF0aC5tYXgobixwYXJzZUZsb2F0KGkuZmxvb3IpKSl9cmV0dXJuIG59KHl8fHt9LGUpO2lmKFMpe3ZhciB3PVMuandwbGF5ZXImJlMuandwbGF5ZXIudGFyZ2V0aW5nO3cmJighaSYmdy5zZWdtZW50cyYmKGk9dy5zZWdtZW50cyksIWwmJncuY29udGVudCYmKGw9dy5jb250ZW50KSk7dmFyIE89Uy5wX3N0YW5kYXJkJiZTLnBfc3RhbmRhcmQudGFyZ2V0aW5nOyFvJiZPJiZPLnNlZ21lbnRzJiYobz1PLnNlZ21lbnRzKX12YXIgQT17aWQ6ZyYmZy50b1N0cmluZygpLHRhZ2lkOnMudG9TdHJpbmcoKSxleHQ6e2RpdmlkOmImJmIudG9TdHJpbmcoKX19O2lmKE9iamVjdChuLmlzRW1wdHkpKGMpfHwocnx8KHI9YyksQS5leHQuYmlkZGVyPXtrZXl3b3JkczpjfSksaiYmKEEuYmlkZmxvb3I9aiksIXl8fHlbYS5iXSl7dmFyIHg9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LnNpemVzfHxlLnNpemVzO2lmKCFyfHwhci5sZW5ndGgpcmV0dXJuO3ZhciBpPXIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4ucGFyc2VHUFRTaW5nbGVTaXplQXJyYXlUb1J0YlNpemUpKGUpfSkpLG89T2JqZWN0KG4ucGFyc2VHUFRTaW5nbGVTaXplQXJyYXlUb1J0YlNpemUpKHJbMF0pO2kubGVuZ3RoJiYoby5mb3JtYXQ9aSk7cmV0dXJuIG99KGUseT95W2EuYl06e30pO3gmJihBLmJhbm5lcj14KX1pZih5JiZ5W2EuZF0pe3ZhciBSPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5wbGF5ZXJTaXplLGk9dC5taW1lcyxvPXQuZHVyYXRpb25SYW5nZVNlYyxhPXQucHJvdG9jb2xzLHM9KHJ8fGUuc2l6ZXN8fFtdKVswXTtpZighcylyZXR1cm47dmFyIHU9T2JqZWN0KG4ucGFyc2VHUFRTaW5nbGVTaXplQXJyYXlUb1J0YlNpemUpKHMpO2kmJih1Lm1pbWVzPWkpO28mJjI9PT1vLmxlbmd0aCYmKHUubWluZHVyYXRpb249b1swXSx1Lm1heGR1cmF0aW9uPW9bMV0pO2EmJmEubGVuZ3RoJiYodS5wcm90b2NvbHM9YSk7cmV0dXJuIHV9KGUseVthLmRdKTtSJiYoQS52aWRlbz1SKX0oQS5iYW5uZXJ8fEEudmlkZW8pJiZJLnB1c2goQSl9KSk7dmFyIFI9e3RpZDp2JiZ2LnRvU3RyaW5nKCksZXh0Ont3cmFwcGVyOiJQcmViaWRfanMiLHdyYXBwZXJfdmVyc2lvbjoiNS4yMC4yIn19O3AmJihSLmV4dC5zY2hhaW49cCk7dmFyIFQ9cy5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpfHx3LF89dz9NYXRoLm1pbihULHcpOlQsaz17aWQ6aCYmaC50b1N0cmluZygpLHNpdGU6e3BhZ2U6eH0sdG1heDpfLHNvdXJjZTpSLGltcDpJfTtsJiYoay5zaXRlLmNvbnRlbnQ9bCk7dmFyIHo9W107QSgiaW93X2xhYnNfcHViX2RhdGEiLCJqd3BzZWciLGkseiksQSgicGVybXV0aXZlIiwicF9zdGFuZGFyZCIsbyx6LCJwZXJtdXRpdmUuY29tIiksei5sZW5ndGgmJih5PXtkYXRhOnp9KSxTJiZTLmNvbnNlbnRTdHJpbmcmJihnPXtjb25zZW50OlMuY29uc2VudFN0cmluZ30pLG0mJm0ubGVuZ3RoJiYoKGc9Z3x8e30pLmVpZHM9YyhtKSksZyYmT2JqZWN0LmtleXMoZykubGVuZ3RoJiYoKHk9eXx8e30pLmV4dD1nKSx5JiYoay51c2VyPXkpO3ZhciBDPU9iamVjdChuLmRlZXBBY2Nlc3MpKHMuYi5nZXRDb25maWcoIm9ydGIyLnVzZXIiKSwia2V5d29yZHMiKXx8bnVsbCxOPU9iamVjdChuLmRlZXBBY2Nlc3MpKHMuYi5nZXRDb25maWcoIm9ydGIyLnNpdGUiKSwia2V5d29yZHMiKXx8bnVsbDtyZXR1cm4gQyYmKChyPXJ8fHt9KS51c2VyPXIudXNlcnx8e30sci51c2VyLm9ydGIyPVt7bmFtZToia2V5d29yZHMiLGtleXdvcmRzOkMuc3BsaXQoIiwiKX1dKSxOJiYoKHI9cnx8e30pLnNpdGU9ci5zaXRlfHx7fSxyLnNpdGUub3J0YjI9W3tuYW1lOiJrZXl3b3JkcyIsa2V5d29yZHM6Ti5zcGxpdCgiLCIpfV0pLHImJihyPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihyKXt2YXIgbj1lW3JdO2lmKG4paWYoInNpdGUiPT09cnx8InVzZXIiPT09cil7dmFyIGk9e307T2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShuW2VdKSl7dmFyIHQ9W107bltlXS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09PWQoZSkmJmUubmFtZSl7dmFyIHI9e25hbWU6ZS5uYW1lLHNlZ21lbnRzOltdfTtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXtBcnJheS5pc0FycmF5KGVbdF0pJiZlW3RdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UmJigic3RyaW5nIj09dHlwZW9mIGU/ci5zZWdtZW50cy5wdXNoKHtuYW1lOnQsdmFsdWU6ZX0pOiJzZWdtZW50cyI9PT10JiYic3RyaW5nIj09dHlwZW9mIGUubmFtZSYmInN0cmluZyI9PXR5cGVvZiBlLnZhbHVlJiZyLnNlZ21lbnRzLnB1c2goZSkpfSkpfSkpLHIuc2VnbWVudHMubGVuZ3RoJiZ0LnB1c2gocil9fSkpLHQubGVuZ3RoJiYoaVtlXT10KX19KSksdFtyXT1pfWVsc2UgdFtyXT1ufSkpLE9iamVjdC5rZXlzKHQpLmxlbmd0aCYmdH0ocikpJiYoay5leHQ9e2tleXdvcmRzOnJ9KSxTJiZTLmdkcHJBcHBsaWVzJiYoay5yZWdzPXtleHQ6e2dkcHI6Uy5nZHByQXBwbGllcz8xOjB9fSksaiYmKGsucmVnc3x8KGsucmVncz17ZXh0Ont9fSksay5yZWdzLmV4dC51c19wcml2YWN5PWopLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9ncmlkLmJpZHN3aXRjaC5uZXQvaGJqc29uP3NwPXRydXN0eCIsZGF0YTpKU09OLnN0cmluZ2lmeShrKSxiaWRzTWFwOkV9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpvLmE7ZT1lJiZlLmJvZHk7dmFyIGksYT1bXTtyZXR1cm4gZT9lLnNlYXRiaWQmJiFlLnNlYXRiaWQubGVuZ3RoJiYoaT1oKTppPWIsIWkmJmUuc2VhdGJpZCYmZS5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe3coaihlKSx0LGEscil9KSksaSYmT2JqZWN0KG4ubG9nRXJyb3IpKGkpLGF9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXtpZihlLnBpeGVsRW5hYmxlZCl7dmFyIGk9cy5iLmdldENvbmZpZygidXNlclN5bmMuc3luY3NQZXJCaWRkZXIiKSxvPVtdO3ImJiJzdHJpbmciPT10eXBlb2Ygci5jb25zZW50U3RyaW5nJiYoImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQXBwbGllcz9vLnB1c2goImdkcHI9Ii5jb25jYXQoTnVtYmVyKHIuZ2RwckFwcGxpZXMpLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdChyLmNvbnNlbnRTdHJpbmcpKTpvLnB1c2goImdkcHJfY29uc2VudD0iLmNvbmNhdChyLmNvbnNlbnRTdHJpbmcpKSksbiYmby5wdXNoKCJ1c19wcml2YWN5PSIuY29uY2F0KG4pKTt2YXIgYT1vLmpvaW4oIiYiKSx1PVt7dHlwZToiaW1hZ2UiLHVybDoiaHR0cHM6Ly9zb2ZpYS50cnVzdHgub3JnL3B1c2hfc3luYyIrKGE/Ij8iLmNvbmNhdChhKToiIil9XTtyZXR1cm4gaT4xJiZ1LnB1c2goe3R5cGU6ImltYWdlIix1cmw6Imh0dHBzOi8veC5iaWRzd2l0Y2gubmV0L3N5bmM/c3NwPXRoZW1lZGlhZ3JpZCIrKGE/IiYiLmNvbmNhdChhKToiIil9KSx1fX19O2Z1bmN0aW9uIGooZSl7cmV0dXJuIGU/ZS5iaWQ/ZS5iaWRbMF18fE9iamVjdChuLmxvZ0Vycm9yKSh5KTpPYmplY3Qobi5sb2dFcnJvcikoditKU09OLnN0cmluZ2lmeShlKSk6T2JqZWN0KG4ubG9nRXJyb3IpKGcpLGUmJmUuYmlkJiZlLmJpZFswXX1mdW5jdGlvbiB3KGUsdCxyLGkpe2lmKGUpe3ZhciBvO2lmKGUuYXVpZHx8KG89ZitKU09OLnN0cmluZ2lmeShlKSksZS5hZG18fGUubnVybCl7dmFyIHM9dC5iaWRzTWFwW2UuaW1waWRdO2lmKCFvJiZzKXt2YXIgdT17cmVxdWVzdElkOnMuYmlkSWQsY3BtOmUucHJpY2Usd2lkdGg6ZS53LGhlaWdodDplLmgsY3JlYXRpdmVJZDplLmF1aWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMSx0dGw6MzYwLGRlYWxJZDplLmRlYWxpZCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW4/ZS5hZG9tYWluOltdfX07InZpZGVvIj09PWUuY29udGVudF90eXBlPyhlLmFkbT8odS52YXN0WG1sPWUuYWRtLHUuYWRSZXNwb25zZT17Y29udGVudDp1LnZhc3RYbWx9KTplLm51cmwmJih1LnZhc3RVcmw9ZS5udXJsKSx1Lm1lZGlhVHlwZT1hLmQscy5yZW5kZXJlcnx8cy5tZWRpYVR5cGVzJiZzLm1lZGlhVHlwZXMudmlkZW8mJiJvdXRzdHJlYW0iIT09cy5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHR8fCh1LnJlbmRlcmVyPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1yLmluc3RhbGwoe2lkOnQuaWQsdXJsOnQudXJsLGxvYWRlZDohMX0pO3RyeXtpLnNldFJlbmRlcihPKX1jYXRjaChlKXtPYmplY3Qobi5sb2dXYXJuKSgiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gaX0oMCx7aWQ6cy5iaWRJZCx1cmw6Imh0dHBzOi8vYWNkbi5hZG54cy5jb20vdmlkZW8vb3V0c3RyZWFtL0FOT3V0c3RyZWFtVmlkZW8uanMifSxpKSkpOih1LmFkPWUuYWRtLHUubWVkaWFUeXBlPWEuYiksci5wdXNoKHUpfX1lbHNlIG89bStKU09OLnN0cmluZ2lmeShlKTtvJiZPYmplY3Qobi5sb2dFcnJvcikobyl9fWZ1bmN0aW9uIE8oZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5BTk91dHN0cmVhbVZpZGVvLnJlbmRlckFkKHt0YXJnZXRJZDplLmFkVW5pdENvZGUsYWRSZXNwb25zZTplLmFkUmVzcG9uc2V9KX0pKX1mdW5jdGlvbiBBKGUsdCxyLG4saSl7aWYociYmci5sZW5ndGgpbi5wdXNoKHtuYW1lOmUsc2VnbWVudDpyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJihlLmlkfHxlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiYoInN0cmluZyI9PXR5cGVvZiBlfHwibnVtYmVyIj09dHlwZW9mIGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dCx2YWx1ZTplLnRvU3RyaW5nKCl9fSkpfSk7ZWxzZSBpZihpKXt2YXIgbz1zLmIuZ2V0Q29uZmlnKCJvcnRiMi51c2VyLmRhdGEiKSxhPW51bGw7byYmby5zb21lKChmdW5jdGlvbihlKXt2YXIgdD1lLm5hbWUscj1lLnNlZ21lbnQ7aWYodD09PWkpcmV0dXJuIGE9ciwhMH0pKSxhJiZhLmxlbmd0aCYmbi5wdXNoKHtuYW1lOmUsc2VnbWVudDphLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJihlLmlkfHxlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiYoInN0cmluZyI9PXR5cGVvZiBlfHwibnVtYmVyIj09dHlwZW9mIGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dCx2YWx1ZTplLnRvU3RyaW5nKCl9fSkpfSl9fU9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShTKX19LFs4NjhdKTsKdXBianNDaHVuayhbMTAxXSx7ODc2OmZ1bmN0aW9uKGUsbix0KXtlLmV4cG9ydHM9dCg4NzcpfSw4Nzc6ZnVuY3Rpb24oZSxuLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5yZXNldFVzZXJTeW5jPWZ1bmN0aW9uKCl7ZD0hMX0sdC5kKG4sInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO3ZhciBzPXQoMCksaT10KDMpLHI9dCgxKSxhPSIzLjVWIixkPSExO09iamVjdChzLmxvZ01lc3NhZ2UpKCJJbml0aWFsaXppbmcgVURNIEFkYXB0ZXIuIFBCSlMgVmVyc2lvbjogIi5jb25jYXQoIjUuMjAuMiIsIiB3aXRoIGFkYXB0ZXIgdmVyc2lvbjogIikuY29uY2F0KGEsIiAgVXBkYXRlZCAyMDE5MTAyOCIpKTt2YXIgbz17Y29kZToidW5kZXJkb2dtZWRpYSIsYmlkUGFyYW1zOltdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciBuPWUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz9lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOmUuc2l6ZXM7cmV0dXJuISEoZS5wYXJhbXMmJmUucGFyYW1zLnNpdGVJZCYmbiYmbi5sZW5ndGg+MCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxuKXt2YXIgdD1bXSxpPTA7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplczplLnNpemVzO3Q9T2JqZWN0KHMuZmxhdHRlbikodCxPYmplY3Qocy5wYXJzZVNpemVzSW5wdXQpKG4pKSxpPWUucGFyYW1zLnNpdGVJZH0pKTt2YXIgcj17dGlkOjEsZHQ6MTAsc2lkOmksc2l6ZXM6dC5qb2luKCIsIiksdmVyc2lvbjphfTtpZihuJiZuLmdkcHJDb25zZW50JiYodm9pZCAwIT09bi5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHIuZ2RwckFwcGxpZXM9ISFuLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxuLmdkcHJDb25zZW50LnZlbmRvckRhdGEmJm4uZ2RwckNvbnNlbnQudmVuZG9yRGF0YS52ZW5kb3JDb25zZW50cyYmdm9pZCAwIT09bi5nZHByQ29uc2VudC52ZW5kb3JEYXRhLnZlbmRvckNvbnNlbnRzWzE1OV0mJihyLmNvbnNlbnRHaXZlbj0hIW4uZ2RwckNvbnNlbnQudmVuZG9yRGF0YS52ZW5kb3JDb25zZW50c1sxNTldKSx2b2lkIDAhPT1uLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihyLmNvbnNlbnREYXRhPW4uZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLG4udXNwQ29uc2VudCYmKHIudXNwQ29uc2VudD1uLnVzcENvbnNlbnQpLCFyLmdkcHJBcHBsaWVzfHxyLmNvbnNlbnRHaXZlbilyZXR1cm57bWV0aG9kOiJHRVQiLHVybDoiaHR0cHM6Ly91ZG1zZXJ2ZS5uZXQvdWRtL2ltZy5mZXRjaCIsZGF0YTpyLGJpZFBhcmFtczplfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsbil7aWYoIWQmJm4ubGVuZ3RoPjAmJm5bMF0uYm9keSYmblswXS5ib2R5LnVzZXJTeW5jcyYmblswXS5ib2R5LnVzZXJTeW5jcy5sZW5ndGg+MClyZXR1cm4gZD0hMCxuWzBdLmJvZHkudXNlclN5bmNzLmZpbHRlcigoZnVuY3Rpb24obil7dmFyIHQ9bi50eXBlO3JldHVybiEoIWUuaWZyYW1lRW5hYmxlZHx8ImlmcmFtZSIhPT10KXx8KCEoIWUucGl4ZWxFbmFibGVkfHwiaW1hZ2UiIT09dCl8fHZvaWQgMCl9KSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsbil7dmFyIHQ9W107cmV0dXJuIG4uYmlkUGFyYW1zLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UuYm9keS5taWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKCEoZS51c2VDb3VudD4wKSl7ZS51c2VDb3VudHx8KGUudXNlQ291bnQ9MCk7dmFyIHI9ITAsZD1uLm1lZGlhVHlwZXMmJm4ubWVkaWFUeXBlcy5iYW5uZXImJm4ubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/bi5tZWRpYVR5cGVzLmJhbm5lci5zaXplczpuLnNpemVzO2lmKE9iamVjdChzLnBhcnNlU2l6ZXNJbnB1dCkoZCkuZm9yRWFjaCgoZnVuY3Rpb24obil7bj09PWUud2lkdGgrIngiK2UuaGVpZ2h0JiYocj0hMSl9KSksIXIpe3ZhciBwPXtyZXF1ZXN0SWQ6bi5iaWRJZCxiaWRkZXJDb2RlOm8uY29kZSxjcG06cGFyc2VGbG9hdChlLmNwbSksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsYWQ6ZS5hZF9jb2RlX2h0bWwsY3JlYXRpdmVJZDplLm1pZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiExLHR0bDplLnR0bHx8NjAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZHZlcnRpc2VyX2RvbWFpbnN8fFtdfX07cC5jcG08PTB8fHAuYWQubGVuZ3RoPD0wfHwoZS51c2VDb3VudCsrLHAuYWQrPWZ1bmN0aW9uKGUsbix0KXt2YXIgcz1uLm5vdGlmaWNhdGlvbl91cmwscj1zLmluZGV4T2YoIjt2ZXJzaW9uPSIpO3IrMSYmKHM9cy5zdWJzdHJpbmcoMCxyKSk7cys9Ijt2ZXJzaW9uPSIuY29uY2F0KGEpLHMrPSI7Y2I9IitNYXRoLnJhbmRvbSgpLHMrPSI7cXFxPSIrMS9lLmNwbSxzKz0iO2hidD0iK2kuYi5nZXRDb25maWcoIl9iaWRkZXJUaW1lb3V0Iikscys9IjtzdHlsZT1hZGFwdGVyIixzKz0iO3Zpcz0iK2VuY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUpLHMrPSI7dHJhZmZpY19pbmZvPSIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGZ1bmN0aW9uKCl7Zm9yKHZhciBlLG49e30sdD13aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCI/IikrMSkuc3BsaXQoIiYiKSxzPTA7czx0Lmxlbmd0aDtzKyspKGU9dFtzXS5zcGxpdCgiPSIpKVswXS5tYXRjaCgvXnV0bV8vKSYmKG5bZVswXV09ZVsxXS5zdWJzdHIoMCwxNTApKTtyZXR1cm4gbn0oKSkpLHQucGFyYW1zLnN1YklkJiYocys9IjtzdWJpZD0iK2VuY29kZVVSSUNvbXBvbmVudCh0LnBhcmFtcy5zdWJJZCkpO3JldHVybic8c2NyaXB0IGFzeW5jIHNyYz0iJytzKyciPjxcL3NjcmlwdD4nfShwLGUsbiksdC5wdXNoKHApKX19fSkpfSkpLHR9fTtPYmplY3Qoci5yZWdpc3RlckJpZGRlcikobyl9fSxbODc2XSk7CnVwYmpzQ2h1bmsoWzExXSx7MTc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShuKSlpZigicHViUHJvdmlkZWRJZCI9PT1uKXQ9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciByPWEoZVtuXSxuKTtyJiZ0LnB1c2gocil9cmV0dXJuIHR9LHQuYT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKG4pe09iamVjdChyLmRlZXBBY2Nlc3MpKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJk9iamVjdChyLmRlZXBBY2Nlc3MpKG8sbisiLnNvdXJjZSIpJiZ0LnB1c2goe3NvdXJjZTpvW25dLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSx0fTt2YXIgcj1uKDApLG89e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxuYXZlZ2dJZDp7c291cmNlOiJuYXZlZ2cuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qoci5waWNrKShlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHR9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0scHVibGlua0lkOntzb3VyY2U6ImVwc2lsb24uY29tIixhdHlwZTozfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX0sY29ubmVjdElkOntzb3VyY2U6InlhaG9vLmNvbSIsYXR5cGU6M319O2Z1bmN0aW9uIGEoZSx0KXt2YXIgbj1vW3RdO2lmKG4mJmUpe3ZhciBhPXt9O2Euc291cmNlPW4uc291cmNlO3ZhciBpPU9iamVjdChyLmlzRm4pKG4uZ2V0VmFsdWUpP24uZ2V0VmFsdWUoZSk6ZTtpZihPYmplY3Qoci5pc1N0cikoaSkpe3ZhciBjPXtpZDppLGF0eXBlOm4uYXR5cGV9O2lmKE9iamVjdChyLmlzRm4pKG4uZ2V0VWlkRXh0KSl7dmFyIHU9bi5nZXRVaWRFeHQoZSk7dSYmKGMuZXh0PXUpfWlmKGEudWlkcz1bY10sT2JqZWN0KHIuaXNGbikobi5nZXRFaWRFeHQpKXt2YXIgcz1uLmdldEVpZEV4dChlKTtzJiYoYS5leHQ9cyl9cmV0dXJuIGF9fXJldHVybiBudWxsfX0sODg2OmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big4ODcpfSw4ODc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsIlBCSlNfVVNFUl9JRF9PUFRPVVRfTkFNRSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHd9KSksbi5kKHQsImNvcmVTdG9yYWdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKSxuLmQodCwic3luY0RlbGF5IiwoZnVuY3Rpb24oKXtyZXR1cm4gSX0pKSxuLmQodCwiYXVjdGlvbkRlbGF5IiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSx0LnNldFN1Ym1vZHVsZVJlZ2lzdHJ5PWZ1bmN0aW9uKGUpe1Y9ZX0sdC5zZXRTdG9yZWRWYWx1ZT1MLHQuc2V0U3RvcmVkQ29uc2VudERhdGE9TSx0LmZpbmRSb290RG9tYWluPUosdC5yZXF1ZXN0Qmlkc0hvb2s9JCxuLmQodCwidmFsaWRhdGVHZHByRW5mb3JjZW1lbnQiLChmdW5jdGlvbigpe3JldHVybiBZfSkpLHQuYXR0YWNoSWRTeXN0ZW09bmUsdC5pbml0PXJlO3ZhciByPW4oMTEpLG89bi5uKHIpLGE9bigzKSxpPW4oMTApLGM9bi5uKGkpLHU9bigxNCkscz1uKDgpLGQ9big1KSxsPW4ubihkKSxmPW4oOSksYj1uKDE3KSxwPW4oNyksZz1uKDApLG09bigxMikseT1uLm4obSk7ZnVuY3Rpb24gTyhlLHQpe3ZhciBuPSJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZighbil7aWYoQXJyYXkuaXNBcnJheShlKXx8KG49ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiB2KGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiB2KGUsdCl9KGUpKXx8dCYmZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aCl7biYmKGU9bik7dmFyIHI9MCxvPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpvLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbcisrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjpvfX10aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9dmFyIGEsaT0hMCxjPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwoZSl9LG46ZnVuY3Rpb24oKXt2YXIgZT1uLm5leHQoKTtyZXR1cm4gaT1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXtjPSEwLGE9ZX0sZjpmdW5jdGlvbigpe3RyeXtpfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgYX19fX1mdW5jdGlvbiB2KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIGosaCxJLGssRD0iVXNlciBJRCIsRT0iY29va2llIixTPSJodG1sNSIseD0iX3BianNfdXNlcmlkX2NvbnNlbnRfZGF0YSIsQT0zMCx3PSJfcGJqc19pZF9vcHRvdXQiLEM9T2JqZWN0KHAuYSkoInVzZXJpZCIpLFU9W10sXz0hMSxQPVtdLFQ9W10sVj1bXTtmdW5jdGlvbiBMKGUsdCl7dmFyIG49ZS5jb25maWcuc3RvcmFnZSxyPSJmdW5jdGlvbiI9PXR5cGVvZiBlLnN1Ym1vZHVsZS5kb21haW5PdmVycmlkZT9lLnN1Ym1vZHVsZS5kb21haW5PdmVycmlkZSgpOm51bGw7dHJ5e3ZhciBvPU9iamVjdChnLmlzUGxhaW5PYmplY3QpKHQpP0pTT04uc3RyaW5naWZ5KHQpOnQsYT1uZXcgRGF0ZShEYXRlLm5vdygpKzg2NGU1Km4uZXhwaXJlcykudG9VVENTdHJpbmcoKTtuLnR5cGU9PT1FPyhDLnNldENvb2tpZShuLm5hbWUsbyxhLCJMYXgiLHIpLCJudW1iZXIiPT10eXBlb2Ygbi5yZWZyZXNoSW5TZWNvbmRzJiZDLnNldENvb2tpZSgiIi5jb25jYXQobi5uYW1lLCJfbGFzdCIpLChuZXcgRGF0ZSkudG9VVENTdHJpbmcoKSxhLCJMYXgiLHIpKTpuLnR5cGU9PT1TJiYoQy5zZXREYXRhSW5Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KG4ubmFtZSwiX2V4cCIpLGEpLEMuc2V0RGF0YUluTG9jYWxTdG9yYWdlKG4ubmFtZSxlbmNvZGVVUklDb21wb25lbnQobykpLCJudW1iZXIiPT10eXBlb2Ygbi5yZWZyZXNoSW5TZWNvbmRzJiZDLnNldERhdGFJbkxvY2FsU3RvcmFnZSgiIi5jb25jYXQobi5uYW1lLCJfbGFzdCIpLChuZXcgRGF0ZSkudG9VVENTdHJpbmcoKSkpfWNhdGNoKGUpe09iamVjdChnLmxvZ0Vycm9yKShlKX19ZnVuY3Rpb24gTihlKXt2YXIgdD1PYmplY3QoZy5nZXRQcmViaWRJbnRlcm5hbCkoKS5zZXRFaWRQZXJtaXNzaW9uczsiZnVuY3Rpb24iPT10eXBlb2YgdCYmT2JqZWN0KGcuaXNBcnJheSkoZSkmJnQoT2JqZWN0KGIuYSkoZSkpfWZ1bmN0aW9uIHEoZSl7dmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dm9pZCAwLHI9bj8iIi5jb25jYXQoZS5uYW1lLCJfIikuY29uY2F0KG4pOmUubmFtZTt0cnl7aWYoZS50eXBlPT09RSl0PUMuZ2V0Q29va2llKHIpO2Vsc2UgaWYoZS50eXBlPT09Uyl7dmFyIG89Qy5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSgiIi5jb25jYXQoZS5uYW1lLCJfZXhwIikpOyIiPT09bz90PUMuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2Uocik6byYmbmV3IERhdGUobykuZ2V0VGltZSgpLURhdGUubm93KCk+MCYmKHQ9ZGVjb2RlVVJJQ29tcG9uZW50KEMuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UocikpKX0ic3RyaW5nIj09dHlwZW9mIHQmJiJ7Ij09PXQudHJpbSgpLmNoYXJBdCgwKSYmKHQ9SlNPTi5wYXJzZSh0KSl9Y2F0Y2goZSl7T2JqZWN0KGcubG9nRXJyb3IpKGUpfXJldHVybiB0fWZ1bmN0aW9uIEYoZSl7dmFyIHQ9e2NvbnNlbnRTdHJpbmc6IiIsZ2RwckFwcGxpZXM6ITEsYXBpVmVyc2lvbjowfTtyZXR1cm4gZSYmKHQuY29uc2VudFN0cmluZz1lLmNvbnNlbnRTdHJpbmcsdC5nZHByQXBwbGllcz1lLmdkcHJBcHBsaWVzLHQuYXBpVmVyc2lvbj1lLmFwaVZlcnNpb24pLE9iamVjdChnLmN5cmI1M0hhc2gpKEpTT04uc3RyaW5naWZ5KHQpKX1mdW5jdGlvbiBNKGUpe3RyeXt2YXIgdD1uZXcgRGF0ZShEYXRlLm5vdygpKzg2NGU1KkEpLnRvVVRDU3RyaW5nKCk7Qy5zZXRDb29raWUoeCxGKGUpLHQsIkxheCIpfWNhdGNoKGUpe09iamVjdChnLmxvZ0Vycm9yKShlKX19ZnVuY3Rpb24gQigpe3RyeXtyZXR1cm4gQy5nZXRDb29raWUoeCl9Y2F0Y2goZSl7T2JqZWN0KGcubG9nRXJyb3IpKGUpfX1mdW5jdGlvbiBSKGUpe2lmKGUmJiJib29sZWFuIj09dHlwZW9mIGUuZ2RwckFwcGxpZXMmJmUuZ2RwckFwcGxpZXMpe2lmKCFlLmNvbnNlbnRTdHJpbmcpcmV0dXJuITE7aWYoMT09PWUuYXBpVmVyc2lvbiYmITE9PT1PYmplY3QoZy5kZWVwQWNjZXNzKShlLCJ2ZW5kb3JEYXRhLnB1cnBvc2VDb25zZW50cy4xIikpcmV0dXJuITE7aWYoMj09PWUuYXBpVmVyc2lvbiYmITE9PT1PYmplY3QoZy5kZWVwQWNjZXNzKShlLCJ2ZW5kb3JEYXRhLnB1cnBvc2UuY29uc2VudHMuMSIpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIEooKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO2lmKCFDLmNvb2tpZXNBcmVFbmFibGVkKCkpcmV0dXJuIGU7dmFyIHQsbixyPWUuc3BsaXQoIi4iKTtpZigyPT1yLmxlbmd0aClyZXR1cm4gZTt2YXIgbz0tMixhPSJfcmRjIi5jb25jYXQoRGF0ZS5ub3coKSksaT0id3JpdGVhYmxlIjtkb3t0PXIuc2xpY2Uobykuam9pbigiLiIpO3ZhciBjPW5ldyBEYXRlKE9iamVjdChnLnRpbWVzdGFtcCkoKSsxZTQpLnRvVVRDU3RyaW5nKCk7Qy5zZXRDb29raWUoYSxpLGMsIkxheCIsdCx2b2lkIDApO3ZhciB1PUMuZ2V0Q29va2llKGEsdm9pZCAwKTt1PT09aT8obj0hMSxDLnNldENvb2tpZShhLCIiLCJUaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVCIsdm9pZCAwLHQsdm9pZCAwKSk6KG8rPS0xLG49TWF0aC5hYnMobyk8PXIubGVuZ3RoKX13aGlsZShuKTtyZXR1cm4gdH1mdW5jdGlvbiBIKGUsdCl7dmFyIG49ZnVuY3Rpb24oKXt9O3QmJihuPU9iamVjdChnLmRlbGF5RXhlY3V0aW9uKSgoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoaCksdCgpfSksZS5sZW5ndGgpKSxlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuY2FsbGJhY2soKGZ1bmN0aW9uKHQpe3Q/KGUuY29uZmlnLnN0b3JhZ2UmJkwoZSx0KSxlLmlkT2JqPWUuc3VibW9kdWxlLmRlY29kZSh0LGUuY29uZmlnKSk6T2JqZWN0KGcubG9nSW5mbykoIiIuY29uY2F0KEQsIjogIikuY29uY2F0KGUuc3VibW9kdWxlLm5hbWUsIiAtIHJlcXVlc3QgaWQgcmVzcG9uZGVkIHdpdGggYW4gZW1wdHkgdmFsdWUiKSksbigpfSkpLGUuY2FsbGJhY2s9dm9pZCAwfSkpfWZ1bmN0aW9uIHooZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoP2UuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGcuaXNQbGFpbk9iamVjdCkoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5rZXlzKHQuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKG4pe2Vbbl09dC5pZE9ialtuXX0pKSxlfSkse30pOnt9fWZ1bmN0aW9uIEcoZSx0KXtbZV0uc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIUFycmF5LmlzQXJyYXkoZSl8fCFlLmxlbmd0aH0pKXx8ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZHMmJk9iamVjdChnLmlzQXJyYXkpKGUuYmlkcykmJighZS5iaWRzLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT1lLmJpZGRlcn0pKSYmT2JqZWN0KGcuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LnByZWJpZC5zdG9yZWRyZXF1ZXN0IikmJmUuYmlkcy5wdXNoKHtiaWRkZXI6InMyc0JpZGRlclBsYWNlaG9sZGVyIn0pLGUuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1mdW5jdGlvbihlLHQpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aCYmdD9lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWUuY29uZmlnLmJpZGRlcnN8fCFPYmplY3QoZy5pc0FycmF5KShlLmNvbmZpZy5iaWRkZXJzKXx8eSgpKGUuY29uZmlnLmJpZGRlcnMsdCl8fCJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT10fSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChnLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qua2V5cyh0LmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihuKXtlW25dPXQuaWRPYmpbbl19KSksZX0pLHt9KTp7fX0odCxlLmJpZGRlcik7T2JqZWN0LmtleXMobikubGVuZ3RoJiYoZS51c2VySWQ9bixlLnVzZXJJZEFzRWlkcz1PYmplY3QoYi5iKShuKSl9KSkpfSkpfWZ1bmN0aW9uIFcoZSl7dmFyIHQ9ITE7aWYodm9pZCAwPT09aiYmKGo9ZnVuY3Rpb24oZSx0KXt2YXIgbj1ZKGUsdCkscj1uLnVzZXJJZE1vZHVsZXM7aWYoIW4uaGFzVmFsaWRhdGVkJiYhUih0KSlyZXR1cm4gT2JqZWN0KGcubG9nV2FybikoIiIuY29uY2F0KEQsIiAtIGdkcHIgcGVybWlzc2lvbiBub3QgdmFsaWQgZm9yIGxvY2FsIHN0b3JhZ2Ugb3IgY29va2llcywgZXhpdCBtb2R1bGUiKSksW107dmFyIG89QigpO3JldHVybiBNKHQpLHIucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiBaKG4sdCxvLCExKSxlLnB1c2gobiksZX0pLFtdKX0oUCxzLmdkcHJEYXRhSGFuZGxlci5nZXRDb25zZW50RGF0YSgpKSkubGVuZ3RoKXtOKGopO3ZhciBuPWouZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGcuaXNGbikoZS5jYWxsYmFjayl9KSk7aWYobi5sZW5ndGgpaWYoZSYmaz4wKXt0PSEwO3ZhciByPSExLG89ZnVuY3Rpb24oKXtyfHwocj0hMCxlKCkpfTtPYmplY3QoZy5sb2dJbmZvKSgiIi5jb25jYXQoRCwiIC0gYXVjdGlvbiBkZWxheWVkIGJ5ICIpLmNvbmNhdChrLCIgYXQgbW9zdCB0byBmZXRjaCBpZHMiKSksaD1zZXRUaW1lb3V0KG8sayksSChuLG8pfWVsc2UgYy5hLm9uKGwuYS5FVkVOVFMuQVVDVElPTl9FTkQsKGZ1bmN0aW9uIGUoKXtjLmEub2ZmKGwuYS5FVkVOVFMuQVVDVElPTl9FTkQsZSksST4wP3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7SChuKX0pLEkpOkgobil9KSl9ZSYmIXQmJmUoKX1mdW5jdGlvbiAkKGUsdCl7VygoZnVuY3Rpb24oKXtHKHQuYWRVbml0c3x8T2JqZWN0KHUuYSkoKS5hZFVuaXRzLGopLGUuY2FsbCh0aGlzLHQpfSkpfWZ1bmN0aW9uIEsoKXtyZXR1cm4gVygpLHooail9ZnVuY3Rpb24gUSgpe3JldHVybiBXKCksT2JqZWN0KGIuYikoeihqKSl9ZnVuY3Rpb24gWChlLHQpe3ZhciBuPWU/ZS5zdWJtb2R1bGVOYW1lczpudWxsO258fChuPVtdKSxXKChmdW5jdGlvbigpe3ZhciBlPXMuZ2RwckRhdGFIYW5kbGVyLmdldENvbnNlbnREYXRhKCkscj1ZKFAsZSksbz1yLnVzZXJJZE1vZHVsZXM7aWYoci5oYXNWYWxpZGF0ZWR8fFIoZSkpe3ZhciBhPUIoKTtNKGUpO3ZhciBpLGM9W10sdT1PKG8pO3RyeXtmb3IodS5zKCk7IShpPXUubigpKS5kb25lOyl7dmFyIGQ9aS52YWx1ZTtuLmxlbmd0aD4wJiYtMT09PW4uaW5kZXhPZihkLnN1Ym1vZHVsZS5uYW1lKXx8KE9iamVjdChnLmxvZ0luZm8pKCIiLmNvbmNhdChELCIgLSByZWZyZXNoaW5nICIpLmNvbmNhdChkLnN1Ym1vZHVsZS5uYW1lKSksWihkLGUsYSwhMCksZWUoZCksai5sZW5ndGgmJk4oaiksT2JqZWN0KGcuaXNGbikoZC5jYWxsYmFjaykmJmMucHVzaChkKSl9fWNhdGNoKGUpe3UuZShlKX1maW5hbGx5e3UuZigpfWMubGVuZ3RoPjAmJkgoYyksdCYmdCgpfWVsc2UgT2JqZWN0KGcubG9nV2FybikoIiIuY29uY2F0KEQsIiAtIGdkcHIgcGVybWlzc2lvbiBub3QgdmFsaWQgZm9yIGxvY2FsIHN0b3JhZ2Ugb3IgY29va2llcywgZXhpdCBtb2R1bGUiKSl9KSl9dmFyIFk9T2JqZWN0KGYuYikoInN5bmMiLChmdW5jdGlvbihlLHQpe3JldHVybnt1c2VySWRNb2R1bGVzOmUsaGFzVmFsaWRhdGVkOnQmJnQuaGFzVmFsaWRhdGVkfX0pLCJ2YWxpZGF0ZUdkcHJFbmZvcmNlbWVudCIpO2Z1bmN0aW9uIFooZSx0LG4scil7aWYoZS5jb25maWcuc3RvcmFnZSl7dmFyIG8sYT1xKGUuY29uZmlnLnN0b3JhZ2UpLGk9ITE7aWYoIm51bWJlciI9PXR5cGVvZiBlLmNvbmZpZy5zdG9yYWdlLnJlZnJlc2hJblNlY29uZHMpe3ZhciBjPW5ldyBEYXRlKHEoZS5jb25maWcuc3RvcmFnZSwibGFzdCIpKTtpPWMmJkRhdGUubm93KCktYy5nZXRUaW1lKCk+MWUzKmUuY29uZmlnLnN0b3JhZ2UucmVmcmVzaEluU2Vjb25kc30hYXx8aXx8cnx8IWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGwhPWUmJmU9PT1GKHQpfShuLHQpP289ZS5zdWJtb2R1bGUuZ2V0SWQoZS5jb25maWcsdCxhKToiZnVuY3Rpb24iPT10eXBlb2YgZS5zdWJtb2R1bGUuZXh0ZW5kSWQmJihvPWUuc3VibW9kdWxlLmV4dGVuZElkKGUuY29uZmlnLHQsYSkpLE9iamVjdChnLmlzUGxhaW5PYmplY3QpKG8pJiYoby5pZCYmKEwoZSxvLmlkKSxhPW8uaWQpLCJmdW5jdGlvbiI9PXR5cGVvZiBvLmNhbGxiYWNrJiYoZS5jYWxsYmFjaz1vLmNhbGxiYWNrKSksYSYmKGUuaWRPYmo9ZS5zdWJtb2R1bGUuZGVjb2RlKGEsZS5jb25maWcpKX1lbHNlIGlmKGUuY29uZmlnLnZhbHVlKWUuaWRPYmo9ZS5jb25maWcudmFsdWU7ZWxzZXt2YXIgdT1lLnN1Ym1vZHVsZS5nZXRJZChlLmNvbmZpZyx0LHZvaWQgMCk7T2JqZWN0KGcuaXNQbGFpbk9iamVjdCkodSkmJigiZnVuY3Rpb24iPT10eXBlb2YgdS5jYWxsYmFjayYmKGUuY2FsbGJhY2s9dS5jYWxsYmFjayksdS5pZCYmKGUuaWRPYmo9ZS5zdWJtb2R1bGUuZGVjb2RlKHUuaWQsZS5jb25maWcpKSl9fWZ1bmN0aW9uIGVlKGUpe2Zvcih2YXIgdD0hMSxuPTA7bjxqLmxlbmd0aDtuKyspaWYoZS5jb25maWcubmFtZS50b0xvd2VyQ2FzZSgpPT09altuXS5jb25maWcubmFtZS50b0xvd2VyQ2FzZSgpKXt0PSEwLGpbbl09ZTticmVha310fHxqLnB1c2goZSl9ZnVuY3Rpb24gdGUoKXt2YXIgZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIXR8fE9iamVjdChnLmlzRW1wdHlTdHIpKHQubmFtZSl8fCghdC5zdG9yYWdlfHxPYmplY3QoZy5pc0VtcHR5U3RyKSh0LnN0b3JhZ2UudHlwZSl8fE9iamVjdChnLmlzRW1wdHlTdHIpKHQuc3RvcmFnZS5uYW1lKXx8LTE9PT1uLmluZGV4T2YodC5zdG9yYWdlLnR5cGUpP09iamVjdChnLmlzUGxhaW5PYmplY3QpKHQudmFsdWUpP2UucHVzaCh0KTp0LnN0b3JhZ2V8fHQudmFsdWV8fGUucHVzaCh0KTplLnB1c2godCkpLGV9KSxbXSk6W119KFQsMCxVKTtpZihlLmxlbmd0aCl7dmFyIHQ9Vi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFvKCkoUCwoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWUubmFtZX0pKX0pKTtQPXQubWFwKChmdW5jdGlvbih0KXt2YXIgbj1vKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZSYmKGUubmFtZS50b0xvd2VyQ2FzZSgpPT09dC5uYW1lLnRvTG93ZXJDYXNlKCl8fHQuYWxpYXNOYW1lJiZlLm5hbWUudG9Mb3dlckNhc2UoKT09PXQuYWxpYXNOYW1lLnRvTG93ZXJDYXNlKCkpfSkpO3JldHVybiBuJiZ0Lm5hbWUhPT1uLm5hbWUmJihuLm5hbWU9dC5uYW1lKSx0LmZpbmRSb290RG9tYWluPUosbj97c3VibW9kdWxlOnQsY29uZmlnOm4sY2FsbGJhY2s6dm9pZCAwLGlkT2JqOnZvaWQgMH06bnVsbH0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09ZX0pKSwhXyYmUC5sZW5ndGgmJihPYmplY3QodS5hKSgpLnJlcXVlc3RCaWRzLmJlZm9yZSgkLDQwKSxPYmplY3QoZy5sb2dJbmZvKSgiIi5jb25jYXQoRCwiIC0gdXNlcnN5bmMgY29uZmlnIHVwZGF0ZWQgZm9yICIpLmNvbmNhdChQLmxlbmd0aCwiIHN1Ym1vZHVsZXM6ICIpLFAubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdWJtb2R1bGUubmFtZX0pKSksXz0hMCl9fWZ1bmN0aW9uIG5lKGUpe28oKShWLChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZS5uYW1lfSkpfHwoVi5wdXNoKGUpLHRlKCkpfWZ1bmN0aW9uIHJlKGUpe1A9W10sVD1bXSxfPSExLGo9dm9pZCAwLC0xIT09KFU9W0MubG9jYWxTdG9yYWdlSXNFbmFibGVkKCk/UzpudWxsLEMuY29va2llc0FyZUVuYWJsZWQoKT9FOm51bGxdLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lfSkpKS5pbmRleE9mKEUpJiZDLmdldENvb2tpZSh3KT9PYmplY3QoZy5sb2dJbmZvKSgiIi5jb25jYXQoRCwiIC0gb3B0LW91dCBjb29raWUgZm91bmQsIGV4aXQgbW9kdWxlIikpOi0xIT09VS5pbmRleE9mKFMpJiZDLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKHcpP09iamVjdChnLmxvZ0luZm8pKCIiLmNvbmNhdChELCIgLSBvcHQtb3V0IGxvY2FsU3RvcmFnZSBmb3VuZCwgZXhpdCBtb2R1bGUiKSk6KGUuZ2V0Q29uZmlnKChmdW5jdGlvbihlKXt2YXIgdD1lLnVzZXJTeW5jO3QmJnQudXNlcklkcyYmKFQ9dC51c2VySWRzLEk9T2JqZWN0KGcuaXNOdW1iZXIpKHQuc3luY0RlbGF5KT90LnN5bmNEZWxheTo1MDAsaz1PYmplY3QoZy5pc051bWJlcikodC5hdWN0aW9uRGVsYXkpP3QuYXVjdGlvbkRlbGF5OjAsdGUoKSl9KSksT2JqZWN0KHUuYSkoKS5nZXRVc2VySWRzPUssT2JqZWN0KHUuYSkoKS5nZXRVc2VySWRzQXNFaWRzPVEsT2JqZWN0KHUuYSkoKS5yZWZyZXNoVXNlcklkcz1YKX1yZShhLmIpLE9iamVjdChmLmMpKCJ1c2VySWQiLG5lKX19LFs4ODZdKTsKdXBianNDaHVuayhbNzddLHs5Mjk6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDkzMCl9LDkzMDpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSk7dmFyIGk9cigxKSxhPXIoMikscz1yKDApLGQ9cigzKSxuPXIoMTMpO2Z1bmN0aW9uIGMoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihpPWkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLGkpfXJldHVybiByfWZ1bmN0aW9uIG8oZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfXZhciBwPSI1LjIwLjIiLGI9IlVTRCIsbT1bImFkbWl4ZXIubmV0IiwiYWRzZXJ2ZXIub3JnIiwiYWR0ZWxsaWdlbnQuY29tIiwiYWthbWFpLmNvbSIsImFteHJ0Yi5jb20iLCJhdWRpZ2VudC5jb20iLCJicml0ZXBvb2wuY29tIiwiY3JpdGVvLmNvbSIsImNyd2RjbnRybC5uZXQiLCJkZWVwaW50ZW50LmNvbSIsImhjbi5oZWFsdGgiLCJpZDUtc3luYy5jb20iLCJpZHgubGF0IiwiaW50ZW50aXEuY29tIiwiaW50aW1hdGVtZXJnZXIuY29tIiwibGl2ZWludGVudC5jb20iLCJsaXZlcmFtcC5jb20iLCJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLCJtZXJrbGVpbmMuY29tIiwibmV0aWQuZGUiLCJuZXVzdGFyLmJpeiIsIm5leHRyb2xsLmNvbSIsIm5vdmF0aXEuY29tIiwicGFycmFibGUuY29tIiwicHViY2lkLm9yZyIsInF1YW50Y2FzdC5jb20iLCJxdWFudGNhc3QuY29tIiwidGFwYWQuY29tIiwidWlkYXBpLmNvbSIsInZlcml6b25tZWRpYS5jb20iLCJ5YWhvby5jb20iLCJ6ZW90YXAuY29tIl07ZnVuY3Rpb24gdShlKXtyZXR1cm57dzpwYXJzZUludChlWzBdKSxoOnBhcnNlSW50KGVbMV0pfX1mdW5jdGlvbiB2KGUpe3JldHVybiBPYmplY3Qocy5pc0FycmF5KShlKSYmMj09PWUubGVuZ3RoJiYhT2JqZWN0KHMuaXNBcnJheSkoZVswXSk/W3UoZSldOmUubWFwKHUpfWZ1bmN0aW9uIE8oZSl7cmV0dXJuIE9iamVjdChzLmlzQXJyYXkpKE9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInVzZXJJZEFzRWlkcyIpKT9lLnVzZXJJZEFzRWlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09bS5pbmRleE9mKGUuc291cmNlKX0pKTpbXX1mdW5jdGlvbiBsKGUpe3JldHVybiBPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnNlY3VyZSIpfHwiaHR0cHM6Ij09PWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sPzE6MH1mdW5jdGlvbiB5KGUpe3ZhciB0O3JldHVybiBPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMucHViSWQiKT90PSEwOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5kY24iKSYmT2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLnBvcyIpJiYodD0hMSksdH1mdW5jdGlvbiBqKCl7dmFyIGU9ZC5iLmdldENvbmZpZygieWFob29zc3AubW9kZSIpO3JldHVybiB2b2lkIDA9PT0oZT1lP2UudG9Mb3dlckNhc2UoKTp2b2lkIDApfHxlPT09YS5iP2EuYjplPT09YS5kP2EuZDoiYWxsIj09PWU/IioiOnZvaWQgMH1mdW5jdGlvbiBmKGUpe3ZhciB0PWooKSxyPXtjdXJyZW5jeTpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuY3VyIil8fGIsbWVkaWFUeXBlOnQsc2l6ZToiKiJ9O3JldHVybiEhT2JqZWN0KHMuaXNGbikoZS5nZXRGbG9vcikmJmUuZ2V0Rmxvb3Iocil9ZnVuY3Rpb24gZyhlLHQscixpKXt2YXIgYT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9jKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7byhlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6YyhPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX0oe30saSk7Zm9yKHZhciBkIGluIHIpc3dpdGNoKGUpe2Nhc2Uic3RyaW5nIjotMSE9PXQuaW5kZXhPZihkKSYmT2JqZWN0KHMuaXNTdHIpKHJbZF0pJiYoYVtkXT1yW2RdKTticmVhaztjYXNlIm51bWJlciI6LTEhPT10LmluZGV4T2YoZCkmJk9iamVjdChzLmlzTnVtYmVyKShyW2RdKSYmKGFbZF09cltkXSk7YnJlYWs7Y2FzZSJhcnJheSI6LTEhPT10LmluZGV4T2YoZCkmJk9iamVjdChzLmlzQXJyYXkpKHJbZF0pJiYoYVtkXT1yW2RdKTticmVhaztjYXNlIm9iamVjdCI6LTEhPT10LmluZGV4T2YoZCkmJk9iamVjdChzLmlzUGxhaW5PYmplY3QpKHJbZF0pJiYoYVtkXT1yW2RdKTticmVhaztjYXNlIm9iamVjdEFsbEtleXMiOk9iamVjdChzLmlzUGxhaW5PYmplY3QpKHIpJiYoYVtkXT1yW2RdKX1yZXR1cm4gYX1mdW5jdGlvbiBoKGUpe3ZhciB0PWQuYi5nZXRDb25maWcoInlhaG9vc3NwLnR0bCIpO3JldHVybiBBKHR8fE9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy50dGwiKSl9ZnVuY3Rpb24gQShlKXtyZXR1cm4gT2JqZWN0KHMuaXNOdW1iZXIpKGUpJiZlPjAmJmU8MzYwMD9lOjMwMH1mdW5jdGlvbiB4KGUpe3JldHVybiBPYmplY3Qocy5pc1N0cikoZSkmJmUubGVuZ3RoPjB9ZnVuY3Rpb24gVChlLHQpe2lmKGUpe3ZhciByPXtpZDpPYmplY3Qocy5nZW5lcmF0ZVVVSUQpKCksY3VyOltmKGUpLmN1cnJlbmN5fHxPYmplY3Qocy5kZWVwQWNjZXNzKSh0LCJwYXJhbXMuYmlkT3ZlcnJpZGUuY3VyIil8fGJdLGltcDpbXSxzaXRlOntwYWdlOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInJlZmVyZXJJbmZvLnJlZmVyZXIiKX0sZGV2aWNlOntkbnQ6MCx1YTpuYXZpZ2F0b3IudXNlckFnZW50LGlwOk9iamVjdChzLmRlZXBBY2Nlc3MpKHQsInBhcmFtcy5iaWRPdmVycmlkZS5kZXZpY2UuaXAiKXx8T2JqZWN0KHMuZGVlcEFjY2VzcykodCwicGFyYW1zLmV4dC5pcCIpfHx2b2lkIDB9LHJlZ3M6e2V4dDp7dXNfcHJpdmFjeTplLnVzcENvbnNlbnQ/ZS51c3BDb25zZW50OiIiLGdkcHI6ZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjB9fSxzb3VyY2U6e2V4dDp7aGI6MSxhZGFwdGVydmVyOiIxLjAuMSIscHJlYmlkdmVyOnAsaW50ZWdyYXRpb246e25hbWU6InByZWJpZC5qcyIsdmVyOnB9fSxmZDoxfSx1c2VyOntleHQ6e2NvbnNlbnQ6ZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcz9lLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmc6IiIsZWlkczpPKHQpfX19O3JldHVybiEwPT09eSh0KT8oci5zaXRlLnB1Ymxpc2hlcj17aWQ6dC5wYXJhbXMucHViSWR9LChPYmplY3Qocy5kZWVwQWNjZXNzKSh0LCJwYXJhbXMuYmlkT3ZlcnJpZGUuc2l0ZS5pZCIpfHxPYmplY3Qocy5kZWVwQWNjZXNzKSh0LCJwYXJhbXMuc2l0ZUlkIikpJiYoci5zaXRlLmlkPU9iamVjdChzLmRlZXBBY2Nlc3MpKHQsInBhcmFtcy5iaWRPdmVycmlkZS5zaXRlLmlkIil8fHQucGFyYW1zLnNpdGVJZCkpOnIuc2l0ZS5pZD10LnBhcmFtcy5kY24sZC5iLmdldENvbmZpZygib3J0YjIiKSYmKHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1kLmIuZ2V0Q29uZmlnKCJvcnRiMiIpLGk9T2JqZWN0KHMuZGVlcEFjY2Vzcykociwic2l0ZSIpfHx2b2lkIDAsYT1PYmplY3Qocy5kZWVwQWNjZXNzKShpLCJjb250ZW50Iil8fHZvaWQgMCxuPU9iamVjdChzLmRlZXBBY2Nlc3MpKGksImNvbnRlbnQuZGF0YSIpfHx2b2lkIDAsYz1PYmplY3Qocy5kZWVwQWNjZXNzKShyLCJhcHAuY29udGVudCIpfHx2b2lkIDAsbz1PYmplY3Qocy5kZWVwQWNjZXNzKShyLCJhcHAuY29udGVudC5kYXRhIil8fHZvaWQgMCxwPU9iamVjdChzLmRlZXBBY2Nlc3MpKHIsInVzZXIiKXx8dm9pZCAwO2lmKGkmJk9iamVjdChzLmlzUGxhaW5PYmplY3QpKGkpKXt2YXIgYj1bIm5hbWUiLCJkb21haW4iLCJwYWdlIiwicmVmIiwia2V5d29yZHMiLCJzZWFyY2giXSxtPVsiY2F0Iiwic2VjdGlvbmNhdCIsInBhZ2VjYXQiXSx1PVsiZXh0Il07ZS5zaXRlPWcoInN0cmluZyIsYixpLGUuc2l0ZSksZS5zaXRlPWcoImFycmF5IixtLGksZS5zaXRlKSxlLnNpdGU9Zygib2JqZWN0Iix1LGksZS5zaXRlKX1pZihhJiZPYmplY3Qocy5pc1BsYWluT2JqZWN0KShhKSl7dmFyIHY9WyJpZCIsInRpdGxlIiwic2VyaWVzIiwic2Vhc29uIiwiZ2VucmUiLCJjb250ZW50cmF0aW5nIiwibGFuZ3VhZ2UiXSxPPVsiZXBpc29kZSIsInByb2RxIiwiY29udGV4dCIsImxpdmVzdHJlYW0iLCJsZW4iXSxsPVsiY2F0Il0seT1bImV4dCJdO2Uuc2l0ZS5jb250ZW50PWcoInN0cmluZyIsdixhLGUuc2l0ZS5jb250ZW50KSxlLnNpdGUuY29udGVudD1nKCJudW1iZXIiLE8sYSxlLnNpdGUuY29udGVudCksZS5zaXRlLmNvbnRlbnQ9ZygiYXJyYXkiLGwsYSxlLnNpdGUuY29udGVudCksZS5zaXRlLmNvbnRlbnQ9Zygib2JqZWN0Iix5LGEsZS5zaXRlLmNvbnRlbnQpLG4mJk9iamVjdChzLmlzQXJyYXkpKG4pJiZuLmV2ZXJ5KChmdW5jdGlvbih0KXt2YXIgcj17fSxpPVsic2VnbWVudCJdLGE9WyJleHQiXTtyPWcoInN0cmluZyIsWyJpZCIsIm5hbWUiXSx0LHIpLHI9ZygiYXJyYXkiLGksdCxyKSxyPWcoIm9iamVjdCIsYSx0LHIpLGUuc2l0ZS5jb250ZW50LmRhdGE9W10sZS5zaXRlLmNvbnRlbnQuZGF0YS5wdXNoKHIpfSkpfWMmJk9iamVjdChzLmlzUGxhaW5PYmplY3QpKGMpJiZvJiZPYmplY3Qocy5pc0FycmF5KShvKSYmby5ldmVyeSgoZnVuY3Rpb24odCl7dmFyIHI9e30saT1bInNlZ21lbnQiXSxhPVsiZXh0Il07cj1nKCJzdHJpbmciLFsiaWQiLCJuYW1lIl0sdCxyKSxyPWcoImFycmF5IixpLHQscikscj1nKCJvYmplY3QiLGEsdCxyKSxlLmFwcD17Y29udGVudDp7ZGF0YTpbXX19LGUuYXBwLmNvbnRlbnQuZGF0YS5wdXNoKHIpfSkpO2lmKHAmJk9iamVjdChzLmlzUGxhaW5PYmplY3QpKHApKXt2YXIgaj1bImlkIiwiYnV5ZXJ1aWQiLCJnZW5kZXIiLCJrZXl3b3JkcyIsImN1c3RvbWRhdGEiXSxmPVsieW9iIl0saD1bImRhdGEiXSxBPVsiZXh0Il07ZS51c2VyPWcoInN0cmluZyIsaixwLGUudXNlciksZS51c2VyPWcoIm51bWJlciIsZixwLGUudXNlciksZS51c2VyPWcoImFycmF5IixoLHAsZS51c2VyKSxlLnVzZXIuZXh0PWcoIm9iamVjdCIsQSxwLGUudXNlci5leHQpfXJldHVybiBlfShyKSksT2JqZWN0KHMuZGVlcEFjY2VzcykodCwic2NoYWluIikmJihyLnNvdXJjZS5leHQuc2NoYWluPXQuc2NoYWluLHIuc291cmNlLmV4dC5zY2hhaW4ubm9kZXNbMF0ucmlkPXIuaWQpLHJ9fWZ1bmN0aW9uIGsoZSx0KXt2YXIgcj1qKCk7aWYodCYmZSl7dmFyIGk9e2lkOmUuYmlkSWQsc2VjdXJlOmwoZSksYmlkZmxvb3I6ZihlKS5mbG9vcnx8T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC5iaWRmbG9vciIpfTtpZighZS5tZWRpYVR5cGVzLmJhbm5lcnx8dm9pZCAwIT09ciYmciE9PWEuYiYmIioiIT09cnx8KGkuYmFubmVyPXttaW1lczplLm1lZGlhVHlwZXMuYmFubmVyLm1pbWVzfHxbInRleHQvaHRtbCIsInRleHQvamF2YXNjcmlwdCIsImFwcGxpY2F0aW9uL2phdmFzY3JpcHQiLCJpbWFnZS9qcGciXSxmb3JtYXQ6dihlLnNpemVzKX0sZS5tZWRpYVR5cGVzLmJhbm5lci5wb3MmJihpLmJhbm5lci5wb3M9ZS5tZWRpYVR5cGVzLmJhbm5lci5wb3MpKSxlLm1lZGlhVHlwZXMudmlkZW8mJihyPT09YS5kfHwiKiI9PT1yKSl7dmFyIGQ9dihlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSk7aS52aWRlbz17bWltZXM6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5taW1lcyIpfHxlLm1lZGlhVHlwZXMudmlkZW8ubWltZXN8fFsidmlkZW8vbXA0IiwiYXBwbGljYXRpb24vamF2YXNjcmlwdCJdLHc6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby53Iil8fGRbMF0udyxoOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8uaCIpfHxkWzBdLmgsbWF4Yml0cmF0ZTpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLm1heGJpdHJhdGUiKXx8ZS5tZWRpYVR5cGVzLnZpZGVvLm1heGJpdHJhdGV8fHZvaWQgMCxtYXhkdXJhdGlvbjpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLm1heGR1cmF0aW9uIil8fGUubWVkaWFUeXBlcy52aWRlby5tYXhkdXJhdGlvbnx8dm9pZCAwLG1pbmR1cmF0aW9uOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ubWluZHVyYXRpb24iKXx8ZS5tZWRpYVR5cGVzLnZpZGVvLm1pbmR1cmF0aW9ufHx2b2lkIDAsYXBpOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8uYXBpIil8fGUubWVkaWFUeXBlcy52aWRlby5hcGl8fFsyXSxkZWxpdmVyeTpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLmRlbGl2ZXJ5Iil8fGUubWVkaWFUeXBlcy52aWRlby5kZWxpdmVyeXx8dm9pZCAwLHBvczpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLnBvcyIpfHxlLm1lZGlhVHlwZXMudmlkZW8ucG9zfHx2b2lkIDAscGxheWJhY2ttZXRob2Q6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5wbGF5YmFja21ldGhvZCIpfHxlLm1lZGlhVHlwZXMudmlkZW8ucGxheWJhY2ttZXRob2R8fHZvaWQgMCxwbGFjZW1lbnQ6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5wbGFjZW1lbnQiKXx8ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYWNlbWVudHx8dm9pZCAwLGxpbmVhcml0eTpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLmxpbmVhcml0eSIpfHxlLm1lZGlhVHlwZXMudmlkZW8ubGluZWFyaXR5fHwxLHByb3RvY29sczpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLnByb3RvY29scyIpfHxlLm1lZGlhVHlwZXMudmlkZW8ucHJvdG9jb2xzfHxbMiw1XSxzdGFydGRlbGF5Ok9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8uc3RhcnRkZWxheSIpfHxlLm1lZGlhVHlwZXMudmlkZW8uc3RhcnRkZWxheXx8MCxyZXdhcmRlZDpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLnJld2FyZGVkIil8fHZvaWQgMH19aWYoaS5leHQ9e2RmcF9hZF91bml0X2NvZGU6ZS5hZFVuaXRDb2RlfSxPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMua3ZwIikmJk9iamVjdChzLmlzUGxhaW5PYmplY3QpKGUucGFyYW1zLmt2cCkpZm9yKHZhciBuIGluIGkuZXh0Lmt2cz17fSxlLnBhcmFtcy5rdnApaWYoT2JqZWN0KHMuaXNTdHIpKGUucGFyYW1zLmt2cFtuXSl8fE9iamVjdChzLmlzTnVtYmVyKShlLnBhcmFtcy5rdnBbbl0pKWkuZXh0Lmt2c1tuXT1lLnBhcmFtcy5rdnBbbl07ZWxzZSBpZihPYmplY3Qocy5pc0FycmF5KShlLnBhcmFtcy5rdnBbbl0pKXt2YXIgYz1lLnBhcmFtcy5rdnBbbl07KGMuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qocy5pc1N0cikoZSl9KSl8fGMuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qocy5pc051bWJlcikoZSl9KSkpJiYoaS5leHQua3ZzW25dPWUucGFyYW1zLmt2cFtuXSl9T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEiKSYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkoZS5vcnRiMkltcC5leHQuZGF0YSkmJihpLmV4dC5kYXRhPWUub3J0YjJJbXAuZXh0LmRhdGEpLCExPT09eShlKT8oaS50YWdpZD1lLnBhcmFtcy5wb3MsaS5leHQucG9zPWUucGFyYW1zLnBvcyk6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLnBsYWNlbWVudElkIikmJihpLnRhZ2lkPWUucGFyYW1zLnBsYWNlbWVudElkKSx0LmltcC5wdXNoKGkpfX1mdW5jdGlvbiB3KGUpe3ZhciB0PWUucGF5bG9hZCxyPWUucmVxdWVzdE9wdGlvbnMsaT1lLmJpZGRlclJlcXVlc3Qsbj15KGkpLGM9ZC5iLmdldENvbmZpZygieWFob29zc3AuZW5kcG9pbnQiKXx8Imh0dHBzOi8vYzJzaGIucHViZ3cueWFob28uY29tL2JpZFJlcXVlc3QiO2lmKCEwPT09biYmKGM9ZC5iLmdldENvbmZpZygieWFob29zc3AuZW5kcG9pbnQiKXx8Imh0dHBzOi8vYzJzaGIucHViZ3cueWFob28uY29tL2FkbWF4L2JpZC9wYXJ0bmVycy9QQkpTIiksITA9PT1PYmplY3Qocy5kZWVwQWNjZXNzKShpLCJwYXJhbXMudGVzdGluZy5lMmV0ZXN0IikpaWYoT2JqZWN0KHMubG9nSW5mbykoInlhaG9vc3NwIGFkYXB0ZXIgZTJldGVzdCBtb2RlIGlzIGFjdGl2ZSIpLHIud2l0aENyZWRlbnRpYWxzPSExLCEwPT09bil0LnNpdGUuaWQ9IjEyMzQ1NjciO2Vsc2V7dmFyIG89aigpO3Quc2l0ZS5pZD0iOGE5Njk1MTYwMTdhN2EzOTZlYzUzOWQ5N2Y1NDAwMTEiLHQuaW1wLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZXh0LmUyZVRlc3RNb2RlPSEwLG89PT1hLmI/ZS50YWdpZD0iOGE5Njk5NzgwMTdhN2FhYWJhYjRhYjBiYzAxYTAwMDkiOm89PT1hLmQ/ZS50YWdpZD0iOGE5Njk1OGEwMTdhN2E1N2FjMzc1ZDUwYzBjNzAwY2MiOihPYmplY3Qocy5sb2dXYXJuKSgneWFob29zc3AgYWRhcHRlciBlMmV0ZXN0IG1vZGUgZG9lcyBub3Qgc3VwcG9ydCB5YWhvb3NzcC5tb2RlPSJhbGwiLiBcbiBQbGVhc2Ugc3BlY2lmeSBlaXRoZXIgImJhbm5lciIgb3IgInZpZGVvIicpLE9iamVjdChzLmxvZ1dhcm4pKCJ5YWhvb3NzcCBhZGFwdGVyIGUyZXRlc3QgbW9kZTogUGxlYXNlIG1ha2Ugc3VyZSB5b3VyIGFkVW5pdCBtYXRjaGVzIHRoZSB5YWhvb3NzcC5tb2RlIHZpZGVvIG9yIGJhbm5lciIpKX0pKX1yZXR1cm4gT2JqZWN0KHMubG9nV2FybikoInlhaG9vc3NwIGFkYXB0ZXIgZW5kcG9pbnQgb3ZlcnJpZGUgZW5hYmxlZC4gUG9pbnRpbmcgcmVxdWVzdHMgdG86ICIsYykse3VybDpjLG1ldGhvZDoiUE9TVCIsZGF0YTp0LG9wdGlvbnM6cixiaWRkZXJSZXF1ZXN0Oml9fXZhciBDPXtjb2RlOiJ5YWhvb3NzcCIsYWxpYXNlczpbXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmIsYS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmFtcztyZXR1cm4hMD09PU9iamVjdChzLmRlZXBBY2Nlc3MpKHQsInRlc3RpbmcuZTJldGVzdCIpfHwoISghT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkodCl8fCEoeCh0LnB1YklkKXx8eCh0LmRjbikmJngodC5wb3MpKSl8fChPYmplY3Qocy5sb2dXYXJuKSgieWFob29zc3AgYmlkZGVyIHBhcmFtcyBtaXNzaW5nIG9yIGluY29ycmVjdCwgcGxlYXNlIHBhc3Mgb2JqZWN0IHdpdGggZWl0aGVyOiBkY24gJiBwb3MgT1IgcHViSWQiKSwhMSkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7aWYoIU9iamVjdChzLmlzRW1wdHkpKGUpJiYhT2JqZWN0KHMuaXNFbXB0eSkodCkpe3ZhciByPXtjb250ZW50VHlwZToiYXBwbGljYXRpb24vanNvbiIsY3VzdG9tSGVhZGVyczp7Ingtb3BlbnJ0Yi12ZXJzaW9uIjoiMi41In19O3Iud2l0aENyZWRlbnRpYWxzPWZ1bmN0aW9uKGUpe3JldHVybiEoZSYmZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmMj09PWUuZ2RwckNvbnNlbnQuYXBpVmVyc2lvbil9KHQpO3ZhciBpPWZ1bmN0aW9uKGUpe3ZhciB0PWooKSxyPVtdO3JldHVybiB0PT09YS5iP3I9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhlLm1lZGlhVHlwZXMpLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09YS5ifSkpfSkpOnQ9PT1hLmQ/cj1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUubWVkaWFUeXBlcykuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hLmR9KSl9KSk6IioiPT09dCYmKHI9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhlLm1lZGlhVHlwZXMpLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09YS5ifHxlPT09YS5kfSkpfSkpKSxyfShlKTtpZighMD09PWQuYi5nZXRDb25maWcoInlhaG9vc3NwLnNpbmdsZVJlcXVlc3RNb2RlIikpe3ZhciBuPVQodCxpWzBdKTtyZXR1cm4gaS5mb3JFYWNoKChmdW5jdGlvbihlKXtrKGUsbil9KSksdyh7cGF5bG9hZDpuLHJlcXVlc3RPcHRpb25zOnIsYmlkZGVyUmVxdWVzdDp0fSl9cmV0dXJuIGkubWFwKChmdW5jdGlvbihlKXt2YXIgaT1UKHQsZSk7cmV0dXJuIGsoZSxpKSx3KHtwYXlsb2FkOmkscmVxdWVzdE9wdGlvbnM6cixiaWRkZXJSZXF1ZXN0OmV9KX0pKX1PYmplY3Qocy5sb2dXYXJuKSgneWFob29zc3AgQWRhcHRlcjogYnVpbGRSZXF1ZXN0cyBjYWxsZWQgd2l0aCBlaXRoZXIgZW1wdHkgInZhbGlkQmlkUmVxdWVzdHMiIG9yICJiaWRkZXJSZXF1ZXN0IicpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3QuZGF0YTt2YXIgcj10LmJpZGRlclJlcXVlc3QsaT1bXTtyZXR1cm4gZS5ib2R5JiZBcnJheS5pc0FycmF5KGUuYm9keS5zZWF0YmlkKT8oZS5ib2R5LnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e3Q9ZS5iaWRbMF19Y2F0Y2goZSl7cmV0dXJuIGl9dmFyIGQ9dC5leHQmJnQuZXh0LmVuY3A/dC5leHQuZW5jcDp0LnByaWNlLGM9e2FkSWQ6T2JqZWN0KHMuZGVlcEFjY2VzcykodCwiYWRJZCIpP3QuYWRJZDp0LmltcGlkfHx0LmNyaWQsYWRVbml0Q29kZTpyLmFkVW5pdENvZGUscmVxdWVzdElkOnQuaW1waWQsYmlkZGVyQ29kZTpDLmNvZGUsY3BtOmQsd2lkdGg6dC53LGhlaWdodDp0LmgsY3JlYXRpdmVJZDp0LmNyaWR8fDAsY3VycmVuY3k6dC5jdXJ8fGIsZGVhbElkOnQuZGVhbGlkP3QuZGVhbGlkOm51bGwsbmV0UmV2ZW51ZTohMCx0dGw6aChyKSxtZXRhOnthZHZlcnRpc2VyRG9tYWluczp0LmFkb21haW59fSxvPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYWRtO3JldHVybi0xIT09dC5pbmRleE9mKCJvMnBsYXllclNldHRpbmdzIil8fC0xIT09dC5pbmRleE9mKCJZQUhPTy5WaWRlb1BsYXRmb3JtLlZpZGVvUGxheWVyIil8fC0xIT09dC5pbmRleE9mKCJBZFBsYWNlbWVudCIpP2EuYjotMSE9PXQuaW5kZXhPZigiVkFTVCIpP2EuZDp2b2lkIDB9KHQpO289PT1hLmI/KGMubWVkaWFUeXBlPWEuYixjLmFkPXQuYWRtLGMubWV0YS5tZWRpYVR5cGU9YS5iKTpvPT09YS5kJiYoYy5tZWRpYVR5cGU9YS5kLGMubWV0YS5tZWRpYVR5cGU9YS5kLGMudmFzdFhtbD10LmFkbSx0Lm51cmwmJihjLnZhc3RVcmw9dC5udXJsKSksIm91dHN0cmVhbSIhPT1PYmplY3Qocy5kZWVwQWNjZXNzKShyLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKXx8ci5yZW5kZXJlcnx8KGMucmVuZGVyZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uLmEuaW5zdGFsbCh7dXJsOiJodHRwczovL2Nkbi52aWRpYmxlLnR2L3Byb2QvaGItb3V0c3RyZWFtLXJlbmRlcmVyL3JlbmRlcmVyLmpzIixsb2FkZWQ6ITEsYWRVbml0Q29kZTplLmFkVW5pdENvZGV9KTt0cnl7ci5zZXRSZW5kZXIoKGZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bzJQbGF5ZXJSZW5kZXIodCl9KSxPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMudGVzdGluZy5yZW5kZXJlci5zZXRUaW1lb3V0Iil8fDcwMCl9KSl9Y2F0Y2goZSl7T2JqZWN0KHMubG9nV2FybikoInlhaG9vc3NwIHJlbmRlcmVyIGVycm9yOiBzZXRSZW5kZXIoKSBmYWlsZWQiLGUpfXJldHVybiByfShyKXx8dm9pZCAwKSxpLnB1c2goYyl9KSksaSk6aX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBhPSFPYmplY3Qocy5pc0VtcHR5KSh0KSYmdFswXS5ib2R5O3JldHVybiBhJiZhLmV4dCYmYS5leHQucGl4ZWxzP2Z1bmN0aW9uKGUsdCl7dmFyIHI9L1x3Kig/PVxzKS8saT0vc3JjPSgifCcpKC4qPylcMS8sYT1bXTtpZih0KXt2YXIgcz10Lm1hdGNoKC8oaW1nfGlmcmFtZSlbXHNcU10qP3NyY1xzKj1ccyooInwnKSguKj8pXDIvZ2kpO3MmJnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHM9dC5tYXRjaChyKVswXSxkPXQubWF0Y2goaSlbMl07aWYocyYmZCl7dmFyIG49ImltZyI9PT1zLnRvTG93ZXJDYXNlKCk/ImltYWdlIjoiaWZyYW1lIjtpZighZS5pZnJhbWVFbmFibGVkJiYiaWZyYW1lIj09PW58fCFlLnBpeGVsRW5hYmxlZCYmImltYWdlIj09PW4pcmV0dXJuO2EucHVzaCh7dHlwZTpuLHVybDpkfSl9fSkpfXJldHVybiBhfShlLGEuZXh0LnBpeGVscyk6W119fTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikoQyl9fSxbOTI5XSk7CnVwYmpzQ2h1bmsoWzc2XSx7OTMxOmZ1bmN0aW9uKGUsbix0KXtlLmV4cG9ydHM9dCg5MzIpfSw5MzI6ZnVuY3Rpb24oZSxuLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKG4sInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB1fSkpO3ZhciBhPXQoMCkscj10KDEpLGk9dCgxMSksbz10Lm4oaSkscz10KDIpLGM9dCgxMyksZD10KDMpLHA9Imh0dHBzOi8vYWQueWllbGRsYWIubmV0Iix1PXtjb2RlOiJ5aWVsZGxhYiIsZ3ZsaWQ6NzAsc3VwcG9ydGVkTWVkaWFUeXBlczpbcy5kLHMuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5wYXJhbXMmJmUucGFyYW1zLmFkc2xvdElkJiZlLnBhcmFtcy5zdXBwbHlJZCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxuKXt2YXIgdD1bXSxyPXt0czpEYXRlLm5vdygpLGpzb246ITB9O09iamVjdChhLl9lYWNoKShlLChmdW5jdGlvbihlKXtpZih0LnB1c2goZS5wYXJhbXMuYWRzbG90SWQpLGUucGFyYW1zLnRhcmdldGluZyYmKHIudD1mdW5jdGlvbihlKXt2YXIgbj1bXTtmb3IodmFyIHQgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHQpKXt2YXIgYT10LHI9ZVt0XTtuLnB1c2goYSsiPSIrcil9cmV0dXJuIG4uam9pbigiJiIpfShlLnBhcmFtcy50YXJnZXRpbmcpKSxlLnVzZXJJZEFzRWlkcyYmQXJyYXkuaXNBcnJheShlLnVzZXJJZEFzRWlkcykmJihyLmlkcz1mdW5jdGlvbihlKXtmb3IodmFyIG49W10sdD0wO3Q8ZS5sZW5ndGg7dCsrKW4ucHVzaChlW3RdLnNvdXJjZSsiOiIrZVt0XS51aWRzWzBdLmlkKTtyZXR1cm4gbi5qb2luKCIsIil9KGUudXNlcklkQXNFaWRzKSksZS5wYXJhbXMuY3VzdG9tUGFyYW1zJiZPYmplY3QoYS5pc1BsYWluT2JqZWN0KShlLnBhcmFtcy5jdXN0b21QYXJhbXMpKWZvcih2YXIgbiBpbiBlLnBhcmFtcy5jdXN0b21QYXJhbXMpcltuXT1lLnBhcmFtcy5jdXN0b21QYXJhbXNbbl07dmFyIGksbyxzLGMscDtlLnNjaGFpbiYmT2JqZWN0KGEuaXNQbGFpbk9iamVjdCkoZS5zY2hhaW4pJiZBcnJheS5pc0FycmF5KGUuc2NoYWluLm5vZGVzKSYmKHIuc2NoYWluPShpPWUuc2NoYWluLG89aS52ZXJ8fCIiLHM9MT09PWkuY29tcGxldGV8fDA9PT1pLmNvbXBsZXRlP2kuY29tcGxldGU6IiIsYz1bImFzaSIsInNpZCIsImhwIiwicmlkIiwibmFtZSIsImRvbWFpbiIsImV4dCJdLHA9aS5ub2Rlcy5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGUrIiEiLmNvbmNhdChjLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV0/KHQ9bltlXSxlbmNvZGVVUklDb21wb25lbnQodCkucmVwbGFjZSgvIS9nLCIlMjEiKSk6IiI7dmFyIHR9KSkuam9pbigiLCIpKX0pLCIiKSwiIi5jb25jYXQobywiLCIpLmNvbmNhdChzKS5jb25jYXQocCkpKTt2YXIgdT1mdW5jdGlvbihlKXtpZihlLnBhcmFtcy5pYWJDb250ZW50JiZPYmplY3QoYS5pc1BsYWluT2JqZWN0KShlLnBhcmFtcy5pYWJDb250ZW50KSlyZXR1cm4gZS5wYXJhbXMuaWFiQ29udGVudDt2YXIgbj1kLmIuZ2V0Q29uZmlnKCJvcnRiMi5zaXRlIik/ZC5iLmdldENvbmZpZygib3J0YjIuc2l0ZS5jb250ZW50Iik6ZC5iLmdldENvbmZpZygib3J0YjIuYXBwLmNvbnRlbnQiKTtpZihuJiZPYmplY3QoYS5pc1BsYWluT2JqZWN0KShuKSlyZXR1cm4gbjtyZXR1cm59KGUpO3UmJihyLmlhYl9jb250ZW50PWZ1bmN0aW9uKGUpe3ZhciBuPVsia2V5d29yZHMiLCJjYXQiXSx0PVtdO2Zvcih2YXIgYSBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkoYSkpe3ZhciByPS0xIT09bi5pbmRleE9mKGEpJiZBcnJheS5pc0FycmF5KGVbYV0pP2VbYV0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpfSkpLmpvaW4oInwiKTplbmNvZGVVUklDb21wb25lbnQoZVthXSk7dC5wdXNoKCIiLmNvbmNhdChhLCI6IixyKSl9cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0LmpvaW4oIiwiKSl9KHUpKX0pKSxuJiYobi5yZWZlcmVySW5mbyYmbi5yZWZlcmVySW5mby5yZWZlcmVyJiYoci5wdWJyZWY9bi5yZWZlcmVySW5mby5yZWZlcmVyKSxuLmdkcHJDb25zZW50JiYoci5nZHByPSJib29sZWFuIiE9dHlwZW9mIG4uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXN8fG4uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMsci5nZHByJiYoci5jb25zZW50PW4uZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpKTt2YXIgaT10LmpvaW4oIiwiKSxvPWZ1bmN0aW9uKGUpe3ZhciBuPVtdO2Zvcih2YXIgdCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpe3ZhciBhPWVbdF07InNjaGFpbiIhPT10JiYiaWFiX2NvbnRlbnQiIT09dD9uLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHQpKyI9IitlbmNvZGVVUklDb21wb25lbnQoYSkpOm4ucHVzaCh0KyI9IithKX1yZXR1cm4gbi5qb2luKCImIil9KHIpO3JldHVybnttZXRob2Q6IkdFVCIsdXJsOiIiLmNvbmNhdChwLCIveXAvIikuY29uY2F0KGksIj8iKS5jb25jYXQobyksdmFsaWRCaWRSZXF1ZXN0czplLHF1ZXJ5UGFyYW1zOnJ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLG4pe3ZhciB0PVtdLHI9RGF0ZS5ub3coKSxpPW4ucXVlcnlQYXJhbXM7cmV0dXJuIG4udmFsaWRCaWRSZXF1ZXN0cy5mb3JFYWNoKChmdW5jdGlvbihuKXtpZihlLmJvZHkpe3ZhciBkLHUsdj1vKCkoZS5ib2R5LChmdW5jdGlvbihlKXtyZXR1cm4gbi5wYXJhbXMuYWRzbG90SWQ9PWUuaWR9KSk7aWYodil7dmFyIGw9MiE9PW4uc2l6ZXMubGVuZ3RofHxPYmplY3QoYS5pc0FycmF5KShuLnNpemVzWzBdKT9uLnNpemVzWzBdOm4uc2l6ZXMsYj12b2lkIDAhPT1uLnBhcmFtcy5hZFNpemU/bShuLnBhcmFtcy5hZFNpemUpOnZvaWQgMCE9PXYuYWRzaXplP20odi5hZHNpemUpOmwsaD12b2lkIDAhPT1uLnBhcmFtcy5leHRJZD8iJmlkPSIrbi5wYXJhbXMuZXh0SWQ6IiIseT12b2lkIDAhPT12LmFkdHlwZT92LmFkdHlwZToiIixnPWkuZ2Rwcj8iJmdkcHI9IitpLmdkcHI6IiIsaj1pLmNvbnNlbnQ/IiZjb25zZW50PSIraS5jb25zZW50OiIiLEk9dm9pZCAwIT09di5wdmlkPyImcHZpZD0iK3YucHZpZDoiIix3PWkuaWFiX2NvbnRlbnQ/IiZpYWJfY29udGVudD0iK2kuaWFiX2NvbnRlbnQ6IiIsTz17cmVxdWVzdElkOm4uYmlkSWQsY3BtOnYucHJpY2UvMTAwLHdpZHRoOmJbMF0saGVpZ2h0OmJbMV0sY3JlYXRpdmVJZDoiIit2LmlkLGRlYWxJZDp2WyJjLmRlYWxpZCJdP3ZbImMuZGVhbGlkIl06di5waWQsY3VycmVuY3k6IkVVUiIsbmV0UmV2ZW51ZTohMSx0dGw6MzAwLHJlZmVycmVyOiIiLGFkOic8c2NyaXB0IHNyYz0iJy5jb25jYXQocCwiL2QvIikuY29uY2F0KHYuaWQsIi8iKS5jb25jYXQobi5wYXJhbXMuc3VwcGx5SWQsIi8/dHM9IikuY29uY2F0KHIpLmNvbmNhdChoKS5jb25jYXQoZykuY29uY2F0KGopLmNvbmNhdChJKS5jb25jYXQodywnIj48XC9zY3JpcHQ+JyksbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6di5hZHZlcnRpc2VyP3YuYWR2ZXJ0aXNlcjoibi9hIn19O2lmKGQ9bix1PXksT2JqZWN0KGEuZGVlcEFjY2VzcykoZCwibWVkaWFUeXBlcy52aWRlbyIpJiYidmlkZW8iPT09dS50b0xvd2VyQ2FzZSgpKXt2YXIgQz1mdW5jdGlvbihlKXt2YXIgbj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKTtyZXR1cm4gbiYmT2JqZWN0KGEuaXNBcnJheSkoblswXSk/blswXTpufShuKTtpZihDJiYoTy53aWR0aD1DWzBdLE8uaGVpZ2h0PUNbMV0pLE8ubWVkaWFUeXBlPXMuZCxPLnZhc3RVcmw9IiIuY29uY2F0KHAsIi9kLyIpLmNvbmNhdCh2LmlkLCIvIikuY29uY2F0KG4ucGFyYW1zLnN1cHBseUlkLCIvP3RzPSIpLmNvbmNhdChyKS5jb25jYXQoaCkuY29uY2F0KGcpLmNvbmNhdChqKS5jb25jYXQoSSkuY29uY2F0KHcpLGZ1bmN0aW9uKGUpe3JldHVybiJvdXRzdHJlYW0iPT09T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iil9KG4pKXt2YXIgQT1jLmEuaW5zdGFsbCh7aWQ6bi5iaWRJZCx1cmw6Imh0dHBzOi8vYWQuYWRpdGlvbi5jb20vZHluYW1pYy5hZD9hPW8xOTMwOTImbWFfbG9hZEV2ZW50PW1hLXN0YXJ0LWV2ZW50Iixsb2FkZWQ6ITF9KTtBLnNldFJlbmRlcihmKSxPLnJlbmRlcmVyPUF9fXQucHVzaChPKX19fSkpLHR9fTtmdW5jdGlvbiBtKGUpe3JldHVybiBlLnNwbGl0KCJ4IikubWFwKE51bWJlcil9ZnVuY3Rpb24gZihlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93Lm1hX3dpZHRoPWUud2lkdGgsd2luZG93Lm1hX2hlaWdodD1lLmhlaWdodCx3aW5kb3cubWFfdmFzdFVybD1lLnZhc3RVcmwsd2luZG93Lm1hX2NvbnRhaW5lcj1lLmFkVW5pdENvZGUsd2luZG93LmRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJtYS1zdGFydC1ldmVudCIpKX0pKX1PYmplY3Qoci5yZWdpc3RlckJpZGRlcikodSl9fSxbOTMxXSk7CnVwYmpzLnByb2Nlc3NRdWV1ZSgpOw==";try{var decodedCode=atob(prebidjsCode);eval(decodedCode)}catch(e){}_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs=window.upbjs};this.load=function(){_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs||(initPbjs(),subscriptionLayer.invokeEventCallbacks("postset"))}}},246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=function(e,t,n){for(var i=[],r=0;r<e.length;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i},r=function(e){return"[object Array]"===Object.prototype.toString.call(e)};const o={map:function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i,e));return n},filter:i,reject:function(e,t,n){for(var i=[],r=0;r<e.length;r++)t.call(n,e[r],r,e)||i.push(e[r]);return i},forEach:function(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n],n,e)},find:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t(i,n,e))return i}},flat:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if(r(i))for(var o=0;o<i.length;o++){var a=i[o];t.push(a)}else t.push(i)}return t},isArray:r,distinct:function(e){return i(e,(function(e,t,n){return n.indexOf(e)===t}))},reduce:function(e,t){if(null===e)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,i=Object(e),r=i.length>>>0,o=0;if(arguments.length>=3)n=arguments[2];else{for(;o<r&&!(o in i);)o++;if(o>=r)throw new TypeError("Reduce of empty array with no initial value");n=i[o++]}for(;o<r;)o in i&&(n=t(n,i[o],o,i)),o++;return n},addClass:function(e,t){if(t&&e){var n=t.className;-1==n.indexOf(e)&&(""!=n&&(e=" "+e),t.className=n+e)}},removeClass:function(e,t){if(t&&e){var n=t.className,i=new RegExp("\\b"+e+"\\b","g");n=n.replace(i,""),t.className=n}},hasClass:function(e,t){if(e&&t)return(" "+e.className+" ").indexOf(" "+t+" ")>-1},objectAssign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},CDefer:function(){var e,t,n=this;this.fate="unresolved",this.state="pending",this.promise=new Promise((function(n,i){e=n,t=i})),this.promise.then((function(e){return n.state="fulfilled",e}),(function(e){return n.state="rejected",e})),this.resolve=function(t){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",e(t)},this.reject=function(e){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",t(e)},this.isResolved=function(){return"resolved"===this.fate},this.isPending=function(){return"pending"===this.state},this.isFulfilled=function(){return"fulfilled"===this.state},this.isRejected=function(){return"rejected"===this.state}}}},616:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deepClone:()=>d,isNumber:()=>c,isNil:()=>l,debounce:()=>u,escapeSelector:()=>p,getElementWithSelector:()=>g,isElementInBody:()=>m,isFirstViewPortElement:()=>w,extractQueryParamFromUrl:()=>v,getTopmostAccessibleWindow:()=>b,extractVariableFromString:()=>y,getRandomInt:()=>_,getTrueByProbability:()=>M,truncateString:()=>E,matchStringsOnString:()=>N});var i=n(2),r=n(552),o=n(246),a=n(868),s=new r.Z({prefix:"commonUtils: "}),d=function e(t){if(!t)return t;var n,r=[Number,String,Boolean];try{if(o.Z.forEach(r,(function(e){t instanceof e&&(n=e(t))})),void 0===n)if("[object Array]"===Object.prototype.toString.call(t))n=[],o.Z.forEach(t,(function(t,i,r){n[i]=e(t)}));else if("object"==(0,i.Z)(t))if(t.nodeType&&"function"==typeof t.cloneNode)n=t.cloneNode(!0);else if(t.prototype)n=t;else if(t instanceof Date)n=new Date(t);else for(var a in n={},t)n[a]=e(t[a]);else n=t}catch(e){n=t}return n};function c(e){return!isNaN(e)&&"number"==typeof e}function l(e){return null==e}function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var d=function(){t=null,i||e.apply(r,a)},c=i&&!t;clearTimeout(t),t=setTimeout(d,n),c&&e.apply(r,a)}}var f=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function h(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function p(e){var t=e.charAt(0);return"#"===t||"."===t?t+e.substring(1).replace(f,h):e}function g(e){try{return document.querySelector(e)}catch(t){s.errorf(null,"document.querySelector:%o - error:%o",[e,t])}}function m(e){return e&&(document.documentElement||document.body).contains(e)}var w=function(e){try{if(!e)return;var t,n,i=!1;"none"===window.getComputedStyle(e).display&&(t=e.style.getPropertyValue("display"),n=e.style.getPropertyPriority("display"),e.style.setProperty("display","block","important"),i=!0);var r=e.getBoundingClientRect().top+window.scrollY;return i&&e.style.setProperty("display",t,n),r<=a.Z.consts.acceptableStandardScreenSize.height}catch(e){s.errorf(null,"isFirstViewPortElement - error: %o",e)}},v=function(e,t){e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},b=function(){var e=window;try{for(;e!==e.parent;)e.parent.document,e=e.parent}catch(e){s.errorf(null,"getTopmostAccessibleWindow - error: %o",e)}return e},y=function(e,t){if(e){for(var n=t.split("."),i=e,r=0;r<n.length;r++){var o=n[r];if(!i[o])return;i=i[o]}return i}};function _(e){return Math.floor(Math.random()*Math.floor(e))}function M(e){return _(100)<e}function E(e,t){return e.length>t?e.substring(0,t):e}function N(e,t){return e.every((function(e){return t.includes(e)}))}},614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i={};n.r(i),n.d(i,{getSizeType:()=>m,isUnacceptable:()=>y,isUnacceptableFirstViewPortSize:()=>w});var r=n(868),o=n(616),a=new function(){this.insertElement=function(e,t,n){switch(n){case"appendChild":t.appendChild(e);break;case"insertBefore":t.parentElement.insertBefore(e,t);break;case"insertAfter":t.nextElementSibling?this.insertElement(e,t.nextElementSibling,"insertBefore"):this.insertElement(e,t.parentElement,"appendChild")}}},s=n(246),d=n(302),c=[{width:300,height:250},{width:336,height:280},{width:300,height:600},{width:160,height:600},{width:120,height:600},{width:120,height:240},{width:250,height:250},{width:200,height:200},{width:180,height:150},{width:125,height:125},{width:728,height:90},{width:970,height:90},{width:970,height:250},{width:468,height:60},{width:234,height:60}],l=function(e,t){var n=function(e,t){return s.Z.filter(e,(function(e){return _.sizeValidation.getSizeType(e)===t}))}(c,e);return n=s.Z.filter(n,(function(e){return!_.sizeValidation.isUnacceptableFirstViewPortSize(e)||!t}))},u=function(e,t,n){for(var i=function(e){for(var t=0,n=0,i=0;i<e.length;i++){var r=e[i];r&&r.width&&r.height&&(r.width>t&&(t=r.width),r.height>n&&(n=r.height))}return{width:t,height:n}}(e),r=_.sizeValidation.getSizeType(t),o=l(r,n),a=0;a<o.length;a++){var s=o[a];if(s.width<=i.width&&s.height<=i.height){for(var d=!0,c=0;c<e.length;c++){var u=e[c];if(u&&u.width===s.width&&u.height===s.height){d=!1;break}}if(d)return s}}},f=function(e){var t=document.createElement("a");return t.setAttribute("href",e),t},h=function(e,t){if(e&&e.length>0)for(var n=0;n<e.length;n++){for(var i=e[n],r=!0,o=0;o<i.length;o++){var a=i[o];if(t[a.type].indexOf(a.string)<0){r=!1;break}}if(r)return!0}};var p=1,g=2,m=function(e){return e.width>350?p:g},w=function(e){var t=m(e),n=r.Z.consts.acceptableStandardScreenSize.width*r.Z.consts.acceptableStandardScreenSize.height,i=e.height,o=e.width,a=o*i/n*100>=16;return t==g?a||o>350:a||e.height>200},v=function e(t,n){var i,o,a=m(n),s=!1,d=!0,c=!1,l=n.height,u=n.width;if(t){"none"===window.getComputedStyle(t).display&&(i=t.style.getPropertyValue("display"),o=t.style.getPropertyPriority("display"),t.style.setProperty("display","block","important"),s=!0);var f=t.getBoundingClientRect().top;l=(c=f+n.height>r.Z.consts.acceptableStandardScreenSize.height)?r.Z.consts.acceptableStandardScreenSize.height-f:n.height}return d=a==g&&c?e(t,{width:u,height:l})&&b(n):w(n),s&&t.style.setProperty("display",i,o),d},b=function(e){var t=r.Z.consts.acceptableStandardScreenSize.width*r.Z.consts.acceptableStandardScreenSize.height,n=m(e);return e.width*e.height/t*100>=26||n==p&&e.height>400},y=function(e,t){return!e||_.commonUtils.isFirstViewPortElement(e)?v(e,t):b(t)};const _={addAcceptableParam:function(e){return e.indexOf(r.Z.upoSettings.acceptableURLParam)>-1?e:e=(e=e.indexOf("?")>-1?e+"&"+r.Z.upoSettings.acceptableURLParam:e+"?"+r.Z.upoSettings.acceptableURLParam).replace("&&upapi=true","&upapi=true")},commonUtils:o,ElementInsertion:a,sizesRemover:function(e,t){var n=[],i=d.Y.fireEvent("enableLegacySizesReplacer");s.Z.forEach(t,(function(e){e.width&&e.height&&n.push({width:e.width,height:e.height})}));for(var r=0;r<n.length;r++){var o=n[r];if(_.sizeValidation.isUnacceptable(e,o))if(i){var a=_.commonUtils.isFirstViewPortElement(e);n[r]=u(n,o,a)}else n.splice(r,1),r--}return n},SubscriptionLayer:function(){var e={};this.subscribeForEvent=function(t,n){e[t]=e[t]||[],e[t].indexOf(n)<0&&e[t].push(n)},this.invokeEventCallbacks=function(t,n){var i=e[t]||[];s.Z.forEach(i,(function(e){e.call(void 0,n)}))}},urlValidations:{isSyncUrl:function(e,t){if("IMG"!==t)return!1;for(var n=f(e),i=[[{string:"/sync",type:"pathname"}],[{string:"/cookiesync",type:"pathname"}],[{string:"/rset",type:"pathname"}],[{string:"/getuid",type:"pathname"}],[{string:"/track",type:"pathname"}],[{string:"/pixel",type:"pathname"}],[{string:"/Pixel",type:"pathname"}],[{string:".pixel",type:"pathname"}],[{string:"pixel.",type:"pathname"}],[{string:"/match",type:"pathname"}],[{string:"/partner",type:"pathname"}],[{string:"/visitormatch",type:"pathname"}],[{string:"/ping_match",type:"pathname"}],[{string:"/ImgSync",type:"pathname"}],[{string:"/identify",type:"pathname"}],[{string:"/usync/",type:"pathname"}],[{string:"/usersync",type:"pathname"}],[{string:"/user-sync",type:"pathname"}],[{string:"/ddm/trackimp",type:"pathname"}],[{string:"/user_sync.php",type:"pathname"}],[{string:"/bh/rtset",type:"pathname"}],[{string:"%2Fsync",type:"pathname"}],[{string:"cksync.php",type:"pathname"}],[{string:".sync",type:"hostname"}],[{string:"sync-",type:"hostname"}],[{string:"storygize.net",type:"hostname"},{string:"/ccm",type:"href"}],[{string:"geo-um.btrll.com",type:"hostname"}],[{string:"nexac.com",type:"hostname"},{string:"/e/sr",type:"href"}],[{string:"api.bttrack.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"sitescout.com",type:"hostname"}],[{string:"criteo.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"},{string:"/sync",type:"href"}]],r=0;r<i.length;r++){for(var o=i[r],a=!0,s=0;s<o.length;s++){var d=o[s];if(n[d.type].indexOf(d.string)<0){a=!1;break}}if(a)return!0}return!1},isWhitelistURL:function(e,t){var n=f(e);return!h({SCRIPT:[[{string:"3lift.com",type:"hostname"},{string:"/header",type:"href"}]]}[t],n)&&!!h({IMG:[[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleclick.net",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"mynativeplatform.com",type:"hostname"}],[{string:"360yield.com",type:"hostname"}],[{string:"sharethrough.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"zemanta.com",type:"hostname"}],[{string:"adnxs.com",type:"hostname"}],[{string:"sonobi.com",type:"hostname"}],[{string:"insight.adsrvr.org",type:"hostname"}],[{string:"serving-sys.com",type:"hostname"}],[{string:"advertising.com",type:"hostname"}],[{string:"openx.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"flashtalking.com",type:"hostname"},{string:"/imp",type:"href"}],[{string:"adroll.com",type:"hostname"}],[{string:"33across.com",type:"hostname"},{string:"/ps",type:"href"}],[{string:"adsrvr.org/bid",type:"href"}],[{string:"imrworldwide.com",type:"hostname"}],[{string:"criteo.com",type:"hostname"},{string:"/delivery",type:"href"}],[{string:"ad_overlays",type:"pathname"}]],IFRAME:[[{string:"googlesyndication.com/safeframe",type:"href"}],[{string:"ad.doubleclick.net/ddm",type:"hostname"}],[{string:"rubiconproject.com",type:"hostname"},{string:"multi-sync.html",type:"href"}],[{string:"3lift.com",type:"hostname"},{string:"sync?",type:"href"}],[{string:"ca-pub-15988",type:"href"}],[{string:"ff.doubleclick.net",type:"hostname"}]],SCRIPT:[[{string:"adnxs.com",type:"hostname"},{string:"trk.js",type:"href"}],[{string:"/sync",type:"pathname"}],[{string:"pagead2.googlesyndication.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}],[{string:"doubleclick.net/gpt/pubads_impl_",type:"href"}],[{string:"native.sharethrough.com/assets/sfp.js",type:"href"}],[{string:"sharethrough.com/api",type:"href"}],[{string:"moatads.com",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"match.adsrvr.org",type:"hostname"}],[{string:".adnxs.com/getuidp",type:"href"}],[{string:"pubads_impl_rendering_",type:"href"}],[{string:"cdn.ampproject.org",type:"href"}]],LINK:[[{string:"//tpc.googlesyndication.com/safeframe",type:"href"}],[{string:"ntv.io",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}]]}[t],n)}},sizeValidation:i}},96:(e,t,n)=>{var i="Expected a function",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,d=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=c||l||Function("return this")(),f=Object.prototype.toString,h=Math.max,p=Math.min,g=function(){return u.Date.now()};function m(e,t,n){var r,o,a,s,d,c,l=0,u=!1,f=!1,m=!0;if("function"!=typeof e)throw new TypeError(i);function b(t){var n=r,i=o;return r=o=void 0,l=t,s=e.apply(i,n)}function y(e){return l=e,d=setTimeout(M,t),u?b(e):s}function _(e){var n=e-c;return void 0===c||n>=t||n<0||f&&e-l>=a}function M(){var e=g();if(_(e))return E(e);d=setTimeout(M,function(e){var n=t-(e-c);return f?p(n,a-(e-l)):n}(e))}function E(e){return d=void 0,m&&r?b(e):(r=o=void 0,s)}function N(){var e=g(),n=_(e);if(r=arguments,o=this,c=e,n){if(void 0===d)return y(c);if(f)return d=setTimeout(M,t),b(c)}return void 0===d&&(d=setTimeout(M,t)),s}return t=v(t)||0,w(n)&&(u=!!n.leading,a=(f="maxWait"in n)?h(v(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),N.cancel=function(){void 0!==d&&clearTimeout(d),l=0,r=c=o=d=void 0},N.flush=function(){return void 0===d?s:E(g())},N}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||s.test(e)?d(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(i);return w(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),m(e,t,{leading:r,maxWait:t,trailing:o})}},942:(e,t,n)=>{"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>i})},2:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{Z:()=>i})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{getSpaceElement:()=>xn,refreshTypeDecoder:()=>kn});var t={};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}__webpack_require__.r(t),__webpack_require__.d(t,{createWhitelistingIFrame:()=>jn,setupWhitelistingIFrameSettings:()=>Hn});var o=__webpack_require__(2),a=__webpack_require__(868),s=__webpack_require__(246),d=__webpack_require__(302),c=__webpack_require__(942),l=__webpack_require__(614),u=function(e){for(var t={},n=Object.keys(e),i=0;i<n.length;i++)t[n[i].toLowerCase()]=e[n[i]];return t},f=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){t[n]=[];for(var i=0;i<e[n].length;i++){var r=e[n][i];t[n].push(r)}}return t},h=function(e,t,n){if((n=n||{}).merge&&n.override)throw new TypeError;this.tr=e,this.headers=u(t),this.merge=n.merge||!1,this.override=n.override||!1};h.prototype.$fetch=function(e,t,n){if(n=n||{},"object"!==(0,o.Z)(t)||"string"!=typeof t.url)throw new TypeError;t=this.addHeaders(t),this.tr.$fetch(e,t,n)},h.prototype.addHeaders=function(e){e=function(e){return{url:e.url,headers:u(f(e.headers||{})),body:e.body,method:e.method}}(e);var t=this.headers,n=e.headers;for(var i in t)if(t.hasOwnProperty(i)){if(this.override)n[i]=[];else if(!this.merge&&n[i])continue;n[i]||(n[i]=[]);for(var r=0;r<t[i].length;r++){var o=t[i][r];n[i].push(o)}}return e};var p=function(e,t){return e.substr(0,t.length)===t},g=function(e){if(e=e.toLowerCase(),p(e,"proxy-"))return!1;if(p(e,"sec-"))return!1;switch(e){case"accept-charset":case"accept-encoding":case"access-control-request-headers":case"access-control-request-method":case"connection":case"content-length":case"cookie":case"cookie2":case"date":case"dnt":case"expect":case"host":case"keep-alive":case"origin":case"te":case"trailer":case"transfer-encoding":case"upgrade":case"via":case"x-client-version":case"x-cookie":case"x-referer":return!1}return!0},m=new function(){this.init=function(e,t){if(t=t||{},!e||"string"!=typeof e)throw new TypeError;this.host=e;var n=void 0===t.secure||t.secure;this.protocol=n?"https":"http",this.suffix=void 0!==t.suffix?t.suffix:""},this.$fetch=function(e){return new Promise(function(t,n){if("object"!==(0,o.Z)(e)||"string"!=typeof e.url)throw new TypeError;var i=!1,r=e.url||"";(r.length<1||"/"!=r[0])&&(r="/"+r);var a=this.protocol+"://"+this.host+r;a+=this.suffix?"#"+this.suffix:"";var s=e.method||"GET",d=e.headers||{},c=e.body?e.body:null,l=new XMLHttpRequest;for(var f in l.onreadystatechange=function(e){if(4==l.readyState){if(0==l.status){if(i)return;return i=!0,void n("status -> "+l.status)}var r=u(function(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),i=0;i<n.length;i++){var r=n[i],o=r.indexOf(": ");if(o>0){var a=r.substring(0,o),s=r.substring(o+2);t[a]||(t[a]=[]),t[a].push(s)}}return t}(l.getAllResponseHeaders()));if(r["x-content-type"]&&(r["content-type"]=r["x-content-type"],delete r["x-content-type"]),l.status>=200&&l.status<300){var o={status:l.status,headers:r,body:l.response};t(o)}else n("status -> "+l.status)}},l.onerror=function(e){i||(i=!0,n(e))},l.open(s,a,!0),l.responseType="arraybuffer",d)d.hasOwnProperty(f)&&0!=d[f].length&&(g(f)||l.setRequestHeader(f,d[f][0]));l.send(c)}.bind(this))}},w=function(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n||t<=0||n<=0||t>n)throw new TypeError;for(var i=Math.floor(Math.random()*(n+1-t))+t,r="",o=0;o<i;o++)r+=e.charAt(Math.floor(Math.random()*e.length));return r},v=function(e,t){return w("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e,t)};const b=v;function y(e){for(var t=e.length;--t>=0;)e[t]=0}var _=256,M=286,E=30,N=15,D=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),S=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),T=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k=new Array(576);y(k);var x=new Array(60);y(x);var z=new Array(512);y(z);var I=new Array(256);y(I);var B=new Array(29);y(B);var O,Y,R,H=new Array(E);function X(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function j(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}y(H);var V=function(e){return e<256?z[e]:z[256+(e>>>7)]},W=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},C=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,W(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},F=function(e,t,n){C(e,n[2*t],n[2*t+1])},U=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},A=function(e,t,n){var i,r,o=new Array(16),a=0;for(i=1;i<=N;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=U(o[s]++,s))}},L=function(e){var t;for(t=0;t<M;t++)e.dyn_ltree[2*t]=0;for(t=0;t<E;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},G=function(e){e.bi_valid>8?W(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},P=function(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]},K=function(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&P(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!P(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},J=function(e,t,n){var i,r,o,a,s=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?F(e,r,t):(o=I[r],F(e,o+_+1,t),0!==(a=D[o])&&(r-=B[o],C(e,r,a)),i--,o=V(i),F(e,o,n),0!==(a=S[o])&&(i-=H[o],C(e,i,a)))}while(s<e.last_lit);F(e,256,t)},Q=function(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,d=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<d;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)K(e,o,n);r=d;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],K(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,K(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,d=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,u=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(o=0;o<=N;o++)e.bl_count[o]=0;for(d[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=d[2*d[2*(i=e.heap[n])+1]+1]+1)>p&&(o=p,g++),d[2*i+1]=o,i>c||(e.bl_count[o]++,a=0,i>=h&&(a=f[i-h]),s=d[2*i],e.opt_len+=s*(o+a),u&&(e.static_len+=s*(l[2*i+1]+a)));if(0!==g){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,g-=2}while(g>0);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>c||(d[2*r+1]!==o&&(e.opt_len+=(o-d[2*r+1])*d[2*r],d[2*r+1]=o),i--)}}(e,t),A(o,c,e.bl_count)},q=function(e,t,n){var i,r,o=-1,a=t[1],s=0,d=7,c=4;for(0===a&&(d=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<d&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=r,0===a?(d=138,c=3):r===a?(d=6,c=3):(d=7,c=4))},$=function(e,t,n){var i,r,o=-1,a=t[1],s=0,d=7,c=4;for(0===a&&(d=138,c=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<d&&r===a)){if(s<c)do{F(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(F(e,r,e.bl_tree),s--),F(e,16,e.bl_tree),C(e,s-3,2)):s<=10?(F(e,17,e.bl_tree),C(e,s-3,3)):(F(e,18,e.bl_tree),C(e,s-11,7));s=0,o=r,0===a?(d=138,c=3):r===a?(d=6,c=3):(d=7,c=4)}},ee=!1,te=function(e,t,n,i){C(e,0+(i?1:0),3),function(e,t,n,i){G(e),i&&(W(e,n),W(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n}(e,t,n,!0)},ne=function(e,t,n,i){var r,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<_;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),Q(e,e.l_desc),Q(e,e.d_desc),a=function(e){var t;for(q(e,e.dyn_ltree,e.l_desc.max_code),q(e,e.dyn_dtree,e.d_desc.max_code),Q(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*Z[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?te(e,t,n,i):4===e.strategy||o===r?(C(e,2+(i?1:0),3),J(e,k,x)):(C(e,4+(i?1:0),3),function(e,t,n,i){var r;for(C(e,t-257,5),C(e,n-1,5),C(e,i-4,4),r=0;r<i;r++)C(e,e.bl_tree[2*Z[r]+1],3);$(e,e.dyn_ltree,t-1),$(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),J(e,e.dyn_ltree,e.dyn_dtree)),L(e),i&&G(e)},ie={_tr_init:function(e){ee||(!function(){var e,t,n,i,r,o=new Array(16);for(n=0,i=0;i<28;i++)for(B[i]=n,e=0;e<1<<D[i];e++)I[n++]=i;for(I[n-1]=i,r=0,i=0;i<16;i++)for(H[i]=r,e=0;e<1<<S[i];e++)z[r++]=i;for(r>>=7;i<E;i++)for(H[i]=r<<7,e=0;e<1<<S[i]-7;e++)z[256+r++]=i;for(t=0;t<=N;t++)o[t]=0;for(e=0;e<=143;)k[2*e+1]=8,e++,o[8]++;for(;e<=255;)k[2*e+1]=9,e++,o[9]++;for(;e<=279;)k[2*e+1]=7,e++,o[7]++;for(;e<=287;)k[2*e+1]=8,e++,o[8]++;for(A(k,287,o),e=0;e<E;e++)x[2*e+1]=5,x[2*e]=U(e,5);O=new X(k,D,257,M,N),Y=new X(x,S,0,E,N),R=new X(new Array(0),T,0,19,7)}(),ee=!0),e.l_desc=new j(e.dyn_ltree,O),e.d_desc=new j(e.dyn_dtree,Y),e.bl_desc=new j(e.bl_tree,R),e.bi_buf=0,e.bi_valid=0,L(e)},_tr_stored_block:te,_tr_flush_block:ne,_tr_tally:function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(I[n]+_+1)]++,e.dyn_dtree[2*V(t)]++),e.last_lit===e.lit_bufsize-1},_tr_align:function(e){C(e,2,3),F(e,256,k),function(e){16===e.bi_valid?(W(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},re=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0},oe=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),ae=function(e,t,n,i){var r=oe,o=i+n;e^=-1;for(var a=i;a<o;a++)e=e>>>8^r[255&(e^t[a])];return-1^e},se={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},de={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},ce=ie._tr_init,le=ie._tr_stored_block,ue=ie._tr_flush_block,fe=ie._tr_tally,he=ie._tr_align,pe=de.Z_NO_FLUSH,ge=de.Z_PARTIAL_FLUSH,me=de.Z_FULL_FLUSH,we=de.Z_FINISH,ve=de.Z_BLOCK,be=de.Z_OK,ye=de.Z_STREAM_END,_e=de.Z_STREAM_ERROR,Me=de.Z_DATA_ERROR,Ee=de.Z_BUF_ERROR,Ne=de.Z_DEFAULT_COMPRESSION,De=de.Z_FILTERED,Se=de.Z_HUFFMAN_ONLY,Te=de.Z_RLE,Ze=de.Z_FIXED,ke=de.Z_DEFAULT_STRATEGY,xe=de.Z_UNKNOWN,ze=de.Z_DEFLATED,Ie=258,Be=262,Oe=103,Ye=113,Re=666,He=function(e,t){return e.msg=se[t],t},Xe=function(e){return(e<<1)-(e>4?9:0)},je=function(e){for(var t=e.length;--t>=0;)e[t]=0},Ve=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},We=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Ce=function(e,t){ue(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,We(e.strm)},Fe=function(e,t){e.pending_buf[e.pending++]=t},Ue=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ae=function(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,d=e.strstart>e.w_size-Be?e.strstart-(e.w_size-Be):0,c=e.window,l=e.w_mask,u=e.prev,f=e.strstart+Ie,h=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===p&&c[n+a-1]===h&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(i=Ie-(f-o),o=f-Ie,i>a){if(e.match_start=t,a=i,i>=s)break;h=c[o+a-1],p=c[o+a]}}}while((t=u[t&l])>d&&0!=--r);return a<=e.lookahead?a:e.lookahead},Le=function(e){var t,n,i,r,o,a,s,d,c,l,u=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=u+(u-Be)){e.window.set(e.window.subarray(u,u+u),0),e.match_start-=u,e.strstart-=u,e.block_start-=u,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=u?i-u:0}while(--n);t=n=u;do{i=e.prev[--t],e.prev[t]=i>=u?i-u:0}while(--n);r+=u}if(0===e.strm.avail_in)break;if(a=e.strm,s=e.window,d=e.strstart+e.lookahead,c=r,l=void 0,(l=a.avail_in)>c&&(l=c),n=0===l?0:(a.avail_in-=l,s.set(a.input.subarray(a.next_in,a.next_in+l),d),1===a.state.wrap?a.adler=re(a.adler,s,l,d):2===a.state.wrap&&(a.adler=ae(a.adler,s,l,d)),a.next_in+=l,a.total_in+=l,l),e.lookahead+=n,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=Ve(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=Ve(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Be&&0!==e.strm.avail_in)},Ge=function(e,t){for(var n,i;;){if(e.lookahead<Be){if(Le(e),e.lookahead<Be&&t===pe)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ve(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Be&&(e.match_length=Ae(e,n)),e.match_length>=3)if(i=fe(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Ve(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ve(e,e.ins_h,e.window[e.strstart+1]);else i=fe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(Ce(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===we?(Ce(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ce(e,!1),0===e.strm.avail_out)?1:2},Pe=function(e,t){for(var n,i,r;;){if(e.lookahead<Be){if(Le(e),e.lookahead<Be&&t===pe)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ve(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Be&&(e.match_length=Ae(e,n),e.match_length<=5&&(e.strategy===De||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=fe(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=Ve(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(Ce(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=fe(e,0,e.window[e.strstart-1]))&&Ce(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=fe(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===we?(Ce(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ce(e,!1),0===e.strm.avail_out)?1:2};function Ke(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}var Je=[new Ke(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Le(e),0===e.lookahead&&t===pe)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,Ce(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-Be&&(Ce(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===we?(Ce(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Ce(e,!1),e.strm.avail_out),1)})),new Ke(4,4,8,4,Ge),new Ke(4,5,16,8,Ge),new Ke(4,6,32,32,Ge),new Ke(4,4,16,16,Pe),new Ke(8,16,32,32,Pe),new Ke(8,16,128,128,Pe),new Ke(8,32,128,256,Pe),new Ke(32,128,258,1024,Pe),new Ke(32,258,258,4096,Pe)];function Qe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ze,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),je(this.dyn_ltree),je(this.dyn_dtree),je(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),je(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),je(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var qe=function(e){if(!e||!e.state)return He(e,_e);e.total_in=e.total_out=0,e.data_type=xe;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:Ye,e.adler=2===t.wrap?0:1,t.last_flush=pe,ce(t),be},$e=function(e){var t,n=qe(e);return n===be&&((t=e.state).window_size=2*t.w_size,je(t.head),t.max_lazy_match=Je[t.level].max_lazy,t.good_match=Je[t.level].good_length,t.nice_match=Je[t.level].nice_length,t.max_chain_length=Je[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},et=function(e,t,n,i,r,o){if(!e)return _e;var a=1;if(t===Ne&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>9||n!==ze||i<8||i>15||t<0||t>9||o<0||o>Ze)return He(e,_e);8===i&&(i=9);var s=new Qe;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,$e(e)},tt={deflateInit:function(e,t){return et(e,t,ze,15,8,ke)},deflateInit2:et,deflateReset:$e,deflateResetKeep:qe,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?_e:(e.state.gzhead=t,be):_e},deflate:function(e,t){var n,i;if(!e||!e.state||t>ve||t<0)return e?He(e,_e):_e;var r=e.state;if(!e.output||!e.input&&0!==e.avail_in||r.status===Re&&t!==we)return He(e,0===e.avail_out?Ee:_e);r.strm=e;var o=r.last_flush;if(r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,Fe(r,31),Fe(r,139),Fe(r,8),r.gzhead?(Fe(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Fe(r,255&r.gzhead.time),Fe(r,r.gzhead.time>>8&255),Fe(r,r.gzhead.time>>16&255),Fe(r,r.gzhead.time>>24&255),Fe(r,9===r.level?2:r.strategy>=Se||r.level<2?4:0),Fe(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Fe(r,255&r.gzhead.extra.length),Fe(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=ae(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Fe(r,0),Fe(r,0),Fe(r,0),Fe(r,0),Fe(r,0),Fe(r,9===r.level?2:r.strategy>=Se||r.level<2?4:0),Fe(r,3),r.status=Ye);else{var a=ze+(r.w_bits-8<<4)<<8;a|=(r.strategy>=Se||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(a|=32),a+=31-a%31,r.status=Ye,Ue(r,a),0!==r.strstart&&(Ue(r,e.adler>>>16),Ue(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(n=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),We(e),n=r.pending,r.pending!==r.pending_buf_size));)Fe(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),We(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Fe(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),We(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Fe(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.status=Oe)}else r.status=Oe;if(r.status===Oe&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&We(e),r.pending+2<=r.pending_buf_size&&(Fe(r,255&e.adler),Fe(r,e.adler>>8&255),e.adler=0,r.status=Ye)):r.status=Ye),0!==r.pending){if(We(e),0===e.avail_out)return r.last_flush=-1,be}else if(0===e.avail_in&&Xe(t)<=Xe(o)&&t!==we)return He(e,Ee);if(r.status===Re&&0!==e.avail_in)return He(e,Ee);if(0!==e.avail_in||0!==r.lookahead||t!==pe&&r.status!==Re){var s=r.strategy===Se?function(e,t){for(var n;;){if(0===e.lookahead&&(Le(e),0===e.lookahead)){if(t===pe)return 1;break}if(e.match_length=0,n=fe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ce(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===we?(Ce(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ce(e,!1),0===e.strm.avail_out)?1:2}(r,t):r.strategy===Te?function(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=Ie){if(Le(e),e.lookahead<=Ie&&t===pe)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){o=e.strstart+Ie;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);e.match_length=Ie-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=fe(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=fe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ce(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===we?(Ce(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ce(e,!1),0===e.strm.avail_out)?1:2}(r,t):Je[r.level].func(r,t);if(3!==s&&4!==s||(r.status=Re),1===s||3===s)return 0===e.avail_out&&(r.last_flush=-1),be;if(2===s&&(t===ge?he(r):t!==ve&&(le(r,0,0,!1),t===me&&(je(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),We(e),0===e.avail_out))return r.last_flush=-1,be}return t!==we?be:r.wrap<=0?ye:(2===r.wrap?(Fe(r,255&e.adler),Fe(r,e.adler>>8&255),Fe(r,e.adler>>16&255),Fe(r,e.adler>>24&255),Fe(r,255&e.total_in),Fe(r,e.total_in>>8&255),Fe(r,e.total_in>>16&255),Fe(r,e.total_in>>24&255)):(Ue(r,e.adler>>>16),Ue(r,65535&e.adler)),We(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?be:ye)},deflateEnd:function(e){if(!e||!e.state)return _e;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==Oe&&t!==Ye&&t!==Re?He(e,_e):(e.state=null,t===Ye?He(e,Me):be)},deflateSetDictionary:function(e,t){var n=t.length;if(!e||!e.state)return _e;var i=e.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return _e;if(1===r&&(e.adler=re(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(je(i.head),i.strstart=0,i.block_start=0,i.insert=0);var o=new Uint8Array(i.w_size);o.set(t.subarray(n-i.w_size,n),0),t=o,n=i.w_size}var a=e.avail_in,s=e.next_in,d=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Le(i);i.lookahead>=3;){var c=i.strstart,l=i.lookahead-2;do{i.ins_h=Ve(i,i.ins_h,i.window[c+3-1]),i.prev[c&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=c,c++}while(--l);i.strstart=c,i.lookahead=2,Le(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=s,e.input=d,e.avail_in=a,i.wrap=r,be},deflateInfo:"pako deflate (from Nodeca project)"},nt=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},it=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==(0,o.Z)(n))throw new TypeError(n+"must be non-object");for(var i in n)nt(n,i)&&(e[i]=n[i])}}return e},rt=function(e){for(var t=0,n=0,i=e.length;n<i;n++)t+=e[n].length;for(var r=new Uint8Array(t),o=0,a=0,s=e.length;o<s;o++){var d=e[o];r.set(d,a),a+=d.length}return r},ot=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){ot=!1}for(var at=new Uint8Array(256),st=0;st<256;st++)at[st]=st>=252?6:st>=248?5:st>=240?4:st>=224?3:st>=192?2:1;at[254]=at[254]=1;var dt=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,i,r,o,a=e.length,s=0;for(r=0;r<a;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<a&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,r=0;o<s;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<a&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},ct=function(e,t){var n,i,r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var o=new Array(2*r);for(i=0,n=0;n<r;){var a=e[n++];if(a<128)o[i++]=a;else{var s=at[a];if(s>4)o[i++]=65533,n+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&n<r;)a=a<<6|63&e[n++],s--;s>1?o[i++]=65533:a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|1023&a)}}}return function(e,t){if(t<65534&&e.subarray&&ot)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}(o,i)},lt=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+at[e[n]]>t?n:t};var ut=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ft=Object.prototype.toString,ht=de.Z_NO_FLUSH,pt=de.Z_SYNC_FLUSH,gt=de.Z_FULL_FLUSH,mt=de.Z_FINISH,wt=de.Z_OK,vt=de.Z_STREAM_END,bt=de.Z_DEFAULT_COMPRESSION,yt=de.Z_DEFAULT_STRATEGY,_t=de.Z_DEFLATED;function Mt(e){this.options=it({level:bt,method:_t,chunkSize:16384,windowBits:15,memLevel:8,strategy:yt},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var n=tt.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==wt)throw new Error(se[n]);if(t.header&&tt.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(i="string"==typeof t.dictionary?dt(t.dictionary):"[object ArrayBuffer]"===ft.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=tt.deflateSetDictionary(this.strm,i))!==wt)throw new Error(se[n]);this._dict_set=!0}}function Et(e,t){var n=new Mt(t);if(n.push(e,!0),n.err)throw n.msg||se[n.err];return n.result}Mt.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(i=t===~~t?t:!0===t?mt:ht,"string"==typeof e?r.input=dt(e):"[object ArrayBuffer]"===ft.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(o),r.next_out=0,r.avail_out=o),(i===pt||i===gt)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((n=tt.deflate(r,i))===vt)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=tt.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===wt;if(0!==r.avail_out){if(i>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Mt.prototype.onData=function(e){this.chunks.push(e)},Mt.prototype.onEnd=function(e){e===wt&&(this.result=rt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Nt={Deflate:Mt,deflate:Et,deflateRaw:function(e,t){return(t=t||{}).raw=!0,Et(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,Et(e,t)},constants:de},Dt=function(e,t){var n,i,r,o,a,s,d,c,l,u,f,h,p,g,m,w,v,b,y,_,M,E,N,D,S=e.state;n=e.next_in,N=e.input,i=n+(e.avail_in-5),r=e.next_out,D=e.output,o=r-(t-e.avail_out),a=r+(e.avail_out-257),s=S.dmax,d=S.wsize,c=S.whave,l=S.wnext,u=S.window,f=S.hold,h=S.bits,p=S.lencode,g=S.distcode,m=(1<<S.lenbits)-1,w=(1<<S.distbits)-1;e:do{h<15&&(f+=N[n++]<<h,h+=8,f+=N[n++]<<h,h+=8),v=p[f&m];t:for(;;){if(f>>>=b=v>>>24,h-=b,0===(b=v>>>16&255))D[r++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=p[(65535&v)+(f&(1<<b)-1)];continue t}if(32&b){S.mode=12;break e}e.msg="invalid literal/length code",S.mode=30;break e}y=65535&v,(b&=15)&&(h<b&&(f+=N[n++]<<h,h+=8),y+=f&(1<<b)-1,f>>>=b,h-=b),h<15&&(f+=N[n++]<<h,h+=8,f+=N[n++]<<h,h+=8),v=g[f&w];n:for(;;){if(f>>>=b=v>>>24,h-=b,!(16&(b=v>>>16&255))){if(0==(64&b)){v=g[(65535&v)+(f&(1<<b)-1)];continue n}e.msg="invalid distance code",S.mode=30;break e}if(_=65535&v,h<(b&=15)&&(f+=N[n++]<<h,(h+=8)<b&&(f+=N[n++]<<h,h+=8)),(_+=f&(1<<b)-1)>s){e.msg="invalid distance too far back",S.mode=30;break e}if(f>>>=b,h-=b,_>(b=r-o)){if((b=_-b)>c&&S.sane){e.msg="invalid distance too far back",S.mode=30;break e}if(M=0,E=u,0===l){if(M+=d-b,b<y){y-=b;do{D[r++]=u[M++]}while(--b);M=r-_,E=D}}else if(l<b){if(M+=d+l-b,(b-=l)<y){y-=b;do{D[r++]=u[M++]}while(--b);if(M=0,l<y){y-=b=l;do{D[r++]=u[M++]}while(--b);M=r-_,E=D}}}else if(M+=l-b,b<y){y-=b;do{D[r++]=u[M++]}while(--b);M=r-_,E=D}for(;y>2;)D[r++]=E[M++],D[r++]=E[M++],D[r++]=E[M++],y-=3;y&&(D[r++]=E[M++],y>1&&(D[r++]=E[M++]))}else{M=r-_;do{D[r++]=D[M++],D[r++]=D[M++],D[r++]=D[M++],y-=3}while(y>2);y&&(D[r++]=D[M++],y>1&&(D[r++]=D[M++]))}break}}break}}while(n<i&&r<a);n-=y=h>>3,f&=(1<<(h-=y<<3))-1,e.next_in=n,e.next_out=r,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=r<a?a-r+257:257-(r-a),S.hold=f,S.bits=h},St=15,Tt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Zt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),kt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),zt=function(e,t,n,i,r,o,a,s){var d,c,l,u,f,h,p,g,m,w=s.bits,v=0,b=0,y=0,_=0,M=0,E=0,N=0,D=0,S=0,T=0,Z=null,k=0,x=new Uint16Array(16),z=new Uint16Array(16),I=null,B=0;for(v=0;v<=St;v++)x[v]=0;for(b=0;b<i;b++)x[t[n+b]]++;for(M=w,_=St;_>=1&&0===x[_];_--);if(M>_&&(M=_),0===_)return r[o++]=20971520,r[o++]=20971520,s.bits=1,0;for(y=1;y<_&&0===x[y];y++);for(M<y&&(M=y),D=1,v=1;v<=St;v++)if(D<<=1,(D-=x[v])<0)return-1;if(D>0&&(0===e||1!==_))return-1;for(z[1]=0,v=1;v<St;v++)z[v+1]=z[v]+x[v];for(b=0;b<i;b++)0!==t[n+b]&&(a[z[t[n+b]]++]=b);if(0===e?(Z=I=a,h=19):1===e?(Z=Tt,k-=257,I=Zt,B-=257,h=256):(Z=kt,I=xt,h=-1),T=0,b=0,v=y,f=o,E=M,N=0,l=-1,u=(S=1<<M)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){p=v-N,a[b]<h?(g=0,m=a[b]):a[b]>h?(g=I[B+a[b]],m=Z[k+a[b]]):(g=96,m=0),d=1<<v-N,y=c=1<<E;do{r[f+(T>>N)+(c-=d)]=p<<24|g<<16|m|0}while(0!==c);for(d=1<<v-1;T&d;)d>>=1;if(0!==d?(T&=d-1,T+=d):T=0,b++,0==--x[v]){if(v===_)break;v=t[n+a[b]]}if(v>M&&(T&u)!==l){for(0===N&&(N=M),f+=y,D=1<<(E=v-N);E+N<_&&!((D-=x[E+N])<=0);)E++,D<<=1;if(S+=1<<E,1===e&&S>852||2===e&&S>592)return 1;r[l=T&u]=M<<24|E<<16|f-o|0}}return 0!==T&&(r[f+T]=v-N<<24|64<<16|0),s.bits=M,0},It=de.Z_FINISH,Bt=de.Z_BLOCK,Ot=de.Z_TREES,Yt=de.Z_OK,Rt=de.Z_STREAM_END,Ht=de.Z_NEED_DICT,Xt=de.Z_STREAM_ERROR,jt=de.Z_DATA_ERROR,Vt=de.Z_MEM_ERROR,Wt=de.Z_BUF_ERROR,Ct=de.Z_DEFLATED,Ft=12,Ut=30,At=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function Lt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Gt,Pt,Kt=function(e){if(!e||!e.state)return Xt;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Yt},Jt=function(e){if(!e||!e.state)return Xt;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Kt(e)},Qt=function(e,t){var n;if(!e||!e.state)return Xt;var i=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Xt:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,Jt(e))},qt=function(e,t){if(!e)return Xt;var n=new Lt;e.state=n,n.window=null;var i=Qt(e,t);return i!==Yt&&(e.state=null),i},$t=!0,en=function(e){if($t){Gt=new Int32Array(512),Pt=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(zt(1,e.lens,0,288,Gt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;zt(2,e.lens,0,32,Pt,0,e.work,{bits:5}),$t=!1}e.lencode=Gt,e.lenbits=9,e.distcode=Pt,e.distbits=5},tn=function(e,t,n,i){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>i&&(r=i),o.window.set(t.subarray(n-i,n-i+r),o.wnext),(i-=r)?(o.window.set(t.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},nn={inflateReset:Jt,inflateReset2:Qt,inflateResetKeep:Kt,inflateInit:function(e){return qt(e,15)},inflateInit2:qt,inflate:function(e,t){var n,i,r,o,a,s,d,c,l,u,f,h,p,g,m,w,v,b,y,_,M,E,N,D,S=0,T=new Uint8Array(4),Z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Xt;(n=e.state).mode===Ft&&(n.mode=13),a=e.next_out,r=e.output,d=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,l=n.bits,u=s,f=d,E=Yt;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(2&n.wrap&&35615===c){n.check=0,T[0]=255&c,T[1]=c>>>8&255,n.check=ae(n.check,T,2,0),c=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Ut;break}if((15&c)!==Ct){e.msg="unknown compression method",n.mode=Ut;break}if(l-=4,M=8+(15&(c>>>=4)),0===n.wbits)n.wbits=M;else if(M>n.wbits){e.msg="invalid window size",n.mode=Ut;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:Ft,c=0,l=0;break;case 2:for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==Ct){e.msg="unknown compression method",n.mode=Ut;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Ut;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=ae(n.check,T,2,0)),c=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,n.check=ae(n.check,T,4,0)),c=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=ae(n.check,T,2,0)),c=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=ae(n.check,T,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((h=n.length)>s&&(h=s),h&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+h),M)),512&n.flags&&(n.check=ae(n.check,i,h,o)),s-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;h=0;do{M=i[o+h++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M))}while(M&&h<s);if(512&n.flags&&(n.check=ae(n.check,i,h,o)),s-=h,o+=h,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;h=0;do{M=i[o+h++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M))}while(M&&h<s);if(512&n.flags&&(n.check=ae(n.check,i,h,o)),s-=h,o+=h,M)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Ut;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ft;break;case 10:for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}e.adler=n.check=At(c),c=0,l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,Ht;e.adler=n.check=1,n.mode=Ft;case Ft:if(t===Bt||t===Ot)break e;case 13:if(n.last){c>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}switch(n.last=1&c,l-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(en(n),n.mode=20,t===Ot){c>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=Ut}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Ut;break}if(n.length=65535&c,c=0,l=0,n.mode=15,t===Ot)break e;case 15:n.mode=16;case 16:if(h=n.length){if(h>s&&(h=s),h>d&&(h=d),0===h)break e;r.set(i.subarray(o,o+h),a),s-=h,o+=h,d-=h,a+=h,n.length-=h;break}n.mode=Ft;break;case 17:for(;l<14;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Ut;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.lens[Z[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[Z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},E=zt(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,E){e.msg="invalid code lengths set",n.mode=Ut;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;w=(S=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,v=65535&S,!((m=S>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(v<16)c>>>=m,l-=m,n.lens[n.have++]=v;else{if(16===v){for(D=m+2;l<D;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c>>>=m,l-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=Ut;break}M=n.lens[n.have-1],h=3+(3&c),c>>>=2,l-=2}else if(17===v){for(D=m+3;l<D;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}l-=m,M=0,h=3+(7&(c>>>=m)),c>>>=3,l-=3}else{for(D=m+7;l<D;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}l-=m,M=0,h=11+(127&(c>>>=m)),c>>>=7,l-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Ut;break}for(;h--;)n.lens[n.have++]=M}}if(n.mode===Ut)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Ut;break}if(n.lenbits=9,N={bits:n.lenbits},E=zt(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,E){e.msg="invalid literal/lengths set",n.mode=Ut;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},E=zt(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,E){e.msg="invalid distances set",n.mode=Ut;break}if(n.mode=20,t===Ot)break e;case 20:n.mode=21;case 21:if(s>=6&&d>=258){e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,Dt(e,f),a=e.next_out,r=e.output,d=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,l=n.bits,n.mode===Ft&&(n.back=-1);break}for(n.back=0;w=(S=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,v=65535&S,!((m=S>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(w&&0==(240&w)){for(b=m,y=w,_=v;w=(S=n.lencode[_+((c&(1<<b+y)-1)>>b)])>>>16&255,v=65535&S,!(b+(m=S>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=b,l-=b,n.back+=b}if(c>>>=m,l-=m,n.back+=m,n.length=v,0===w){n.mode=26;break}if(32&w){n.back=-1,n.mode=Ft;break}if(64&w){e.msg="invalid literal/length code",n.mode=Ut;break}n.extra=15&w,n.mode=22;case 22:if(n.extra){for(D=n.extra;l<D;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;w=(S=n.distcode[c&(1<<n.distbits)-1])>>>16&255,v=65535&S,!((m=S>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(0==(240&w)){for(b=m,y=w,_=v;w=(S=n.distcode[_+((c&(1<<b+y)-1)>>b)])>>>16&255,v=65535&S,!(b+(m=S>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=b,l-=b,n.back+=b}if(c>>>=m,l-=m,n.back+=m,64&w){e.msg="invalid distance code",n.mode=Ut;break}n.offset=v,n.extra=15&w,n.mode=24;case 24:if(n.extra){for(D=n.extra;l<D;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Ut;break}n.mode=25;case 25:if(0===d)break e;if(h=f-d,n.offset>h){if((h=n.offset-h)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Ut;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),g=n.window}else g=r,p=a-n.offset,h=n.length;h>d&&(h=d),d-=h,n.length-=h;do{r[a++]=g[p++]}while(--h);0===n.length&&(n.mode=21);break;case 26:if(0===d)break e;r[a++]=n.length,d--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===s)break e;s--,c|=i[o++]<<l,l+=8}if(f-=d,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?ae(n.check,r,f,a-f):re(n.check,r,f,a-f)),f=d,(n.flags?c:At(c))!==n.check){e.msg="incorrect data check",n.mode=Ut;break}c=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Ut;break}c=0,l=0}n.mode=29;case 29:E=Rt;break e;case Ut:E=jt;break e;case 31:return Vt;default:return Xt}return e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,(n.wsize||f!==e.avail_out&&n.mode<Ut&&(n.mode<27||t!==It))&&tn(e,e.output,e.next_out,f-e.avail_out),u-=e.avail_in,f-=e.avail_out,e.total_in+=u,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?ae(n.check,r,f,e.next_out-f):re(n.check,r,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ft?128:0)+(20===n.mode||15===n.mode?256:0),(0===u&&0===f||t===It)&&E===Yt&&(E=Wt),E},inflateEnd:function(e){if(!e||!e.state)return Xt;var t=e.state;return t.window&&(t.window=null),e.state=null,Yt},inflateGetHeader:function(e,t){if(!e||!e.state)return Xt;var n=e.state;return 0==(2&n.wrap)?Xt:(n.head=t,t.done=!1,Yt)},inflateSetDictionary:function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?Xt:11===n.mode&&re(1,t,i,0)!==n.check?jt:tn(e,t,i,i)?(n.mode=31,Vt):(n.havedict=1,Yt):Xt},inflateInfo:"pako inflate (from Nodeca project)"};var rn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},on=Object.prototype.toString,an=de.Z_NO_FLUSH,sn=de.Z_FINISH,dn=de.Z_OK,cn=de.Z_STREAM_END,ln=de.Z_NEED_DICT,un=de.Z_STREAM_ERROR,fn=de.Z_DATA_ERROR,hn=de.Z_MEM_ERROR;function pn(e){this.options=it({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var n=nn.inflateInit2(this.strm,t.windowBits);if(n!==dn)throw new Error(se[n]);if(this.header=new rn,nn.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=dt(t.dictionary):"[object ArrayBuffer]"===on.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=nn.inflateSetDictionary(this.strm,t.dictionary))!==dn))throw new Error(se[n])}function gn(e,t){var n=new pn(t);if(n.push(e),n.err)throw n.msg||se[n.err];return n.result}pn.prototype.push=function(e,t){var n,i,r,o=this.strm,a=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(i=t===~~t?t:!0===t?sn:an,"[object ArrayBuffer]"===on.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(n=nn.inflate(o,i))===ln&&s&&((n=nn.inflateSetDictionary(o,s))===dn?n=nn.inflate(o,i):n===fn&&(n=ln));o.avail_in>0&&n===cn&&o.state.wrap>0&&0!==e[o.next_in];)nn.inflateReset(o),n=nn.inflate(o,i);switch(n){case un:case fn:case ln:case hn:return this.onEnd(n),this.ended=!0,!1}if(r=o.avail_out,o.next_out&&(0===o.avail_out||n===cn))if("string"===this.options.to){var d=lt(o.output,o.next_out),c=o.next_out-d,l=ct(o.output,d);o.next_out=c,o.avail_out=a-c,c&&o.output.set(o.output.subarray(d,d+c),0),this.onData(l)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(n!==dn||0!==r){if(n===cn)return n=nn.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},pn.prototype.onData=function(e){this.chunks.push(e)},pn.prototype.onEnd=function(e){e===dn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=rt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var mn={Inflate:pn,inflate:gn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,gn(e,t)},ungzip:gn,constants:de},wn={Deflate:Nt.Deflate,deflate:Nt.deflate,deflateRaw:Nt.deflateRaw,gzip:Nt.gzip,Inflate:mn.Inflate,inflate:mn.inflate,inflateRaw:mn.inflateRaw,ungzip:mn.ungzip,constants:de},vn=__webpack_require__(552),bn=new vn.Z({prefix:"utf8: "});const yn=function(e){try{if(window.TextEncoder)return new window.TextEncoder("utf-8").encode(e).buffer}catch(e){bn.debugf(null,"TextEncoder %o",e)}for(var t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},_n=function(e){try{if(window.TextDecoder)return new window.TextDecoder("utf-8").decode(new Uint8Array(e))}catch(e){bn.debugf(null,"TextDecoder %o",e)}for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return decodeURIComponent(escape(t))};function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nn=new function(){var e,t=b(8,10),n=window.location.href,i=a.Z.upoSettings.recoveryScriptVersion;try{e=window.__bt_intrnl.traceID}catch(t){e=""}var r=function(t,n){""==t&&(t="/");var r=t,o="?";(n=n||{}).upapi=["true"],n.tid=[e],n.cv=[i];for(var a=Object.keys(n),s=0;s<a.length;s++)for(var d=a[s],c=n[d],l=0;l<c.length;l++){var u=c[l];r+=o+encodeURIComponent(d)+"="+encodeURIComponent(u),o="&"}return r};this.sendLog=function(e){var t=a.Z.SharedObject.getItem("websiteConfig")||{},i=t.organizationID,o=t.websiteID,s={event:e.event,severity:e.severity,error:e.error&&{name:e.error.name,stack:e.error.stack,sourceFilename:e.error.sourceFilename},message:e.message,columnNumber:e.columnNumber,lineNumber:e.lineNumber,filename:e.filename,module:e.module,orgID:i,websiteID:o,meta:En(En({},e.meta||{}),{},{pageURL:n})},d={method:"POST",url:r("/log"),body:yn(JSON.stringify(s))};return m.$fetch(d)},this.testCompliance=function(e){return new Promise((function(n,i){var o={};o.pid=[t],o.nr=["2"];var a=e,s=r("/tc",o),d=JSON.stringify(e);try{d&&d.length>=2048&&window.localStorage&&!window.localStorage.updebug?(a=wn.deflate(d).buffer,o.z=[1],s=r("/tc",o)):a=yn(d)}catch(e){a=yn(d)}var c={method:"POST",url:s,body:a};m.$fetch(c).then((function(e){var t=JSON.parse(_n(e.body)),i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]={status:t[r].status,id:t[r].id,backup:t[r].backup});n(i)}),(function(e){i(new Error)}))}))},this.reportAuctionStarted=function(e,i,o,a,c,l,u){var f={};f.pid=[t],f.nr=["1"];var h={};h.websiteID=c,h.orgID=l,h.auctionID=e,h.spaceExternalID=i,h.spaceName=o,h.bids=s.Z.map(a,(function(e){return{bidderExternalID:e.bidderId,provider:e.provider}})),h.refreshDepth=u,h.pageURL=n,d.Y.fireEvent("auctionStartChangeRequestData",{query:f,body:h});var p={method:"POST",url:r("/as",f),body:yn(JSON.stringify(h))};return m.$fetch(p)},this.reportAuctionEnd=function(e,i,o,a,s,c,l,u,f){var h={};h.pid=[t],h.seid=[l],h.nr=["1"],c.websiteID=a,c.orgID=s,c.auctionID=e,c.spaceExternalID=i,c.spaceName=o,c.dfpAdUnit=l,c.adUnitCode=l,c.gamEnabled=u,c.refreshDepth=f,c.pageURL=n,d.Y.fireEvent("auctionEndChangeRequestData",{query:h,body:c});var p={method:"POST",url:r("/ae",h),body:yn(JSON.stringify(c))};return m.$fetch(p)},this.reportRender=function(e,t,i,o,a,s,d,c,l,u){var f={nr:["1"]},h={};h.websiteID=c,h.orgID=l,h.auctionID=e,h.spaceExternalID=s,h.spaceName=d,h.bidderExternalID=t,h.provider=i,h.refreshDepth=u,h.pageURL=n,h.amount=o,h.currency=a;var p={method:"POST",url:r("/r",f),body:yn(JSON.stringify(h))};return m.$fetch(p)},this.reportView=function(e,t,i,o,a,s,d,c){var l={nr:["1"]},u={};u.websiteID=s,u.orgID=d,u.auctionID=e,u.spaceExternalID=o,u.spaceName=a,u.bidderExternalID=t,u.provider=i,u.refreshDepth=c,u.pageURL=n;var f={method:"POST",url:r("/v",l),body:yn(JSON.stringify(u))};return m.$fetch(f)},this.consentData=function(e){var o={},s={},d={consents:{}},c=e.tcData,u=e.error,f=a.Z.SharedObject.getItem("websiteConfig")||{},h=f.organizationID,p=f.websiteID;h&&(o.organizationID=parseInt(h)),p&&(o.websiteID=parseInt(p)),o.pageID=t,o.clientVersion=i,c?(s.cmpVersion=c.cmpVersion,s.gdprApplies=c.gdprApplies,s.tcfPolicyVersion=c.tcfPolicyVersion,s.tcString=c.tcString,c.gdprApplies&&(s.purpose=c.purpose,[10,13,25,28,32,52,69,76,91,755].forEach((function(e){return d.consents[e]=c.vendor.consents[e]})),s.vendor=d)):(s.gdprApplies=null,s.error=l.Z.commonUtils.truncateString(u.message,1024)),o.tcData=s,o.pageURL=n;var g={method:"POST",url:r("/ce"),body:yn(JSON.stringify(o))};return m.$fetch(g)}},Dn=new vn.Z({prefix:"report: "}),Sn=new function(){this.init=function(){var e=a.Z.SharedObject.getItem("websiteConfig");d.Y.addEventListener("FirePublisherEvent",(function(e){var t=e.data,n=t.eventName,i=t.payload||{bubbles:!1,cancelable:!1,detail:void 0};if(window.CustomEvent)try{var r=new window.CustomEvent(n,i);return void window.dispatchEvent(r)}catch(e){var o=document.createEvent("CustomEvent");return o.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),void window.dispatchEvent(o)}var a=document.createEvent("CustomEvent");a.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),window.dispatchEvent(a)})),d.Y.addEventListener("sendLog",(function(e){var t=e.data;Nn.sendLog(t).then((function(e){Dn.infof(null,"sendLog - %o",e)}),(function(e){Dn.errorf(null,"sendLog - %o",e)}))})),d.Y.addEventListener("onAuctionStarted",(function(t){var n=t.data.auction,i=n.auctionId,r=n.unit.space.id,o=n.unit.space.name,a=[],d=n.unit.space.preBiddingSettings&&n.unit.space.preBiddingSettings.biddingSettings,c=n.unit.space.postBiddingSettings;if(d)for(var l in d)if(l=parseInt(l),d.hasOwnProperty(l)){var u=d[l];s.Z.forEach(u,(function(e){a.push({bidderId:e.id,provider:e.name})}))}c&&(c.adxId&&a.push({bidderId:c.adxId,provider:"gad"}),c.directId&&a.push({bidderId:c.directId,provider:"direct"})),Nn.reportAuctionStarted(i,r,o,a,e.websiteID,e.organizationID,n.unit.countOfDispatches-1).then((function(e){Dn.infof(null,"onAuctionStarted - %o",e)}),(function(e){Dn.errorf(null,"onAuctionStarted - %o",e)}))})),d.Y.addEventListener("onAuctionEnded",(function(t){var n=t.data,i=n.auction,r=n.bid,o=i.bids,s=i.unit.space.name,c=d.Y.fireEvent("getDefaultCreative",{auction:i}),l="default-creative"===r.bidder&&c.disableAuctionEventLogging;try{if(e.dfpEnabled)for(var u=window.googletag.pubads().getSlots(),f=0;f<u.length;f++){var h=u[f],p=h.getSlotElementId();if(document.getElementById(p)==i.unit.element){s=h.getAdUnitPath().split("/")[h.getAdUnitPath().split("/").length-1];break}}}catch(e){Dn.errorf(null,"onAuctionEnded: %o",e)}for(var g={bids:[],aliens:[],win:void 0},m=0;m<o.length;m++){var w=o[m],v={bid:{cpm:w.cpm,bidderCode:w.bidderCode,complianceStatus:w.complianceStatus}},b=d.Y.fireEvent("bidCpmAdjustment",v)||1,y=w.cpm/1e3*b,_=d.Y.fireEvent("prebidTimeout")||3e3,M={bidderExternalID:w.bidderId,provider:w.bidderCode,amount:y,complianceStatus:w.complianceStatus,timeout:_,latency:w.timeToRespond,requestStatus:"OK",creativeID:w.contentIdHash,adUnit:s,adSize:String(w.width)+"x"+String(w.height),adID:w.adId,currency:w.currency};if(w!=r)switch(M.complianceStatus){case a.Z.consts.complianceStatus.COMPLIANT:case a.Z.consts.complianceStatus.INCOMPLIANT:g.bids.push(M);break;default:g.aliens.push(M)}else g.win=M}if(l){g.win.provider=c.providerName||"default-creative";var E={sendToServer:!0,event:"adRecover Backfill",meta:{adUnitCode:s,aliens:g.aliens,auctionID:i.auctionId,bids:g.bids,dfpAdUnit:s,gamEnabled:e.dfpEnabled,orgID:e.organizationID,pageURL:window.location.href,refreshDepth:i.unit.countOfDispatches-1,spaceExternalID:i.unit.space.id,spaceName:i.unit.space.name,websiteID:e.websiteID,win:g.win}};Dn.infof(null,"adRecover Backfill, auction ID -> ",i.auctionId||"N/A",E)}else Nn.reportAuctionEnd(i.auctionId,i.unit.space.id,i.unit.space.name,e.websiteID,e.organizationID,g,s,e.dfpEnabled,i.unit.countOfDispatches-1).then((function(e){Dn.infof(null,"onAuctionEnded - %o",e)}),(function(e){Dn.errorf(null,"onAuctionEnded - %o",e)}))})),d.Y.addEventListener("onAuctionRendered",(function(t){var n=t.data,i=n.auction,r=n.bid,o=d.Y.fireEvent("getDefaultCreative",{auction:i});if(!("default-creative"===r.bidder&&o.disableAuctionEventLogging)){var a={bid:{cpm:r.cpm,bidderCode:r.bidderCode,complianceStatus:r.complianceStatus}},s=d.Y.fireEvent("bidCpmAdjustment",a)||1,c=r.cpm/1e3*s;Nn.reportRender(i.auctionId,r.bidderId,r.bidderCode,c,r.currency,i.unit.space.id,i.unit.space.name,e.websiteID,e.organizationID,i.unit.countOfDispatches-1).then((function(e){Dn.infof(null,"onAuctionRendered - %o",e)}),(function(e){Dn.errorf(null,"onAuctionRendered - %o",e)}))}})),d.Y.addEventListener("onAdViewed",(function(t){var n=t.data,i=n.auction,r=n.bid,o=d.Y.fireEvent("getDefaultCreative",{auction:i});"default-creative"===r.bidder&&o.disableAuctionEventLogging||Nn.reportView(i.auctionId,r.bidderId,r.bidderCode,i.unit.space.id,i.unit.space.name,e.websiteID,e.organizationID,i.unit.countOfDispatches-1).then((function(e){Dn.infof(null,"onAdViewed - %o",e)}),(function(e){Dn.errorf(null,"onAdViewed - %o",e)}))}))},d.Y.addEventListener("consentData",(function(e){var t=e.data;Nn.consentData(t).then((function(e){Dn.infof(null,"consentData - %o",e)}),(function(e){Dn.errorf(null,"consentData - %o",e)}))}))},Tn=new vn.Z({prefix:"verifications: "});const Zn={Report:Sn,Verifications:new function(){this.run=function(){n(),e()};var e=function(){d.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var t=d.Y.fireEvent("acceptableAbTest");if(t){var n="//static.criteo.net/images/pixel.gif?ch=1&upapi=true";t&&(n=t.src);var i=new Image;i.addEventListener("load",(function(){t.callback(!0)}),!1),i.addEventListener("error",(function(){t.callback(!1)}),!1),i.src=n}}))},t=!1,n=function(){d.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var n=e.data;n.contentRestriction&&n.acceptableAds&&(window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.pbjs.que.push((function(){window.pbjs.onEvent("bidResponse",(function(e){if(!t&&e&&e.length>0)for(var n=0;n<e.length;n++)if(e[n].cpm>0&&"emx_digital"!==e[n].bidder&&"districtmDMX"!==e[n].bidder){t=!0,d.Y.fireEvent("disableStopFlag")||(window.__bt_intrnl.stopFlag=!0);var i=a.Z.SharedObject.getItem("renderedUnits"),r={adBlockDetectionType:a.Z.SharedObject.getItem("adBlockDetectionType"),stopedProcess:!i||0==i.length},o={sendToServer:!0,event:"pbjsDetected",meta:r};Tn.noticef(null,"pub's pbjs was detected -> ",r,o)}if(e){var s={cpm:e.cpm?e.cpm:0,creativeLength:e.ad?e.ad.length:0,bidderCode:e.bidderCode||"",adUnitCode:e.adUnitCode||""},c={sendToServer:!0,event:"pbjsBidReceived",meta:s};Tn.noticef(null,"pub's pbjs bid was received -> ",s,c)}}))})))}))}}};var kn=function(e){switch(e){case"ALL":return a.Z.consts.refreshType.ALL;case"VISIBLE":return a.Z.consts.refreshType.VISIBLE;case"HIDDEN":return a.Z.consts.refreshType.HIDDEN;default:return a.Z.consts.refreshType.UNKNOWN}};function xn(e){return e&&e.selector?l.Z.commonUtils.getElementWithSelector(e.selector.value):null}var zn=new vn.Z({prefix:"moveElementPosition: "}),In=new function(){var e=[],t=[];this.setMovePositionRules=function(t){e=t||[]},this.dispatch=function(i){try{if(!e||e.length<=0)return;if(!(i=s.Z.filter(i,(function(e){return t.indexOf(e)<0})))||i.length<=0)return;!function r(o,a){if(!(o>a)){for(var d=0;d<i.length;d++){for(var c=i[d],l=[],u=0;u<e.length;u++){var f=e[u];n(f,{space:c})&&(t.push(c),f.stayLive||l.push(f))}e=l.length>0?s.Z.filter(e,(function(e){return l.indexOf(e)<0})):e}e.length>0&&setTimeout((function(){r(o+1,a)}),100)}}(0,20)}catch(e){zn.errorf(null,"error in `movePositionService` `dispatch` function: %o",e)}};var n=function(e,t){var n=e.elementToMove(t),i=e.relativeElement(t);return!(!n||!i||n.__upo_moved)&&(l.Z.ElementInsertion.insertElement(n,i,e.htmlElementInsertionType),n.__upo_moved=!0,!0)}},Bn=__webpack_require__(17),On=__webpack_require__(143),Yn=new vn.Z({prefix:"whitelistingIFrame: "});var Rn="BT_WHITELISTING_IFRAME_ACCESS";function Hn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On.Im.whitelistingIFrameSettings.publisherDomainWhitelistingIFrameCandidatesSrcs,n=d.Y.fireEvent("customWhitelistingIFrameURL"),i=d.Y.fireEvent("keepBTDomainWhitelistingIFrame");return(e=n?Promise.resolve(n):i?Promise.resolve(null):Xn(t,0)).then((function(e){On.Im.whitelistingIFrameSettings.url=e||On.Im.whitelistingIFrameSettings.url,On.Im.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame=!e})),e}function Xn(e,t){return e[t]?new Promise((function(n){var i=l.Z.addAcceptableParam(e[t]),r=new window.XMLHttpRequest;r.open("GET",i),r.addEventListener("load",(function(o){try{if(!r.status.toString().startsWith("4")&&r.responseURL==="".concat(window.location.origin).concat(i)&&function(e){var t=e.getResponseHeader("x-frame-options");if(t&&"deny"===t.toLowerCase())return!1;var n=e.getResponseHeader("content-security-policy"),i=n&&n.split(","),r=i&&i.find((function(e){return e.startsWith("frame-ancestors")}))&&r.split(" ");return!(r&&!r.some((function(e){return e===window.location.origin})))}(r))return void function(e){try{var t=localStorage.getItem(Rn);if((t=t&&JSON.parse(t))&&void 0!==t.canAccess&&t.expiration&&t.url&&t.version&&Date.now()<t.expiration&&t.url===e&&"1"===t.version)return Promise.resolve(t.canAccess)}catch(e){Yn.noticef(null,"whitelisting flawed cached value structure")}return new Promise((function(t){var n=document.createElement("iframe");n.src=e,n.addEventListener("load",(function i(){n.removeEventListener("load",i);var r=!1;n.contentDocument&&(r=!0),t(r);var o={canAccess:r,url:e,expiration:Date.now()+6048e5,version:"1"};localStorage.setItem(Rn,JSON.stringify(o)),n.parentElement.removeChild(n)})),n.style.setProperty("visibility","hidden"),document.body.appendChild(n)}))}(i).then((function(e){n(e?i:null)}));Xn(e,t+1).then((function(e){return n(e)}))}catch(i){Xn(e,t+1).then((function(e){return n(e)}))}})),r.addEventListener("error",(function(i){Xn(e,t+1).then((function(e){return n(e)}))})),r.send()})):Promise.resolve(null)}var jn=function(){var e=On.Im.whitelistingIFrameSettings.url,t=document.createElement("iframe");return t.addEventListener("load",(function t(){if(this.removeEventListener("load",t),On.Im.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame||this.contentDocument||(On.Im.whitelistingIFrameSettings.url=On.VP,On.Im.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame=On.k$,localStorage.removeItem(Rn),this.src=On.Im.whitelistingIFrameSettings.url),e.includes("about:blank"))try{!function(e){var t=e.contentWindow,n=function(e){return 0===e.indexOf("//")&&(e=l.Z.commonUtils.getTopmostAccessibleWindow().location.protocol+e),e},i=function(e,t){if(e&&""===e.src&&e.outerHTML){var i=new RegExp(t+'="([^"]+)"',"g").exec(e.outerHTML);i&&i[1]&&(e[t]=n(i[1]))}},r=t.XMLHttpRequest.prototype.open;t.XMLHttpRequest.prototype.open=function(){try{var e=Array.prototype.slice.call(arguments);e[1]=n(e[1])}catch(e){Yn.errorf(null,"error in XHRHttpRequest.open hook: %o",e)}return r.apply(this,e)};var o=t.open;t.open=function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){Yn.errorf(null,"error in `window.open` hook: %o",e)}return o.apply(this,e)};var a=function(e){return function(){try{var t=Array.prototype.slice.call(arguments);["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&i(t[0],"src"),"LINK"===t[0].tagName&&i(t[0],"href")}catch(e){Yn.errorf(null,"error in `hookOnFunc`: %o",e)}return e.apply(this,t)}},s=t.HTMLElement.prototype.insertBefore;t.HTMLElement.prototype.insertBefore=a(s);var d=t.HTMLElement.prototype.appendChild;t.HTMLElement.prototype.appendChild=a(d);var c=t.HTMLElement.prototype.__lookupGetter__("innerHTML"),u=t.HTMLElement.prototype.__lookupSetter__("innerHTML");t.HTMLElement.prototype.__defineSetter__("innerHTML",(function(){try{var e=Array.prototype.slice.call(arguments),t=u.apply(this,e),n=this.firstChild;i(n,"src")}catch(e){Yn.errorf(null,'error in HTMLElement "innerHTML" property setter hook: %o',e)}return t})),t.HTMLElement.prototype.__defineGetter__("innerHTML",(function(){try{return c.apply(this)}catch(e){Yn.errorf(null,'error in HTMLElement "innerHTML" property getter hook: %o',e)}}));for(var f=Bn.v.htmlElements,h=0;h<f.length;h++)t[f[h]]&&function(e){var t=e.prototype,i="src",r=t.__lookupGetter__(i),o=t.__lookupSetter__(i);r&&(t.__defineSetter__(i,(function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){Yn.errorf(null,'error in <html> "src" attribute setter hook: %o',e)}return o.apply(this,e)})),t.__defineGetter__(i,(function(){try{return r.apply(this)}catch(e){Yn.errorf(null,'error in <html> "src" attribute getter hook: %o',e)}})))}(t[f[h]])}(this)}catch(e){Yn.errorf(null,"error calling `addAboutBlankHooks` in `createWhitelistingIFrame`: %o",e)}})),t.src=e,t};const Vn={commonBLUtils:e,movePositionService:In,whitelistingIFrame:t};var Wn=new vn.Z({prefix:"auction: "}),Cn=function e(t){var n=!1,i=new l.Z.SubscriptionLayer;this.auctionId=b(8,9),this.unit=t.unit,this.state=e.States.UNOFFERED,this.creationTime=new Date,this.lastUpdate=this.creationTime,this.bids=[],this.subscribeForEvent=function(e,t){i.subscribeForEvent(e,t)},this.cancelAuction=function(){n=!0,r(this)},this.getWinningBid=function(){for(var e=void 0,t=0;t<this.bids.length;t++){var n=this.bids[t];(!e||n.cpm>e.cpm)&&n.complianceStatus===a.Z.consts.complianceStatus.COMPLIANT&&(e=n)}return e},this.addBids=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this.bids.push(n)}};this.getComplianceBids=function(){for(var e=[],t=0;t<this.bids.length;t++){var n=this.bids[t];n.complianceStatus===a.Z.consts.complianceStatus.COMPLIANT&&e.push(n)}return e},this.renderWinningBid=function(){var e=this.getWinningBid();this.renderBid(e)};var r=function(e){e.bids.forEach((function(e){e.cancelBid()}))};function o(e){return new Promise((function(t,n){window.setTimeout((function(){try{e&&"none"===window.getComputedStyle(e).display&&e.style.setProperty("display","block","important"),t()}catch(e){n(e)}}),1e3)}))}this.renderBid=function(t){try{if(d.Y.fireEvent("renderBidInElementStarted",{element:this.unit&&this.unit.element}),this.state=e.States.DONE,function(){if(!document.getElementById("bt-render-styles")){var e=document.createElement("style");e.id="bt-render-styles",e.type="text/css",e.textContent=".up-hide { display: none !important; }",e.textContent+='.ahover + [id^="google_ads_iframe_"] { width: 1px !important; height:1px !important; display: grid !important; }',(document.head||document.body||document.documentElement).appendChild(e)}}(),function(e,t){for(var n=0;n<e.bids.length;n++){var i=e.bids[n];i!==t&&i.cancelBid()}}(this,t),!t||n||!l.Z.commonUtils.isElementInBody(this.unit.element))return this.unit.currentBid||(f=this.unit,s.Z.addClass("up-hide",f.element),s.Z.removeClass("up-show",f.element)),t&&t.cancelBid(),void i.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!1});this.unit.cleanup(),c(this.unit.element),function(e,t){s.Z.addClass("up-show",e.element),s.Z.removeClass("up-hide",e.element)}(this.unit),this.unit.element._adData_=t,t.onRenderedEvent(function(){var e=this;!function(e,t,n){var i=e.querySelector(".default-creative-container")||e.querySelector(".ahover")||e.querySelector('[id^="google_ads_iframe_"]');i.style.position||i.style.setProperty("position","relative");if(i.style.setProperty("width","max-content","important"),["sharethrough","triplelift"].indexOf(t.bidderCode)>=0){var r=t.width,o=function(e){var t=e.sizes,n=0;return s.Z.forEach(t,(function(e){var t=e.split("x")[0];(t=parseInt(t))>n&&(n=t)})),n}(n);(r>o||r<120)&&(r=o),i.style.setProperty("max-width",r+"px","important")}i.style.setProperty("z-index",0),i.style.setProperty("margin","0 auto"),i.style.setProperty("display","block")}(this.unit.element,t,this.unit.space),function(e){if(d.Y.fireEvent("omitBTAdLabel",{unit:e}))return;var t=e.element,n=t.querySelector(".default-creative-container")||t.querySelector(".ahover")||t.querySelector('[id^="google_ads_iframe_"]'),i="upo-label",r=!(!n||!n.querySelector(".".concat(i)));if(!n||r)return;var o=function(e){var t=document.createElement("div");return t.className=e,t.setAttribute("style","text-align:left;padding:0px;margin:0px;position:absolute;top:0;left:0;z-index:10000;transition:opacity 1s ease-out;opacity:0;"),window.setTimeout((function(){t.style.opacity="1"}),2e3),t.innerHTML='<span style="display:block;background:rgba(255, 255, 255, 0.7);height:fit-content;width:fit-content;top:0;left:0;color:#444;font-size:10px;font-weight:bold;font-family:sans-serif;line-height:normal;text-decoration:none;margin:0px;padding:6px;border-radius:0 0 5px 0;">&#65;&#68;</span>',t}(i);n.appendChild(o),e.adLabelElement=o}(this.unit),function(e){return new Promise((function(t,n){try{if(d.Y.fireEvent("skipEnsureElementVisibility",{unit:e}))t();else{var i=e.element;i.classList.contains("up-show")||i.classList.add("up-show"),Promise.all([o(i),o(i.parentElement),o(i.parentElement.parentElement)]).then(t).catch(n)}}catch(e){n(e)}}))}(this.unit).then((function(){!function(e){if(0===e.offsetWidth&&0===e.offsetHeight){var t={sendToServer:!0,sendPercentage:1,event:"ad-unit-hidden-by-css",meta:{elementId:e.id||"N/A"}};Wn.infof(null,"detectAndLogHiddenAdUnit, element ID -> ",e.id||"N/A",t)}}(e.unit.element)})).catch((function(e){Wn.errorf(null,"bid.onRenderedEvent: ensureElementVisibility/detectAndLogHiddenAdUnit: %o",e)})),i.invokeEventCallbacks("auctionRendered",t),this.unit.rendered(t),a.Z.SharedObject.getItem("renderedUnits")||a.Z.SharedObject.setItem("renderedUnits",[]),a.Z.SharedObject.getItem("renderedUnits").push(this.unit)}.bind(this));var r={placement:this.unit.element},u=t.additionalBidsToRender&&t.additionalBidsToRender.length>0&&t.additionalBidsToRender[0];u?(u.onRenderedEvent((function(){return t.renderBid(r)})),u.renderBid()):t.renderBid(r),i.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!0})}catch(e){Wn.errorf(null,"renderBid err:%o",e)}var f};var c=function(e){e.style.removeProperty("background-image"),e.style.removeProperty("background-repeat")}};Cn.States={UNOFFERED:0,DISPATCHED:1,DONE:3};var Fn=function e(t,n,i,r,o,a,s,d){this.bidId=b(16,24),this.ad=t.ad,this.adId=t.adId,this.adUrl=t.adUrl,this.bidderId=t.bidderId,this.bidder=t.bidder,this.bidderCode=t.bidderCode,this.contentIdHash=t.contentIdHash,this.currency=t.currency,this.creativeId=t.creativeId,this.c=t.c,this.cpm=t.cpm,this.complianceStatus=t.complianceStatus||0,this.height=t.height,this.isBackupCreative=t.isBackupCreative,this.timeToRespond=t.timeToRespond,this.size=t.size,this.width=t.width,this.rawBid=n,this.type=i,this.status=e.Status.LIVE,this.additionalBidsToRender=[],this.renderBid=o,this.cancelBid=function(){this.status!==e.Status.CANCELED&&(this.status=e.Status.CANCELED,a&&a(),this.additionalBidsToRender.forEach((function(e){return e.cancelBid()})))},this.getGPTTargeting=function(e){return r&&r.call(this,e)},this.onRenderedEvent=s||function(){},this.makeEntryForTestCompliance=d||function(){}};function Un(e){for(var t=e.length,n=5381,i=52711;t--;){var r=e.charCodeAt(t);n=33*n^r,i=33*i^r}return 4096*(n>>>0)+(i>>>0)}Fn.Types={EMPTY:0,PREBID:1,RTK:2,ADX:3,ADX_TEXT:4,DFP_PREBID:5,ADSENSE:6,DIRECT:7,SMART_AS:8,DEFAULT_CREATIVE:9},Fn.Status={LIVE:0,CANCELED:1};var An=function e(t){this.unitID=b(16,24),this.element=t.element,this.space=t.space,this.state=t.state||e.States.PENDING,this.currentBid,this.countOfDispatches=0,this.countOfRenders=0,this.lastInvokeTime,this.cleanup=function(){for(var e=this.element.children,t=[],i=0;i<e.length;i++)t.push(n(e[i]));for(var r=0;r<t.length;r++)t[r]()},this.rendered=function(e){this.currentBid=e};var n=function(e){return function(){e&&e.parentNode&&e.parentNode.removeChild(e)}}};An.States={PENDING:0,CHECKING:1,DISPATCHED:2};const Ln={Auction:Cn,Bid:Fn,Space:function(e){if(this.id=e.id,this.name=e.name,this.staging=e.staging,this.deviceType=e.deviceType,this.selector={position:e.selector.position,value:e.selector.value},this.sizes=e.sizes,this.preBiddingSettings={enabled:!1},e.preBiddingSettings&&(this.preBiddingSettings={enabled:e.preBiddingSettings.enabled,biddingSettings:{}},e.preBiddingSettings.enabled&&e.preBiddingSettings.biddingSettings))for(var t in e.preBiddingSettings.biddingSettings)if(e.preBiddingSettings.biddingSettings.hasOwnProperty(t)){var n=e.preBiddingSettings.biddingSettings[t];this.preBiddingSettings.biddingSettings[t]=[];for(var i=0;i<n.length;i++){var r=n[i];if(r.id&&r.name&&r.params){var o={id:r.id,name:r.name,params:r.params};this.preBiddingSettings.biddingSettings[t].push(o)}}var a=d.Y.fireEvent("enableRelayAdapter",{spaceName:this.name});if(a&&parseInt(t)===Bn.v.headerBiddingType.prebid&&!this.preBiddingSettings.biddingSettings[t].find((function(e){return"relay"===e.name}))){var s="bidder_"+Un(this.id+"_relay_"+JSON.stringify(e).trim()),c={id:s=s.substr(0,500),name:"relay",params:a};this.preBiddingSettings.biddingSettings[t].push(c)}}if(this.postBiddingSettings={enabled:!1},e.postBiddingSettings&&e.postBiddingSettings.enabled){this.postBiddingSettings={adxId:e.postBiddingSettings.adxId,directId:e.postBiddingSettings.directId,enabled:e.postBiddingSettings.enabled,type:e.postBiddingSettings.type,order:[]};for(var l=0;l<e.postBiddingSettings.order.length;l++){var u=e.postBiddingSettings.order[l];d.Y.fireEvent("removeAdServerRequestIteration",{iterationConfig:u})||this.postBiddingSettings.order.push({params:{keyValues:u.params.keyValues||{},queryParams:u.params.queryParams||{}},adx:{bidderID:u.adx.bidderID,testCompliance:u.adx.testCompliance},direct:{bidderID:u.direct.bidderID}})}}},Unit:An};var Gn=new vn.Z({prefix:"adUnitParser: "});function Pn(e,t,n){var i=window.googletag.defineSlot(e,t,n);return i&&i.addService(window.googletag.pubads()),i}function Kn(e){if(e){var t=d.Y.fireEvent("rewriteGAMSlots")||d.Y.fireEvent("GAMSpecialAdUnit");if(t&&t.parseSlotAdUnitPath&&!e._is_rewritten_slot){var n=e.getSlotElementId(),i=e.getSizes();i=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i&&i.getWidth&&i.getHeight?t.push([i.getWidth(),i.getHeight()]):i&&"fluid"===i&&t.push("fluid")}return t}(i);try{var r=t.parseSlotAdUnitPath(e);if(t.shouldSkipDestroySlot&&t.shouldSkipDestroySlot(e,r)||function(e){var t=e.getSlotElementId();window.googletag.destroySlots([e]);var n=document.getElementById(t),i=n&&n.querySelector("div[id^='google_ads_iframe_']");n&&i&&n.removeChild(i)}(e),!r)return;var o=Pn(r,i,n);return o&&(o._is_rewritten_slot=!0,t.shouldCopyTargeting&&function(e,t){var n=e.getTargetingMap();for(var i in n)if(n.hasOwnProperty(i)){var r=n[i][0];t.setTargeting(i,r)}}(e,o),t.postSlotCreation&&t.postSlotCreation(o)),o}catch(e){Gn.errorf(null,"error redefining GAM slot (e.g. for SAU or BT AdX unit)",e)}}}}var Jn={hookName:"amazonBidderConfiguration",handler:function(e){var t=e.amazonConfig,n=void 0===t?{}:t,i=e.pubID,r=e.keepHbPb,o=void 0!==r&&r,a=n.amazonCPMCurrency,s=void 0===a?"USD":a,d=n.amazonCPMChart;return window.upo_amzn={amazonCPMCurrency:s,amazonCPMChart:d},{pubID:i,keepHbPb:o}}};function Qn(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qn=__webpack_require__(805);function $n(e){var t=qn.tq();switch(e){case"mobile":return t;case"desktop":return!t;default:return!0}}function ei(e){var t=e.string,n=e.condition,i=e.candidates,r=void 0===i?[]:i;if(1===r.length)switch(n){case"equals":case"equalsOneOf":return t===r[0];case"startsWith":case"endsWith":case"includes":return t[n](r[0]);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":var o=n.split("OneOf")[0];return t[o](r[0])}else if(r.length>1)switch(n){case"equalsOneOf":return r.includes(t);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":var a=n.split("OneOf")[0];return r.some((function(e){return t[a](e)}))}}function ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ii={hookName:"prebidDoneInit",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i;return e.websiteOverridesOrg?r:ni(ni({},n),r)},handler:function(e,t){var n=e,i=t.data.cpbjs;i.que.push((function(){i.setConfig(n)}))}};const ri={enableAmazon:Jn,enableLegacySizesReplacer:{hookName:"enableLegacySizesReplacer",handler:function(e){return e}},hideDOMElementsViaCSS:{parseSettingValue:function(e){var t=e.org,n=void 0===t?[]:t,i=e.website,r=void 0===i?[]:i;return e.websiteOverridesOrg?r:[].concat(Qn(n),Qn(r))},handler:function(e){var t=[];if(e.forEach((function(e){var n=e.whenDevice,i=e.selectors;$n(n)&&t.push.apply(t,Qn(i))})),t.length>0){var n=document.createElement("style");n.textContent="".concat(t.join(", ")," { display: none !important; }"),(document.head||document.body||document.documentElement).appendChild(n)}}},insertCustomCSS:{parseSettingValue:function(e){var t=e.org,n=void 0===t?[]:t,i=e.website,r=void 0===i?[]:i;return e.websiteOverridesOrg?r:[].concat(Qn(n),Qn(r))},handler:function(e){var t="";if(e.forEach((function(e){var n=e.whenDevice,i=e.customCSS,r=void 0===i?"":i;$n(n)&&(t="".concat(t,"\n").concat(r))})),""!==t){var n=document.createElement("style");n.textContent=t,(document.head||document.body||document.documentElement).appendChild(n)}}},prebidConfig:ii,removeSizes:{hookName:"sizesToRemoveBySpace",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i,o=e.websiteOverridesOrg,a=n.forAllSpaces,s=void 0===a?[]:a,d=n.forSpaces,c=void 0===d?[]:d,l=r.forAllSpaces,u=void 0===l?[]:l,f=r.forSpaces,h=void 0===f?[]:f;return{forAllSpaces:o?u:[].concat(Qn(s),Qn(u)),forSpaces:o?h:[].concat(Qn(c),Qn(h))}},handler:function(e,t){var n=e.forAllSpaces,i=e.forSpaces,a=t.data.spaceName,s=t.hookFileData||[],d=new Set(s);return n.forEach((function(e){var t=e.whenDevice,n=e.sizes,i=void 0===n?[]:n;$n(t)&&i.forEach((function(e){d.add(e)}))})),i.forEach((function(e){var t=e.name,n=e.nameList,i=e.whenName,r=e.whenDevice,o=e.sizes,s=void 0===o?[]:o;$n(r)&&ei({string:a,condition:i,candidates:t?[t]:n})&&s.forEach((function(e){d.add(e)}))})),Qn(d).map((function(e){if("fluid"===e)return"fluid";var t,n;if("string"==typeof e){var i=r(e.split("x").map((function(e){return parseInt(e,10)})),2);t=i[0],n=i[1]}else"object"===(0,o.Z)(e)&&(t=e.width,n=e.height);return isNaN(t)||isNaN(n)?null:{width:t,height:n}})).filter((function(e){return null!==e}))}},rewriteGAMSlots:{hookName:"rewriteGAMSlots",handler:function(e,t){var n,i=e.rewritePathMethod,r=e.rewritePathData;if("insertBTAdUnit"===i){var o=r||{},a=o.btUnitName,s=o.insertionDepth,d=o.maxDepth;s&&(n=function(e){var t=e.getAdUnitPath();"/"!==t[0]&&(t="/".concat(t));var n=a||"Blockthrough",i=t.split("/");return i.splice(s,0,n),d&&d>0&&(i=i.slice(0,d+1)),i.join("/")})}if(n)return{parseSlotAdUnitPath:n,shouldCopyTargeting:!0}}},scrapeGoogletagSlots:{hookName:"scrapeGoogletagSlots",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i;if(e.websiteOverridesOrg)return r;var o={},a=(n.filterOut||{}).slots,s=(r.filterOut||{}).slots;return(a||s)&&(o.filterOut={},o.filterOut.slots=a&&s?[].concat(Qn(a),Qn(s)):a||s),o},handler:function(e,t){var n=e.dontScrape,i=e.filterOut,r=t.data&&t.data.slot,o=!0;if(n||!r)o=!1;else{var a=i&&i.slots;if(a&&a.length>0)o=!a.some((function(e){var t=e.divId,n=e.divIdList,i=e.whenDivId;return $n(e.whenDevice)&&ei({string:r.getSlotElementId(),condition:i,candidates:t?[t]:n})}))}return o}},scrapePrebid:{hookName:"scrapePrebidAdUnits",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i;if(e.websiteOverridesOrg)return r;var o={};o.adUnitsVar=n.adUnitsVar||r.adUnitsVar;var a=(n.parse||{}).removeBidders,s=(r.parse||{}).removeBidders;(a||s)&&(o.parse={},o.parse.removeBidders=a&&s?{forAllAdUnits:[].concat(Qn(a.forAllAdUnits||[]),Qn(s.forAllAdUnits||[])),forAdUnits:[].concat(Qn(a.forAdUnits||[]),Qn(s.forAdUnits||[]))}:a||s);var d=(n.filterOut||{}).adUnits,c=(r.filterOut||{}).adUnits;return(d||c)&&(o.filterOut={},o.filterOut.adUnits=d&&c?[].concat(Qn(d),Qn(c)):d||c),o},handler:function(e,t){var n,i,r=e.dontScrape,o=e.adUnitsVar,a=e.parse,s=e.filterOut;if(r)n=!1;else{if(n=t.hookFileData||{},o&&(n.getAdUnits=function(){return l.Z.commonUtils.extractVariableFromString(window,o)}),a){var d=a.removeBidders?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.forAllAdUnits,n=void 0===t?[]:t,i=e.forAdUnits,r=void 0===i?[]:i;if(n.length>0||r.length>0)return function(e){var t=[];return n.forEach((function(e){var n=e.whenDevice,i=e.bidders,r=void 0===i?[]:i;$n(n)&&t.push.apply(t,r)})),r.forEach((function(n){var i=n.code,r=n.codeList,o=n.whenCode,a=n.whenDevice,s=n.bidders,d=void 0===s?[]:s,c=i?[i]:r;$n(a)&&ei({string:e.code,condition:o,candidates:c})&&t.push.apply(t,d)})),e.bids=e.bids.filter((function(e){var n=e.bidder;return!t.includes(n)})),e}}(a.removeBidders):null,c=n.parseAdUnit;d&&(n.parseAdUnit=c?function(e){return d(c(e))}:d)}if(s){var u=s.adUnits?(i=s.adUnits,function(e){return i.some((function(t){var n=t.code,i=t.codeList,r=t.whenCode;return $n(t.whenDevice)&&ei({string:e.code,condition:r,candidates:n?[n]:i})}))}):null,f=n.filterOutAdUnit;u&&(n.filterOutAdUnit=f?function(e){return f(e)||u(e)}:u)}}return n}}};var oi=new vn.Z({prefix:"scriptsettings: "}),ai=ri,si={"prebidConfig__org":{"_enabled":true,"value":{"enableSendAllBids":false,"syncsPerBidder":20}},"removeSizes__org":{"_enabled":true,"value":{"forAllSpaces":[{"sizes":["970x250"],"whenDevice":"any"}],"forSpaces":[]}},"scrapePrebid__org":{"_enabled":true,"value":{"adUnitsVar":"","filterOut":{},"parse":{"removeBidders":{"forAdUnits":[{"bidders":["gumgum"],"codeList":["_adhesion","_sticky"],"whenCode":"endsWithOneOf","whenDevice":"any"}]}}}}},di=Object.entries(si).reduce((function(e,t){var n=r(t,2),i=n[0],o=n[1];if(o._enabled)if(i.endsWith("__org")){var a=i.split("__org")[0];e[a]=e[a]||{},e[a].org=o.value}else if(i.endsWith("__website")){var s=i.split("__website")[0];e[s]=e[s]||{},e[s].websiteOverridesOrg=!!o._overrides_org,e[s].website=o.value}else e[i]=o.value;return e}),{});var ci={rawSettings:si,parsed:di},li=function(e){if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState)e();else{var t=!1;document.addEventListener("DOMContentLoaded",(function(){t||(t=!0,e())}),!1),window.addEventListener("load",(function(){t||(t=!0,e())}))}},ui=function(e){window.addEventListener("scroll",(function(t){e()}))},fi=new vn.Z({prefix:"Hooks: "}),hi=new function(){this.Types={XHR_OPEN_PRE:"xhropenpre",FETCH_PRE:"fetchpre",REMOVE_CHILD_PRE:"removechildpre",INSERT_BEFORE_PRE:"insertbeforepre",APPEND_CHILD_PRE:"appendchildpre",APPEND_CHILD_POST:"appendchildpost",IMG_SET_ATTRIBUTE_PRE:"imgsetattributepre",SET_ATTRIBUTE_PRE:"setattributepre",WIN_OPEN_PRE:"winopenpre",HTML_SRC_PROP_PRE:"htmlsrcproppre",HTML_ELEMENT_INNERHTML_PRE:"htmlelementinnerhtmlpre",HTML_ELEMENT_INNERHTML_POST:"htmlelementinnerhtmlpost",HTML_ELEMENT_HAS_CHILD_NODES_PRE:"htmlelementhaschildnodespre",HTML_ELEMENT_TEXTCONTENT_PRE:"htmlelementtextcontentpre"};var e=["xhrThwartOpen","fetchThwartOpen"];this.hookFunction=function(t,n,i,r,o){var a=t[n];a&&(t[n]=function(){var t=Array.prototype.slice.call(arguments);if(window.__bt_intrnl.stopFlag)return a.apply(this,t);if(i)try{var n=d.Y.fireEvent(i,t,this);if(null!=n)return n}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}var s=a.apply(this,t);if(r)try{d.Y.fireEvent(r,s,this)}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}return s})},this.hookPropertySetter=function(t,n,i,r,o){var a=t.__lookupGetter__(n),s=t.__lookupSetter__(n);a&&(t.__defineSetter__(n,(function(){var t=Array.prototype.slice.call(arguments);if(window.__bt_intrnl.stopFlag)return s.apply(this,t);if(i)try{var n=d.Y.fireEvent(i,t,this);if(null!=n)return n}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}var a=s.apply(this,t);if(r)try{d.Y.fireEvent(r,a,this)}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}return a})),t.__defineGetter__(n,(function(){try{return a.apply(this)}catch(e){fi.errorf(null,"error in `hookPropertySetter` object getter hook: %o",e)}})))},this.addEventListener=function(e,t){d.Y.addEventListener(e,t)}},pi=new vn.Z({prefix:"testCompliance: "}),gi=new function(){this.init=function(){d.Y.addEventListener("onAuctionGroupStarted",(function(e){pi.infof(null,"onAuctionGroupStarted: %o",e)})),d.Y.addEventListener("onAuctionGroupEnded",(function(e){pi.infof(null,"onAuctionGroupEnded: %o",e)})),d.Y.addEventListener("onAuctionStarted",(function(e){pi.infof(null,"onAuctionStarted: %o",e)})),d.Y.addEventListener("onAuctionEnded",(function(e){pi.infof(null,"onAuctionEnded: %o",e)})),d.Y.addEventListener("onPrebiddingStarted",(function(e){pi.infof(null,"onPrebiddingStarted: %o",e)})),d.Y.addEventListener("onPrebiddingEnded",(function(e){pi.infof(null,"onPrebiddingEnded: %o",e)})),d.Y.addEventListener("onPostbiddingStarted",(function(e){pi.infof(null,"onPostbiddingStarted: %o",e)})),d.Y.addEventListener("onPostbiddingEnded",(function(e){pi.infof(null,"onPostbiddingEnded: %o",e)})),d.Y.addEventListener("onAuctionBidResponse",(function(e){pi.infof(null,"onAuctionBidResponse: %o",e)})),d.Y.addEventListener("onNewUnitFound",(function(e){pi.infof(null,"onNewUnitFound: %o",e)}))}};function mi(e,t,n,i,r,o,a){try{var s=e[o](a),d=s.value}catch(e){return void n(e)}s.done?t(d):Promise.resolve(d).then(i,r)}function wi(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){mi(o,i,r,a,s,"next",e)}function s(e){mi(o,i,r,a,s,"throw",e)}a(void 0)}))}}var vi=__webpack_require__(757),bi=__webpack_require__.n(vi),yi=__webpack_require__(96),_i=__webpack_require__.n(yi),Mi=new function(){var e=[],t={},n={};this.set=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=i;Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++){var a=r[o],s=!a.deviceType||a.deviceType===qn.yC||a.deviceType===qn.l7();a&&s&&(e.push(a),t[a.name]=t[a.name]||[],t[a.name].push(a),n[a.id]=n[a.id]||[],n[a.id].push(a))}return e},this.getSpacesByName=function(e){return t[e]||[]},this.getSpacesByID=function(e){return n[e]||[]},this.getAll=function(){return e},this.remove=function(i){e=s.Z.filter(e,(function(e){return e!=i}));var r=n[i.id].indexOf(i);r>=0&&n[i.id].splice(r,1);var o=t[i.name].indexOf(i);o>=0&&t[i.name].splice(o,1)}};function Ei(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ni(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Di(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Si=new vn.Z({prefix:"visibility: "}),Ti=new Map,Zi=new Map;function ki(e){var t=e.getBoundingClientRect(),n=function(){var e,t,n=window,i=[];for(;n!==window.top;){var r,o=Ni((e=n.parent).document.getElementsByTagName("iframe"));try{for(o.s();!(r=o.n()).done;){var a=r.value;a.contentWindow===n&&(t=a.getBoundingClientRect(),i.push({x:t.x,y:t.y}))}}catch(e){o.e(e)}finally{o.f()}n=e}return i.reduce((function(e,t){return{x:e.x+t.x,y:e.y+t.y}}),{x:0,y:0})}();try{return window.top.document.hasFocus()&&t.top+t.height/2+n.y>0&&t.left+t.width/2+n.x>0&&t.top+t.height/2+n.y<(window.top.innerHeight||window.top.document.documentElement.clientHeight)&&t.left+t.width/2+n.x<(window.top.innerWidth||window.top.document.documentElement.clientWidth)}catch(e){Ri(e)}}function xi(e,t,n){return zi.apply(this,arguments)}function zi(){return(zi=wi(bi().mark((function e(t,n,i){var r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ii((function(){return ki(t)?{stopIterations:!1}:{stopIterations:!0}}),10,100);case 2:r=e.sent,l.Z.commonUtils.isElementInBody(t)||i(),r&&n();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ii(e,t,n){return Bi.apply(this,arguments)}function Bi(){return(Bi=wi(bi().mark((function e(t,n,i){var r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",!0);case 2:if(r=t(),!r.stopIterations){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e(Ii(t,n-1,i))}),i)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oi(){Ti.forEach((function(e,t){var n=r(e,2);xi(t,n[0],n[1])}))}try{window.top.addEventListener("scroll",(function(){Oi()})),window.top.addEventListener("focus",(function(){Oi()}))}catch(He){Ri(He)}function Yi(e){var t,n,i,r=e.selector,o=e.id,s=e.element;if(!s)try{if(r)s=document.querySelector(r);else{if(!o)throw new Error("No selector, id, or element provided.");s=document.getElementById(o)}if(!s)throw new Error("Could not find element on page with id/selector provided.")}catch(e){return Si.warningf(null,"getElementVisibility - selector: `%o`, id: `%o` - error: %o",[r,o,e]),a.Z.consts.elementVisibility.NOT_FOUND}"none"===window.getComputedStyle(s).display&&(n=s.style.getPropertyValue("display"),i=s.style.getPropertyPriority("display"),s.style.setProperty("display","block","important"),t=!0);var d,c=function(e){var t,n;if(e)return(n=e.getBoundingClientRect()).width||n.height?(t=document.documentElement,{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}):n}(s),l=document.documentElement.scrollLeft||window.scrollX,u=document.documentElement.scrollTop||window.scrollY,f=window.innerHeight,h=window.innerWidth,p=s.offsetHeight,g=s.offsetWidth;return d=c.left>=l&&c.top>=u&&g+c.left<=l+h&&p+c.top<=u+f||(c.left<=l&&c.left+g>l||c.left>=l&&c.left<=l+h)&&(c.top<=u&&c.top+p>u||c.top>=u&&c.top<=u+f)?a.Z.consts.elementVisibility.VISIBLE:a.Z.consts.elementVisibility.HIDDEN,t&&s.style.setProperty("display",n,i),d}function Ri(e){var t={sendToServer:!0,event:"noViewabilityFromCrossDomainIframe",sendPercentage:1,meta:{error:e}};Si.warningf(null,"noViewabilityFromCrossDomainIframe","N/A",t)}var Hi=new vn.Z({prefix:"prebidAdapter: "}),Xi=new function(){var e=!1,t={},n={},i=new l.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){i.subscribeForEvent(e,t)},this.dispatch=function(n){try{e||(e=!0,t=a.Z.cpbjs,v(),d.Y.fireEvent("wrapPrebidRequestBids")&&y());var o={};s.Z.forEach(n,(function(e){o[e.spaceName]={hbAdUnit:e,deferred:new s.Z.CDefer}}));var l=function(e){return e.map((function(e){var t=d.Y.fireEvent("snigelAdapterConfiguration",{spaceName:e.spaceName})||{},n=t.websiteStoredRequestId,i=t.adUnitStoredRequestId,r=c(e),o=[];e.biddersSettings.forEach((function(e){var t={bidder:e.name,params:e.params};o.push(t)}));var a={code:e.spaceName,bids:o,sizes:r,mediaTypes:{banner:{sizes:r}}};return n&&i&&(a.ortb2Imp={ext:{prebid:{storedrequest:{id:i}}}}),a}))}(n),u=d.Y.fireEvent("prebidTimeout")||3e3;r(),function(e,t){for(var n=function(n){var i=t.find((function(t){return t.code===e[n].spaceName})),r=[];i.bids.forEach((function(e){r.push(e.bidder)}));var o={sendToServer:!0,sendPercentage:5,event:"prebid-size-filtering",meta:{spaceName:e[n].spaceName,auctionId:e[n].auctionId,sizesBeforeFiltering:e[n].sizes,sizesAfterFiltering:i.sizes,biddersNames:r}};Hi.infof(null,"logAdUnitSizesPrebid, spaceName -> ",e[n].spaceName,o)},i=0;i<e.length;i++)n(i)}(n,l),t.requestBids({timeout:u,adUnits:l,bidsBackHandler:function(e){try{for(var t in o)if(o.hasOwnProperty(t)){var n=o[t],r=n.hbAdUnit;if(e){var a=e[t],d=[];if(a){var c=s.Z.find(l,(function(e){return e.code===t})).sizes;a.bids=h(a.bids,c),d=p(a.bids,n.hbAdUnit)}var u={auctionId:r.auctionId,bids:d};n.deferred.resolve(u),s.Z.forEach(d,(function(e){var t={auctionId:r.auctionId,bid:e};i.invokeEventCallbacks("bidReceived",t)}))}else{var f={auctionId:r.auctionId,bids:[]};n.deferred.resolve(f)}}}catch(e){Hi.errorf(null,"dispatch: bidsBackHandler: - %o",e)}}});var f=[];for(var g in o)if(o.hasOwnProperty(g)){var m=o[g];f.push(m.deferred.promise)}return f}catch(e){Hi.errorf(null,"dispatch: - %o",e)}};var r=function(){if(t.bidderSettings&&t.bidderSettings.standard&&t.bidderSettings.standard.adserverTargeting){var e=!!s.Z.find(t.bidderSettings.standard.adserverTargeting,(function(e){return"hb_pb_org"===e.key})),n=!!s.Z.find(t.bidderSettings.standard.adserverTargeting,(function(e){return"hb_pb"===e.key}));!e&&n&&t.bidderSettings.standard.adserverTargeting.push({key:"hb_pb_org",val:function(e){var n=t.getConfig().priceGranularity;return"auto"===n?e.pbAg:"dense"===n?e.pbDg:"low"===n?e.pbLg:"medium"===n?e.pbMg:"high"===n?e.pbHg:"custom"===n?e.pbCg:e.pbHg}})}},o=function(e){var t=e.split("x");if(2!==t.length)throw new Error;var n=parseInt(t[0]),i=parseInt(t[1]);if(isNaN(n)||isNaN(i))throw new Error;return{width:n,height:i}},c=function(e){for(var t=[],n=0;n<e.sizes.length;n++){var i=o(e.sizes[n]),r=i.width,a=i.height;t.push({width:r,height:a})}var c=d.Y.fireEvent("sizesToReplaceBySpace",{spaceName:e.spaceName});c&&(t=s.Z.map(t,(function(e){var t=s.Z.find(c,(function(t){return t.size.width===e.width&&t.size.height===e.height}));return t?{width:t.replacement.width,height:t.replacement.height}:e})));var u=googletag&&googletag.pubads&&googletag.pubads().getSlots()||[],f=e.element&&e.element.getAttribute("id")||e.spaceName,h=u.find((function(e){return e.getSlotElementId()===f})),p=d.Y.fireEvent("sizesToRemoveBySpace",{spaceName:e.spaceName,slot:h});p&&(t=s.Z.filter(t,(function(e){return!s.Z.find(p,(function(t){return t.width===e.width&&t.height===e.height}))})));var g=l.Z.sizesRemover(e.element,t);return g=s.Z.filter(g,(function(e){return!!e})),g=s.Z.map(g,(function(e){return[e.width,e.height]}))};var u=function(e,t){if(e.ad&&e.ad.indexOf(atob("c2VydmluZy1zeXMuY29t"))>-1&&e.ad.indexOf(atob("QnVyc3RpbmdQaXBlL2FkU2VydmVyLmJz"))>-1){var n=atob("PHNjcmlwdD53aW5kb3cuZWJDZmcgPSB7fTt3aW5kb3cuZWJDZmdfXyA9IHt9O3dpbmRvdy5fX2RlZmluZUdldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5lYkNmZ19fO30pO3dpbmRvdy5fX2RlZmluZVNldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7YS5hZEh0bWxQYXRoPScnO3JldHVybiB3aW5kb3cuZWJDZmdfXz1hO30pOzwvc2NyaXB0Pg==");e.ad.indexOf("<body>")>-1?e.ad=e.ad.replace("<body>",n):e.ad=n+e.ad}"amazon"===e.bidder&&(e=function(e){try{var t=JSON.parse(e.adTargeting);for(var n in t.amzniid=e.adId,t)e.adserverTargeting[n]=t[n];e.ad=e.adHtml;try{!a.Z.upoSettings.amazonBidderConfiguration.keepHbPb&&delete e.adserverTargeting.hb_pb}catch(e){Hi.errorf(null,"changeAmazonBid - deleting hb_pb - %o",e)}delete e.adUrl}catch(e){Hi.errorf(null,"changeAmazonBid - %o",e)}return e}(e)),e.bidder&&"smartadserver"===e.bidder&&(e.bidder="smart"),e.bidder&&("triplelift"===e.bidder&&e.ad.indexOf("render_options_bm")>-1||"sharethrough"===e.bidder)&&(e.width=f(t)),e.ad&&e.cpm&&e.ad.replace(/\$\{AUCTION_PRICE\}/g,e.cpm),e.ad&&e.currency&&e.ad.replace(/\$\{AUCTION_CURRENCY\}/g,e.currency)},f=function(e){for(var t=c(e),n=0,i=0;i<t.length;i++){var r=t[i][0];r>n&&(n=r)}return n};function h(e,t){return s.Z.filter(e,(function(e){return s.Z.find(t,(function(t){return e.width===t[0]&&e.height===t[1]}))}))}var p=function(e,i){var r=s.Z.map(e,(function(e){if(e.bidderId=g(e,i),e.bidderId){u(e,i),n[e.adId]=new s.Z.CDefer;var r={ad:e.ad,adId:e.adId,adUrl:e.adUrl,bidderId:e.bidderId,bidder:e.bidder,bidderCode:e.bidderCode,currency:e.currency,creativeId:w(e),cpm:e.cpm,complianceStatus:0,height:e.height,timeToRespond:e.timeToRespond,size:e.size,width:e.width},o=new Ln.Bid(r,e,Ln.Bid.Types.PREBID,(function(n){var i=n.complianceBidsInAuction.length>0?s.Z.map(n.complianceBidsInAuction,(function(e){return e.rawBid&&e.rawBid})):void 0,r=e.adUnitCode,o=t.getAdserverTargeting(r,i)[r];return""===o.hb_pb&&o.hb_pb_org&&(o.hb_pb=o.hb_pb_org),o=d.Y.fireEvent("customAdserverTargeting",{adServerTargeting:o})||o}),(function(e){try{b(this);var t=e.placement;_(t,this)}catch(e){Hi.errorf(null,"renderBid - %o",e)}}),void 0,function(e){this.renderedDeferred.promise.then((function(){e()}))}.bind({renderedDeferred:n[e.adId]}),(function(){return m(this)}));return o}Hi.errorf(null,"dispatch: bidsBackHandler: - No corresponding bidderSettings found in ad unit: %o for Prebid auction response bid: %o",[i,e])}));return s.Z.reject(r,l.Z.commonUtils.isNil)},g=function(e,t){var n=s.Z.find(t.biddersSettings,(function(t){return t.name===e.bidderCode}));return n?n.id:"s2s"===e.source?"s2s-".concat(e.bidderCode,"-").concat(e.adUnitCode):void 0},m=function(e){var t={bidderExternalID:e.bidderId,markup:e.ad,url:e.adUrl,hint:{provider:e.bidderCode,uid:e.creativeId},width:parseInt(e.width),height:parseInt(e.height)};if("152media"!==e.bidderCode&&"brealtime"!==e.bidderCode&&"districtm"!==e.bidderCode&&"defymedia"!==e.bidderCode&&"appnexusAst"!==e.bidderCode||(t.provider="appnexus"),"ix"===e.bidderCode&&(t.provider="indexExchange"),"underdogmedia"===e.bidderCode&&(t.hintID=t.hintID+"_"+e.width+"_"+e.height),"gumgum"===e.bidderCode&&e.creative&&(t.markup=e.creative),"komoona"===e.bidderCode)try{var n=0,i=JSON.parse(unescape(e.ad.split('"creative_data":"')[1].split('","')[0]));for(var r in i.hdbd_data.hbbids){var o=i.hdbd_data.hbbids[r];o.cpm>n&&(n=o.cpm,t.markup=o.creative_data.creative)}}catch(e){Hi.errorf(null,'innerMakeEntryForTestCompliance - handling "komoona" bid - %o',e)}return e.ad&&e.ad.indexOf("https://googleads.g.doubleclick.net/pagead/adfetch?client=ca-pub-")>-1&&(t.url="https://googleads.g.doubleclick.net/pagead/adfetch"+e.ad.split("https://googleads.g.doubleclick.net/pagead/adfetch")[1].split("&rfl=")[0],t.markup=""),t},w=function(e){return"komoona"===e.bidder||"criteo"===e.bidder||"consumable"===e.bidder?null:e.c?String(e.c):e.adid&&"0"!==e.adid?String(e.adid):e.crid&&"0"!==e.crid?String(e.crid):e.creativeId&&"0"!==e.creativeId?String(e.creativeId):e.creative_id&&"0"!==e.creative_id?String(e.creative_id):null},v=function(){t.onEvent("bidWon",(function(e){n[e.adId].resolve()}))},b=function(e){var t=e.rawBid;t&&t.bidder&&(d.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsRender",payload:{detail:t}}),d.Y.fireEvent("FirePublisherEvent",{eventName:"uponitRender",payload:{detail:t}}))},y=function(){var e=window.pbjs||window.jitaJS;if(e&&e.requestBids){var t=e.requestBids;e.requestBids=function(e){for(var n=[],r=e&&e.adUnits,o=0;o<r.length;o++)n.push(r[o].code);if(i.invokeEventCallbacks("refresh",n),!d.Y.fireEvent("skipOriginalRequestBidsFunction"))return t.apply(this,arguments)}}},_=function(e,n){var i=E(),r=i.container,o=i.iframe;o.addEventListener("load",(function e(){try{o.removeEventListener("load",e);var i=a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame;o.style.setProperty("visibility",""),i||(o.contentWindow.document.documentElement.innerHTML="<html><body></body></html>");var r=!i&&o.contentWindow.document,s=qn.Xh();"sharethrough"===n.bidder&&window.setTimeout((function(){for(var e=document.querySelectorAll(".str-thumbnail"),t=0;t<e.length;t++){var n=e[t].style.backgroundImage;!n||-1!==n.indexOf("upapi")||-1!==n.indexOf("criteo.net")||-1!==n.indexOf("imgix.net")&&-1!==n.indexOf(".gif")?n.indexOf("imgix.net")>-1&&n.indexOf(".gif")>-1&&(n.indexOf("?")>-1?e[t].style.backgroundImage=n.replace('")','&adunit=true")'):e[t].style.backgroundImage=n.replace('")','?adunit=true")')):n.indexOf("?")>-1?e[t].style.backgroundImage=n.replace('")','&upapi=true")'):e[t].style.backgroundImage=n.replace('")','?upapi=true")')}}),3e3),"edge"===s&&(n.rawBid.ad=n.rawBid.ad.replace(/\.html[?#]/,".html?upapi=true&"),n.rawBid.ad=n.rawBid.ad.replace(/\.html%23/,".html%23upapi=true%26"),window.setTimeout((function(){if(i){o.contentWindow.postMessage({type:"eval",code:"try { var styleSheets = document.styleSheets; for (var i = 0; i < styleSheets.length; i++) { if (styleSheets[i].cssText && styleSheets[i].cssText.indexOf(\"a[href^='http://ads2.williamhill.com/redirect.aspx?']\") > -1) { styleSheets[i].cssText = ''; } } } catch (e) { }"},"*")}else try{for(var e=r.styleSheets,t=0;t<e.length;t++)e[t].cssText&&e[t].cssText.indexOf("a[href^='http://ads2.williamhill.com/redirect.aspx?']")>-1&&(e[t].cssText="")}catch(e){Hi.errorf(null,"innerRenderBid - `onLoad` Edge browser patch - %o",e)}}),3e3)),window.setTimeout((function(){var e="edge"===s||"ie"===s;if(e||M(n,o,i),i){var a='window.parent.postMessage(JSON.stringify({ adId: "'+n.adId+'", message: "Prebid Request" }), "*");';o.contentWindow.postMessage({type:"eval",code:a},"*")}else t.renderAd(r,n.adId);e&&M(n,o,i)}),0),o.style.width=n.width+"px",o.style.height=n.height+"px"}catch(e){Hi.errorf(null,"renderBid - %o",e)}})),e.insertBefore(r,e.children[0])};function M(e,t,n){if(!1!==e.isBackupCreative)if(n)t.contentWindow.postMessage({type:"eval",code:a.Z.backupCreativeScriptForPostMessage},"*");else try{t.contentWindow.eval(atob(a.Z.backupCreativeScript))}catch(e){Hi.errorf(null,"evalBackupCreativeScript: - %o",e)}}var E=function(){var e=document.createElement("div");e.className="ahover";var t=Vn.whitelistingIFrame.createWhitelistingIFrame();return t.style.width="1px",t.style.height="1px",t.style.border="0px",t.setAttribute("marginwidth","0"),t.setAttribute("marginheight","0"),t.scrolling="no",e.appendChild(t),{container:e,iframe:t}}},ji=new function(){var e=!1,t=new l.Z.SubscriptionLayer;function n(e,t){if(e===ji.Types.PREBID)return Xi.dispatch(t)}this.subscribeForEvent=function(e,n){t.subscribeForEvent(e,n)},this.dispatch=function(i){e&&(e=!1),e=!0,Xi.subscribeForEvent("refresh",(function(e){t.invokeEventCallbacks("refresh",e)})),Xi.subscribeForEvent("bidReceived",(function(e){t.invokeEventCallbacks("bidReceived",e)}));var r=[],o={};for(var a in s.Z.forEach(i,(function(e){var t={hbAdUnit:e,promises:[]};r.push(t);var n=e.biddingSettings;for(var i in n)if(i=parseInt(i),n.hasOwnProperty(i)){var a=n[i];if(a&&a.length>0){o[i]=o[i]||[];var s={biddersSettings:a,auctionId:e.auctionId,spaceName:e.spaceName,sizes:e.sizes,selector:e.selector,element:e.element};o[i].push(s)}}})),o)if(a=parseInt(a),o.hasOwnProperty(a)){var d=o[a],c=n(a,d);s.Z.forEach(c,(function(e,t){s.Z.find(r,(function(e){return e.hbAdUnit.auctionId===d[t].auctionId})).promises.push(e)}))}return s.Z.map(r,(function(e){return Promise.all(e.promises).then((function(t){var n=s.Z.map(t,(function(e){return e.bids}));return{auctionId:e.hbAdUnit.auctionId,bids:s.Z.flat(n)}}))}))}};ji.Types={UNKNOWN:0,PREBID:1,RTK:2};var Vi=new vn.Z({prefix:"dfpAdapter: "}),Wi=new function(){var e=!1,t={},n={},i={},r=[],o=[],c=new l.Z.SubscriptionLayer,u={_height_:5,_width_:6,_empty_:7,_is_afc_:8,_fluid_:9,_creative_ids_:14,_adgroup2_ids_:15};this.init=function(){e||(e=!0,V())},this.dispatch=function(e){try{this.init();var r=[];return d.Y.fireEvent("onBeforeDfpRefreshDispatch"),d.Y.fireEvent("tryDisableGoogletagLazyLoad")&&f(),s.Z.forEach(e,(function(e){var i=new s.Z.CDefer;r.push(i.promise),t[e.slotElementId]={asAdUnit:e,deferred:i};var o=new s.Z.CDefer;n[e.slotElementId]=o})),window.googletag.cmd.push((function(){try{Vi.debugf(null,"onAdsRequestPrepareStarted");var t=window.googletag.pubads().getSlots(),n=[];s.Z.forEach(t,(function(t){s.Z.forEach(e,(function(e,r){var o=t.getSlotElementId();if(o===e.slotElementId){n.push(t);var a=b(16,24);if(i[a]=o,t.setTargeting("uponitSlotIterationId",a),d.Y.fireEvent("preTargetingSetting",{dfpSlot:t,ASAdUnit:e}),m(t,e.params.keyValuesParams.toRemove),t.__up_display||(t.__up_display=!0,window.googletag.display(e.slotElementId)),w(t,e.params.keyValuesParams.toAdd),window.uponit&&window.uponit.modifiers&&window.uponit.modifiers.dfpTargeting&&window.uponit.modifiers.dfpTargeting.length>0)try{for(var s=window.uponit.modifiers.dfpTargeting,c=0;c<s.length;c++){var l=t.getTargetingMap(),u={};for(var f in l)u[f]=l[f];var h=null;!e||null==e.floorPrice&&null==e.floorPrice||(h=e.floorPrice);var p=s[c](u,t,h);if(p)for(var g in p)l[g]&&l[g]===p[g]||t.setTargeting(g,p[g])}}catch(e){Vi.errorf(null,"dispatch: uponit-modifiers: %o",e)}t.setForceSafeFrame(!0),t.setCollapseEmptyDiv(!1)}}))})),Vi.debugf(null,"onAdsRequestSlotsPrepare - slots: %o",g(n)),h(n);var r=googletag.pubads().isSRA()&&(c=0,n.forEach((function(e){var t=e.getTargetingMap();Object.entries(t).forEach((function(e){var t=e[0]?e[0].length:0,n=e[1]&&e[1][0]?e[1][0].length:0;c+=t+n}))})),c>=6e3);if(d.Y.fireEvent("forceNotSingleRequestRefresh")||r)for(var o=function(){var e=n[a];setTimeout((function(){window.googletag.pubads().refresh([e],void 0,!0)}),0)},a=0;a<n.length;a++)o();else setTimeout((function(){window.googletag.pubads().refresh(n,void 0,!0)}),0)}catch(e){Vi.errorf(null,"dispatch: %o",e)}var c})),r}catch(e){Vi.criticalf(null,"google cmd function failed: %o",e)}};var f=function(){window.googletag.cmd.push((function(){window.googletag.pubads().enableLazyLoad({fetchMarginPercent:-1,renderMarginPercent:-1})}))},h=function(e){s.Z.forEach(e,(function(e){e.setTargeting("upstdfp",!0)}))},p=function(e){var t=[];try{for(var n=0;n<e.length;n++){var i=e[n];"fluid"===i?t.push(i):t.push([i.getWidth(),i.getHeight()])}}catch(e){Vi.errorf(null,"getNormalizedDfpSizes errored - %o",e)}return t},g=function(e){var t=[];try{for(var n=0;n<e.length;n++){var i=e[n];t.push({elementId:i.getSlotElementId(),dfpAdUnitPath:i.getAdUnitPath(),sizes:p(i.getSizes()),targetingMap:i.getTargetingMap()})}}catch(e){Vi.errorf(null,"getNormalizedDFPAdSlots errored - %o",e)}return t},m=function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],r=e.getTargetingKeys(),o=0;o<r.length;o++){var a=r[o];i.test(a)&&e.clearTargeting(a)}},w=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];e.setTargeting(n,i)}},v=function(e){if(!e)return!1;var t=d.Y.fireEvent("isPrebidResponse",{str:e});if(null!=t)return t;if(/\.(renderAd|renderAdNew)\(document,(\s+)?['"][a-zA-Z0-9\-_]+['"]/gm.test(e))return!0;if(/apstag\.renderImp\(document,/gm.test(e))return!0;if(/"hb_adid":[\s\r\n\t]{0,9}?\["[a-z-A-Z0-9\-_]+"\]/gm.test(e))return!0;return!!/ucTagData\.ad[Ii]d(:?\s+)?=(:?\s+)?['"]([a-zA-Z0-9\-_]+)['"]/gm.test(e)||e.indexOf("districtm_adslot = ")>-1},y=function(e,t,n,i){e&&e._html_&&e._html_.indexOf("googletag.pubads().definePassback(")>-1&&(e._html_=e._html_.replace(").setTargeting('",").setTargeting('up_recovery','true').setTargeting('"),e._html_=e._html_.replace(').setTargeting("',').setTargeting("up_recovery","true").setTargeting("')),e&&e._html_&&-1===e._html_.indexOf("ca-pub-15988")&&(e._html_=e._html_.replace("data-ad-slot=",'data-ad-type="text" data-ad-slot=').replace("data-ad-client\\x3d","data-ad-type\\x3d\\x22text\\x22 data-ad-client\\x3d").replace('google_ad_client = "ca-pub','google_ad_type = "text";google_ad_client = "ca-pub'));var r=d.Y.fireEvent("dfpResponseCustomReplace",{googleReponse:e,googleFrame:i,googleSlot:t});if(r&&(e=r),!(e._fluid_||e._height_&&e._width_)&&n.length>0)for(var o=0;o<n.length;o++){var a=n[o];if("fluid"!=a&&a.getWidth()>=120){e._width_=parseInt(a.getWidth()),e._height_=parseInt(a.getHeight());break}}};function _(e){switch(e){case Ln.Bid.Types.ADX:return"gad";case Ln.Bid.Types.ADX_TEXT:return"gad_text";case Ln.Bid.Types.DIRECT:return"gad_dfp_direct"}}var M=function(e,t){switch(e){case Ln.Bid.Types.ADSENSE:case Ln.Bid.Types.ADX:case Ln.Bid.Types.ADX_TEXT:return t.adxBidderId;case Ln.Bid.Types.DIRECT:return t.directBidderId}},E=function(e,t){try{try{if(t._adgroup2_ids_&&Array.isArray(t._adgroup2_ids_)&&t._adgroup2_ids_.length>1||t._creative_ids_&&Array.isArray(t._creative_ids_)&&t._creative_ids_.length>1){var n={sendToServer:!0,sendPercentage:5,event:"multiple-creative-and-line-item-ids",meta:{creativeId:t._creative_ids_,lineItemID:t._adgroup2_ids_,provider:_(e),width:t._width_,height:t._height_}};Vi.infof(null,"multiple creative and line item IDs -> ",n,n)}}catch(e){Vi.errorf(null,"log multiple-creative-and-line-item-ids: %o",e)}if(e==Ln.Bid.Types.DIRECT&&t._adgroup2_ids_&&t._adgroup2_ids_[0]&&t._creative_ids_&&t._creative_ids_[0])return t._adgroup2_ids_[0].toString()+"_"+t._creative_ids_[0].toString()}catch(e){Vi.errorf(null,"getCreativeId: %o",e)}};function N(e){var n=t[e],i={auctionId:n.asAdUnit.auctionId,bids:[]};n.deferred.resolve(i)}var D=function(e,t){r.push(t),e._html_=d.Y.fireEvent("CustomPrebidHTMLModification",e._html_)||e._html_.replace(/w=w.parent/gm,"w=window").replace(/w = w.parent/gm,"w = window").replace(/pbjs/gm,"upbjs").replace(/renderAd/gm,"renderAdNew")},S=function(e){var t=e.getSlotElementId(),n=l.Z.commonUtils.escapeSelector("#"+t),i=document.querySelector(n+' [id^="google_ads_iframe_"]');return i=d.Y.fireEvent("customInnerContainer",{googleSlot:e})||i},T=function(e,t,n){var i=new RegExp("([?&]"+t+"=)([^&#]*)([&#$].*)","g");return e.replace(i,"$1".concat(encodeURIComponent(n),"$3"))},Z=function(e,t){var n=new RegExp("(^|[&])"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[3]?decodeURIComponent(n[3].replace(/\+/g," ")):"":null},k=function(e){try{for(var n={},i=0;i<e.length;i++){var r=e[i],o=t[r.getSlotElementId()].asAdUnit;if(o&&o.params&&o.params.queryParams)for(var a in o.params.queryParams)if(o.params.queryParams.hasOwnProperty(a)){var s=o.params.queryParams[a];n[a]=s}}return n}catch(e){Vi.errorf(null,"getSlotsQueryParams: %o",e)}};var x=function(e,i,r,a){try{var d=s.Z.map(i,(function(e,t){if(r.indexOf(t)>-1)return i[t]}));return function(e,i){try{if(e){for(var r={},a=[],d=0;d<e.length;d++){var l=e[d].response.parsedData,u=e[d].response.rawResponse,f=e[d].slot;if(f){var h=i[d],p=f.getSlotElementId(),g=new s.Z.CDefer;r[p]=g,a.push(g.promise);var m=t[p],w=S(f);if(!l||l&&!l._html_||l&&l._empty_)r[p].resolve({injectToDom:!1}),N(p);else{y(l,f,h,w),v(l._html_)&&D(l,p);var b=(B=f,O=void 0,O=(I=l)._html_,I._empty_?Ln.Bid.Types.EMPTY:v(O)?Ln.Bid.Types.DFP_PREBID:I._is_afc_?"text"===k([B]).ad_type?Ln.Bid.Types.ADX_TEXT:Ln.Bid.Types.ADX:O.indexOf("js/adsbygoogle.js")>-1||O.indexOf("pagead/show_ads.js")>-1?Ln.Bid.Types.ADSENSE:Ln.Bid.Types.DIRECT),T={ad:l._html_,adId:null,bidder:_(b),bidderId:M(b,m.asAdUnit.params),bidderCode:_(b),creativeId:E(b,l),width:l._width_,height:l._height_,cpm:m.asAdUnit.floorPrice+.01},Z=new Ln.Bid(T,u,b,void 0,function(e){return function(){var t=r[e];"unresolved"==t.fate&&t.resolve({injectToDom:!0,injectBackupCreative:this.isBackupCreative})}}(p),function(e){return function(){var t=r[e];"unresolved"==t.fate&&t.resolve({injectToDom:!1})}}(p),function(e){return function(t){n[e].promise.then((function(){t()}))}}(p),function(e){return function(){return{bidderExternalID:this.bidderId,url:this.adUrl,hint:{provider:this.bidderCode,uid:this.creativeId},width:parseInt(this.width),height:parseInt(this.height),lineItemID:e._adgroup2_ids_&&e._adgroup2_ids_[0],creativeID:e._creative_ids_&&e._creative_ids_[0],markup:this.ad.replace(/\\(n|r|\\)/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"\\"}))}}}(l)),x={auctionId:m.asAdUnit.auctionId,bids:[Z]};m.deferred.resolve(x);var z={auctionId:m.asAdUnit.auctionId,bid:Z};c.invokeEventCallbacks("bidReceived",z)}}else a.push(Promise.resolve({injectToDom:!1}))}return Promise.all(a).then(function(e){try{for(var t=[],n=0;n<this.responsesWithSlots.length;n++){var i=e[n],r=this.responsesWithSlots[n].response,a=r.parsedData,s=this.responsesWithSlots[n].slot,d=s&&s.getSlotElementId();i&&!i.injectToDom&&(d&&o.push(d),a._html_="",a._empty_=!0,a._width_=1,a._height_=1),r.injectBackupCreative=i.injectBackupCreative,t.push(r)}return t}catch(e){Vi.errorf(null,"handleDfpBidResponses: Promise.all: %o",e)}}.bind({responsesWithSlots:e,deferredsPromises:a}))}}catch(e){Vi.errorf(null,"handleDfpBidResponses: %o",e)}var I,B,O}(s.Z.map(e,(function(e,t){return{slot:d[t],response:e}})),a)}catch(e){Vi.errorf(null,"invokeMiddleware: %o",e)}},z=function(e,t,n,i){return Vi.debugf(null,"onAdsServerResponse - slots: %o, relevantIndexes: %o",[g(t),n]),new Promise((function(r,o){try{if(""===e.responseText)return t.forEach((function(e){return N(e.getSlotElementId())})),void r();var s=function(e){for(var t=e.split("\n"),n=[],i=0;i<t.length;i++){var r=t[i];if(i%2==0&&""!=r){try{var o=window.JSON.parse(r)}catch(e){Vi.errorf(null,"parseGoogleExpandableResponse: 1 %o",e)}var a=Object.keys(o)[0],s=o[a],d={adUnitPath:a,rawResponse:s,parsedData:{}};try{for(var c in u)if(u.hasOwnProperty(c)){var l=u[c];void 0!==s[l]&&null!==s[l]&&(d.parsedData[c]=s[l])}}catch(e){Vi.errorf(null,"parseGoogleExpandableResponse: 2 %o",e)}n.push(d)}else i%2!=0&&(n[n.length-1].parsedData._html_=r)}return n}(e.responseText);x(s,t,n,i).then((function(t){!function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.injectBackupCreative){var i=n.parsedData,r=i._html_,o="<\/script>";i._html_=r.substr(0,r.indexOf(o)+o.length)+atob(a.Z.backupCreativeScript)+r.substr(r.indexOf(o)+o.length)}}}(t);var n=function(e){for(var t="",n=0;n<e.length;n++){var i=e[n],r=i.parsedData,o=r._html_;delete r._html_;var a=i.rawResponse,s={};try{for(var d in u)if(u.hasOwnProperty(d)){var c=u[d];1==r[d]?a[c]=1:0==r[d]?a[c]=0:a[c]=r[d]}s[i.adUnitPath]=a}catch(e){Vi.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 1 %o",e)}try{t=t+JSON.stringify(s)+"\n"+o+"\n"}catch(e){Vi.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 2 %o",e)}}return t}(t);!function(e,t){t.__defineGetter__("responseText",(function(){return e})),t.__defineGetter__("response",(function(){return e})),t.__defineGetter__("status",(function(){return 200})),t.__defineGetter__("readyState",(function(){return 4}))}(n,e),r()}))}catch(e){Vi.criticalf(null,"handleResponsesFromXHR errored: %o",e)}}))},I=function(e){var t="sz",n=l.Z.commonUtils.extractQueryParamFromUrl(t,e);if(n||(t="prev_iu_szs",n=l.Z.commonUtils.extractQueryParamFromUrl(t,e)),n){var i=n.split(",");return i=s.Z.map(i,(function(e){return e.split("|")})),i=s.Z.map(i,(function(e,t){return s.Z.map(e,(function(e){var t=e.split("x");return{width:parseInt(t[0]),height:parseInt(t[1])}}))}))}},B={width:320,height:50};function O(e,t,n){return!("fluid"!==e||!n)||t.some((function(t){return t.width===e.width&&t.height===e.height}))}function Y(e){var t=l.Z.commonUtils.extractQueryParamFromUrl("fluid",e);if(t){var n=t.split(",");return n=n.map((function(e){return isNaN(e)?e:parseInt(e)}))}}var R=function(e,n,i){var r;if(e)try{var o;if(e.indexOf("&sz=")>-1)o="sz";else{if(!(e.indexOf("&prev_iu_szs=")>-1))return;o="prev_iu_szs"}var a=I(e);if(!a)return;var c=a.length;r=s.Z.filter(a,(function(e,t){return i.indexOf(t)>-1}));var u=(Y(e)||Array(c).fill(0)).filter((function(e,t){return i.includes(t)})),f=[],h=[];!function(){var t=d.Y.fireEvent("removeSizesDfpConfig");if(t){var i=t.forAll||[];r=s.Z.map(r,(function(r,o){var a=n[o].getSlotElementId(),d=(t[a]||[]).concat(i);return d=s.Z.map(d,(function(t){if("fluid"==t){var n=new RegExp("fluid=(.*?)&","g");return e=e.replace(n,""),{width:B.width,height:B.height}}return t})),s.Z.filter(r,(function(e){return!s.Z.find(d,(function(t){return t.width==e.width&&t.height==e.height}))}))}))}}(),r=s.Z.map(r,(function(e,i){var r=n[i],o=r.getSlotElementId(),a=t[o].asAdUnit.spaceName,c=u[i],l=d.Y.fireEvent("sizesToRemoveBySpace",{spaceName:a,slot:r});return l?(l.includes("fluid")&&c&&(u[i]=0),s.Z.filter(e,(function(e){return!s.Z.find(l,(function(t){return"fluid"===t?B.width==e.width&&B.height==e.height:t.width===e.width&&t.height===e.height}))}))):e}));try{s.Z.forEach(r,(function(e,i){var r=n[i].getSlotElementId(),o=t[r].asAdUnit,a=u[i],c=d.Y.fireEvent("sizesToAddBySpace",{ASAdUnit:o});if(!c)return e;s.Z.forEach(c,(function(t){O(t,e,a)||("fluid"===t?(O(B,e,a)||e.push({width:B.width,height:B.height}),u[i]="height"):e.push({width:t.width,height:t.height}))}))}))}catch(e){Vi.errorf(null,"sizesToAddBySpace error - %o",e)}s.Z.forEach(r,(function(e,t){var i=n[t].getSlotElementId(),r=document.getElementById(i),o=l.Z.sizesRemover(r,e);0==(o=s.Z.filter(o,(function(e){return!!e}))).length&&(o=[{width:2,height:3}]),f.push(o);var a,d=(a=o,s.Z.map(a,(function(e){var t={getWidth:function(){return e.width},getHeight:function(){return e.height}};return e.width==B.width&&e.height==B.height&&(t="fluid"),t})));h.push(d)}));var p,g=0,m=s.Z.map(a,(function(e,t){if(i.indexOf(t)<0)return e;var n=f[g];return g++,n}));return p=s.Z.map(m,(function(e){return s.Z.map(e,(function(e){return e.width+"x"+e.height}))})),p=(p=s.Z.map(p,(function(e){return e.join("|")}))).join(","),{url:e=function(e,t){var n=!!Y(e),i=t.join(",");return n?T(e,"fluid",i):"".concat(e,"&fluid=").concat(encodeURIComponent(i))}(e=T(e,o,p),u),modifiedSizes:h}}catch(t){return Vi.errorf(null,"modifySizesInUrl errored - %o",t),{url:e,modifiedSizes:s.Z.map(n,(function(e){return e.getSizes()}))}}},H=function(){hi.addEventListener(hi.Types.XHR_OPEN_PRE,(function(e){try{var n=e.data;if(X(n[1])){var r=n[1],o=function(e){var t=[],n=l.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(n||(n=l.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),n){for(var r=n.split("|"),o=0;o<r.length;o++){var a=r[o],s=Z("uponitSlotIterationId",a);i[s]&&t.push(i[s])}return t}}(n[1]),a=function(e){for(var t=[],n=window.googletag.pubads().getSlots(),i=0;i<n.length;i++)for(var r=n[i],o=0;o<e.length;o++){var a=e[o];r.getSlotElementId()==a&&t.push(r)}return t}(o),c=function(e){var t=[],n=l.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(n||(n=l.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),n){var i,r=l.Z.commonUtils.extractQueryParamFromUrl("csp",e);r&&(i=Z("upstdfp",r),Vi.debugf(null,"onCommonSlotTargetDetected - upstdfp: %o",i));for(var o=n.split("|"),a=0;a<o.length;a++){var s=o[a];(i||Z("upstdfp",s))&&t.push(a)}return t}}(n[1]);v=a,s.Z.forEach(v,(function(e){e.clearTargeting("upstdfp")})),n[1]=l.Z.addAcceptableParam(n[1]),n[1]=function(e,t){var n=k(t);if(n)for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];e.indexOf("?")<0?e=e+"?"+i+"="+r:e.indexOf("&"+i+"=")<0&&e.indexOf("?"+i+"=")<0&&(e=e+"&"+i+"="+r)}return e}(n[1],a);var u=R(n[1],a,c);n[1]=u.url;var f=u.modifiedSizes;!function(e,n,i,r){for(var o=0;o<e.length;o++){for(var a=e[o],s=t[n[a]],d=[],c=0;c<i[a].length;c++)i[a][c]&&(i[a][c].width&&i[a][c].height?d.push([i[a][c].width,i[a][c].height]):"fluid"===i[a][c]&&d.push("fluid"));for(var l=[],u=0;u<r[a].length;u++)r[a][u]&&(r[a][u].getWidth&&r[a][u].getHeight?l.push([r[a][u].getWidth(),r[a][u].getHeight()]):"fluid"===r[a][u]&&l.push("fluid"));var f={sendToServer:!0,sendPercentage:5,event:"dfp-size-filtering",meta:{spaceName:s.asAdUnit.spaceName,auctionId:s.asAdUnit.auctionId,sizesBeforeFiltering:d,sizesAfterFiltering:l}};Vi.infof(null,"logAdUnitSizesDfp, spaceName -> ",s.asAdUnit.spaceName,f)}}(c,o,I(r),f),n[1]=function(e){var t=[],n=["21063911","21063048","21063670","21063817","21063671"],i=l.Z.commonUtils.extractQueryParamFromUrl("eid",e);if(!i)return e;for(var r=i.split(","),o=0;o<r.length;o++){var a=r[o];n.indexOf(a)<0&&t.push(a)}return T(e,"eid",t.join(","))}(n[1]),d.Y.fireEvent("onBeforeDfpAdsRequest",{url:n[1]}),Vi.debugf(null,"onDfpAdsRequest - url: %s, slots: %o, relevantIndexes: %o",[n[1],g(a),c]);var h=null,p=null,m=this,w=!1;this.onload=function(){try{if(!h||w)return;w=!0,z(m,a,c,f).then((function(){h.call(m)}))}catch(e){Vi.errorf(null,"addListenersOnHooks: onload: %o",e)}},this.onreadystatechange=function(e){try{if(!p||w)return;4===this.readyState&&(200===this.status?(w=!0,z(m,a,c,f).then((function(){p.call(m,e)}))):Vi.criticalf(null,"onDfpAdsRequestError, status: %s, responseText: %s",[this.status,this.responseText]))}catch(e){Vi.criticalf(null,"onReadyStateChangeError, err %o",e)}},this.__defineGetter__("onload",(function(){return h})),this.__defineSetter__("onload",(function(e){return h=e,e})),this.__defineGetter__("onreadystatechange",(function(){return p})),this.__defineSetter__("onreadystatechange",(function(e){return p=e,e}))}}catch(e){Vi.errorf(null,"addListenersOnHooks: %o",e)}var v}))},X=function(e){try{return e&&e.indexOf("doubleclick.net/gampad/ads")>-1&&e.indexOf("upstdfp")>-1}catch(e){}};this.subscribeForEvent=function(e,t){c.subscribeForEvent(e,t)};var j=function(){window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t=e.slot,i=t.getSlotElementId(),a=S(t),s=a&&a.querySelector("iframe");if(o.indexOf(i)>=0)o.splice(o.indexOf(i),1);else{var d=n[i];if(d&&"unresolved"==d.fate&&d.resolve(),function(e){setTimeout((function(){var t=e.getSlotElementId(),n=document.getElementById(t),i=S(e);if(!(i&&i.querySelector("iframe")&&i&&l.Z.commonUtils.isElementInBody(n)&&n)){var r={sendToServer:!0,sendPercentage:5,event:"creative-removed",meta:{creativeId:t}};Vi.infof(null,"removed creative id -> ",r,r)}}),1e3)}(t),s)if(r.indexOf(i)>-1){r.splice(r.indexOf(i),1);try{a.style.width="1px",a.style.height="1px",s.width="1",s.height="1"}catch(e){Vi.errorf(null,"setGoogletagEvents: %o",e)}}else if("0"===s.width)s.style.setProperty("width","max-content","important");else{var c=s.width;s.style.setProperty("width",c+"px","important")}}}))};var V=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){var e;d.Y.fireEvent("shouldNotWrapGoogleTagRefresh")||(e=window.googletag.pubads().refresh,window.googletag.pubads().refresh=function(t,n,i){if(i)return t?e(t,n):e();Vi.debugf(null,"pub invoked `googletag` refresh - %o",{slots:t&&g(t),settings:n}),t||(t=window.googletag.pubads().getSlots());for(var r=[],o=0;o<t.length;o++)try{var a=t[o].getSlotElementId();a&&r.push(a)}catch(e){Vi.errorf(null,"wrapGoogleTagRefresh: refresh-invoked-by-the-publisher: %o",e)}c.invokeEventCallbacks("refresh",r)}),j(),H(window)}))}},Ci=new function(){var e=!1,t=new l.Z.SubscriptionLayer;function n(e,t){switch(e){case Ci.Types.DFP:return Wi.dispatch(t);case Ci.Types.SMART_AS:}}this.subscribeForEvent=function(e,n){t.subscribeForEvent(e,n)},this.dispatch=function(i){e||(e=!0,Wi.subscribeForEvent("refresh",(function(e){t.invokeEventCallbacks("refresh",e)})),Wi.subscribeForEvent("bidReceived",(function(e){t.invokeEventCallbacks("bidReceived",e)})));var r=[];s.Z.forEach(i,(function(e){r.push({asAdUnit:e,promise:void 0})}));for(var o={},a=0;a<i.length;a++){var d=i[a];o[d.type]=o[d.type]||[],o[d.type].push(d)}for(var c in o)if(c=parseInt(c),o.hasOwnProperty(c)){var l=o[c],u=n(c,l);s.Z.forEach(u,(function(e,t){var n=l[t];s.Z.find(r,(function(e){return e.asAdUnit==n})).promise=e}))}return s.Z.map(r,(function(e){return e.promise}))}};Ci.Types={UNKNOWN:0,DFP:1,SMART_AS:2};var Fi=new vn.Z({prefix:"testCompliance: "});var Ui=!1;try{Ui=window.location.href&&window.location.href.indexOf("bt_tc=false")>=0||"false"===localStorage.getItem("bt_tc")}catch(He){Fi.errorf(null,"testComplianceDisabled: %o",He)}function Ai(e,t){return l.Z.sizeValidation.isUnacceptable(e.unit.element,{width:t.width,height:t.height})}function Li(e,t,n,i){var r={sendToServer:!0,sendPercentage:5,event:"client_tc_applied",meta:{client_tc_type:i,auctionID:t,bidderID:n.bidderId}};Fi.noticef(null,e,n,r)}function Gi(e,t){var n=a.Z.consts.complianceStatus.UNKNOWN,i=d.Y.fireEvent("customComplianceCheck",{bid:e});return Ui?(n=a.Z.consts.complianceStatus.COMPLIANT,Fi.debugf(null,"compliance is disabled for the current bid: ",e)):i?(n=i,Li("custom hook file tc check: ",t.auctionId,e,"custom_hook_file_tc_check")):Ai(t,e)?(n=a.Z.consts.complianceStatus.INCOMPLIANT,Li("bid with unacceptance size: ",t.auctionId,e,"bid_with_unacceptance_size")):!function(e){var t=e.ad,n=e.type;return!![[".rhurl",".rhbodyurl"],[".rhurl","rh-image"],[".rhurl","rh-title"],[".rhurl",".rhbutton"],[".image-link","call-to-action-link"],[".image-link",".attribution"],[".image-link",".attribution"],[".rhprice",".rhsaleprice","gstatic.com/shopping"],[".grid-link-container",".grid-link"],[".rhsimpleprice",".rh-box-image","gstatic.com/shopping"],[".product-image",".product-container","gstatic.com/shopping"],["logoMCImageWidth","-webkit-animation"],["productBannerSlot","logoBackColorDerived"],["js/adsbygoogle.js",'data-ad-format="link"'],["js/adsbygoogle.js",'data-ad-type="text"']].some((function(e){return l.Z.commonUtils.matchStringsOnString(e,t)}))||!(!t.includes("googletag.pubads().definePassback(")||n!=Ln.Bid.Types.ADX)}(e)?function(e){switch(e.bidderCode){case"adyoulike":case"lockerdome":case"sharethrough":return!0}return!1}(e)&&(n=a.Z.consts.complianceStatus.COMPLIANT,Li("compliant bidder: ",t.auctionId,e,"compliant_bidder")):(n=a.Z.consts.complianceStatus.COMPLIANT,Li("compliant based on HTML: ",t.auctionId,e,"compliant_based_on_HTML")),n}function Pi(e){var t,n={},i={},r=a.Z.SharedObject.getItem("websiteConfig"),o=r.websiteID,d=r.organizationID,c={};if(s.Z.forEach(e,(function(e){var t=e.auction,r=e.bids;c[t.auctionId]=c[t.auctionId]||{};for(var o=0;o<r.length;o++){var s=r[o],d=Gi(s,t);if(d==a.Z.consts.complianceStatus.UNKNOWN){c[t.auctionId][s.bidId]={bid:s,result:{}};var l=s.makeEntryForTestCompliance();l.auctionID=t.auctionId,l.spaceExternalID=t.unit.space.id,l.spaceName=t.unit.space.name,l.refreshDepth=t.unit.countOfDispatches-1;var u=parseFloat(s.cpm);l.cpm=isNaN(u)?0:u,Ki(l);var f=b(5,8);n[f]=l,i[f]=s}else c[t.auctionId][s.bidId]={bid:s,result:{status:d,backup:!1}}}})),Object.keys(n).length<=0){for(var l in c)if(c.hasOwnProperty(l)){var u=c[l];for(var f in u)if(u.hasOwnProperty(f)){var h=u[f];c[l][f]=h.result}}return Promise.resolve(c)}try{t=(new Intl.DateTimeFormat).resolvedOptions()}catch(e){t={locale:void 0,timeZone:void 0}}var p={domain:window.location.host,websiteID:o,orgID:d,bids:n,locale:t.locale,timezone:t.timeZone,pageURL:window.location.href};return Nn.testCompliance(p).then((function(e){for(var t in e)if(e.hasOwnProperty(t)){var r=n[t].auctionID,o=c[r][i[t].bidId];o.result.status=e[t].status,o.result.bidContentIdHash=e[t].id,o.result.backup=e[t].backup}for(var a in c)if(c.hasOwnProperty(a)){var s=c[a];for(var d in s)if(s.hasOwnProperty(d)){var l=s[d];c[a][d]=l.result}}return c}))}function Ki(e){if(e.markup&&e.markup.indexOf("://secure.ace.advertising.com/")>-1)try{var t="https://secure.ace.advertising.com/site="+e.markup.split("Site: '")[1].split("'")[0]+"/size="+e.markup.split("Size: '")[1].split("'")[0]+"/rip="+e.markup.split("/rip=")[1].split("/")[0];t&&(e.markup='\x3c!-- "'+t+'"--\x3e'+e.markup)}catch(e){Fi.errorf(null,"generalEntryFix: %o",e)}e.markup&&!e.url&&-1===e.markup.indexOf("<body")&&(e.markup="<body>"+e.markup+"</body>")}Fi.debugf(null,"test Compliance disabled? ",Ui);var Ji=["ad","adId","bidderId","bidder","bidderCode","currency","creativeId","cpm","height","size","width"],Qi=new vn.Z({prefix:"dispatch: ",level:vn.z.INFO}),qi=new function(){var e=new l.Z.SubscriptionLayer;this.subscribeForEvent=function(t,n){e.subscribeForEvent(t,n)};var t=function(e){return s.Z.filter(e,(function(e){return e.cpm>=.01}))};this.dispatchHB=function(e){try{var n={},i=[],r=[];s.Z.forEach(e,(function(e){var t=new s.Z.CDefer;n[e.auctionId]=t,i.push(t.promise);var o=e.unit.space.preBiddingSettings;if(o&&o.enabled)r.push(e);else{var a={auctionId:e.auctionId,bids:[]};t.resolve(a)}}));var o=s.Z.map(r,(function(e){var t=e.unit.space.preBiddingSettings.biddingSettings;return{auctionId:e.auctionId,biddingSettings:t,spaceName:e.unit.space.name,sizes:e.unit.space.sizes,element:e.unit.element}})),a=ji.dispatch(o);return Promise.all(a).then((function(e){try{for(var i=[],o=0;o<e.length;o++){var a=e[o],c=a.auctionId,l=s.Z.find(r,(function(e){return e.auctionId==c})),u=a.bids;u=d.Y.fireEvent("passZeroCpmBidsFilter")?u:t(u);var f=d.Y.fireEvent("filterPrebidBids");if(f)u=f(s.Z.map(u,(function(e){return{bid:e,rawBid:e.rawBid}})));l.addBids(u),a.bids=u,i.push({auction:l,bids:u})}Pi(i).then((function(t){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],o=s.Z.find(e,(function(e){return e.auctionId==i})),a=o.bids;for(var d in r)if(r.hasOwnProperty(d)){var c=r[d],l=s.Z.find(a,(function(e){return e.bidId==d}));l.contentIdHash=c.bidContentIdHash,l.complianceStatus=c.status,l.isBackupCreative=c.backup}n[i].resolve(o)}}))}catch(e){Qi.errorf(null,"error testing Prebid bid compliance: %o",e)}})),i}catch(e){Qi.errorf(null,"error in `dispatchHB`: %o",e)}},this.dispatchAS=function(e){try{var t={},i=[],r=[];s.Z.forEach(e,(function(e){var n=new s.Z.CDefer;t[e.auctionId]=n,i.push(n.promise);var o=e.unit.space.postBiddingSettings;if(o&&o.enabled)r.push(e);else{var a={auctionId:e.auctionId,bids:[]};n.resolve(a)}}));var o=n(r,0);return s.Z.forEach(o,(function(n){n.then((function(n){var i=n.auctionId;e.find((function(e){return e.auctionId==i})).addBids(n.bids),t[i].resolve(n)}))})),i}catch(e){Qi.errorf(null,"error in `dispatchAS`: %o",e)}};var n=function e(t,n){try{var r={},o=[];s.Z.forEach(t,(function(e){var t=new s.Z.CDefer;o.push(t.promise),r[e.auctionId]={auction:e,deferred:t}}));var d=[];if(s.Z.forEach(t,(function(e){e.unit.space.postBiddingSettings.order[n]?d.push(e):r[e.auctionId].deferred.resolve({auctionId:e.auctionId,bids:[]})})),!d)return;var c=s.Z.map(d,(function(e){var t=e.unit.space.postBiddingSettings,r=e.getWinningBid(),o=r?r.cpm:0;return{auctionId:e.auctionId,spaceName:e.unit.space.name,params:i(e,t.order[n]),slotElementId:e.unit.element.getAttribute("id"),floorPrice:o,type:t.type}})),u=Ci.dispatch(c);return s.Z.forEach(u,(function(t){t.then((function(t){try{var i=t.auctionId,o=t.bids[0],u=s.Z.find(d,(function(e){return e.auctionId==i})),f=s.Z.find(c,(function(e){return e.auctionId==i})),h=u.getWinningBid();if(!o){e([u],n+1)[0].then((function(e){r[i].deferred.resolve(e)}));try{if(h){h.ad,h.adId,h.bidderId,h.bidder,h.bidderCode,h.currency,h.creativeId,h.cpm,h.height,h.size,h.width;var p=Ei(h,Ji),g={sendToServer:!0,event:"winButNoAACreative",meta:{auctionID:f.auctionId,winningBidData:p,spaceID:u.unit.space.id}};Qi.infof(null,"logWinButNoAACreative, auction ID -> ",f.auctionId||"N/A",g)}}catch(e){Qi.errorf(null,'error checking for "winButNoAACreative": %o',e)}return}if(o.type==Ln.Bid.Types.DFP_PREBID)return h.additionalBidsToRender.push(o),o.complianceStatus=a.Z.consts.complianceStatus.COMPLIANT,void r[i].deferred.resolve({auctionId:i,bids:[]});if(!(o.type!=Ln.Bid.Types.ADX_TEXT||f.params.adxShouldTestCompliance||Ai(u,o)||function(e){return e.type==Fn.Types.ADX_TEXT&&[["video-box"],["google-native-video"],["imasdk.googleapis.com/formats/outstream"],["video-in-display"],["vix.eu.criteo.net/concat"],[".video-container","googlevideo.com"],["product-video","googlevideo.com"],["twoOfTwoVertical","animation-container"],["animation:text2Frames","-webkit-animation"]].some((function(t){return l.Z.commonUtils.matchStringsOnString(t,e.ad)}))}(o))){o.complianceStatus=a.Z.consts.complianceStatus.COMPLIANT,r[i].deferred.resolve(t);var m={sendToServer:!0,sendPercentage:1,event:"client_tc_applied",meta:{client_tc_type:"gad_text_ad",auctionID:i,bidderID:o.bidderId}};return void Qi.noticef(null,"gam text ad: ",o,m)}Pi([{auction:u,bids:[o]}]).then((function(s){if(o.contentIdHash=s[i][o.bidId].bidContentIdHash,o.complianceStatus=s[i][o.bidId].status,o.isBackupCreative=s[i][o.bidId].backup,o.complianceStatus!=a.Z.consts.complianceStatus.COMPLIANT)return o.cancelBid(),void e([u],n+1)[0].then((function(e){e.bids.push(o),r[i].deferred.resolve(e)}));r[i].deferred.resolve(t)})).catch((function(t){o.cancelBid(),e([u],n+1)[0].then((function(e){e.bids.push(o),r[i].deferred.resolve(e)}))}))}catch(e){Qi.errorf(null,"error handling auction responses from AS: %o",e)}}))})),o}catch(e){Qi.errorf(null,"error in `innerInvokePostbid`: %o",e)}},i=function(e,t){if(e.unit.space.postBiddingSettings.type===Ci.Types.DFP)return o(e,t)},r={},o=function(e,t){var n={},i=function(e,t){var n=e.getWinningBid(),i=e.getComplianceBids(),o=c(n,e.unit),a=n?n.getGPTTargeting({complianceBidsInAuction:i}):{},d=s.Z.objectAssign({},o||{},a,t.keyValues||{}),l=r[e.unit.unitID]?Object.keys(r[e.unit.unitID]).map((function(e){return new RegExp(e)})):[];return l.push.apply(l,Qn(["hb_adid","hb_bidder","hb_pb","hb_format","hb_size","hb_source","amznbid","amzniid","amznp","amznsz"].map((function(e){return new RegExp("".concat(e,".*"))})))),r[e.unit.unitID]=d,{toAdd:d,toRemove:l}}(e,t);return n.keyValuesParams=i,n.queryParams=t.params.queryParams||{},n.adxBidderId=t.adx.bidderID,n.adxShouldTestCompliance=t.adx.testCompliance,n.directBidderId=t.direct.bidderID,n},c=function(e,t){var n={up_bidder:!0};if(e&&e.bidder)if("s2s"===e.rawBid.source)n.up_bidder="bt_exchange";else if("relay"===e.bidder)n.up_bidder="bt_server";else if(["true","false","undefined","152media","33across","a4g","aardvark","adblade","adbund","adbutler","adform","adkernel","adkerneladn","admedia","admixer","adocean","adsparc","adspirit","adsupply","adtelligent","adxcg","adyoulike","aerserv","amazon","andbeyond","aol","appnexus","appnexusAst","arteebee","atomx","audienceNetwork","automatad","beachfront","betweendigital","bidfluence","brainy","brealtime","bridgewell","brightcom","buysellads","c1x","carambola","clickforce","clickonometrics","colossus","connectad","consumable","contentIgnite","conversant","cox","cpx","criteo","defymedia","dgads","districtm","districtmDMX","e-planning","emx_digital","emxdigital","engagebdr","essens","fairtrade","featureForward","fidelityMedia","freewheel-ssp","fyber","gamma","gamoshi","getintent","gourmetAds","gumgum","gxone","imonomy","improvedigital","indexExchange","IndexExchange","inneractive","innity","inskin","insticator","invibes","iqm","ix","justpremium","kargo","komoona","kumma","lifestreet","lkqd","lockerdome","madvertise","marsmedia","matomy","media.net","medianet","mobfox","my6sense","mytarget","nginad","nobid","oftmedia","onemobile","oneplanetonly","onetag","openx","optimatic","optimera","orbitsoft","peak226","piximedia","platform.io","playgroundXyz","polluxNetwork","polymorph","prebidServer","pubgears","pubmatic","pulsepoint","pulsepointLite","quantcast","quantum","readpeak","realvu","rhythmone","rockyou","roxot","rtbdemandadk","rtbdemandBidder","rtbhouse","rubicon","rxrtb","sara","sekindoum","serverbid","sharethrough","smart","smartyads","soloway","somoAudience","sonobi","sortable","sovrn","spotx","springserve","stickyadstv","tapsense","teads","thoughtleadr","tremor","trionInteractive","triplelift","trustx","twenga","ucfunnel","underdogmedia","undertone","unruly","upo","upo1","upo10","upo2","upo3","upo4","upo5","upo6","upo7","upo8","upo9","vertamedia","vertoz","vi","vidazoo","vis.x","vuble","weborama","wideorbit","widespace","xaxis","xendiz","yahoossp","yieldbot","yieldlab","yieldmo","yieldone"].indexOf(e.bidder)>-1)n.up_bidder=e.bidder;else{var i={sendToServer:!0,event:"upBidder_unknownBidder",meta:{bidder:e.bidder,bidderCode:e.bidderCode}};Qi.noticef(null,"unknown bidder for up_bidder targeting -> ",e.bidder,i)}var r=window.location.hostname;0===r.indexOf("www.")&&(r=r.replace("www.",""));var o=r;o=o.match(/(co\.il|co\.uk|org\.il)/)?o.replace("www.","").split(".").splice(-3).join("."):o.replace("www.","").split(".").splice(-2).join("."),n.up_recovery="true";var s=qn.Xh(),d=qn.Uh(),c=qn.Jv();n.up_browser=s,n.up_device=d,n.up_platform=c,n.up_domain=r,n.up_website=o,n.up_website_id=a.Z.SharedObject.getItem("websiteConfig").websiteID;var l=t.countOfDispatches-1;return n.up_refresh=l>30?"30":"".concat(l),n};Ci.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),Ci.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)})),ji.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),ji.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)}))},$i=new function(){var e=[];this.set=function(t){e.push(t)},this.getBySpace=function(t){for(var n=0;n<e.length;n++){var i=e[n];if(i.space==t)return i}},this.getByElement=function(t){return e.find((function(e){return e.element===t}))},this.getAll=function(){return e},this.purgeUnitsWithNoElementOnPage=function(){e=e.filter((function(e){return l.Z.commonUtils.isElementInBody(e.element)}))}},er=["space"];function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var nr=new vn.Z({prefix:"refresh: "}),ir=new function(){this.initialize=function(c){var u=c.invokeSpaces,f=function(i){var s=i.invokeSpaces;function d(){if(document.hasFocus()){if(0!==t.size){var i=new Map;if(t.forEach((function(n,r){var o,s,d=Yi({selector:r.selector.value});d===a.Z.consts.elementVisibility.VISIBLE?(o=n.skipComplianceCheck||Date.now()-e<3e3,s="IS_VISIBLE"===n.whenVisibility||"ANY"===n.whenVisibility):d===a.Z.consts.elementVisibility.HIDDEN?(o=!0,s="IS_HIDDEN"===n.whenVisibility||"ANY"===n.whenVisibility):d===a.Z.consts.elementVisibility.NOT_FOUND&&t.delete(r),o&&s&&(t.delete(r),i.set(r,n))})),0!==i.size){var r=Array.from(i.keys());nr.infof(null,"Attempting to refresh: %o\nLeft in queue: %o",[o(i),o(t)]),s(r).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=r.filter((function(t){return!e.includes(t)}));t.length>0&&(t.forEach((function(e){n(i.get(e))})),nr.infof(null,"Could not refresh & requeued: %o",t))}))}else nr.debugf(null,"triggerRefresh: No eligible refreshes in queue to attempt: %o",o(t))}}else nr.debugf(null,"triggerRefresh: User not on page (tab/window out of focus), no refreshes attempted.")}return l.Z.commonUtils.debounce(d,r)}({invokeSpaces:u});(function(e){var t=e.triggerRefresh;ui(t),n=t,window.addEventListener("focus",(function(e){n()})),window.addEventListener("locationChange",i);var n})({triggerRefresh:f}),(d.Y.hasEventListener("spaceRefreshOnInterval")||d.Y.hasEventListener("spaceRefreshSettings"))&&(this.spaceRefreshOnInterval=function(e){var t=e.triggerRefresh;return function(e){var i=e.space,r=e.unitDispatchCount,o={space:i,unitDispatchCount:r},s=d.Y.fireEvent("spaceRefreshOnInterval",o)||d.Y.fireEvent("spaceRefreshSettings",o);if(s){var c=s.whenVisibility,l=s.type,u=s.skipComplianceCheck,f=void 0!==u&&u;if(f=f||d.Y.fireEvent("skipVisibleAdRefreshComplianceCheck",{space:i}),!c){if(!l)return void nr.errorf(null,"spaceRefreshSettings [deprecated]: Use new hook `spaceRefreshOnInterval` and provide `whenVisibility`.");switch(Vn.commonBLUtils.refreshTypeDecoder(l)){case a.Z.consts.refreshType.UNKNOWN:return void nr.errorf(null,"spaceRefreshSettings [deprecated]: Invalid refresh `type` %s",l);case a.Z.consts.refreshType.ALL:case a.Z.consts.refreshType.VISIBLE:return void nr.debugf(null,"spaceRefreshSettings [deprecated]: Ignoring refresh with `type` %s",l);case a.Z.consts.refreshType.HIDDEN:c="IS_HIDDEN"}}var h=s.interval||s.rate||3e4;setTimeout((function(){n({space:i,whenVisibility:c,skipComplianceCheck:f}),t()}),h),nr.infof(null,"spaceRefreshOnInterval: Refresh to be enqueued (& attempted) in %i secs: %o",[h/1e3,{spaceName:i.name,space:i,whenVisibility:c,skipComplianceCheck:f}])}}}({triggerRefresh:f}));(function(e){var t=e.triggerRefresh;qi.subscribeForEvent("refresh",(function(e){e.forEach((function(e){var t=document.getElementById(e),i=t&&$i.getByElement(t),r=i&&i.space;if(r&&i.countOfDispatches>0){var o,s=Yi({element:t});if(s===a.Z.consts.elementVisibility.VISIBLE)o="IS_VISIBLE";else if(s===a.Z.consts.elementVisibility.HIDDEN)o="IS_HIDDEN";else if(s===a.Z.consts.elementVisibility.NOT_FOUND)return;var c=d.Y.fireEvent("skipVisibleAdRefreshComplianceCheck",{space:r});nr.infof(null,"googletag refresh: Enqueuing: %o",{spaceName:r.name,space:r,correspondingUnit:i,whenVisibility:o,skipComplianceCheck:c}),n({space:r,whenVisibility:o,skipComplianceCheck:c})}})),t()}))})({triggerRefresh:f}),function(e){var t=e.invokeSpaces,n=[];d.Y.addEventListener("refreshByForce",(function(e){var i=e.data,r=i&&i.settings,o=Mi.getAll(),a=r&&r.minTimeBetweenRefreshes,d=r&&r.shouldRefreshFailedSpaces,c=r&&r.spacesNames,l=r&&r.shouldRefreshAllSpaces,u=[],f={filteringSettings:{minTimeBetweenRefreshes:a}};l?u=o:(d&&s.Z.forEach(n,(function(e){u.push(e)})),c&&s.Z.forEach(o,(function(e){c.indexOf(e.name)>-1&&u.push(e)}))),u=s.Z.distinct(u),nr.infof(null,"refreshByForce (settings: %o): Re-auctioning Spaces: %o",[r,u]),t(u,f).then((function(e){n=s.Z.filter(u,(function(t){return e.indexOf(t)<0}))}))}))}({invokeSpaces:u})},this.minTimeBetweenAuctionsUnitsFilter=function(t,n){var i=a.Z.upoSettings.minTimeBetweenRefreshes;d.Y.hasEventListener("minTimeBetweenRefreshes")&&(i=d.Y.fireEvent("minTimeBetweenRefreshes"));l.Z.commonUtils.isNumber(n.minTimeBetweenRefreshes)&&(i=n.minTimeBetweenRefreshes);return t.filter((function(t){var n;if(t)if(t.lastInvokeTime){var r=Date.now()-t.lastInvokeTime.getTime();r>i||e&&t.lastInvokeTime.getTime()<e?(n=!0,nr.infof(null,"Re-auctioning Unit: %o",t)):(n=!1,nr.infof(null,"Must wait at least %i seconds before we can re-auction Unit: %o",[(i-r)/1e3,t]))}else n=!0;else n=!1;return n}))},this.spaceRefreshOnInterval;var e,t=new Map;function n(e){var n=e.space,i=e.whenVisibility,r=e.skipComplianceCheck;"IS_VISIBLE"===i&&d.Y.fireEvent("dontQueueViewableRefreshes",{space:n})?nr.debugf(null,"queueSpaceForRefresh: `dontQueueViewableRefreshes` hook set to not enqueue refresh: &o",{spaceName:n.name,space:n,whenVisibility:i,skipComplianceCheck:r}):t.set(n,{space:n,whenVisibility:i,skipComplianceCheck:r})}function i(){e=Date.now()}var r=500;function o(e){return Array.from(e.values()).map((function(e){var t=e.space,n=Ei(e,er);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({spaceName:t.name,space:t},n)}))}};function rr(e){var t=d.Y.fireEvent("maxAmountOfUnitDispatches");return t?e.filter((function(e){return e.countOfDispatches<t})):e}function or(e,t){return ir.minTimeBetweenAuctionsUnitsFilter(e,t)}function ar(e){return e.filter((function(e){return!d.Y.fireEvent("filterOutUnitToBeAuctioned",{unit:e})}))}function sr(e){var t=e.map((function(e){return e.element}));return e.filter((function(e,n){return t.indexOf(e.element)==n}))}function dr(e,t){return new Promise((function(n,i){t&&t.definedSlotsFilteringSettings&&(t.definedSlotsFilteringSettings.dfpEnabled||t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots)?window.googletag.cmd.push((function(){var i=window.googletag.pubads().getSlots(),r=[];e.forEach((function(e){t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots||e.space.postBiddingSettings.enabled?i.forEach((function(t){t.getSlotElementId()===e.element.getAttribute("id")&&r.push(e)})):r.push(e)})),n(r)})):n(e)}))}var cr=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){window.__cmp&&window.__cmp("getVendorConsents",null,(function(e){e&&e.gdprApplies&&(e.purposeConsents&&e.purposeConsents[1]&&e.purposeConsents[2]&&e.purposeConsents[3]&&e.purposeConsents[4]&&e.purposeConsents[5]||window.googletag.pubads().setRequestNonPersonalizedAds(1))})),d.Y.fireEvent("skipDisableInitialLoad")||window.googletag.pubads().disableInitialLoad(),d.Y.fireEvent("disableSingleRequest")||window.googletag.pubads().enableSingleRequest(),d.Y.fireEvent("collapseEmptyDivs")&&window.googletag.pubads().collapseEmptyDivs(!0),window.googletag.pubads().enableAsyncRendering(),window.googletag.enableServices()}))},lr=function(e){if("dfp"===e)return cr},ur=__webpack_require__(616);function fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pr,gr=new vn.Z({prefix:"prebidPostset: "}),mr=function(){var e,t;pr=a.Z.cpbjs,function(){var e=a.Z.SharedObject.getItem("whitelistingIFrame");e?pr.setCookieFrame({frame:e,isBTSafeFrameDomain:a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame}):d.Y.addEventListener("whitelistingIFrameLoaded",(function(e){pr.setCookieFrame({frame:e.data.whitelistingIFrame,isBTSafeFrameDomain:a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame})}))}(),function(){try{var e=window.pbjs,t=e&&e.version&&parseInt(e.version[1]);if(t&&!isNaN(t)&&t>=4){var n=e.getConfig("consentManagement");if(n&&(n.gdpr||n.usp))return void pr.setConfig({consentManagement:n})}}catch(e){gr.errorf(null,"setConsentConfig: copy publisher consentManagement settings: %o",e)}try{"function"==typeof window.__tcfapi&&window.__tcfapi("ping",2,(function(e){if(e&&e.cmpLoaded&&e.gdprApplies){var t={consentManagement:pr.getConfig().consentManagement||{}};t.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},pr.setConfig(t)}}))}catch(e){gr.errorf(null,"setConsentConfig: __tcfapi: %o",e)}try{"function"==typeof window.__cmp&&"function"!=typeof window.__tcfapi&&window.__cmp("getConsentData",null,(function(e){if(e&&e.gdprApplies){var t={consentManagement:pr.getConfig().consentManagement||{}};t.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},pr.setConfig(t)}}))}catch(e){gr.errorf(null,"setConsentConfig: __cmp: %o",e)}try{"function"==typeof window.__uspapi&&window.__uspapi("getUSPData",1,(function(e,t){if(t&&e.uspString){var n={consentManagement:pr.getConfig().consentManagement||{}};n.consentManagement.usp={cmpApi:"iab",timeout:100},pr.setConfig(n)}}))}catch(e){gr.errorf(null,"setConsentConfig: __uspapi: %o",e)}}(),pr.que.push((function(){pr.setConfig({userSync:{userIds:[{name:"pubProvidedId",params:{eidsFunction:function(){return[{source:"blockthrough.com",uids:[{id:"bt-aauser",atype:1,ext:{stype:"ppuid"}}]}]}}},{name:"id5Id",params:{partner:993},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}],auctionDelay:50}})})),e={},pr.onSendLog((function(t,n,i,r){if(r.meta.fired){var o=1;e[r.meta.uid]=(0,ur.getTrueByProbability)(o)}if(e[r.meta.uid])return r=hr(hr({},r),{},{sendPercentage:101,sendToServer:!0}),void gr.infof(t,n,i,r);r.sendPercentage&&(r=hr(hr({},r),{},{sendToServer:!0}),gr.infof(t,n,i,r))})),pr.onBeforeRequest((function(e){var t=e&&l.Z.addAcceptableParam(e);if(t.includes("criteo.com/cdb")&&d.Y.fireEvent("addCriteoAdblockQueryParam")){var n=t.includes("abp=1");t=n?t:"".concat(t,"&abp=1")}return t})),pr.aliasBidder("pulsepointLite","pulsepoint"),pr.aliasBidder("indexExchange","ix"),pr.aliasBidder("ix","indexExchange"),pr.aliasBidder("my6sense","upo2"),pr.aliasBidder("lockerdome","upo3"),function(){var e=window.pbjs||window.jitaJS;e&&e.bidderSettings&&(pr.bidderSettings=e.bidderSettings);var t=e&&e.getConfig&&e.getConfig(),n="high";if(t){var i=t.customPriceBucket,r=t.priceGranularity;n="custom"===r?i:r}pr.setConfig({priceGranularity:n,userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}},syncsPerBidder:25,syncEnabled:!0}})}(),(t=(d.Y.fireEvent("snigelAdapterConfiguration")||{}).websiteStoredRequestId)&&pr.setConfig({s2sConfig:[{defaultVendor:"snigel",accountId:"1000",bidders:[],extPrebid:{storedrequest:{id:t}}}]}),d.Y.hasEventListener("enableRelayAdapter")&&pr.setConfig({relayAccountId:12021}),pr.setBidderConfig({bidders:["rubicon"],config:{ortb2:{site:{ext:{data:{keywords:"blockthrough"}}}}}});var n,i=d.Y.fireEvent("scrapePrebidRequestBids");i&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onListenerAdded,n=e.pollingInterval,i=void 0===n?100:n,r=e.maxIntervalCount,o=void 0===r?50:r;if(wr())vr(t);else var a=0,s=setInterval((function(){++a>=o?clearInterval(s):wr()&&(clearInterval(s),vr(t))}),i)}(i),d.Y.fireEvent("addIndexExchangeWrappers")&&function(){var e={aol:"ix_aol_om",appnexus:"ix_apnx_om",beachfront:"ix_bft_cpm",colossusssp:"ix_clss_cpm",consumable:"ix_cnsm_cpm",conversant:"ix_conv_cpm",criteo:"ix_cdb_om",districtm:"ix_dism_om",districtmDMX:"ix_dis_cpm",emx_digital:"ix_brt_cpm",gumgum:"ix_gum_cpm",improvedigital:"ix_imdi_cpm",justpremium:"ix_justp_cpm",kargo:"ix_karg_om",lockerdome:"ix_lkdm_cpm",onedisplay:"ix_oath_cpm",onemobile:"ix_oath_cpm",openx:"ix_ox_om",optimera:"ix_opti_cpm",piximedia:"ix_pix_cpm",pubmatic:"ix_pubm_om",pulsepoint:"ix_pp_om",pxyz:"ix_pxyz_cpm",quantcast:"ix_qua_cpm",rubicon:"ix_rubi_om",sharethrough:"ix_shth_cpm",sonobi:"ix_sbi_om",sovrn:"ix_sovrn_om",triplelift:"ix_tpl_cpm",trustx:"ix_trstx_cpm",indexExchange:"IOM",ix:"IOM",undertone:"ix_undr_cpm"};function t(e){return(100*parseFloat(e)).toFixed()}for(var n in e)pr.bidderSettings[n]={adserverTargeting:[{key:e[n],val:function(e){var n=pr.getConfig().priceGranularity;return"auto"===n?e.size+"_"+t(e.pbAg):"dense"===n?e.size+"_"+t(e.pbDg):"low"===n?e.size+"_"+t(e.pbLg):"medium"===n?e.size+"_"+t(e.pbMg):"high"===n?e.size+"_"+t(e.pbHg):"custom"===n?e.size+"_"+t(e.pbCg):e.size+"_"+t(e.pbHg)}}]}}(),(n=d.Y.fireEvent("provideSChainConfig"))&&pr.que.push((function(){try{if(!window[n.prebidVariable].getConfig("schain"))throw new Error("Could not find publisher's schain in their prebid variable - use manual fallback.");pr.setConfig({schain:window[n.prebidVariable].getConfig("schain")})}catch(t){try{var e=n.manualFallback||{};pr.setConfig({schain:{validation:"strict",config:{ver:"1.0",complete:null!==e.complete&&void 0!==e.complete?e.complete:1,nodes:[{asi:e.asi,sid:e.sid,hp:null!==e.hp&&void 0!==e.hp?e.hp:1}]}}})}catch(e){gr.errorf(null,"setPublisherSChain: error within manual fallback cpbjs.setConfig(): %o",e)}}})),d.Y.fireEvent("prebidDoneInit",{cpbjs:pr})};function wr(){return window.pbjs&&window.pbjs.onEvent}function vr(e){try{window.pbjs.onEvent("beforeRequestBids",(function(e){var t=window.pbjs.adUnits||[],n=t.map((function(e){return e.code})),i=e.filter((function(e){return!n.includes(e.code)}));i.length>0&&(window.pbjs.adUnits=[].concat(Qn(t),Qn(i)))})),e&&e()}catch(e){gr.errorf(null,"prebidPostset - listen to pbjs.requestBids: %o",e)}}var br=function(e){if("prebid"===e)return mr},yr=new function(){var e=new l.Z.SubscriptionLayer;this.subscribeForEvent=function(t,n){e.subscribeForEvent(t,n)};this.load=function(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],e.invokeEventCallbacks("preset"),new Promise((function(e,t){var n=document.createElement("script");n.async="true",n.type="text/javascript",n.addEventListener("load",(function(){Promise.all([new Promise((function(e,t){var n=document.createElement("script");n.async="true",n.type="text/javascript",n.addEventListener("load",(function(){e()})),n.addEventListener("error",(function(e){t(e)})),n.src="https://adservice.google.com/adsid/integrator.js?domain="+window.location.hostname+"&upapi=true",(document.head||document.body||document.documentElement).appendChild(n)})),new Promise((function(e,t){var n=!1;try{if(window.googletag&&window.googletag.getVersion){n=!0;var i=document.createElement("script");i.async="true",i.type="text/javascript",i.addEventListener("load",(function(){e()})),i.addEventListener("error",(function(e){t(e)})),i.src="https://securepubads.g.doubleclick.net/gpt/pubads_impl_"+window.googletag.getVersion()+".js?upapi=true",(document.head||document.body||document.documentElement).appendChild(i)}}catch(e){t("error in getting pubads_impl -> "+e)}if(window.googletag._vars_){var r=window.googletag._vars_,o=[21063911,21063048,21063670,21063817,21063671],a=[];for(var s in r){var d=r[s];if("string"==typeof d&&d.indexOf("pubads_impl_")>-1&&!n)try{n=!0;var c=document.createElement("script");c.async="true",c.type="text/javascript",c.addEventListener("load",(function(){e()})),c.addEventListener("error",(function(e){t(e)})),d.indexOf("?")>-1?c.src=d+"&upapi=true":c.src=d+"?upapi=true",(document.head||document.body||document.documentElement).appendChild(c)}catch(e){t("error in getting pubads_impl -> "+e)}else if(Array.isArray(d))try{var l=d.length;if(o)for(;l--;){var u=d[l];o.indexOf(u)>-1&&d.splice(l,1)}if(a)for(var f=0;f<a.length;f++){var h=a[f];-1===d.indexOf(h)&&d.push(h)}}catch(e){console.error("error in adding/removing eids -> "+e)}}}n||t()}))]).then((function(){e()}),(function(e){t(e)}))})),n.addEventListener("error",(function(){t()})),n.src="//www.googletagservices.com/tag/js/gpt.js?upapi=true",(document.head||document.body||document.documentElement).appendChild(n)}))}},_r=__webpack_require__(228),Mr=new l.Z.SubscriptionLayer,Er=!1,Nr=function(e){switch(Er||Er||(Er=!0,yr.subscribeForEvent("preset",(function(){Sr("dfp")})),yr.subscribeForEvent("postset",(function(){Zr("dfp")})),_r.k.subscribeForEvent("preset",(function(){Sr("prebid")})),_r.k.subscribeForEvent("postset",(function(){Zr("prebid")}))),e){case"dfp":yr.load();break;case"prebid":_r.k.load()}},Dr=function(e,t){Mr.subscribeForEvent(e,t)},Sr=function(e){Mr.invokeEventCallbacks(e)},Tr=function(e,t){Mr.subscribeForEvent(e,t)},Zr=function(e){Mr.invokeEventCallbacks(e)},kr=new vn.Z({prefix:"defaultCreativeBid: "});function xr(e,t){var n=[],i=!1;var r={ad:e.creativeHTML,bidder:"default-creative",bidderId:"default-creative-"+t.unit.space.name,bidderCode:"default-creative",width:e.width,height:e.height},o=new Ln.Bid(r,r,Ln.Bid.Types.DEFAULT_CREATIVE,void 0,(function(t){!function(t){var r=e.height+"px",o=e.width+"px",d=e.creativeHTML,c=document.createElement("div");c.className="default-creative-container",c.style.height=r,c.style.width=o;var l=Vn.whitelistingIFrame.createWhitelistingIFrame();l.className="default-creative-iframe",l.setAttribute("scrolling","no"),l.setAttribute("marginwidth","0"),l.setAttribute("marginheight","0"),l.setAttribute("height",r),l.setAttribute("width",o),c.appendChild(l),l.addEventListener("load",(function e(){try{if(l.removeEventListener("load",e),a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame)l.contentWindow.postMessage(JSON.stringify({message:"Render Secure Creative",ad:d}),"*");else{var t=l.contentWindow.document;if(navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("firefox/")>-1){var r=navigator.userAgent.toLowerCase().match(/firefox\/([\d.]+)/)[1];r&&parseInt(r,10)<67&&t.open("text/html","replace")}t.write(d),t.close()}i=!0,s.Z.forEach(n,(function(e){e()}))}catch(e){kr.errorf(null,"auction: createDefaultCreativeBid: renderDefaultCreative: %o",e)}})),t.appendChild(c)}(t.placement)}),void 0,(function(e){i?e():n.push(e)}),void 0);return o}function zr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ir(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yr=new vn.Z,Rr=new function(){var e,t=!1,n=[],i=[],r=!1;function o(){return window.pbjs&&window.pbjs.adUnits}function c(e){return u(b(e))}function u(t,i){var r=function(){var e=[],t=d.Y.fireEvent("auctionBlockerHook");return t&&e.push(t),e}();return Promise.all(r).then((function(){return function(e){var t=[],n=[];return s.Z.forEach(e,(function(e){var i,r,o=Vn.commonBLUtils.getSpaceElement(e);o&&((i=$i.getByElement(o))||((r=o).alreadyWraped||(hi.hookFunction(r,"setAttribute",hi.Types.SET_ATTRIBUTE_PRE,void 0,!0),r.alreadyWraped=!0),i=new Ln.Unit({element:o,space:e}),d.Y.fireEvent("onNewUnitFound",i),$i.set(i),n.push(i)),i&&i.space==e&&t.push(i))})),function(e){var t=d.Y.fireEvent("newGAMSlotsOnUnitCreation")||{},n=t.AD_UNIT_PATH_PREFIX,i=t.deriveDataFromUnitForSpaces,r=t.slotDataBySpaceName;e.length>0&&(i||r)&&window.googletag.cmd.push((function(){try{e.forEach((function(e){var t,o,a,s=e.unitID,d=e.element,c=e.space,l=i&&i.includes(c.name)&&n,u=r&&r[c.name];if(l||u){if(u){var f=r[c.name]||{};t=f.adUnitPath,o=f.sizes,a=f.slotElementId}!t&&n&&(t="".concat(n).concat(c.name)),o||(o=c.sizes.map((function(e){return e.split("x").map((function(e){return parseInt(e,10)}))})).filter((function(e){return 2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}))),a||(d.id||d.setAttribute("id","bt-unit-".concat(s)),a=d.id),t&&o&&o.length>0&&a&&Pn(t,o,a)}}))}catch(e){Gn.errorf(null,"error defining new GAM slots on Unit creation",e)}}))}(n),t}(t)})).then((function(t){return function(t,i){return new Promise((function(r,o){if(0!==t.length){d.Y.fireEvent("onBeforeInvokeDispatch",{spaces:s.Z.map(t,(function(e){return e.space}))}),function(e){e.forEach((function(e){var t=e.space;d.Y.fireEvent("modifySpacesOnBeforeFetching",{space:t})}))}(t);var c={};i&&(c=i.filteringSettings||{}),function(e,t){return v.apply(this,arguments)}(t,c).then((function(t){try{if(function(e){e&&0!==e.length&&a.Z.upoSettings.amazonBidderConfiguration.enabled&&e.forEach((function(e){var t=e.space;if(t.preBiddingSettings.biddingSettings[a.Z.consts.headerBiddingType.prebid]=t.preBiddingSettings.biddingSettings[a.Z.consts.headerBiddingType.prebid]||[],!t.preBiddingSettings.biddingSettings[a.Z.consts.headerBiddingType.prebid].some((function(e){return"amazon"===e.name}))&&googletag&&googletag.pubads){var n=e.element,i=googletag.pubads().getSlots().find((function(e){return document.getElementById(e.getSlotElementId())===n})),r=i&&i.getAdUnitPath();r&&t.preBiddingSettings.biddingSettings[a.Z.consts.headerBiddingType.prebid].push({id:r+"_amazon_bidder",name:"amazon",params:{pubID:a.Z.upoSettings.amazonBidderConfiguration.pubID,adUnitGPTPath:r}})}}))}(t),r(t||[]),!t||0===t.length)return;var i=s.Z.map(t,(function(e){return e.space}));Vn.movePositionService.dispatch(i);var o=s.Z.map(t,(function(e){return new Ln.Auction({unit:e})}));if(d.Y.fireEvent("onAuctionGroupStarted",o),function(e){s.Z.forEach(e,(function(e){e.state=Ln.Auction.States.DISPATCHED,e.unit.state=Ln.Unit.States.DISPATCHED,n.push(e),e.unit.countOfDispatches++,e.unit.lastInvokeTime=new Date,d.Y.fireEvent("onAuctionStarted",{auction:e})}))}(o),window.__bt_intrnl.stopFlag)return;d.Y.fireEvent("onPrebiddingStarted",o);var c=qi.dispatchHB(o);Promise.all(c).then((function(t){if(d.Y.fireEvent("onPrebiddingEnded",o),!window.__bt_intrnl.stopFlag){var n=qi.dispatchAS(o);s.Z.forEach(n,(function(t,n){t.then((function(t){var n=s.Z.find(o,(function(e){return e.auctionId==t.auctionId})),i=n.getWinningBid();if(i&&i.type===Ln.Bid.Types.PREBID&&0===i.additionalBidsToRender.length&&e.dfp&&n.unit.space.postBiddingSettings.enabled&&n.cancelAuction(),!window.__bt_intrnl.stopFlag){if(localStorage.getItem("forceDefaultCreative")&&(i=void 0),!i){var r=d.Y.fireEvent("getDefaultCreative",{auction:n});r&&(r={width:r.width,height:r.height,creativeHTML:r.creativeHTML},i=xr(r,n),n.addBids([i]))}n.subscribeForEvent("auctionRendered",(function(){n.unit.countOfRenders++,d.Y.fireEvent("onAuctionRendered",{auction:n,bid:i}),d.Y.fireEvent("onAuctionRenderedWebsiteHook",{space:n.unit.space,element:n.unit.element,winningBid:i});var e=n.unit.countOfRenders;!function(e,t){var n,i;if(Ti.has(e))Zi.get(e).push(t);else{var r=new Promise((function(e,t){n=e,i=t}));Ti.set(e,[n,i]),Zi.set(e,[t]),r.then((function(){Zi.get(e).forEach((function(e){return e()}))})).finally((function(){Ti.delete(e),Zi.delete(e)})),xi(e,n,i)}}(n.unit.element,(function(){e==n.unit.countOfRenders&&(d.Y.fireEvent("onAdViewed",{auction:n,bid:i}),d.Y.fireEvent("onAdViewedWebsiteHook",{space:n.unit.space,element:n.unit.element,winningBid:i}))}))})),n.subscribeForEvent("renderBidDone",(function(e){d.Y.fireEvent("onAuctionEnded",{auction:n,bid:e.successfulyRenderedBid&&i}),d.Y.fireEvent("onAuctionEndedWebsiteHook",{element:n.unit.element,bid:e.successfulyRenderedBid&&i})})),n.renderBid(i),n.unit.state=Ln.Unit.States.PENDING,ir.spaceRefreshOnInterval&&ir.spaceRefreshOnInterval({space:n.unit.space,unitDispatchCount:n.unit.countOfDispatches})}}))}))}}))}catch(e){Yr.errorf(null,"recovery: filterUnits %o",e)}}))}else r([])}))}(t,i)})).then((function(e){return e.map((function(e){return e.space}))}))}function f(e){var t='[id="'.concat(e,'"]'),n=l.Z.commonUtils.getElementWithSelector(t);if(n){var i=$i.getByElement(n);return i?i.space:b().find((function(e){var t=Vn.commonBLUtils.getSpaceElement(e);return t&&t===n}))}}this.invoke=function(h){if(!window.__bt_intrnl.stopFlag&&!t){t=!0,e=h.settings||{};var p,w,v=Mi.set(h.spaces);r=d.Y.fireEvent("alwaysFilterByGoogletagSlots")||a.Z.upoSettings.amazonBidderConfiguration.enabled,function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t]){var n=[],i=[],r=lr(t),o=br(t);r&&n.push(r),o&&i.push(o);var a=d.Y.fireEvent("thirdPartyModulePreset",{type:t}),c=d.Y.fireEvent("thirdPartyModulePostset",{type:t});a&&n.push(a),c&&i.push(c),s.Z.forEach(n,(function(e){Dr(t,e)})),s.Z.forEach(i,(function(e){Tr(t,e)})),Nr(t)}}(e),(e.dfp||r)&&(p=window.googletag&&window.googletag.cmd.unshift?"unshift":"push",window.googletag.cmd[p]((function(){var e=window.googletag.defineSlot;if(window.googletag.defineSlot=function(t,n,i){var r=e(t,n,i);return setTimeout((function(){if(r){if(Kn(r))return;g(r)}}),0),r},d.Y.fireEvent("overrideDefineOutOfPageSlot")){var t=window.googletag.defineOutOfPageSlot;window.googletag.defineOutOfPageSlot=function(e,n){var i=t(e,n);return setTimeout((function(){if(i){if(Kn(i))return;g(i)}}),0),i}}}))),window.googletag.cmd.push((function(){var e=window.googletag.pubads().getSlots();s.Z.forEach(e,(function(e){Kn(e)}))})),w=Mi.getAll(),d.Y.fireEvent("listenToNewSpaces",{spaces:w,callback:function(e){if(e){for(var t=0;t<e.length;t++){var n=e[t],i=n&&new Ln.Space(n);Mi.set(i)}c()}}}),(i=d.Y.fireEvent("movePositionRules")||[])&&i.length>0&&Vn.movePositionService.setMovePositionRules(i),function(){try{history.pushState=(e=history.pushState,function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationChange")),t}),history.replaceState=function(e){return function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationChange")),t}}(history.replaceState),window.addEventListener("popstate",(function(){window.dispatchEvent(new Event("locationChange"))}))}catch(e){Yr.errorf(null,"setupLocationChangeEvent - error: %o",e)}var e}();var b=_i()((function(){c()}),500);ui(b),window.addEventListener("locationChange",(function(){setTimeout(c,1001)})),ir.initialize({invokeSpaces:u,invokeSpacesWithoutUnits:c}),d.Y.addEventListener("websiteHooksGetSpaces",(function(){return Mi.getAll()}));var y=d.Y.fireEvent("scrapePrebidAdUnits");y&&("boolean"==typeof y&&(y={}),function(e){var t,n=e.getAdUnits||o,i=e.filterOutAdUnit,r=e.parseAdUnit,s=e.postParsingAdUnits,d=e.parseInterval||1e3,u=[],f=function(){if((t=n()||[]).length>0){for(var e=[],o=[],d=0;d<t.length;d++){var f=t[d];!f||u.indexOf(f)>=0||(f=JSON.parse(JSON.stringify(f)),!(f=r?r(f):f)||i&&i(f)||(u.push(f),e.push(f)))}if(0===e.length)return;if((e=s?s(e):e).forEach((function(e){if(e){var t=function(e){try{var t,n=function(e){return 2===e.length&&e.every((function(e){return!Array.isArray(e)&&!isNaN(e)}))},i=function(e){return"".concat(e[0],"x").concat(e[1])},r={},o=e.selector||l.Z.commonUtils.escapeSelector("#"+e.code),s=e.sizes;if(s||e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&(s=e.mediaTypes.banner.sizes),!s)return;if(t=n(s)?[i(s)]:s.filter(n).map(i),r.id=e.id,r.id||(r.id="space_"+Un(e.code+"_"+o)),r.id=r.id.substr(0,500),r.name=e.code,r.deviceType=e.deviceType,r.sizes=t,r.selector={position:0,value:o},e.bids){r.preBiddingSettings={enabled:!0,biddingSettings:[]},r.preBiddingSettings.biddingSettings[1]=[];for(var d=0;d<e.bids.length;d++){var c=e.bids[d];c.params=c.params||{};var u="bidder_"+Un(r.id+"_"+c.bidder+"_"+JSON.stringify(c.params).trim());u=u.substr(0,500),r.preBiddingSettings.biddingSettings[1].push({id:u,name:c.bidder,params:c.params})}}else r.preBiddingSettings={enabled:!1};return r.preBiddingSettings.biddingSettings[1]=r.preBiddingSettings.biddingSettings[1].filter((function(e,t){return t===r.preBiddingSettings.biddingSettings[1].findIndex((function(t){return JSON.stringify(t)===JSON.stringify(e)}))})),a.Z.SharedObject.getItem("websiteConfig").dfpEnabled?r.postBiddingSettings={adxId:r.name+"_adx",directId:r.name+"_direct",enabled:!0,type:1,order:[{params:{},adx:{bidderID:r.name+"_adx",testCompliance:!0},direct:{bidderID:r.name+"_direct"}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:r.name+"_adx",testCompliance:!1},direct:{bidderID:r.name+"_direct"}}]}:r.postBiddingSettings={enabled:!1},r}catch(e){Gn.errorf(null,"error in parsing prebid ad unit - err: %o",e)}}(e),n=t&&new Ln.Space(t);if(n)Mi.getSpacesByName(n.name).length>0||o.push(n)}})),0===o.length)return;Mi.set(o),c(o)}};f(),setInterval((function(){f()}),d)}(y)),d.Y.hasEventListener("scrapeGoogletagSlots")&&window.googletag.cmd.push((function(){window.googletag.pubads().getSlots().forEach((function(e){!f(e.getSlotElementId())&&d.Y.fireEvent("scrapeGoogletagSlots",{slot:e})&&Mi.set(m(e))}))})),(e.dfp||r)&&window.googletag.cmd.push((function(){window.googletag.pubads().getSlots().forEach((function(e){g(e)}))})),window.__upo_d.getSpaces=function(){return Mi.getAll()},window.__upo_d.getUnits=function(){return $i.getAll()},window.__upo_d.getAuctions=function(){return n},c(v);var _=1,M=setInterval((function(){15===_&&clearInterval(M),_++,c(v)}),100)}};var h,p=[];function g(e){var t=e.getSlotElementId(),n=e.getAdUnitPath(),i=Mi.getAll(),r=f(t);if(!r){if(d.Y.fireEvent("useSlotPath"))r=Mi.getSpacesByName(n.split("/")[n.split("/").length-1])[0];else{var o=d.Y.fireEvent("customGetSpace",{spaces:i,divId:t,slot:e});o&&(r=s.Z.find(i,(function(e){return e.name==o.name})))}(r=r&&JSON.parse(JSON.stringify(r)))&&(r.selector.value=l.Z.commonUtils.escapeSelector("#"+t),r.name=t,Mi.set(r))}!r&&d.Y.fireEvent("scrapeGoogletagSlots",{slot:e})&&Mi.set(m(e)),r&&p.indexOf(r)<0&&(p.push(r),clearTimeout(h),h=setTimeout((function(){u(p),p=[]}),100))}function m(t){if(t&&!d.Y.fireEvent("shouldIgnoreGoogletagSlotScraping",{slot:t})){var n=t.getSlotElementId(),i=t.getSizes(),r=s.Z.map(i,(function(e){if(e.getWidth)return e.getWidth()+"x"+e.getHeight()}));r=s.Z.filter(r,(function(e){return!!e}));var o="adxId_"+n,c="directId_"+n,u={id:n,name:n,staging:!1,selector:{value:l.Z.commonUtils.escapeSelector("#"+n),position:a.Z.consts.selectorPosition.APPEND_CHILD},sizes:r,preBiddingSettings:{enabled:!0,biddingSettings:{}},postBiddingSettings:{adxId:o,directId:c,enabled:e.dfp,type:1,order:[{params:{},adx:{bidderID:o,testCompliance:!0},direct:{bidderID:c}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:o,testCompliance:!1},direct:{bidderID:c}}]}};return u.preBiddingSettings.biddingSettings[a.Z.consts.headerBiddingType.prebid]=[],new Ln.Space(u)}}var w=[rr,or,ar,sr,dr];function v(){return(v=wi(bi().mark((function t(n,i){var o,a,s,d,c,l;return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o={definedSlotsFilteringSettings:{dfpEnabled:e.dfp,alwaysFilterByGoogletagSlots:r}},i=Or(Or({},o),i),!((a=n.filter((function(e){return e.state===Ln.Unit.States.PENDING}))).length>0)){t.next=27;break}a.forEach((function(e){e.state=Ln.Unit.States.CHECKING})),s=Qn(a),d=zr(w),t.prev=7,d.s();case 9:if((c=d.n()).done){t.next=19;break}return l=c.value,t.next=13,l(a,i);case 13:if(a=t.sent,s=s.filter((function(e){var t=a.includes(e);return t||(e.state=Ln.Unit.States.PENDING),t})),0!==a.length){t.next=17;break}return t.abrupt("break",19);case 17:t.next=9;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(7),d.e(t.t0);case 24:return t.prev=24,d.f(),t.finish(24);case 27:return t.abrupt("return",a);case 28:case"end":return t.stop()}}),t,null,[[7,21,24,27]])})))).apply(this,arguments)}function b(e){var t=e||Mi.getAll();return $i.purgeUnitsWithNoElementOnPage(),t.filter((function(e){return!$i.getBySpace(e)}))}};function Hr(e){return window.location.hostname.indexOf(e)>-1}var Xr={isSite:Hr,isSiteOneOf:function(e){return e.some((function(e){return Hr(e)}))},showElement:function(e){e&&"none"===window.getComputedStyle(e).display&&e.style.setProperty("display","","")},hasClass:function(e,t){if(e&&t)return(" "+e.className+" ").indexOf(" "+t+" ")>-1},removeClass:function(e,t){if(t&&e){var n=new RegExp("\\b"+e+"\\b","g"),i=t.className;i=i.replace(n,""),t.className=i}},addClass:function(e,t){if(t&&e){var n=t.className;n.indexOf(e)>-1||(""!==n&&(e=" "+e),t.className=n+e)}}},jr=new vn.Z({prefix:"main: "});window.__upo_d=window.__upo_d||{},window.__upo_d.v="v2",window.__bt_intrnl=window.__bt_intrnl||{},window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var Vr,Wr={"contentEnabled":true,"mobileContentEnabled":true,"dfpEnabled":true,"spaces":{}},Cr=Wr.spaces||{},Fr="api.btloader.com",Ur=a.Z.upoSettings.staticDomain,Ar=a.Z.upoSettings.recoveryScriptVersion;(window.location.href.indexOf("bt_debug=true")>=0||"true"===window.localStorage.getItem("bt_debug"))&&(Wr.dfpEnabled="true"===localStorage.getItem("forceGAM")||Wr.dfpEnabled,Wr.mobileContentEnabled="true"===localStorage.getItem("forceMobileContent")||Wr.mobileContentEnabled,Wr.contentEnabled="true"===localStorage.getItem("forceContent")||Wr.contentEnabled);var Lr,Gr={websiteData:Wr,scriptSettings:ci,apiDomain:Fr,staticDomain:Ur,websiteID:"5734659600154624",organizationID:"5714937848528896",dfpEnabled:Wr.dfpEnabled,prebidEnabled:!1,mobileContentEnabled:Wr.mobileContentEnabled,contentEnabled:Wr.contentEnabled,recoveryScriptVersion:Ar};window.__upo_d.websiteConfig=Gr,a.Z.SharedObject.setItem("websiteConfig",Gr);var Pr=function(){return{browser:qn.Xh(),device:qn.Uh(),platform:qn.Jv(),isMobile:qn.tq()}};var Kr=function(){qr(window),eo(),Vn.whitelistingIFrame.setupWhitelistingIFrameSettings().then(Qr),d.Y.fireEvent("clearSpaces")&&(Cr=[]),Jr()},Jr=function(){var e=s.Z.map(Cr,(function(e){return e})),t=d.Y.fireEvent("customSpacesFilter",{spaces:e});t&&(Cr=s.Z.filter(Cr,(function(e){return s.Z.find(t,(function(t){return t.id==e.id}))})))},Qr=function(){var e=Vn.whitelistingIFrame.createWhitelistingIFrame();e.addEventListener("load",(function(){Vr=e,a.Z.SharedObject.setItem("whitelistingIFrame",Vr),d.Y.fireEvent("whitelistingIFrameLoaded",{whitelistingIFrame:Vr})})),e.style.width="0px",e.style.height="0px",e.style.display="none",document.body?document.body.appendChild(e):window.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(e)}))},qr=function(e){e&&function(e,t){if(e.grumi){var n=document.createElement("iframe");n.style="display:none;width:1px;height:1px;",n.addEventListener("load",(function(){n.done||(e.Node.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,e.HTMLElement.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,t())})),li((function(){if(document.body.appendChild(n),n.contentWindow)return n.done=!0,e.Node.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,e.HTMLElement.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,void t()}))}else t()}(e,(function(){try{e.XMLHttpRequest&&hi.hookFunction(e.XMLHttpRequest.prototype,"open",hi.Types.XHR_OPEN_PRE,void 0,!0),hi.hookFunction(e,"fetch",hi.Types.FETCH_PRE,void 0,!0),e.HTMLElement&&hi.hookFunction(e.HTMLElement.prototype,"insertBefore",hi.Types.INSERT_BEFORE_PRE,void 0,!0),e.HTMLElement&&hi.hookFunction(e.HTMLElement.prototype,"appendChild",hi.Types.APPEND_CHILD_PRE,hi.Types.APPEND_CHILD_POST,!0),e.HTMLImageElement&&hi.hookFunction(e.HTMLImageElement.prototype,"setAttribute",hi.Types.IMG_SET_ATTRIBUTE_PRE,void 0,!0),hi.hookFunction(e,"open",hi.Types.WIN_OPEN_PRE,void 0,!0),e.HTMLElement&&hi.hookPropertySetter(e.HTMLElement.prototype,"innerHTML",hi.Types.HTML_ELEMENT_INNERHTML_PRE,void 0,!0),e.HTMLElement&&hi.hookFunction(e.HTMLElement.prototype,"hasChildNodes",hi.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,void 0,!0),$r(e)}catch(e){jr.errorf(null,"`createHooksOnWindow` - %o",e)}}))},$r=function(e){for(var t=a.Z.consts.htmlElements,n=0;n<t.length;n++)e[t[n]]&&hi.hookPropertySetter(e[t[n]].prototype,"src",hi.Types.HTML_SRC_PROP_PRE,void 0,!0)},eo=function(){hi.addEventListener(hi.Types.HTML_SRC_PROP_PRE,(function(e){var t=e.data;if("object"===(0,o.Z)(t[0])&&t[0].toString&&(t[0]=t[0].toString()),l.Z.urlValidations.isWhitelistURL(t[0],this.tagName))t[0]=l.Z.addAcceptableParam(t[0]);else if(l.Z.urlValidations.isSyncUrl(t[0],this.tagName)&&Vr){if(a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame){var n="new window.Image().src = '"+t[0]+"'";return Vr.contentWindow.postMessage({type:"eval",code:n},"*"),t[0]}return(new Vr.contentWindow.Image).src=t[0]}})),hi.addEventListener(hi.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,(function(e){try{if(s.Z.hasClass(this,"up-show"))return!1;if(this.childNodes&&this.childNodes.length>0){for(var t=!1,n=0;n<this.children.length;n++)if(s.Z.hasClass(this.children[n],"up-show")){t=!0;break}if(t)return!1}}catch(e){jr.errorf(null,"`hasChildNodes` hook - %o",e)}})),hi.addEventListener(hi.Types.HTML_ELEMENT_INNERHTML_POST,(function(e){if(this&&this.classList&&"adsbygoogle"===this.classList[0]){var t=this.querySelector("iframe"),n=t.contentWindow;"about:blank"!==t.src&&""!==t.src||qr(n);var i=n.document.write;n.document.write=function(e){e&&e.indexOf("show_ads_impl.js")>-1&&(e=l.Z.addAcceptableParam(e)),i.call(this,e)}}})),hi.addEventListener(hi.Types.XHR_OPEN_PRE,(function(e){var t=e.data;l.Z.urlValidations.isWhitelistURL(t[1],"SCRIPT")&&(t[1]=l.Z.addAcceptableParam(t[1]))})),hi.addEventListener(hi.Types.IMG_SET_ATTRIBUTE_PRE,(function(e){var t=e.data;if("srcset"===t[0].toLowerCase()){this.src&&l.Z.urlValidations.isWhitelistURL(this.src,this.tagName)&&(this.src=l.Z.addAcceptableParam(this.src));for(var n=t[1].split(","),i=0;i<n.length;i++){var r=n[i],o=(r=r.trim()).split(" ")[0],a=r.split(" ")[1]||"";l.Z.urlValidations.isWhitelistURL(o,this.tagName)&&(r=l.Z.addAcceptableParam(o)+" "+a,n[i]=r)}t[1]=n.join(",")}else"src"===t[0].toLowerCase()&&l.Z.urlValidations.isWhitelistURL(t[1],this.tagName)&&(t[1]=l.Z.addAcceptableParam(t[1]))})),hi.addEventListener(hi.Types.INSERT_BEFORE_PRE,(function(e){var t=e.data;d.Y.fireEvent("InsertBeforeWebsiteHooksIntercept",{element:t[0]}),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&l.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=l.Z.addAcceptableParam(t[0].src)),"LINK"===t[0].tagName&&t[0].href&&l.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=l.Z.addAcceptableParam(t[0].href))})),hi.addEventListener(hi.Types.APPEND_CHILD_PRE,(function(e){var t=e.data;if(t[0]&&t[0].src&&0===t[0].src.indexOf("blob:"))e.shouldStop=!0;else{if(t[0].children&&t[0].children.length>0)for(var n=0;n<t[0].children.length;n++){var i=t[0].children[n];if(i.src&&l.Z.urlValidations.isWhitelistURL(i.src,i.tagName)&&(i.src=l.Z.addAcceptableParam(i.src)),i.src&&l.Z.urlValidations.isSyncUrl(i.src,i.tagName)&&Vr){if(a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame){var r="new Image().src = '"+t[0].src+"'";return Vr.contentWindow.postMessage({type:"eval",code:r},"*"),t[0]}return Vr.contentDocument.body.appendChild(t[0])}}if("LINK"===t[0].tagName&&t[0].href&&l.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=l.Z.addAcceptableParam(t[0].href)),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&l.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=l.Z.addAcceptableParam(t[0].src)),l.Z.urlValidations.isSyncUrl(t[0].src,t[0].tagName)&&Vr){if(a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame){var o="new Image().src = '"+t[0].src+"'";return Vr.contentWindow.postMessage({type:"eval",code:o},"*"),t[0]}return Vr.contentDocument.body.appendChild(t[0])}}})),hi.addEventListener(hi.Types.APPEND_CHILD_POST,(function(e){var t=e.data;"IFRAME"!==t.tagName||"about:blank"!==t.src&&""!==t.src||qr(t.contentWindow)})),hi.addEventListener(hi.Types.WIN_OPEN_PRE,(function(e){if(e.data[0]&&(e.data[0].indexOf("clickout.sharethrough.com")>-1||e.data[0].indexOf("3lift.com/pass")>-1)&&Vr&&!a.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame)return Vr.contentWindow.open(e.data[0])})),hi.addEventListener(hi.Types.SET_ATTRIBUTE_PRE,(function(e){var t=e.data[0],n=e.data[1];"class"===t&&this.className.indexOf("up-show")>=0&&n.indexOf("up-show")<0&&(e.data[1]=e.data[1]+" up-show")}))},to=function(){window.uponit=window.uponit||{que:[]},window.uponit.addModifier=function(e,t){window.uponit.modifiers=window.uponit.modifiers||{},window.uponit.modifiers[e]=window.uponit.modifiers[e]||[],window.uponit.modifiers[e].push(t)};for(var e=0;e<window.uponit.que.length;e++){var t=window.uponit.que[e];try{t()}catch(e){jr.errorf(null,"window.uponit.que - %o",e)}}window.uponit.que.push=function(e){e()}},no=function(e){var t=Object.entries(e).map((function(e){var t=r(e,2),n=t[0],i=t[1],o={};o.id=n,o.name=i.name,o.staging=i.staging,o.deviceType=i.device_type,o.selector={position:i.selector.position,value:i.selector.value},o.sizes=i.sizes;var a=i.prebids&&Object.keys(i.prebids).length>0;return o.preBiddingSettings={enabled:a,biddingSettings:{}},a&&(o.preBiddingSettings.biddingSettings[1]=[],Object.entries(i.prebids).forEach((function(e){var t=r(e,2),n=t[0],i=t[1],a={id:n,name:i.bidder,params:i.params};o.preBiddingSettings.biddingSettings[1].push(a)}))),o.postBiddingSettings={adxId:i.adx,directId:i.direct,enabled:Gr.dfpEnabled&&"0"!=i.adx,type:1,order:[{params:{},adx:{bidderID:i.adx,testCompliance:!0},direct:{bidderID:i.direct}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:i.adx,testCompliance:!1},direct:{bidderID:i.direct}}]},[n,o]}));return Object.fromEntries(t)},io=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i.id=n;var r=new Ln.Space(i);t.push(r)}return t};!function(){if(!window.uponitAlreadyLoaded){window.uponitAlreadyLoaded=!0,m.init(Fr,{secure:!0});try{gi.init(),Zn.Verifications.run(),Zn.Report.init()}catch(e){jr.errorf(null,"init - initializing log, verification, and report layers - %o",e)}Lr=Pr(),window.__upo_d.isMobile=Lr.isMobile;var e,t={browser:Lr.browser,device:Lr.device,platform:Lr.platform,isMobile:Lr.isMobile};d.Y.addEventListener("getUserEnvDataWebsiteHooks",(function(){return t})),window.__upo_d.userEvnData=t,function(){try{window.__tcfapi("addEventListener",0,(function(e,t){if(!t||"useractioncomplete"!==e.eventStatus&&"tcloaded"!==e.eventStatus){if(!t){var n="Unable to attach event listener. tcfapi does not adhere to IAB spec. ";n+="listenerSuccess: "+t+". ",e&&(n+="eventStatus: "+e.eventStatus+"."),d.Y.fireEvent("consentData",{error:{message:n}})}}else d.Y.fireEvent("consentData",{tcData:e})}))}catch(e){d.Y.fireEvent("consentData",{error:e})}}(),function(){try{var e=new vn.Z({prefix:"hook: "});window.eval.call(window,"(function (CustomEvents, websiteConfig, lg, hookUtils) {\n"+atob("Ly8gRnJlZXN0YXIgd2Vic2l0ZXMgY2FuIGhhdmUgZWl0aGVyIEZyZWVzdGFyIChgZnNwcmViaWRgKSBvciBTb3J0YWJsZSAoYHBianNTb3J0YWJsZWApIFByZWJpZCB2YXJpYWJsZQovLyBkZXBlbmRpbmcgb24gdGhpcyB3ZSBhcHBseSBkaWZmZXJlbnQgc2V0dGluZ3MKCkN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCdwcmViaWREb25lSW5pdCcsIGZ1bmN0aW9uIChldmVudCkgewogIC8vIFNldCB1cCBQRyBmb3IgU29ydGFibGUgd2Vic2l0ZXMgb25seSBbQU0tMjc1N10KICAvLyBUT0RPOiByZW1vdmUgYGlzU2l0ZSgnbG9zdGFuZHRha2VuLmNvbScpYCB3aGVuIGRlcGxveSBPcmctd2lkZSAtIGl0J3MgdXNlZCB0ZW1wb3JhcnkgZm9yIFFBIHB1cnBvc2VzCiAgaWYgKGhvb2tVdGlscy5pc1NpdGUoJ2xvc3RhbmR0YWtlbi5jb20nKSAmJiB3aW5kb3cucGJqc1NvcnRhYmxlKSB7CiAgICB2YXIgY3BianMgPSBldmVudC5kYXRhLmNwYmpzOwogICAgY3BianNbJ3F1ZSddLnB1c2goZnVuY3Rpb24gKCkgewogICAgICBjcGJqc1snc2V0Q29uZmlnJ10oewogICAgICAgIHByaWNlR3JhbnVsYXJpdHk6IHsKICAgICAgICAgIGJ1Y2tldHM6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgIGluY3JlbWVudDogMC4wMSwKICAgICAgICAgICAgICBtYXg6IDMsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBpbmNyZW1lbnQ6IDAuMDIsCiAgICAgICAgICAgICAgbWF4OiA4LAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgaW5jcmVtZW50OiAwLjA1LAogICAgICAgICAgICAgIG1heDogMTIsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBpbmNyZW1lbnQ6IDAuMSwKICAgICAgICAgICAgICBtYXg6IDMwLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgaW5jcmVtZW50OiAxLAogICAgICAgICAgICAgIG1heDogMTAwLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgaW5jcmVtZW50OiAxMCwKICAgICAgICAgICAgICBtYXg6IDMwMCwKICAgICAgICAgICAgfSwKICAgICAgICAgIF0sCiAgICAgICAgfSwKICAgICAgfSk7CiAgICB9KTsKICB9Cn0pOwoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ3NjcmFwZVByZWJpZEFkVW5pdHMnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICBldmVudC5ob29rRmlsZURhdGEgPSB7CiAgICBnZXRBZFVuaXRzOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChob29rVXRpbHMuaXNTaXRlKCdsb3N0YW5kdGFrZW4uY29tJykpIHsKICAgICAgICByZXR1cm4gKAogICAgICAgICAgKHdpbmRvdy5mc3ByZWJpZCAmJiB3aW5kb3cuZnNwcmViaWQuYWRVbml0cykgfHwKICAgICAgICAgICh3aW5kb3cucGJqc1NvcnRhYmxlICYmIHdpbmRvdy5wYmpzU29ydGFibGUuYWRVbml0cykKICAgICAgICApOwogICAgICB9CgogICAgICByZXR1cm4gd2luZG93LmZzcHJlYmlkICYmIHdpbmRvdy5mc3ByZWJpZC5hZFVuaXRzOwogICAgfSwKICAgIHBhcnNlQWRVbml0OiBwYXJzZUFkVW5pdCwKICAgIGZpbHRlck91dEFkVW5pdDogZmlsdGVyT3V0QWRVbml0LAogIH07CiAgLy8gcmV0dXJuIHVuZGVmaW5lZCBzbyB0aGF0IHNjcmlwdCBzZXR0aW5ncyBldmVudCBsaXN0ZW5lciBpcyBjYWxsZWQKfSk7Cgp2YXIgcGFyc2VBZFVuaXQgPSBmdW5jdGlvbiAoYWRVbml0KSB7CiAgLy8gVE9ETzogcmVtb3ZlIGBpc1NpdGUoJ2xvc3RhbmR0YWtlbi5jb20nKWAgd2hlbiBkZXBsb3kgT3JnLXdpZGUgLSBpdCdzIHVzZWQgdGVtcG9yYXJ5IGZvciBRQSBwdXJwb3NlcwogIC8vIFBhcnNlIFNvcnRhYmxlIGFkIHVuaXRzIFtBTS0yNzU3XQogIGlmIChob29rVXRpbHMuaXNTaXRlKCdsb3N0YW5kdGFrZW4uY29tJykgJiYgd2luZG93LnBianNTb3J0YWJsZSkgewogICAgLy8gTWFwIGFkIHVuaXRzIHRvIHRoZSBjb3JyZWN0IERJVnMsIFB1YiBoYXMgZHluYW1pYyBESVYgSURzIGFuZCB0aGV5IGFyZSBzdG9yZWQgaW4gYGFkVW5pdC5fc3J0SWRgCiAgICBhZFVuaXQuY29kZSA9IGFkVW5pdC5fc3J0SWQ7CiAgICByZXR1cm4gYWRVbml0OwogIH0KCiAgLy8gUGFyc2UgRnJlZXN0YXIgYWQgdW5pdHMgW0FNLTI3NTddCiAgdmFyIGNvZGVQYXJ0cyA9IGFkVW5pdC5jb2RlICYmIGFkVW5pdC5jb2RlLnNwbGl0KCcvJyk7CgogIGFkVW5pdC5jb2RlID0gY29kZVBhcnRzW2NvZGVQYXJ0cy5sZW5ndGggLSAxXTsKICBhZFVuaXQuc2VsZWN0b3IgPSAnW2lkPSInICsgYWRVbml0LmNvZGUgKyAnIl0nOwoKICAvLyBSZW1vdmUgM2xpZnQgbW9iaWxlIGJpZGRlciB3aGVuIHJ1bm5pbmcgdGhlIHNjcmlwdCBpbiBhIGRlc2t0b3AgYnJvd3NlcgogIGlmIChhZFVuaXQuYmlkcyAmJiAhd2luZG93WydfX3Vwb19kJ11bJ2lzTW9iaWxlJ10pIHsKICAgIGFkVW5pdC5iaWRzID0gYWRVbml0LmJpZHMuZmlsdGVyKGZ1bmN0aW9uIChiaWRTZXR0aW5ncykgewogICAgICByZXR1cm4gISgKICAgICAgICBiaWRTZXR0aW5ncy5wYXJhbXMgJiYKICAgICAgICBiaWRTZXR0aW5ncy5wYXJhbXMuaW52ZW50b3J5Q29kZSAmJgogICAgICAgIGJpZFNldHRpbmdzLnBhcmFtcy5pbnZlbnRvcnlDb2RlLmluZGV4T2YoJ21vYmlsZScpICE9PSAtMQogICAgICApOwogICAgfSk7CiAgfQoKICAvLyBbQU0tNTUxXSAtIFJlbW92ZSBiaWRzIHdpdGggOTcweDI1MCBzaXplIGlubmVyIGNvbmZpZ3VyYXRpb24gZnJvbSB0aGUgYWRVbml0IC0gb25seSBmb3Igc2hhcmV0aHJvdWdoIGFuZCB0cmlwbGVsaWZ0IGJpZHMKICBhZFVuaXQgPSByZW1vdmVTaGFyZXRocm91Z2hBbmRUcmlwbGVsaWZ0OTcweDI1MEJpZHMoYWRVbml0KTsKCiAgcmV0dXJuIGFkVW5pdDsKfTsKCi8vIFtBTS01NTFdIC0gUmVtb3ZlIGJpZHMgd2l0aCA5NzB4MjUwIHNpemUgaW5uZXIgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBhZFVuaXQgLSBvbmx5IGZvciBzaGFyZXRocm91Z2ggYW5kIHRyaXBsZWxpZnQgYmlkcwpmdW5jdGlvbiByZW1vdmVTaGFyZXRocm91Z2hBbmRUcmlwbGVsaWZ0OTcweDI1MEJpZHMoYWRVbml0KSB7CiAgdHJ5IHsKICAgIHZhciBiaWRkZXJzID0gW107CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFkVW5pdC5iaWRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBiaWQgPSBhZFVuaXQuYmlkc1tpXTsKICAgICAgaWYgKAogICAgICAgIChiaWQuYmlkZGVyID09PSAndHJpcGxlbGlmdCcgfHwgYmlkLmJpZGRlciA9PT0gJ3NoYXJldGhyb3VnaCcpICYmCiAgICAgICAgYmlkLnNpemUgJiYKICAgICAgICBiaWQuc2l6ZVswXSAmJgogICAgICAgIGJpZC5zaXplWzBdWzBdID09PSA5NzAgJiYKICAgICAgICBiaWQuc2l6ZVswXVsxXSA9PT0gMjUwCiAgICAgICkgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICAgIGJpZGRlcnMucHVzaChiaWQpOwogICAgfQogICAgYWRVbml0LmJpZHMgPSBiaWRkZXJzOwogIH0gY2F0Y2ggKGUpIHsKICAgIGxnLmVycm9yZihudWxsLCAnZXJyb3IgcmVtb3ZpbmcgYmlkIGZyb20gYWQgdW5pdDogJW8nLCBlKTsKICB9CiAgcmV0dXJuIGFkVW5pdDsKfQoKLy8gZGVjbGFyZWQgaGVyZSwgYW5kIGRlZmluZWQgaW4gYSBGcmVlc3RhciB3ZWJzaXRlIGhvb2sgZmlsZSBpZiBkZXNpcmVkCi8vIGF2b2lkIHVzaW5nIGB3ZWJzaXRlSG9va0ZpbHRlck91dEFkVW5pdGAgaW4gZmF2b3Igb2YgU2V0dGluZ3MKdmFyIHdlYnNpdGVIb29rRmlsdGVyT3V0QWRVbml0OwpmdW5jdGlvbiBmaWx0ZXJPdXRBZFVuaXQoYWRVbml0KSB7CiAgLy8gRmlsdGVyIG91dCBhZCB1bml0IGlmIHRoaXMgZnVuY3Rpb24gaXMgZGVmaW5lZCBpbiBhIEZyZWVzdGFyIHdlYnNpdGUgaG9vayBmaWxlICh0byBhdm9pZCBhZGRpbmcgdGhhdCBsb2dpYyBoZXJlIGFuZCBncm93aW5nIHRoZSBvcmcgaG9vayBmaWxlKQogIGlmICh3ZWJzaXRlSG9va0ZpbHRlck91dEFkVW5pdCkgewogICAgcmV0dXJuIHdlYnNpdGVIb29rRmlsdGVyT3V0QWRVbml0KGFkVW5pdCk7CiAgfQp9CgovLyBFeHRlbmQgdGhpcyBvcmcgaG9vayB3aXRoIGBnZXRTaXplc1RvUmVtb3ZlRm9yU3BhY2VPbldlYnNpdGVgIHdoaWNoIGNhbiBiZSBkZWZpbmVkIGFzIGEgZnVuY3Rpb24gaW4gYW55IHdlYnNpdGUgaG9vawovLyBhdm9pZCB1c2luZyBgZ2V0U2l6ZXNUb1JlbW92ZUZvclNwYWNlT25XZWJzaXRlYCBpbiBmYXZvciBvZiBTZXR0aW5ncwp2YXIgZ2V0U2l6ZXNUb1JlbW92ZUZvclNwYWNlT25XZWJzaXRlOwpDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcignc2l6ZXNUb1JlbW92ZUJ5U3BhY2UnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICB2YXIgc3BhY2VOYW1lID0gZXZlbnQuZGF0YS5zcGFjZU5hbWU7CgogIGV2ZW50Lmhvb2tGaWxlRGF0YSA9IGdldFNpemVzVG9SZW1vdmVGb3JTcGFjZU9uV2Vic2l0ZQogICAgPyBnZXRTaXplc1RvUmVtb3ZlRm9yU3BhY2VPbldlYnNpdGUoc3BhY2VOYW1lKQogICAgOiBbXTsKICAvLyByZXR1cm4gdW5kZWZpbmVkIHNvIHRoYXQgc2NyaXB0IHNldHRpbmdzIGV2ZW50IGxpc3RlbmVyIGlzIGNhbGxlZAp9KTsKCmlmICh3aW5kb3cuZnJlZXN0YXIgJiYgd2luZG93LmZyZWVzdGFyLmZzZGF0YSAmJiB3aW5kb3cuZnJlZXN0YXIuZnNkYXRhLnNpdGVJZCkgewogIEN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCdwcm92aWRlU0NoYWluQ29uZmlnJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICByZXR1cm4gewogICAgICBwcmViaWRWYXJpYWJsZTogJ2ZzcHJlYmlkJywKICAgICAgbWFudWFsRmFsbGJhY2s6IHsKICAgICAgICBhc2k6ICdmcmVlc3Rhci5pbycsCiAgICAgICAgc2lkOiB3aW5kb3cuZnJlZXN0YXIuZnNkYXRhLnNpdGVJZC50b1N0cmluZygpLAogICAgICB9LAogICAgfTsKICB9KTsKfQoKLy8gUmVzZXQgWE1MSHR0cFJlcXVlc3QgYmFjayB0byBuYXRpdmUgaW1wbGVtZW50YXRpb24gaWYgcHViIGhhcyBvdmVyd3JpdHRlbiBpdCBbTWF5IDggMjAyMCArIEFNLTEzMDggKyBBTS0yMzgwXQppZiAoCiAgaG9va1V0aWxzLmlzU2l0ZU9uZU9mKFsKICAgICdpbm5lcnN0cmVuZ3RoLnpvbmUnLAogICAgJ2Jyb2FkY2FzdHRyaXZpYS5jb20nLAogICAgJ3RoZXRyaXZpYWJ1ZmYuY29tJywKICAgICdkYWlseXN0ZWFscy5jb20nLAogIF0pCikgewogIHRyeSB7CiAgICB2YXIgbmF0aXZlWE1MSHR0cFJlcXVlc3RJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHdpbmRvdy5YTUxIdHRwUmVxdWVzdC50b1N0cmluZygpLmluZGV4T2YoJ25hdGl2ZSBjb2RlJykgPT09IC0xKSB7CiAgICAgICAgdmFyIGlmciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaWZyKTsKICAgICAgICBpZnIuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpOwogICAgICAgIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCA9IGlmci5jb250ZW50V2luZG93LlhNTEh0dHBSZXF1ZXN0OwogICAgICAgIGNsZWFySW50ZXJ2YWwobmF0aXZlWE1MSHR0cFJlcXVlc3RJbnRlcnZhbCk7CiAgICAgIH0KICAgIH0sIDMwMCk7CiAgfSBjYXRjaCAoZSkgewogICAgbGcuZXJyb3JmKG51bGwsICdlcnJvciByZXNldHRpbmcgaWZyYW1lOiAlbycsIGUpOwogIH0KfQoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ2tlZXBCVERvbWFpbldoaXRlbGlzdGluZ0lGcmFtZScsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdHJ1ZTsKfSk7Cgp2YXIgc3R5bGVFbGVtZW50Owp2YXIgc3R5bGVSdWxlcyA9IFsKICAnI2ZzLXN0aWNreS1icmFuZGluZy1lbG0sIC51cC1zaG93ID4gLmZzLWJyYW5kaW5nLWVsbSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfScsCiAgLy8gQWQgY29udGFpbmVyICguYWhvdmVyIG9yICNnb29nbGVfYWRzX2lmcmFtZV8vLi4uIGRpdikgaGFzIHRoZWlyIHN0eWxlcyB3ZSBzZXQgZXJhc2VkIGZvciBmb290ZXIgdW5pdHMsIG5lZWQgdGhpcyBzdHlsZSB0byBjZW50ZXIgdGhlIGFkIGxhYmVsKQogICcudXAtc2hvdyA+IC5haG92ZXIsIC51cC1zaG93ID4gW2lkXj0iZ29vZ2xlX2Fkc19pZnJhbWVfIl0geyBwb3NpdGlvbjogcmVsYXRpdmU7IH0nLAogIC8vIEVuc3VyZSBpZiBIQiB3aW5zIGFuZCBHQU0gaXMgZW5hYmxlZCwgdGhhdCB0aGUgMXgxIEdBTSBhZCBpZnJhbWUgd2UgcmVuZGVyIHVuZGVybmVhdGggdGhlIEhCIGFkIGNyZWF0aXZlIGRvZXNuJ3QgYWRkIGV4dHJhIHNwYWNlIHRvIHRoZSBmb290ZXIgW0FNLTQ5OV0KICAvLyAoRm9yIGFuIGV4cGxhbmF0aW9uIG9uIHdoeSB3ZSByZW5kZXIgdGhpcyAxeDEgaWZyYW1lIC0gc2VlIGByZWNvdmVyeS5qc2AgbGluZSA4MzEgKHdoZXJlIHdlIHByb2Nlc3MgdGhlIEFkIFNlcnZlciAoR0FNKSBhdWN0aW9uIHJlc3BvbnNlcykpCiAgJyNzbG90LWZvb3Rlci13cmFwcGVyIHsgaGVpZ2h0OiBhdXRvOyBsaW5lLWhlaWdodDogMXB4IH0nLApdLmpvaW4oJyAnKTsKCnN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CnN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IHN0eWxlUnVsZXM7Cihkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpOwoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ2FtYXpvbkJpZGRlckNvbmZpZ3VyYXRpb24nLCBmdW5jdGlvbiAoZXZlbnQpIHsKICByZXR1cm4gewogICAgcHViSUQ6ICcwYWIxOThkZC1iMjY1LTQ2MmEtYWUzNi03NGUxNjNhZDYxNTknLAogIH07Cn0pOwoKd2luZG93LnVwb19hbXpuID0gewogIGFtYXpvbkNQTUNoYXJ0OiB7CiAgICAxNjg3NDAwOiA2LjE1LAogICAgJzFwcHdsNHcnOiAwLjA1LAogICAgJzF1NXEzOWMnOiAwLjA5LAogICAgJzFsYTMzMGcnOiAwLjEzLAogICAgJzF3ZG11YmsnOiAwLjE3LAogICAgJzEzcWFyazAnOiA2LjU1LAogICAgJzF6dHppOCc6IDYuNywKICAgIHRxcGRzMDogNi44LAogICAgZTdjNGNnOiA2LjksCiAgICBpbjVtZ3c6IDcsCiAgICAnMXk5MjNuayc6IDcuMDUsCiAgICB3aWxibHM6IDcuMiwKICAgICcxbjVpY2NnJzogNy4yNSwKICAgIG9xd293MDogNy40LAogICAgJzJqdDY5cyc6IDcuNSwKICAgIHF5dGZ5ODogNy42LAogICAgJzE4MTRnemsnOiA3Ljc1LAogICAgbHUweWRjOiA3LjgsCiAgICAnMWE5MTgxcyc6IDcuOTUsCiAgICBxanUxdms6IDksCiAgICB0YnB6cGM6IDEwLAogICAgbDZheDM0OiAxMSwKICAgIGZ3aW10YzogMTIuNSwKICAgICc3enU3ZW8nOiAxMy41LAogICAgYzVvNDVjOiAxNC41LAogICAgJzN3aTcwZyc6IDE1LjUsCiAgICBkYzRlMHc6IDE2LjUsCiAgICAnNXVmY293JzogMTcuNSwKICAgIGs0dWZ3ZzogMTksCiAgICB3bWM2NGc6IDIwLAogICAgc29tZmk4OiAyMiwKICAgIHhqZmJwYzogMjQsCiAgICBseWU5ejQ6IDI3LAogICAgdmUwZ3prOiAyOCwKICAgIGpocXZwYzogMzEsCiAgICB6YjNxaW86IDMyLAogICAgbDBvbmI0OiAzNSwKICAgIHE3Y2s1YzogMC4wNCwKICAgIHVuNjI5czogMC4wOCwKICAgIGxyajIwdzogMC4xMiwKICAgIHd2MnRjMDogMC4xNiwKICAgIG56ZnQzNDogMC4yLAogICAgJzFuaHp1Mm8nOiAwLjIxLAogICAgc2Y5YjdrOiAwLjI0LAogICAgYW56YXBzOiAwLjI2LAogICAgJzFqMjZieTgnOiAwLjI5LAogICAgeHoxNnY0OiAwLjMyLAogICAgJzFmcWI3Y3cnOiAwLjM1LAogICAgJzFvbHk3bHMnOiAwLjM3LAogICAgdGo3b3FvOiAwLjQsCiAgICBkenVmYjQ6IDAuNSwKICAgICcxMDZ4eHhjJzogMC42MywKICAgIHBuZGRkczogMC42OCwKICAgICcxdGxxd2hzJzogMC43MywKICAgICczZzl1cmsnOiAwLjc4LAogICAgbmZnbWJrOiAwLjg0LAogICAgcnZhNGcwOiAwLjg4LAogICAgaXpuNDc0OiAwLjkyLAogICAgeGYyMDNrOiAwLjk2LAogICAgb2plenVvOiAxLAogICAgJzFvMXowdTgnOiAxLjAxLAogICAgazNsaHE4OiAxLjA4LAogICAgJzFjeWY5ajQnOiAxLjE1LAogICAgcXJicXd3OiAxLjIsCiAgICAnOTAxcWY0JzogMS4yMiwKICAgICc0ZXE2OCc6IDEuMjYsCiAgICAnMWg0OTY5cyc6IDEuMzEsCiAgICAnMTg4bTYwdyc6IDEuMzUsCiAgICAnMWNvZm81Yyc6IDEuMzksCiAgICAnNGE4bXd3JzogMS40MiwKICAgICcxZXdjZjdrJzogMS40NywKICAgIGF4eXczazogMS41NCwKICAgICcxNXFwdGt3JzogMC4yMywKICAgICcxYTZqYnBjJzogMC4yNywKICAgICcxMWF3YmdnJzogMC4zMSwKICAgIGc3cjZkYzogMC4zNCwKICAgICc3YzQ2NGcnOiAwLjM4LAogICAgJzF0MXJwcTgnOiAwLjQxLAogICAga25rb2hzOiAwLjQ0LAogICAgJzJ3YW8wMCc6IDAuNDYsCiAgICB2cjRmc3c6IDAuNDgsCiAgICAnMWRpZWdhbyc6IDAuNTEsCiAgICAnMW1lMWdqayc6IDAuNTMsCiAgICAnMTRtcmcxcyc6IDAuNTUsCiAgICAnMXF0dXlvMCc6IDAuNTcsCiAgICBpZm54Zms6IDAuNiwKICAgIG9kd3hzOiAwLjYyLAogICAgZ3JxZDR3OiAwLjY2LAogICAgJzFwNXhlZGMnOiAwLjY5LAogICAgdTM2dmk4OiAwLjcyLAogICAgbDdqdjljOiAwLjc2LAogICAgd2IzbWtnOiAwLjgsCiAgICBlanRtMm86IDAuODIsCiAgICAnMTU2cW10Yyc6IDAuODcsCiAgICAnMWlpNzU2byc6IDAuOTMsCiAgICBmbnJ6bHM6IDAuOTgsCiAgICAnNnM0emN3JzogMS4wMiwKICAgIGI3eWhoYzogMS4wNiwKICAgICcyY2JoOGcnOiAxLjEsCiAgICAnMXVwcGEwdyc6IDEuMTMsCiAgICAnNGs4OGFvJzogMS4xOCwKICAgIGh2b3FvMDogMS4yNCwKICAgIHpjejVzMDogMS4yOCwKICAgIGhscDVhODogMS4zLAogICAgJzhxMjUxYyc6IDEuMzQsCiAgICAnMXVmcG9uNCc6IDEuMzcsCiAgICAnMWxrMm9lOCc6IDEuNDEsCiAgICAnMXdubWZwYyc6IDEuNDUsCiAgICAnMW5yemZnZyc6IDEuNDksCiAgICBzcDh3bGM6IDEuNTIsCiAgICBqdGx3Y2c6IDEuNTYsCiAgICB5OTBzOHc6IDEuNiwKICAgIGdocXJyNDogMS42MiwKICAgICc3bTNyaTgnOiAxLjY2LAogICAgYzF4OW1vOiAxLjcsCiAgICAnMzZhOWRzJzogMS43NCwKICAgIGU5dTBvdzogMS43OCwKICAgICcxNHdyMWZrJzogMS44MywKICAgICcxOWNramswJzogMS44NywKICAgICcxMGd4amI0JzogMS45MSwKICAgICcxZ2s5emk4JzogMS45NSwKICAgICcxN29tejljJzogMS45OSwKICAgICcxeWxqbGRzJzogMC4wMSwKICAgIGhicGp3ZzogMC4wMiwKICAgICcxZ3U5a3cwJzogMC4wMywKICAgICc4ZzJqbmsnOiAwLjA2LAogICAgJzE3eW1rbjQnOiAwLjA3LAogICAgY3Z3MXMwOiAwLjEsCiAgICAnMWNlZzJyayc6IDAuMTEsCiAgICAnNDA5MWo0JzogMC4xNCwKICAgICcxM2l0MmlvJzogMC4xNSwKICAgIGYzc3N1ODogMC4xOCwKICAgICcxZW1jdHRzJzogMC4xOSwKICAgICc2ODVzbGMnOiAwLjIyLAogICAgJzFyeHRjNzQnOiAwLjI1LAogICAgamptYXlvOiAwLjI4LAogICAgJzFzY2Fndyc6IDAuMywKICAgICcxeGhsN3VvJzogMC4zMywKICAgIHAzZTZtODogMC4zNiwKICAgICcxNnVvNzQwJzogMC4zOSwKICAgICcxM3NzbndnJzogMS40MywKICAgIHg1MmVwczogMS40NCwKICAgIGZkc2U4MDogMS40NiwKICAgIG85ZmVndzogMS40OCwKICAgICc2aTVkejQnOiAxLjUsCiAgICAnMTYwcGV5byc6IDEuNTEsCiAgICAnMXM3c3hrdyc6IDEuNTMsCiAgICAnMWFnaXgzNCc6IDEuNTUsCiAgICAnMWpjNXhjMCc6IDEuNTcsCiAgICAnMjJidnVvJzogMS41OCwKICAgICcxeHJrdDhnJzogMS42MSwKICAgICcxZzBhc3FvJzogMS42MywKICAgICcxb3Z4c3prJzogMS42NSwKICAgICcxNzRuc2hzJzogMS42NywKICAgICcxdGJyYjQwJzogMS42OSwKICAgICcxYmtoYW04JzogMS43MSwKICAgICcxa2c0YXY0JzogMS43MywKICAgICcxMm91YWRjJzogMS43NSwKICAgICcxdmpvMjY4JzogMS43NywKICAgICcxZHNlMW9nJzogMS43OSwKICAgICc1ZTcwZzAnOiAxLjgyLAogICAgcmxhajI4OiAxLjg0LAogICAgJzl1MGlrZyc6IDEuODYsCiAgICBpcG5pdGM6IDEuODgsCiAgICB5ZGliazogMS45LAogICAgeXN6ejBnOiAxLjkyLAogICAgaDFweWlvOiAxLjk0LAogICAgcHhjeXJrOiAxLjk2LAogICAgJzFwZnd6cjQnOiAxLjk3LAogICAgdWQ2Z3cwOiAyLAogICAgY2x3Z2U4OiAyLjAyLAogICAgbGhqZ240OiAyLjA0LAogICAgJzNxOWc1Yyc6IDIuMDYsCiAgICAnMXczbjh4cyc6IDIuMDksCiAgICAnMWVjZDhnMCc6IDIuMTEsCiAgICAnMW44MDhvdyc6IDIuMTMsCiAgICBzNTlwdHM6IDIuMTYsCiAgICBhZHpwYzA6IDIuMTgsCiAgICBqOW1wa3c6IDIuMiwKICAgICcxaXM2cWtnJzogMi4yMSwKICAgICcxMTB3cTJvJzogMi4yMywKICAgICcxeDdsbWd3JzogMi4yNSwKICAgIGZ4cmt6azogMi4yNiwKICAgICcxb2J5bTgwJzogMi4yOSwKICAgICcxYzRnaGRzJzogMi4wMywKICAgICcxMzh0aDR3JzogMi4wNywKICAgIGV0dDdnZzogMi4xLAogICAgJzV5Njc3ayc6IDIuMTQsCiAgICAnMXJudHF0Yyc6IDIuMTcsCiAgICB4cDFsaGM6IDIuMjQsCiAgICAnMWZnYmx6NCc6IDIuMjcsCiAgICAnNzI0a3FvJzogMi4zLAogICAgYmh5MnY0OiAyLjM0LAogICAgJzJtYjJtOCc6IDIuMzgsCiAgICAnMWQ4ZXV3dyc6IDIuNDMsCiAgICAnNHU3dG9nJzogMi40NiwKICAgICc5YTFic3cnOiAyLjUsCiAgICBlZWJrMDogMi41NCwKICAgICcxZ3o5ZGt3JzogMi41OSwKICAgIHVzNXV5bzogMi42NCwKICAgICcxY2pmdmdnJzogMi42NywKICAgICcxM25zdjdrJzogMi43MSwKICAgIGY4c2xqNDogMi43NCwKICAgICc2ZDVsYTgnOiAyLjc4LAogICAgam9tM25rOiAyLjg0LAogICAgeTQwemswOiAyLjg4LAogICAgJzFmdmIwMXMnOiAyLjkxLAogICAgJzE2em56c3cnOiAyLjk1LAogICAgJzFiZmhoeGMnOiAyLjk5LAogICAgJzF2ZW85aGMnOiAzLjA1LAogICAgJzFwYXg3MjgnOiAzLjI1LAogICAgJzFyaXR5NGcnOiAzLjQ1LAogICAgdDQ4YW8wOiAzLjYsCiAgICBpMG9qY3c6IDMuOCwKICAgIHhhMjdlbzogNCwKICAgICcxMXB2cGo0JzogNC4xNSwKICAgICcxZHhkdWRjJzogNC4zNSwKICAgICcxN3Rtcnk4JzogNC41NSwKICAgICcxYTFqajBnJzogNC43NSwKICAgICcxMjl1d2FvJzogNC45NSwKICAgICcxcW92NXo0JzogNS4wNSwKICAgIHVrbzV4YzogNS4yLAogICAgamg0ZW04OiA1LjQsCiAgICB2b21qZ2c6IDUuNiwKICAgICcxMDRnMWt3JzogNS43NSwKICAgICcxZHp2cXBzJzogNS45NSwKICAgICcxaWZwOHU4JzogNi4wNSwKICAgIGsxM2xkczogNi4yLAogICAgemFoOWZrOiA2LjQsCiAgICBvNnhpNGc6IDYuNiwKICAgICcxZnhzd2U4JzogNi43NSwKICAgICcxNHU5NTM0JzogNi45NSwKICAgICcxYzF5bDFjJzogNy4xNSwKICAgICcxMHlldHE4JzogNy4zNSwKICAgICcxZDV3eWtnJzogNy41NSwKICAgIGhlN2c4dzogNy43LAogICAgJzZhbm94cyc6IDcuOSwKICAgICc1Z293c2cnOiA5LjUsCiAgICAnMzVzMDAnOiAxMS41LAogICAgbzM2bmxzOiAxMywKICAgIGpkZGszazogMTUsCiAgICBwOW14aGM6IDE3LAogICAgJzlsOXZjdyc6IDE4LjUsCiAgICBtdXV5Z3c6IDIxLAogICAgcTFxYWRjOiAyNSwKICAgIG5oYzFrdzogMjksCiAgICBvcmo1ejQ6IDMzLAogICAgYnJ4bzh3OiAwLjQyLAogICAgJzFiYWhwOGcnOiAwLjQzLAogICAgJzFrNjRwaGMnOiAwLjQ1LAogICAgJzEyZXVvemsnOiAwLjQ3LAogICAgJzF2OW9nc2cnOiAwLjQ5LAogICAgbXZoZmswOiAwLjUyLAogICAgJzU0N2YyOCc6IDAuNTQsCiAgICByYmF4b2c6IDAuNTYsCiAgICAnOWsweDZvJzogMC41OCwKICAgICcxOTJreTY4JzogMC41OSwKICAgICcxaHk3eWY0JzogMC42MSwKICAgIHlqMGRtbzogMC42NCwKICAgICcxeTFrZW04JzogMC42NSwKICAgICcxZ2FhZTRnJzogMC42NywKICAgICc3dzNjdzAnOiAwLjcsCiAgICAnMTdlbmR2ayc6IDAuNzEsCiAgICBjYnd2MGc6IDAuNzQsCiAgICAnMWJ1Z3cwMCc6IDAuNzUsCiAgICAnMWtxM3c4dyc6IDAuNzcsCiAgICAnMTJ5dHZyNCc6IDAuNzksCiAgICAnMXZ0bm5rMCc6IDAuODEsCiAgICAnMWUyZG4yOCc6IDAuODMsCiAgICAnMW15MG5iNCc6IDAuODUsCiAgICAnNW82bHRzJzogMC44NiwKICAgICcxcmR1NWZrJzogMC44OSwKICAgIGE0MDN5ODogMC45LAogICAgJzE5bWs0eHMnOiAwLjkxLAogICAgJzE4ZDNwYyc6IDAuOTQsCiAgICAnMTBxeDRvdyc6IDAuOTUsCiAgICAnMXd4bTEzNCc6IDAuOTcsCiAgICAnMWY2YzBsYyc6IDAuOTksCiAgICAnMTZhcDBjZyc6IDEuMDMsCiAgICBzejhoejQ6IDEuMDQsCiAgICAnMXNoc2l5byc6IDEuMDUsCiAgICAnMWFxaWlndyc6IDEuMDcsCiAgICAnMWptNWlwcyc6IDEuMDksCiAgICAnMTF1dmk4MCc6IDEuMTEsCiAgICB2NzU5MWM6IDEuMTIsCiAgICBkZnY4ams6IDEuMTQsCiAgICBtYmk4c2c6IDEuMTYsCiAgICAnMWx1MjlzMCc6IDEuMTcsCiAgICAnMTQyczlhOCc6IDEuMTksCiAgICAnMXE5dnJ3Zyc6IDEuMjEsCiAgICAnMThpbHJlbyc6IDEuMjMsCiAgICAnMWhlOHJuayc6IDEuMjUsCiAgICB6bXlyNXM6IDEuMjcsCiAgICAnMXl2ajZyayc6IDEuMjksCiAgICBxaGM1ajQ6IDEuMzIsCiAgICAnMXB6dzZpbyc6IDEuMzMsCiAgICB1eDVubms6IDEuMzYsCiAgICBkNXZuNXM6IDEuMzgsCiAgICBtMWluZW86IDEuNCwKICAgICcxMWt2d3U4JzogMS41OSwKICAgIHBkZHMwMDogMS42NCwKICAgIHR0N2E0ZzogMS42OCwKICAgIGt4azl2azogMS43MiwKICAgIHcxNDE2bzogMS43NiwKICAgIG41aDB4czogMS44LAogICAgJzFtbzExeGMnOiAxLjgxLAogICAgJzFyM3VrMXMnOiAxLjg1LAogICAgJzFpODdqc3cnOiAxLjg5LAogICAgJzF5YmswMDAnOiAxLjkzLAogICAgJzg2Mnk5cyc6IDEuOTgsCiAgICAnMXR2cWh2ayc6IDIuMDEsCiAgICAnMWwwM2htbyc6IDIuMDUsCiAgICB3bDM3eTg6IDIuMDgsCiAgICBucGc3cGM6IDIuMTIsCiAgICAnMTVncTg3NCc6IDIuMTUsCiAgICAnMTl3anFiayc6IDIuMTksCiAgICAnMWljcDM0JzogMi4yMiwKICAgIG90ZWw4ZzogMi4yOCwKICAgIHQ5ODNjdzogMi4zMiwKICAgIGtkbDM0MDogMi4zNiwKICAgIHZoNHVmNDogMi40LAogICAgbWxodTY4OiAyLjQ0LAogICAgJzE0Y3J1bzAnOiAyLjQ3LAogICAgJzE4c2xjc2cnOiAyLjUxLAogICAgend5Y2prOiAyLjU1LAogICAgaGdwY2xjOiAyLjU4LAogICAgJzFwdXdkdHMnOiAyLjYxLAogICAgJzF1YXB2eTgnOiAyLjY1LAogICAgJzFsZjJ2cGMnOiAyLjY5LAogICAgJzF3aW1uMGcnOiAyLjczLAogICAgJzFubXptcmsnOiAyLjc3LAogICAgJzFzMnQ0dzAnOiAyLjgxLAogICAgJzFqNzY0bjQnOiAyLjg1LAogICAgZ2NxejI4OiAyLjksCiAgICAnN2gzeXRjJzogMi45NCwKICAgIGJ3eGd4czogMi45OCwKICAgIHlvMDZiazogMy4yLAogICAgJzEzM3RvZzAnOiAzLjM1LAogICAgJzFmYmJ0YTgnOiAzLjU1LAogICAgJzE0N3MxejQnOiAzLjc1LAogICAgJzFjdGZndTgnOiAzLjk1LAogICAgJzFud3o4NWMnOiA0LjA1LAogICAgJzE2a29scTgnOiAyLjMxLAogICAgJzFzcnM0Y2cnOiAyLjMzLAogICAgJzFiMGkzdW8nOiAyLjM1LAogICAgJzFqdzU0M2snOiAyLjM3LAogICAgJzEyNHYzbHMnOiAyLjM5LAogICAgJzF1em92ZW8nOiAyLjQxLAogICAgZHB1dHhjOiAyLjQyLAogICAgJzFtNDF2NXMnOiAyLjQ1LAogICAgcjFiY2FvOiAyLjQ4LAogICAgJzFxanZkYTgnOiAyLjQ5LAogICAgaTVvYzFzOiAyLjUyLAogICAgJzFobzhkMWMnOiAyLjUzLAogICAgejd6ZDM0OiAyLjU2LAogICAgJzF5cWplMm8nOiAyLjU3LAogICAgcWNjY3U4OiAyLjYsCiAgICAnOGwyY2NnJzogMi42MiwKICAgICcxODNtZGMwJzogMi42MywKICAgIGQwdnVndzogMi42NiwKICAgIGx3aXVwczogMi42OCwKICAgICc0NTh1ODAnOiAyLjcsCiAgICB4MDJtMHc6IDIuNzIsCiAgICAnMWVyY21pbyc6IDIuNzUsCiAgICBvNGZsczA6IDIuNzYsCiAgICAnMTV2cG05cyc6IDIuNzksCiAgICBzazkzd2c6IDIuOCwKICAgIGFzejNlbzogMi44MiwKICAgICcxYWJqNGU4JzogMi44MywKICAgICcxeGMzNXMnOiAyLjg2LAogICAgJzExZnc0NWMnOiAyLjg3LAogICAgJzF4bWwwamsnOiAyLjg5LAogICAgcDhkemI0OiAyLjkyLAogICAgJzFvcXkwYW8nOiAyLjkzLAogICAgdG83aGZrOiAyLjk2LAogICAgJzF0NnJpZjQnOiAyLjk3LAogICAga3NraDZvOiAzLAogICAgJzU5NzdyNCc6IDMuMSwKICAgICcxOTdrcXY0JzogMy4xNSwKICAgIGNnd25wYzogMy4zLAogICAgbmtnZjBnOiAzLjQsCiAgICAnMWRjd2U4JzogMy41LAogICAgJzFqcjViZW8nOiAzLjY1LAogICAgZGt2MThnOiAzLjcsCiAgICAnMXowaXpnZyc6IDMuODUsCiAgICAnOHYxeHE4JzogMy45LAogICAgYjJ5b3NnOiA0LjEsCiAgICBwaWRrb3c6IDQuMiwKICAgICczYmEyMm8nOiA0LjMsCiAgICAnMXRncjNzdyc6IDQuMjUsCiAgICAnMWlkN2Nocyc6IDQuNDUsCiAgICAnMXc4bjFtbyc6IDQuNjUsCiAgICAnMW9neWV3dyc6IDQuODUsCiAgICAnMWdycm9qayc6IDUuMTUsCiAgICAnMTVvN3g4Zyc6IDUuMzUsCiAgICAnNzltOXMwJzogNS41LAogICAgJzloajB1OCc6IDUuNywKICAgICczZHJ5ZjQnOiA1LjksCiAgICAnMXVuN2RvZyc6IDYuMjUsCiAgICAnMXB4ZWE2OCc6IDYuNDUsCiAgICAnMXM1YjE4Zyc6IDYuNjUsCiAgICAnMWtkbWVpbyc6IDYuODUsCiAgICAnODNsMXhjJzogNy4xLAogICAgYWJoc3prOiA3LjMsCiAgICAnMXNwYTgwMCc6IDcuNDUsCiAgICAnMWhscWdvdyc6IDcuNjUsCiAgICAnMXdnNHFvMCc6IDcuODUsCiAgICB5MWozN2s6IDgsCiAgICBlbWJpZjQ6IDguNSwKICAgIGFtcWNqazogMTAuNSwKICAgIHZ6djMwZzogMTIsCiAgICBxdjJsZms6IDE0LAogICAgcnFhYnI0OiA0LjQsCiAgICBoNnByN2s6IDQuNSwKICAgIGxtajljMDogNC42LAogICAgJzYzNXp3Zyc6IDQuNywKICAgIHh1MWU2ODogNC44LAogICAgYm14dmswOiA0LjksCiAgICBtcWhtdjQ6IDUsCiAgICBqZTQ4dzogNS4xLAogICAgJzFsN2w2bzAnOiA1LjI1LAogICAgZjFhd2hzOiA1LjMsCiAgICAnMXhmM2JpOCc6IDUuNDUsCiAgICAnMWI3enN3MCc6IDUuNTUsCiAgICAnMW1iams3NCc6IDUuNjUsCiAgICBwa3ZoMWM6IDUuOCwKICAgICcxdGo5MDVjJzogNS44NSwKICAgIHJzczgzazogNiwKICAgIGZsYTM5YzogNi4xLAogICAgJzRocWJ5OCc6IDYuMywKICAgICcxOGczdjI4JzogNi4zNSwKICAgIGQzZHF0YzogNi41LAogICAgeWY5ajQwOiAxNiwKICAgIHVvZjBnMDogMTgsCiAgICAnMjNrdTB3JzogMTkuNSwKICAgIGk1MXV5bzogMjMsCiAgICB0ZzNiYjQ6IDI2LAogICAgcm41eWJrOiAzMCwKICAgIHU2Yjh4czogMzQsCiAgfSwKfTsKCi8qCiAgIyBjaGFuZ2Vsb2cKICAgICMjIDE1LzEyLzIwCiAgICAqIFthcnNoYWFuXSAtIGRpc2FibGVkIGFuZCBjb2xsYXBzZWQgYWR1bml0cyBbQU0tOTQ0XS4KKi8KCndlYnNpdGVIb29rRmlsdGVyT3V0QWRVbml0ID0gZnVuY3Rpb24gKGFkVW5pdCkgewogIHZhciBhZFVuaXRzVG9GaWx0ZXIgPSBbJ2Zvb3RiYWxsZGJfMzAweDI1MF8zMDB4NjAwXzMyMHg1MF9TaWRlYmFyXzInLCAnZm9vdGJhbGxkYl9hZGhlc2lvbiddOwogIHZhciBmaWx0ZXJBZFVuaXQgPSBhZFVuaXRzVG9GaWx0ZXIuaW5kZXhPZihhZFVuaXQuY29kZSkgIT0gLTE7CiAgaWYgKGZpbHRlckFkVW5pdCkgewogICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFkVW5pdC5zZWxlY3Rvcik7CiAgICBpZiAoZWxlbWVudCkgewogICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICB9CiAgfQoKICByZXR1cm4gZmlsdGVyQWRVbml0Owp9OwoKdmFyIHdlYnNpdGVTdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwp3ZWJzaXRlU3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0KICAnI2Zvb3RiYWxsZGJfMzAweDI1MF8zMDB4NjAwXzMyMHg1MF9TaWRlYmFyXzEgeyBtYXJnaW4tYm90dG9tOiAxNTBweDsgfSc7Cihkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZCh3ZWJzaXRlU3R5bGVFbGVtZW50KTsK")+"\n})")(d.Y,Gr,e,Xr)}catch(e){jr.errorf(null,"failed to pass CustomEvents, websiteConfig, logger and hooks utility functions - %o",e)}}(),Object.entries(di).forEach((function(e){var t=r(e,2),n=t[0],i=t[1];if(ai[n]){var o=ai[n],a=o.hookName,s=o.parseSettingValue,c=o.handler,l=s?s(i):i;a?d.Y.addEventListener(a,(function(e){return c(l,e)})):(c(l),oi.infof(null,"loadSettings: ".concat(n," (no associated hook): Setting applied.")))}else oi.errorf(null,"loadSettings: No setting handler found for %o (setting will not be applied).",n)})),(e=d.Y.fireEvent("amazonBidderConfiguration"))&&e.pubID&&(a.Z.upoSettings.amazonBidderConfiguration.enabled=!0,a.Z.upoSettings.amazonBidderConfiguration=Object.assign(a.Z.upoSettings.amazonBidderConfiguration,e));var n=d.Y.fireEvent("hookDFPEnabledValue");n&&(Gr.dfpEnabled=n);try{Cr=io(no(Cr))}catch(e){jr.errorf(null,"init - parsing static spaces - %o",e)}if(to(),d.Y.fireEvent("shouldDisableUponit"))jr.noticef(null,"halting: we have been disabled by hooks");else{d.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!0}}),d.Y.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!0}}),Kr(),Gr.prebidEnabled=!(!s.Z.find(Cr,(function(e){return e.preBiddingSettings&&e.preBiddingSettings.enabled}))&&!d.Y.fireEvent("scrapePrebidAdUnits"));var i={spaces:Cr,settings:{prebid:d.Y.fireEvent("forcePrebidEnabled")||Gr.prebidEnabled,dfp:Gr.dfpEnabled}};li((function(){d.Y.fireEvent("onDomLoaded"),d.Y.fireEvent("onBeforeRecovery",{spaces:Cr,settings:i.settings}),Rr.invoke(i)}))}}}()})()})();
//# sourceMappingURL=recovery.js.map

})({});
